{"version":3,"file":"js/chunk-vendors.c2a403ec.js","mappings":"iQAYaA,EAAU,cAGVC,EAA8B,qBAAXC,OAGnBC,EAAgC,qBAAXC,EAAAA,EAC9BA,EAAAA,EAEmB,qBAAXF,OACJA,OAEiB,qBAATG,KAAwBA,KAAOC,SAAS,cAATA,GAKlCC,EAAYA,KAAM,EAGlBC,EAAUC,MAAMD,QAEhBE,EAASC,OAAOD,OAGhBE,EAAoBD,OAAOE,eAC3BC,EAAsBH,OAAOI,iBAC7BC,EAAcL,OAAOM,UAAUC,SAC/BC,EAAoBR,OAAOM,UAAUG,eAErCC,EAAgBC,GAA2BN,EAAYO,KAAKD,G,SAGzDE,EAAYC,GAC1B,YAAkBC,IAAXD,CACT,C,SAGgBE,EAAOF,GACrB,OAAkB,OAAXA,CACT,C,SAGgBG,EAASH,GACvB,MAAyB,kBAAXA,CAChB,C,SAGgBI,EAAUJ,GACxB,MAAyB,mBAAXA,CAChB,C,SAGgBK,EAASL,GACvB,MAAyB,kBAAXA,CAChB,C,SAGgBM,EAAWN,GACzB,MAAyB,oBAAXA,CAChB,C,SAGgBO,EAAgDP,GAC9D,MAAgC,oBAAzBJ,EAAaI,EACtB,C,SAGgBQ,EAASR,GACvB,OAAQE,EAAOF,IAA6B,kBAAXA,CACnC,C,SAGgBS,EAAUT,GACxB,MAAgC,qBAAzBJ,EAAaI,EACtB,C,SAGgBU,EAAgBV,G,MAC9B,OAAOM,EAAWN,IAA8C,KAAxB,QAAXW,EAAAX,EAAOY,YAAI,IAAAD,OAAA,EAAAA,EAAEE,QAAQ,aAAoBb,EAAOL,eAAe,YAC9F,C,SAGgBmB,EAAcd,G,MAC5B,GAAIM,EAAWN,GAAS,CACtB,MAAMe,EAAYf,EAAOP,WACzB,OACkB,QAAhBkB,EAAAX,EAAOR,iBAAS,IAAAmB,OAAA,EAAAA,EAAEK,eAAgBhB,GAClCd,OAAO+B,oBAAoBjB,EAAOR,WAAW0B,OAAS,GAEtD,oBAAoBC,KAAKJ,IACzB,YAAYI,KAAKJ,E,CAErB,OAAO,CACT,C,SAGgBK,EAAapB,GAC3B,MAA6B,qBAAfqB,YAA8BrB,aAAkBqB,UAChE,C,SAEgBC,EAAMtB,G,MACpB,OAAOA,aAAkBuB,QAAwB,QAAhBZ,EAAEX,SAAc,IAAAW,OAAA,EAAAA,EAAEa,KACrD,C,SAGgBC,EAAUzB,G,MACxB,OAAOA,aAAkB0B,SAAWvB,EAA4B,QAApBQ,EAAEX,SAAkB,IAAAW,OAAA,EAAAA,EAAEgB,QACpE,C,SAGgBC,EAAO5B,G,MACrB,OAAOA,aAAkB6B,MAAQxB,EAAyB,QAAjBM,EAAEX,SAAe,IAAAW,OAAA,EAAAA,EAAEmB,SAC9D,C,SAMgBC,EAAgB/B,GAC9B,MAAgC,+BAAzBJ,EAAaI,EACtB,C,SAEgBgC,EAAehC,GAC7B,MAAgC,8BAAzBJ,EAAaI,EACtB,C,SAEgBiC,EAAejC,GAC7B,MAAgC,8BAAzBJ,EAAaI,EACtB,C,SAEgBkC,EAAclC,GAC5B,MAAgC,6BAAzBJ,EAAaI,EACtB,C,SAEgBmC,EAAenC,GAC7B,MAAgC,8BAAzBJ,EAAaI,EACtB,C,SAEgBoC,EAAgBpC,GAC9B,MAAgC,+BAAzBJ,EAAaI,EACtB,C,SAMgBqC,EAAarC,GAC3B,MAAgC,4BAAzBJ,EAAaI,EACtB,C,SAEgBsC,EAAetC,GAC7B,MAAgC,8BAAzBJ,EAAaI,EACtB,C,SAEgBuC,EAAcvC,GAC5B,MAAgC,6BAAzBJ,EAAaI,EACtB,C,SAEgBwC,EAAmBxC,GACjC,MAAgC,8BAAzBJ,EAAaI,EACtB,C,SAEgByC,EAAqBzC,GACnC,MAAgC,wBAAzBJ,EAAaI,EACtB,C,SAEgB0C,EAAe1C,GAC7B,OAAOyB,EAAUzB,IAA4C,mBAAjCA,EAAO2B,QAAQgB,aAC7C,C,SAEgBC,EAAe5C,GAC7B,OAAOyB,EAAUzB,IAA4C,mBAAjCA,EAAO2B,QAAQgB,aAC7C,C,SAEgBE,EAAsB7C,GACpC,IAAI8C,EAAkC,yBAAzBlD,EAAaI,GAC1B,GAAI8C,EAAQ,CACV,MAAMnB,EAAW3B,EAAuB2B,QAAQgB,cAChDG,EAASA,IAAWnB,EAAQoB,WAAW,Y,CAEzC,OAAOD,CACT,C,SAGgBE,EAAgBhD,GAC9B,MAAgC,2BAAzBJ,EAAaI,EACtB,C,SAEgBiD,EAAkBC,EAAcC,GAC9C,IACE,OAAOC,EAAUF,GAAMG,SAASC,MAAM,KAAKC,QAAUJ,C,CACrD,MAAAxC,GACA,OAAO,C,CAEX,C,SAEgB6C,EAASxD,EAAmByD,EAAwBC,GAClE,GAAc,MAAV1D,EACF,MAAM,IAAI2D,UAAU,wCAGtB,MAAMC,EAAI1E,OAAOc,GACX6D,EAAMC,SAASF,EAAE1C,OAAQ,KAAO,EACtC,GAAY,IAAR2C,EAAW,OAAO,EAEtBH,EAAYI,SAASJ,EAAW,KAAO,EACvC,IAAIK,EAAIC,KAAKC,IAAIP,GAAa,EAAIA,EAAYG,EAAMH,EAAW,GAC/D,MAAOK,EAAIF,EAAK,CAEd,GAAIJ,IAAkBG,EAAEG,IAAON,IAAkBA,GAAiBG,EAAEG,KAAOH,EAAEG,GAC3E,OAAO,EAETA,G,CAEF,OAAO,CACT,C,SAOgBG,EACdC,EACAC,EAAyB,QACtBC,GAEH,MAAMC,EAAaF,GAAWjE,EAASiE,GAAW,QAAQA,KAAa,GACnEjE,EAASgE,GACXI,QAAQC,MAAM,cAAcF,KAAcH,OAAUE,GAEpDE,QAAQC,MAAM,cAAcF,IAAcH,KAAQE,EAEtD,C,SAOgBI,EACdN,EACAC,EAAyB,QACtBC,GAEH,MAAMC,EAAaF,GAAWjE,EAASiE,GAAW,QAAQA,KAAa,GACnEjE,EAASgE,GACXI,QAAQG,KAAK,cAAcJ,KAAcH,OAAUE,GAEnDE,QAAQG,KAAK,cAAcJ,IAAcH,KAAQE,EAErD,C,SAOgBM,EAAMC,KAAaC,GACjCC,QAAQC,UAAUC,KAAKJ,EAAGK,KAAK,QAASJ,GAC1C,C,SAOgBK,EAAMN,EAAUO,EAAQ,KAAMN,GAC5CO,WAAWR,EAAGK,KAAK,QAASJ,GAAOM,EACrC,CAKO,MAAM/B,EAAa,WACxB,MAAMiC,UAAiB9D,KACvB,MAAO,CAAC2B,EAAoBoC,IAClBA,EAAO,IAAID,EAAS,GAAKnC,EAAMoC,GAAQ,IAAID,EAAS,GAAKnC,EAErE,CAL0B,G,SAWVqC,EAAYC,GAC1B,OAAOA,EAAIzC,WAAW,MAAQ,GAAGrE,EAAW+G,SAASC,WAAWF,IAAQA,CAC1E,C,SAQgBG,EAAaH,EAAoBpB,EAAyB,MACxE,IAAKjE,EAASqF,KAASA,EAAK,MAAO,GAEnC,IACE,MAAM,OAAEI,EAAM,SAAEvC,EAAQ,OAAEwC,GAAWzC,EAAUmC,EAAYC,IAAO/G,OAAOqH,WAAarH,QAAQgH,SAASjE,MAKjGuE,EAAW,GAAGH,IAASvC,IAAWwC,IACxC,MAAO,eAAe1E,KAAK4E,GAAYA,EAAW,E,CAClD,MAAOC,GAEP,OADA9B,EAAS8B,EAAG5B,GACL,E,CAEX,C,SAYgB6B,EAAcrF,GAC5B,OAAKT,EAASS,IAAUA,EACjBA,EAAKsF,QAAQ,uBAAwB,IADP,EAEvC,C,SAQgBC,GAAiBX,GAC/B,MAAM,OAAEI,EAAM,SAAEvC,GAAaD,EAAUoC,GACvC,GAAI,WAAWrE,KAAKkC,GAAW,CAC7B,MAAM+C,EAAU,GAAGR,IAASvC,IAAWC,MAAM,KAE7C,OADA8C,EAAQ7C,MACD6C,EAAQC,KAAK,KAAO,G,CAG7B,MAAO,GAAGT,IAASvC,KAAY6C,QAAQ,QAAS,IAClD,C,SAOgBI,GAAepD,EAAcqD,GAC3C,OACGrD,GACD,+BAA+B/B,KAAK+B,IACpC,gBAAgB/B,KAAK+B,GACdA,EAEFE,EAAUF,EAAMiD,GAAiBZ,EAAYgB,KAAW9G,UACjE,C,SAOgB+G,GAAeC,GAC7B,MAAML,EAAUK,EAASnD,MAAM,KAE/B,OADA8C,EAAQ7C,MACDgC,EAAYa,EAAQC,KAAK,KAAO,IACzC,C,SASgBK,GACdC,EACAC,EACAC,EACAC,GAEA,IAAIC,EAAc,EAElB,SAASC,MACDD,IAAgBJ,EAAYzF,QAAU4F,GAAWA,G,CAGzDH,EAAYM,SAAQ,CAACC,EAAGnD,KAClBtD,EAAUyG,GACXA,EAAiBlC,MAAMmC,IACtBP,EAAU,CAAEQ,KAAMD,EAAKE,MAAOtD,IAC9BiD,GAAY,IACXM,OAAOC,IACRV,EAAQ,CAAErC,MAAO+C,EAAKF,MAAOtD,IAC7BiD,GAAY,KAGdJ,EAAU,CAAEQ,KAAMF,EAAGG,MAAOtD,IAC5BiD,I,GAGN,C,SAGgBQ,KACd,MAAMC,EAAIC,SAASC,cAAc,UACjC,MAAO,aAAcF,CACvB,C,SAGgBG,KACd,MAAO,UAAY5D,KAAK6D,SAASpI,SAAS,IAAIqI,OAAO,EAAG,GAC1D,C,SAGgBC,GAAOC,GACrB,OAAOA,EAAMC,QAAO,SAA8CC,GAChE,QAAOA,KAAQC,QAAgBA,KAAKD,IAAQ,E,GAC3ChJ,OAAOkJ,OAAO,MACnB,CAGO,MAAMC,GAAsB3J,EAAW2J,qBAC5C,SAAUzD,GACR,MAAM0D,EAAWC,KAAKC,MACtB,OAAOpD,YAAW,WAChBR,EAAG,CACD6D,YAAY,EACZC,aAAAA,GACE,OAAO1E,KAAKC,IAAI,EAAG,IAAMsE,KAAKC,MAAQF,G,MAGzC,E,WAOSK,GAAmBC,GACjC,OAAO,IAAI9D,SAASC,IAClBsD,IAAoB,KAClBO,EAAS7D,EAAQ,GACjB,GAEN,CAKA,IAAI8D,GAAgC,K,SACpBC,GAAkB1E,GAChCyE,GAAiBzE,CACnB,C,SAGgB2E,KACd,OAAOF,EACT,C,SAEgBG,GAA2B5E,GACrCyE,KAAmBzE,GAAY6E,OACjCH,GAAkB1E,GAClBO,GAAM,KACJmE,GAAkB,KAAK,IAG7B,CAGA,IAAII,GAAsC,K,SAC1BC,GAAwB/E,GACtC8E,GAAuB9E,CACzB,C,SAEgBgF,KACd,OAAOF,EACT,C,SAEgBG,GAA8BjF,GACxC8E,KAAyB9E,GAAY6E,OACvCE,GAAwB/E,GACxBO,GAAM,KACJwE,GAAwB,KAAK,IAGnC,CAGA,IAAIG,IAAkB,E,SACNL,KACd,OAAOK,EACT,C,SASgBC,GAAeC,IACf,IAAVA,GACFV,GAAkB,MAClBK,GAAwB,MACpBK,IAAUF,KACZA,IAAkB,EAClB3E,GAAM,KACJ2E,IAAkB,CAAK,MAI3BA,IAAkB,CAEtB,C,SAUgBG,GAA6D9H,EAAY+H,GACvF,MAAMC,GAAWlL,OAAOmL,aAAelC,UAAUC,cAAchG,EAAS+H,GAGxE,OAFIC,EAAQE,2BAA2BF,EAAQE,mBAC/CF,EAAQG,kBAAmB,EACpBH,CACT,C,SAGgBI,GAA0BC,GAExC,OAAQA,GAAO,mCAAmC7I,KAAK6I,EACzD,C,SAGgBC,GAAgBD,GAC9B,MACE,UAAU7I,KAAK6I,IACf,UAAU7I,KAAK6I,IACf,UAAU7I,KAAK6I,IACf,WAAW7I,KAAK6I,IAChB,WAAW7I,KAAK6I,EAEpB,C,SAOgBE,GAAiBlK,GAC/B,OAAQoB,EAAapB,GAAWA,EAAsBmK,KAAOnK,CAC/D,C,SAKgBoK,GAAKC,GACnB,OAAOA,EAAMA,EAAInE,QAAQ,aAAc,IAAM,EAC/C,C,SAEgBoE,KACd,OAAOC,UAAUC,UAAU3J,QAAQ,YAAc,CACnD,C,SAOgB4J,GAAW5E,GACzB,MAAM/C,EAA8B,CAAC,EAC/B4H,EAAY7E,EAAOvC,MAAM,KAG/B,IAAK,MAAMqH,KAAaD,EAAW,CACjC,MAAME,EAAQD,EAAU9J,QAAQ,KAC1BmJ,EAAMY,EAAQ,EAAID,EAAYA,EAAUE,MAAM,EAAGD,GACjD/K,EAAQ+K,EAAQ,EAAI,KAAOD,EAAUE,MAAMD,EAAQ,GAEzD,GAAIZ,KAAOlH,EAAQ,CACjB,IAAIgI,EAAehI,EAAOkH,GACrBjL,EAAQ+L,KACXA,EAAehI,EAAOkH,GAAO,CAACc,IAEhCA,EAAaC,KAAKlL,E,MAElBiD,EAAOkH,GAAOnK,C,CAIlB,OAAOiD,CACT,C,SAOgBkI,GAAeC,GAC7B,IAAInI,EAAS,GAEb,IAAK,MAAMkH,KAAOiB,EAAa,CAC7B,MAAMpL,EAAQoL,EAAYjB,GAC1B,GAAI9J,EAAOL,GACTiD,IAAWA,EAAO5B,OAAS,IAAM,IAAM8I,MAClC,CACL,MAAMkB,EAAkCnM,EAAQc,GAASA,EAAQ,CAACA,GAElEqL,EAAUjE,SAAQpH,IACXE,EAAYF,KACfiD,IAAWA,EAAO5B,OAAS,IAAM,IAAM8I,EAClC9J,EAAOL,KAAQiD,GAAU,IAAMjD,G,KAM5C,OAAOiD,CACT,C,SAKgBqI,KACd,MAAMC,EAAmB,IAAIC,IAE7B,SAASC,EAAIC,GAEX,OADAH,EAASE,IAAIC,GACN,MACDH,EAASI,IAAID,IAAiBH,EAASK,OAAOF,E,CAKtD,MAAO,CACLD,MACAI,KAAMA,IAAMN,EAEhB,C,SAKgBO,KACd,MAAMvE,EAA4B,IAAIwE,IAEtC,SAASN,EAAItB,EAAkBnK,GAE7B,OADAuH,EAAKyE,IAAI7B,EAAKnK,GACP,MACDuH,EAAKoE,IAAIxB,IAAa5C,EAAKqE,OAAOzB,E,CAK1C,MAAO,CACLsB,MACAQ,IAAM9B,GAAqB5C,EAAK0E,IAAI9B,GACpCyB,OAASzB,KACH5C,EAAKoE,IAAIxB,IAAa5C,EAAKqE,OAAOzB,GAI5C,C,SAEgB+B,GAAcpC,GAC5B,MAAMqC,EAAOrC,EAAQsC,WACfC,EAAqB,IAAIN,IAC/B,IAAK,IAAI7H,EAAI,EAAGA,EAAIiI,EAAK9K,OAAQ6C,IAC/BmI,EAAQL,IAAIG,EAAKjI,GAAGnD,KAAMoL,EAAKjI,GAAGlE,OAEpC,OAAOqM,CACT,C,SAQgBC,GAAgBC,EAAwBxD,GAClDwD,EACFA,EAAWrB,MAAK,IAAMpC,IAAoB5D,IACxC6D,IACA7D,GAAS,MAGX6D,GAEJ,C,SAMgByD,GAAqBC,GACnC,OAAY,OAALA,QAAK,IAALA,OAAK,EAALA,EAAOC,QAAO,CAACC,EAAKC,IAASD,EAAIxH,KAAKyH,IAAO3H,QAAQC,aAAc,IAC5E,C,SAMgB2H,GAAeC,GAC7B,OAAOA,EAAQ5J,WAAW,UAC5B,C,SAQgB6J,GACdhI,EACAR,EACAyI,KACGhI,GAEH,IACEvE,EAAWsE,IAAOA,KAAMC,E,CACxB,MAAOmB,GACP9B,EAAS,4BAA4BE,YAAkByI,OAAe,KAAM7G,E,CAEhF,C,SAMgB8G,GAASC,GACvB,MAAW,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMC,WACXD,EAAKE,YAAYF,EAAKC,WAE1B,C,SAEgBE,GACdC,EACAnM,GAEA,GAAiB,OAAbmM,QAAkClN,IAAbkN,EACvB,OAAO,EACF,IAAK7M,EAAWU,GACrB,MAAM,IAAI2C,UAAU,mDAEtB,IAAIyJ,EAAQlO,OAAOmO,eAAeF,GAClC,MAAOC,EAAO,CACZ,GAAIA,IAAUpM,EAAYxB,UACxB,OAAO,EAET4N,EAAQlO,OAAOmO,eAAeD,E,CAEhC,OAAO,CACT,CASA,MAAME,GAAkB,CAAC,UAAW,W,SACpBC,GAAgBC,EAAcpJ,GAC5C,OAAOkJ,GAAgB9J,SAASgK,GAAQ,GAAGA,KAAQpJ,IAAYoJ,CACjE,C,SAMgBC,GAAczN,GAC5B,OAAOO,EAAcP,KAAWd,OAAOwO,KAAK1N,GAAQkB,MACtD,CC5wBA,SAASyM,GAAiBC,EAAoBjE,GAC5CzK,OAAOI,iBAAiBsO,EAAO,CAC7BC,cAAe,CACb/B,GAAAA,GACE,OAAOnC,C,GAGX3J,OAAQ,CACN8L,GAAAA,GACE,OAAOnC,C,IAIf,C,SAYwBmE,GACtBnE,EACAvF,EACA2J,EACAvJ,G,MAEA,IAAKmF,EACH,OAAOlF,EAAQ,uCAAuCsJ,IAAiB3J,GAGzEuF,EAAUO,GAAiBP,GAG3BJ,KAEA,MAAMyE,EAAS/O,EAAO,CACpB2B,KAAMwD,EACN6J,UAAWtE,GACVnF,GAAS,CACVA,UAGIoJ,EAAQ,IAAIM,YAAYH,EAAe,CAC3CC,WAGFL,GAAgBC,EAAOjE,GAEnBrJ,EAAsC,QAA5BK,EAACwN,GAASzE,QAAQ0E,kBAAU,IAAAzN,OAAA,EAAAA,EAAGoN,KAC3CI,GAASzE,QAAQ0E,WAAYL,GAAgBH,EAAOxJ,GAGtDuF,EAAQ0E,cAAcT,EACxB,C,SAQgBU,GACdC,EACAC,EACAR,EAA8B,CAAC,G,MAE/B,MAAMJ,EAAQ,IAAIM,YAAYX,GAAgBiB,EAAWD,EAAI3N,MAAO,CAClEoN,WAGS,QAAXrN,EAAA4N,EAAIE,eAAO,IAAA9N,GAAAA,EAAE+N,eAAeL,cAAcT,EAC5C,C,SC9EgBe,GAAanJ,EAAapB,EAAyB,KAAMsF,EAAU,CAAC,GAQlF,OADAH,KACIjJ,EAAW6N,GAASzE,QAAQkF,OACvBT,GAASzE,QAAQkF,MAAMpJ,EAAKkE,EAAStF,GAGvC3F,OAAOmQ,MAAMpJ,EAAKkE,GAAS1E,MAAMmC,GAC/BA,EAAI0H,QAEf,C,MCfaC,GAEJ,kBAAOC,GAIZ,OAHK5G,KAAKgF,WACRhF,KAAKgF,SAAW,IAAI2B,IAEf3G,KAAKgF,Q,CAQP6B,GAAAA,CAAKT,EAAmB3H,GAC7B,MAAMxC,EAAUmK,EAAI3N,KACdqO,EAAUV,EAAIW,QAAUX,EAAI/I,IAC5B2J,EAAelM,EAAkBgM,EAAS,MAC1CG,EAAcD,EAChBrK,QAAQC,QAAQ,gCAAgCkK,mEAChDN,GAAYM,EAAS7K,EAAS,CAAEiL,MAAO,aAC3CD,EAAYpK,MAAMsK,IAChB,IAAKA,EAAS,CACZ,MAAMnL,EAAM,wCAEZ,OADAoK,EAAIgB,QAAQ,IAAIC,MAAMrL,IACfD,EAASC,EAAKC,E,CAGvBkL,EAAUnH,KAAKsH,WAAWR,EAASK,EAASlL,GAE5CwC,EAAU0I,EAASf,EAAI,IACtBjH,OAAOtB,IACR9B,EAAS,6BAA6BqK,EAAI/I,gCAAiCpB,EAAS4B,GACpFuI,EAAImB,YAAY1J,EAAE,G,CAIdyJ,UAAAA,CAAYR,EAAiBK,EAAiBlL,GACpD,OAAO+D,KAAKwH,YAAYV,EAASK,EAASlL,EAAS+J,GAASzE,QAAQkG,SACjE1J,QAAQ,gCAAiC2J,GACjCA,EACJ3J,QAAQ,SAAU,mBAClBA,QAAQ,YAAa,uBAEzBA,QAAQ,gCAAiC2J,GACjCA,EACJ3J,QAAQ,SAAU,mBAClBA,QAAQ,YAAa,sB,CAItByJ,WAAAA,CAAanK,EAAasK,EAAc1L,EAAiBwL,G,MAC/D,IAAKA,EAAS,OAAOE,EAErB,MAAMC,EAAgD,GAItD,OAHAH,EAAQjR,QAAUoR,EAAchF,QAAQ6E,EAAQjR,SACjC,QAAfgC,EAAAiP,EAAQI,eAAO,IAAArP,OAAA,EAAAA,EAAGyD,KAAY2L,EAAchF,QAAQ6E,EAAQI,QAAQ5L,IAEhE2L,EAAc7O,OAAS,EAClB6O,EAAcxD,QAAO,CAAC0D,EAASC,IAChC3P,EAAc2P,IAAW5P,EAAW4P,EAAOP,aACtCO,EAAOP,YAAaM,EAASzK,GAE/ByK,GACNH,GAEEA,C,ECrEX,MAAMK,GAAkB,uCAClBC,GAAkB,mDAGxB,SAASC,GAAYlM,EAAasC,GAChCtC,EAAMsC,EAAW,GAAGA,KAAYtC,IAAQA,EACxC,MAAMoD,EAAM,IAAIiI,MAAMrL,GAMtB,MALAoD,EAAI+I,OAASnM,EACTsC,IACFc,EAAIgJ,SAAW9J,GAGXc,CACR,CAQA,MAAMiJ,GAANxP,WAAAA,GACU,KAAAyP,QAAU,GACV,KAAAC,OAAS,GACT,KAAAnK,QAAU,GACV,KAAAE,SAAW,GACX,KAAA3D,OAAS,GACT,KAAA6N,iBAAkB,EAClB,KAAAC,yBAA0C,GAC1C,KAAAC,yBAA0B,EA2R1B,KAAAC,UAAY3I,KAAK4I,kCAAkC,mBAAoB,UAEvE,KAAAC,aAAe7I,KAAK4I,kCAAkC,sBAAuB,aAC7E,KAAAE,aAAe9I,KAAK4I,kCAAkC,+BAAgC,aACtF,KAAAG,SAAW/I,KAAK4I,kCAAkC,YAAa,SAI/D,KAAAI,WAAahJ,KAAKiJ,gCAAgC,UAElD,KAAAC,YAAclJ,KAAKiJ,gCAAgC,WAEnD,KAAAE,cAAgBnJ,KAAKiJ,gCAAgC,aAErD,KAAAG,cAAgBpJ,KAAK4I,kCAAkC,uBAAwB,a,CAvShFS,IAAAA,CACLf,EACAC,EACAnK,EACAE,GAOA,OALA0B,KAAKsI,QAAUA,EACftI,KAAKuI,OAASA,EACdvI,KAAK5B,QAAUA,EACf4B,KAAK1B,SAAWA,GAAY,GAC5B0B,KAAKsJ,aACEnH,KAAcoH,mBAAmBvJ,KAAKrF,QAAUqF,KAAKrF,M,CAGvD6O,KAAAA,GACLxJ,KAAKsI,QAAUtI,KAAKuI,OAASvI,KAAK5B,QAAU4B,KAAK1B,SAAW0B,KAAKrF,OAAS,GAC1EqF,KAAKwI,gBAAkBxI,KAAK0I,yBAA0B,EACtD1I,KAAKyI,yBAA2B,E,CAI1Ba,UAAAA,GACNtJ,KAAKyJ,qBACLzJ,KAAK0J,gBACL,MACE1J,KAAKsI,QAAQvP,QACc,MAA3BiH,KAAKsI,QAAQqB,OAAO,KACnB3J,KAAK4J,eAAiB5J,KAAK6J,kBAE5B7J,KAAK0J,e,CAKDG,cAAAA,GACN,MAAMC,EAAY9J,KAAK+J,gBAAe,GAKtC,OAFA/J,KAAK0I,yBAA0B,EAE1BoB,GAEL9J,KAAKgK,aAAaF,GAElB9J,KAAK0J,gBAEL1J,KAAKiK,oBAELjK,KAAKyJ,sBAEE,GAVgBzJ,KAAKkK,WAAW,mBAAoBlK,KAAK1B,S,CAa1DyL,cAAAA,CAAgBI,GACtB,MAAMC,EAAIpK,KAAKqK,YAAY,SAAUF,GACrC,IAAKC,EAAG,OAAO,EAiBf,MAAME,EAAwC,CAAC,EACzCC,EAAWH,EAAE,GAAGrM,QAAQ,gCAAgC,CAAC2J,EAAO8C,EAAIC,KACxE,MAAMC,EAAO,UAAUF,WAEvB,OADAF,EAAgBI,GAAQD,EACjB/C,EAAM3J,QAAQ0M,EAAIC,EAAK,IAGhC,OAAOH,EAASxM,QAAQ,wBAAwB,CAAC4M,EAAGC,EAAWC,KAC7DA,EAAW5I,GAAK4I,GAChBA,EAAWA,EAAS9M,QAAQ,8BAA8B,CAAC2J,EAAc8C,IACnEF,EAAgBE,GACX9C,EAAM3J,QAAQyM,EAAIF,EAAgBE,IAEpC9C,IAELmD,KACF7K,KAAK0I,yBAEH1I,KAAKwI,mBACFxI,KAAKyI,yBAAyB1P,QAC/BiH,KAAKyI,yBAAyBpN,SAASwP,KAG3C7C,GAAgBhP,KAAK6R,MAGnBA,EADE5C,GAAgBjP,KAAK6R,GACZA,EAAS9M,QAAQkK,GAAiBjI,KAAKuI,OAAS,mBAEhDvI,KAAKuI,OAAS,IAAMsC,GAI5BD,EAAYC,I,CAKfZ,iBAAAA,GACN,OAAKjK,KAAK8K,kBAEV9K,KAAK+K,yBAEA/K,KAAKgL,mBAA0BhL,KAAKkK,WAAW,0BAA2BlK,KAAK1B,WAJjD0B,KAAKkK,WAAW,0BAA2BlK,KAAK1B,S,CAS7EyM,oBAAAA,CAAsBE,EAAU,GACtC,IAAIC,EAAYlL,KAAKqK,YAAY,8CAA8C,GAA0B,GA2BzG,GAzBIa,IAEClL,KAAK0I,yBACJ1I,KAAKwI,kBAAmBxI,KAAKyI,yBAAyB1P,SAExDmS,EAAWA,EAASnN,QAAQ,2BAA2B,CAACoN,EAAKR,EAAGS,IAC1D,wBAAwBpS,KAAKoS,IAAO,kBAAkBpS,KAAKoS,GACtDD,GAIL,oBAAoBnS,KAAKoS,IAAOpL,KAAK1B,WACvC0B,KAAK5B,QAAUC,GAAe2B,KAAK1B,WAG9B,QAAQH,GAAeiN,EAAIpL,KAAK5B,iBAI3C4B,KAAKgK,aAAakB,IAIpBlL,KAAK0I,yBAA0B,EAE1B1I,KAAKsI,QAAQvP,OAAlB,CAGA,GAA+B,MAA3BiH,KAAKsI,QAAQqB,OAAO,GACS,MAA3B3J,KAAKsI,QAAQqB,OAAO,GACtB3J,KAAK0J,gBAEL1J,KAAKqK,YAAY,YAEd,GAA+B,MAA3BrK,KAAKsI,QAAQqB,OAAO,GAC7B3J,KAAK8K,iBACLG,SACK,GAA+B,MAA3BjL,KAAKsI,QAAQqB,OAAO,GAAY,CACzC,GAAIsB,EAAU,EAAG,OACjBjL,KAAKgL,kBACLC,G,CAGF,OAAOjL,KAAK+K,qBAAqBE,EAlBD,C,CAqB1BrB,WAAAA,GACN,MAAwB,MAApB5J,KAAKsI,QAAQ,KAEjBtI,KAAK0I,yBAA0B,EACxB1I,KAAKqL,iBACVrL,KAAK2I,aACL3I,KAAKsL,mBACLtL,KAAK6I,gBACL7I,KAAKgJ,cACLhJ,KAAKkJ,eACLlJ,KAAKmJ,iBACLnJ,KAAKoJ,iBACLpJ,KAAK8I,gBACL9I,KAAKuL,YACLvL,KAAK+I,YACL/I,KAAKwL,gBACLxL,KAAKyL,Y,CAaDJ,aAAAA,GACN,IAAKrL,KAAKqK,YAAY,2BAA4B,OAAO,EAEzD,IAAKrK,KAAKqK,YAAY,UAAW,OAAOrK,KAAKkK,WAAW,0BAA2BlK,KAAK1B,UAIxF,GAFA0B,KAAK0J,iBAEA1J,KAAK8K,iBAAkB,OAAO9K,KAAKkK,WAAW,yBAA0BlK,KAAK1B,UAElF0B,KAAK0J,gBACL,MAAO1J,KAAK0L,eACV1L,KAAK0J,gBAGP,OAAK1J,KAAKgL,mBAEVhL,KAAKyJ,sBAEE,GAJ6BzJ,KAAKkK,WAAW,yBAA0BlK,KAAK1B,S,CAO7EoN,YAAAA,GACN,IAAIC,EAAG,MAAMC,EAAU,GAEvB,MAAOD,EAAI3L,KAAKqK,YAAY,uCAC1BuB,EAAQhJ,KAAK+I,EAAE,IACf3L,KAAKqK,YAAY,SAGnB,QAAKuB,EAAQ7S,SAEbiH,KAAKiK,oBAELjK,KAAKyJ,sBAEE,E,CAID6B,eAAAA,GACN,QAAKtL,KAAKqK,YAAY,6CAEtBrK,KAAKyJ,sBAEE,E,CAID8B,QAAAA,GACN,QAAKvL,KAAKqK,YAAY,cAEtBrK,KAAK+J,gBAAe,GAGpB/J,KAAK0I,yBAA0B,EAExB1I,KAAK6L,mCAAmC,Q,CAIzCL,YAAAA,GACN,QAAKxL,KAAKqK,YAAY,mBAEfrK,KAAK6L,mCAAmC,Y,CAIzCJ,SAAAA,GACN,QAAKzL,KAAKqK,YAAY,wBAEjBrK,KAAK8K,kBAEV9K,KAAK0J,gBAEL1J,KAAKsJ,aAEAtJ,KAAKgL,mBAEVhL,KAAKyJ,sBAEE,GAJ6BzJ,KAAKkK,WAAW,qBAAwBlK,KAAK1B,aAN5C0B,KAAKqK,YAAY,S,CA+BhDzB,iCAAAA,CAAmCkD,EAAarT,GACtD,MAAO,MACAuH,KAAKqK,YAAYyB,KAEjB9L,KAAK8K,kBAEV9K,KAAK0J,gBAEL1J,KAAKsJ,aAEAtJ,KAAKgL,mBAEVhL,KAAKyJ,sBAEE,GAJ6BzJ,KAAKkK,WAAW,GAAGzR,gBAAoBuH,KAAK1B,WAN7C0B,KAAKkK,WAAW,GAAGzR,gBAAoBuH,KAAK1B,U,CAe3E2K,+BAAAA,CAAiCxQ,GACvC,MAAMqT,EAAM,IAAIC,OAAO,KAAOtT,EAAO,gBACrC,MAAO,MACAuH,KAAKqK,YAAYyB,KACtB9L,KAAKyJ,sBACE,E,CAKHoC,kCAAAA,CAAoCpT,GAC1C,OAAKuH,KAAK8K,kBAEV9K,KAAK+K,uBAEA/K,KAAKgL,mBAEVhL,KAAKyJ,sBAEE,GAJ6BzJ,KAAKkK,WAAW,IAAIzR,gBAAoBuH,KAAK1B,WAJ9C0B,KAAKkK,WAAW,IAAIzR,gBAAoBuH,KAAK1B,S,CAY1EoL,aAAAA,GACN,MAAO1J,KAAKgM,gB,CAINA,YAAAA,GACN,GAA+B,MAA3BhM,KAAKsI,QAAQqB,OAAO,IAAyC,MAA3B3J,KAAKsI,QAAQqB,OAAO,GAAY,OAAO,EAE7E3J,KAAK0I,yBAA0B,EAE/B,IAAI9M,EAAI,EACR,MAAkC,KAA3BoE,KAAKsI,QAAQqB,OAAO/N,KAAyC,MAA3BoE,KAAKsI,QAAQqB,OAAO/N,IAA6C,MAA/BoE,KAAKsI,QAAQqB,OAAO/N,EAAI,MAAeA,EAGlH,GAFAA,GAAK,EAE8B,KAA/BoE,KAAKsI,QAAQqB,OAAO/N,EAAI,GAC1B,OAAOoE,KAAKkK,WAAW,yBAA0BlK,KAAK1B,UAIxD,IAAI2N,EAAcjM,KAAKsI,QAAQ5F,MAAM,EAAG9G,EAAI,GAO5C,GALAoE,KAAKgK,aAAa,KAAKiC,OAEvBA,EAAchK,GAAKgK,EAAYlO,QAAQ,QAAS,KAG5B,+BAAhBkO,EACFjM,KAAK0I,yBAA0B,OAC1B,GAAI,oBAAoB1P,KAAKiT,GAClC,GAAoB,qBAAhBA,EACFjM,KAAKwI,iBAAkB,MAClB,CACLxI,KAAKwI,iBAAkB,EACvB,MAAM0D,EAAcD,EAAYlO,QAAQ,mBAAoB,IAAI5C,MAAM,KACtE+Q,EAAYpN,SAASqN,IACnBnM,KAAKyI,yBAAyB7F,KAAKX,GAAKkK,GAAM,G,KAGzB,oBAAhBF,IACTjM,KAAKwI,iBAAkB,EACvBxI,KAAKyI,yBAA2B,IAOlC,OAJAzI,KAAKsI,QAAUtI,KAAKsI,QAAQ5F,MAAM9G,GAElCoE,KAAKyJ,sBAEE,C,CAGDY,WAAAA,CAAayB,EAAa3B,GAAO,GACvC,MAAMiC,EAAaN,EAAIzC,KAAKrJ,KAAKsI,SACjC,IAAK8D,EAAY,OACjB,MAAMC,EAAWD,EAAW,GAG5B,OAFApM,KAAKsI,QAAUtI,KAAKsI,QAAQ5F,MAAM2J,EAAStT,QACtCoR,GAAMnK,KAAKgK,aAAaqC,GACtBD,C,CAGDtB,cAAAA,GACN,OAAO9K,KAAKqK,YAAY,Q,CAGlBW,eAAAA,GACN,OAAOhL,KAAKqK,YAAY,Q,CAIlBZ,kBAAAA,GACNzJ,KAAKqK,YAAY,O,CAIXL,YAAAA,CAAcsC,GAEhBnK,KACFnC,KAAKrF,QAAU4R,mBAAmBD,GAElCtM,KAAKrF,QAAU2R,C,CAIXpC,UAAAA,CAAYlO,EAAasC,GAC3B0B,KAAKsI,QAAQvP,QACfmP,GAAWlM,EAAKsC,E,EAQtB,SAASkO,GACPC,EACAxQ,EACAsM,EACAnK,EACAE,GAEA,IAAKmO,EAAaC,yBAA0B,CAC1CD,EAAaC,0BAA2B,EACxC,IAAI/R,EAAwB,KAC5B,IACEA,EAASgS,GAAOtD,KACdoD,EAAaG,YACbrE,EACAnK,EACAE,GAEFqO,GAAOnD,O,CACP,MAAO3L,GACP8O,GAAOnD,QACPzN,EAAS,yCAA0CE,EAAS4B,E,CAG1DlD,IAAQ8R,EAAaG,YAAcjS,E,CAE3C,CAEA,IAAIgS,G,SAMoBE,GACtBJ,EACArG,EACA9H,GAEA,GAAI8H,EAAI0G,SAAU,CAChB,MAAMvE,EAASwE,GAAa3G,EAAI3N,MAIhC,GAFKkU,KAAQA,GAAS,IAAItE,IAEtBoE,EAAaG,YACfJ,GACEC,EACArG,EAAI3N,KACJ8P,EACAnC,EAAI/I,IACJiB,OAEG,CACL,MAAM0O,EAAW,IAAIC,kBAAiB,WACpCD,EAASE,aAELT,EAAaG,cAAgBH,EAAaU,aAAa,gBACzDX,GACEC,EACArG,EAAI3N,KACJ8P,EACAnC,EAAI/I,IACJiB,E,IAKN0O,EAASI,QAAQX,EAAc,CAAEY,WAAW,G,EAIhD,OAAOZ,CACT,C,SAEgBM,GAAc9Q,EAAiB6P,GAAM,GACnD,MAAMwB,EAAexB,EAAM,KAAO,GAClC,MAAO,GAAG9F,GAASxM,UAAU8T,UAAqBrR,IAAUqR,IAC9D,CC/hBA,SAASC,GAAc9H,EAAcjE,GACnCzK,OAAOI,iBAAiBsO,EAAO,CAC7BC,cAAe,CACb/B,GAAAA,GACE,OAAOnC,C,GAGXgM,WAAY,CACV7J,GAAAA,GACE,OAAOnC,C,GAGX3J,OAAQ,CACN8L,GAAAA,GACE,OAAOnC,C,IAIf,C,SAEgBiM,GAAqBjM,GACnC,MAAMiE,EAAQ,IAAIM,YAAY,QAC9BwH,GAAa9H,EAAOjE,GAChBrJ,EAAWqJ,EAAQkM,QACrBlM,EAAQkM,OAAQjI,GAEhBjE,EAAQ0E,cAAcT,EAE1B,C,SAEgBkI,GAAsBnM,GACpC,MAAMiE,EAAQ,IAAIM,YAAY,SAC9BwH,GAAa9H,EAAOjE,GAChBrJ,EAAWqJ,EAAQ4F,SACrB5F,EAAQ4F,QAAS3B,GAEjBjE,EAAQ0E,cAAcT,EAE1B,CCVA,SAASmI,KACP,MAAMC,EAAyB,IAAIpK,IAC7BqK,EAA6B,IAAIrK,IAEvC,SAASsK,EAA0DC,GACjE,MAAO,CACLC,OAAAA,CAASzJ,EAAwB0J,GAC/BF,EAAWtK,IAAIc,EAAS0J,E,EAE1BC,OAAAA,CAAS3J,G,MACP,OAA8B,QAA9BhM,EAAOwV,EAAWrK,IAAIa,UAAQ,IAAAhM,EAAAA,EAAI,I,EAEpC4V,OAAAA,CAAS5J,GACP,OAAOwJ,EAAW3K,IAAImB,E,EAExB6J,UAAAA,CAAY7J,GACV,OAAOwJ,EAAW1K,OAAOkB,E,GAK/B,MAAO,CACL8J,KAAMP,EAAkDF,GACxDU,OAAMxX,OAAAD,OAAAC,OAAAD,OAAA,GACDiX,EAAsDD,IAAW,CACpEU,gBAAAA,CAAkBC,GAChBA,EAAY3P,SAAS0F,IACfD,GAAeC,IACjBsJ,EAAWxK,OAAOkB,E,OAM9B,CAEA,IClEYkK,GAMAC,GAWA1I,GAaA2I,GAMAC,GAMAC,GDwBZC,GAAenB,KEpCf,SAASoB,GACP/S,EACAsM,EACA0G,GAEA,MAAMC,EAAWD,EAASC,SAC1B,IAAK,MAAMnP,KAAQmP,EACjB,GAAInP,IAAS9D,EAAS,CACpB,MAAMkT,EAAeD,EAASnP,GAC9B,GAAIoP,EAAaC,WACf,OAAOD,EAAaC,WAAWrR,QAAQ,IAAIgO,OAAOgB,GAAahN,GAAM,GAAO,KAAMwI,E,CAI1F,CAGA,SAAS8G,GAAqBC,EAAgCC,GAC5DA,EAAMzQ,SAAQ,CAACpH,EAAOmK,KACR,QAARA,IACQ,SAARA,IAAgBA,EAAM,oBAC1B2N,GAAUC,gBAAgB9X,KAAK2X,EAAczN,EAAKnK,GAAM,GAE5D,C,SAUgBgY,GACdpB,EACAqB,EACAvJ,EACAwJ,GAAY,GAEZ,MAAMC,EAAMvB,EAAKwB,aAAa,OAC9B,IAAIzW,EAAOiV,EAAKwB,aAAa,QACzBC,EAAiC,KACrC,GAAY,eAARF,GAAwBxW,EAAM,CAChCA,EAAO8E,GAAe9E,EAAM+M,EAAI/I,KAChC,IAAI4R,EAAWF,GAAaT,KAAKH,QAAQ9U,GACzC,MAAM8V,EAAe,CACnBI,MAAO3L,GAAc0K,IAevB,GAbKW,EAQHA,EAASC,SAAS9I,EAAI3N,MAAQwW,EAASC,SAAS9I,EAAI3N,OAAS0W,EAP7DF,EAAW,CACTtH,KAAM,GACNuH,SAAU,CACR,CAAC9I,EAAI3N,MAAO0W,IAOlBJ,GAAaT,KAAKL,QAAQ5U,EAAM4V,GAE3BW,EAKH,MAAO,CAAEpL,QAASnL,EAAM4V,YAJxB7I,EAAI4J,OAAOC,MAAM9M,IAAI9J,GACrB0W,EAAiBxQ,SAAS2Q,cAAc,0BAA0B7W,6CAClE4V,EAASC,SAAS9I,EAAI3N,MAAM0X,YAAcJ,C,MAInCF,GAAO,CAAC,WAAY,UAAW,YAAa,gBAAiB,QAAQxU,SAASwU,GAEnFD,EACFG,EAAiBxQ,SAAS2Q,cAAc,yBAAyBL,IAAMxW,EAAO,WAAaA,EAAO,2BAE5F,OAANsW,QAAM,IAANA,GAAAA,EAAQ7K,YAAYwJ,GAEbjV,GAETmW,GAAUC,gBAAgB9X,KAAK2W,EAAM,OAAQnQ,GAAe9E,EAAM+M,EAAI/I,MAGxE,OAAIuS,EACK,CAAEG,kBACAA,EACI,OAANJ,QAAM,IAANA,OAAM,EAANA,EAAQS,aAAaL,EAAgBzB,QADvC,CAGT,C,SAQgB+B,GACdC,EACAlK,EACAmK,EACAC,GAEA,MAAMC,EAA2B5Z,MAAM6Z,KAAKtK,EAAI4J,OAAOC,OACjDU,EAAoDF,EAAUG,KAAKpM,IACvE,MAAMyK,EAAWF,GAAaT,KAAKH,QAAQ3J,GAC3C,OAAOyK,EAAStH,KAAOsH,EAAStH,KAAOnB,GAAYhC,EAAS4B,EAAI3N,KAAK,IAGjEoY,EAA6BL,EAAmB,GAAK,KAE3DjS,GAAsBoS,GAAmB3R,IACvCgF,GAAgB6M,GAAgB,IAAMC,GACpCL,EAAUzR,EAAIE,OACdF,EAAIC,KACJsR,EACAnK,IACA,IACAhH,IACFrD,EAASqD,EAAKgH,EAAI3N,KAAK,IACtB,KAMG+X,EACFA,EAAiB3T,MAAK,KACpBgU,EAAgBjO,MAAK,IAAMjG,QAAQC,QAAQwJ,EAAI2K,OAAO,CAAEC,KAAMV,OAC9DpM,GAAqB2M,EAAe,IAGtCzK,EAAI2K,OAAO,CAAEC,KAAMV,G,GAGzB,C,SAegBQ,GACdtM,EACAmD,EACA4I,EACAnK,GAMA,MAAM6I,EAAWF,GAAaT,KAAKH,QAAQ3J,GAC3CyK,EAAStH,KAAOA,EAChB,MAAMwH,EAAeF,EAASC,SAAS9I,EAAI3N,MACrC0X,EAAchB,EAAagB,YAQjC,GAAIA,EAAa,CACf,MAAMb,EAAehO,GAAkB,SAEvC2P,GACE7K,EACA5B,EACA8K,EACAL,EACAE,EAAaI,OAGXY,EAAYe,WACdf,EAAYe,WAAWd,aAAad,EAAca,GAElDI,EAAaY,YAAY7B,GAI3BH,EAAagB,YAAc,I,CAE/B,C,SAcgBc,GACd7K,EACA5B,EACA8K,EACAL,EACAM,GAEA,GAAInJ,EAAI0G,SAAU,CAChB,MAAMqC,EAAeF,EAASC,SAAS9I,EAAI3N,MAE3C,GADA0W,EAAa5G,OAAS4G,EAAa5G,QAAUwE,GAAa3G,EAAI3N,MACzD0W,EAAaC,WAUhBE,EAAa1C,YAAcuC,EAAaC,eAVZ,CAC5B,MAAMgC,EAAkBpC,GAAkB5I,EAAI3N,KAAM0W,EAAa5G,OAAQ0G,GACpEmC,EAIH9B,EAAa1C,YAAcwE,GAH3B9B,EAAa1C,YAAcqC,EAAStH,KACpCkF,GAAUyC,EAAclJ,EAAK5B,IAI/B2K,EAAaC,WAAaE,EAAa1C,W,OAKzC0C,EAAa1C,YAAcqC,EAAStH,KAGtC0H,GAAoBC,EAAcC,EACpC,C,SASgB8B,GACd7M,EACA4B,EACA6I,EACAqC,GAEA,MAAMhC,EAAehO,GAAkB,SAEjCiQ,EAAoBA,KACxBN,GACE7K,EACA5B,EACA8K,EACAL,EACAA,EAASC,SAAS9I,EAAI3N,MAAM8W,OAE9B9B,GAAoB6D,EAAW,EAejC,OAZIrC,EAAStH,KACXnL,EAAM+U,GAEN/K,GAAYhC,EAAS4B,EAAI3N,MAAMoE,MAAMoC,IACnCgQ,EAAStH,KAAO1I,EAChBsS,GAAmB,IAClBpS,OAAOC,IACRrD,EAASqD,EAAKgH,EAAI3N,MAClBkV,GAAqB2D,EAAW,IAI7BhC,CACT,ED3SA,SAAYZ,GACVA,EAAA,eACAA,EAAA,YACD,EAHD,CAAYA,KAAAA,GAAgB,KAM5B,SAAYC,GACVA,EAAA,qBACAA,EAAA,qBACAA,EAAA,6BACAA,EAAA,+BACAA,EAAA,uBACAA,EAAA,qBACAA,EAAA,oBACD,CARD,CAAYA,KAAAA,GAAS,KAWrB,SAAY1I,GACVA,EAAA,qBACAA,EAAA,6BACAA,EAAA,qBACAA,EAAA,qBACAA,EAAA,iBAEAA,EAAA,2BACAA,EAAA,yBACAA,EAAA,4BACD,CAVD,CAAYA,KAAAA,GAAU,KAatB,SAAY2I,GACVA,EAAA,qBACAA,EAAA,wBACD,CAHD,CAAYA,KAAAA,GAAgB,KAM5B,SAAYC,GACVA,EAAA,qCACAA,EAAA,wCACD,CAHD,CAAYA,KAAAA,GAAe,KAM3B,SAAYC,GACVA,EAAA,qBACAA,EAAA,qBACAA,EAAA,mBACAA,EAAA,qCACAA,EAAA,mCACAA,EAAA,uCACAA,EAAA,qCACAA,EAAA,iDACAA,EAAA,iDACAA,EAAA,yCACAA,EAAA,2BACAA,EAAA,2BACAA,EAAA,aACAA,EAAA,gBACD,CAfD,CAAYA,KAAAA,GAAc,KAyBnB,MAAM0C,GAAoB,oUAGpBC,GAA2B,CAAC,EAAG,EAAG,GAelCC,GAAoB,QACpBC,GAAsB,SAGtBC,GAAqB,SAErBC,GAA2B,eAE3BC,GAAmB,OACnBC,GAA6B,CACxCJ,GACAD,GACAE,GACAC,GACAC,IAIIE,GAA0B,CAC9B,WACA,aACA,OACA,SACA,UACA,kBACA,cACA,WAKWC,GAA6BD,GAG7BE,GAA+BF,GAAwBG,OAAO,CACzE,qBACA,YAKIC,GAA6B,CACjC,aACA,eACA,SACA,WACA,WAKWC,GAAgCD,GAGhCE,GAAkCF,GAA2BD,OAAO,CAC/E,yBAIWI,GAAuB,CAClC,mBACA,oBAIWC,GAA0B,CACrC,sBAIWC,GAA2C,CACtD,SACA,OACA,cAGWC,GAAwC,CAAC,YAAa,eAEtDC,GAAuB,CAClC,OACA,WACA,OACA,WACA,UEjIIC,GAAc,CAAC,kBAAmB,kBAAmB,yBAA0B,yBAA0B,SAAU,kBAAmB,sBAG5I,SAASC,GAAczM,EAAmB0M,GACxC,OAAOA,EAAW5D,SAAS9I,EAAI3N,MAAMsa,UAAY3M,EAAI4M,YAAc5M,EAAI6M,OACzE,CAGA,SAASC,GAAiB9M,EAAmB0M,GAC3C,MAAMvD,EAAQuD,EAAW5D,SAAS9I,EAAI3N,MAAM8W,MAC5C,OAAOA,EAAMlM,IAAI,KACnB,CAUA,SAAS8P,GAAc/M,EAAmB0M,GACxC,OACE1M,EAAIgN,QACJN,EAAW5D,SAAS9I,EAAI3N,MAAM2a,QAC9BP,GAAazM,EAAK0M,IAClBI,GAAgB9M,EAAK0M,EAEzB,CAGA,SAASO,GAAiBjN,GACxB,OAAOA,EAAI6M,OAAS7M,EAAIE,QAAQC,eAAiBiJ,GAAU7R,SAC7D,CAGA,SAAS2V,GAAelN,EAAmBuB,GACzC,MAAM4L,EAAeF,GAAgBjN,GACrC,OAAO,IAAImN,EAAa7c,SAASiR,EACnC,CAQA,SAAS6L,GACPpN,EACA0M,EACAW,GAEA,MAAMvE,EAAW4D,EAAW5D,SAC5B,IAAK,MAAMnP,KAAQmP,EACjB,GAAInP,IAASqG,EAAI3N,KAAM,CACrB,MAAM0W,EAAeD,EAASnP,GAC9B,GAAIoP,EAAaC,aAAeqE,GAAetE,EAAauE,eAC1D,OAAOvE,EAAauE,c,CAI5B,CAMA,SAASC,GACPvN,EACA0M,EACA1D,GAEA,OAAOoE,GAAoBpN,EAAK0M,EAAY1D,IAAekE,GAAclN,EAAKgJ,EAChF,CAGA,SAASwE,KACP,MAAMC,EAAmBpU,KACzB,OAAIsP,GAAaR,OAAOH,QAAQyF,GACvBD,KAEFC,CACT,CAGA,SAASC,GAAsBC,EAAkCxE,GAC/DA,EAAMzQ,SAAQ,CAACpH,EAAOmK,KACP,SAARA,GAA4B,WAAVnK,GAA+B,UAARmK,GAA2B,UAARA,IACrD,QAARA,IAAeA,EAAM,mBACzB2N,GAAUC,gBAAgB9X,KAAKoc,EAAelS,EAAKnK,GAAM,GAE7D,CAGA,SAASsc,GAAiB5N,EAAmB0M,GAC3C,OAAO1M,EAAI4M,aAAeH,GAAazM,EAAK0M,EAC9C,CAEA,SAASmB,GAAgB7N,EAAmB0M,GAC1C,OAAOkB,GAAgB5N,EAAK0M,GAAc1M,EAAI6M,OAAS,SAAW,OAAS,SAC7E,C,SASgBiB,GACd3F,EACAoB,EACAvJ,EACAwJ,GAAY,G,MAEZ,IAAIG,EAAiC,KACjCoE,EAAqB5F,EAAOuB,aAAa,OAE7C,GADIqE,IAAKA,EAAMhW,GAAegW,EAAK/N,EAAI/I,MACnCkR,EAAOpB,aAAa,YAAciH,GAAgBD,EAAK/N,EAAI3N,MAC7DsX,EAAiBxQ,SAAS2Q,cAAc,kEACnC,IAEH3B,EAAOlJ,OACNuN,GAAYvX,SAASkT,EAAOlJ,OAE/BkJ,EAAOpB,aAAa,WACpBkH,GAAeF,EAAK/N,EAAI3N,MAMxB,OAHyB,QAAzBD,EAAIgX,GAAU/N,mBAAW,IAAAjJ,OAAA,EAAAA,EAAE8b,uBAClB9E,GAAU/N,YAAY6S,cAExB,KACF,GACJ9E,GAAU+E,qBAAuBhG,EAAOiG,WACvChF,GAAU+E,qBAAuC,WAAhBhG,EAAOlJ,KAE1C0K,EAAiBxQ,SAAS2Q,eAAiB3B,EAAOiG,SAAW,WAAa,UAAlC,qCACnC,GAAIL,EAAK,CACd,IAAIrB,EAAa/D,GAAaR,OAAOJ,QAAQgG,GAC7C,MAAMhF,EAAe,CACnBsF,MAAOlG,EAAOpB,aAAa,SAC3B3Q,MAAO+R,EAAO/R,OAAyB,WAAhB+R,EAAOlJ,KAC9B0N,OAAwB,WAAhBxE,EAAOlJ,KACf+N,OAAQ7E,EAAOpB,aAAa,UAC5BuH,KAAMnG,EAAOpB,aAAa,QAC1BoC,MAAO3L,GAAc2K,IAsBvB,GApBKuE,EAeHA,EAAW5D,SAAS9I,EAAI3N,MAAQqa,EAAW5D,SAAS9I,EAAI3N,OAAS0W,EAdjE2D,EAAa,CACXnL,KAAM,GACNgN,YAAY,EACZzF,SAAU,CACR,CAAC9I,EAAI3N,MAAO0W,IAalBJ,GAAaR,OAAON,QAAQkG,EAAKrB,GAE5BlD,EAIH,MAAO,CAAEpL,QAAS2P,EAAKrB,cAHvB1M,EAAI4J,OAAO4E,QAAQzR,IAAIgR,GACvBpE,EAAiBxQ,SAAS2Q,cAAc,oBAAoBiE,0B,MAIzD,GAAI5F,EAAO3B,YAAa,CAS7B,MAAMiH,EAAmBD,KACnBd,EAAa,CACjBnL,KAAM4G,EAAO3B,YACb+H,YAAY,EACZzF,SAAU,CACR,CAAC9I,EAAI3N,MAAO,CACVgc,OAAO,EACPjY,MAAuB,WAAhB+R,EAAOlJ,KACd0N,OAAwB,WAAhBxE,EAAOlJ,KACf+N,OAAQ7E,EAAOpB,aAAa,UAC5BuH,KAAMnG,EAAOpB,aAAa,QAC1BoC,MAAO3L,GAAc2K,MAI3B,GAAKqB,EAMH,MAAO,CAAEpL,QAASqP,EAAUf,cAL5B1M,EAAI4J,OAAO4E,QAAQzR,IAAI0Q,GACvB9E,GAAaR,OAAON,QAAQ4F,EAAUf,GACtC/C,EAAiBxQ,SAAS2Q,cAAc,qC,MAKhCN,IAKVG,EAAiBxQ,SAAS2Q,cAAc,uC,CAG1C,OAAIN,EACK,CAAEG,kBAEI,OAANJ,QAAM,IAANA,OAAM,EAANA,EAAQS,aAAaL,EAAiBxB,EAEjD,C,SAMgBsG,GAAkB5Y,G,UAChC,MAAM6Y,GAAwC,QAAxBtc,EAAAwN,GAASzE,QAAQkG,eAAO,IAAAjP,OAAA,EAAAA,EAAEhC,SAAU,GACpDue,GAAiD,QAAjCC,EAAwB,QAAxBC,EAAAjP,GAASzE,QAAQkG,eAAO,IAAAwN,OAAA,EAAAA,EAAEpN,eAAO,IAAAmN,OAAA,EAAAA,EAAG/Y,KAAY,GAEtE,MAAO,IAAI6Y,KAAkBC,EAC/B,C,SAOgBX,GAAiB5P,EAAwBvI,GACvD,IAAKuI,EAAS,OAAO,EACrB,MAAMiD,EAAUoN,GAAiB5Y,IAAY,GAC7C,OAAOwL,EAAQyN,MAAKnN,KACbA,EAAOoN,gBACLpN,EAAOoN,eAAe3Q,IAEjC,C,SAOgB6P,GAAgB7P,EAAwBvI,GACtD,IAAKuI,EAAS,OAAO,EACrB,MAAMiD,EAAUoN,GAAiB5Y,IAAY,GAC7C,OAAOwL,EAAQyN,MAAKnN,KACbA,EAAOqN,eACLrN,EAAOqN,cAAc5Q,IAEhC,C,SAOgB6Q,GACd/E,EACAlK,GAEA,MAAM0H,EAA4BjX,MAAM6Z,KAAKtK,EAAI4J,OAAO4E,SAClDU,EAAsD,GACtDC,EAA4D,GAClE,IAAK,MAAM/Q,KAAWsJ,EAAY,CAChC,MAAMgF,EAAa/D,GAAaR,OAAOJ,QAAQ3J,GACzC2K,EAAe2D,EAAW5D,SAAS9I,EAAI3N,QACvC0W,EAAa3S,QAAU2S,EAAasF,OAAWrO,EAAIoP,aAAepP,EAAIqP,eAC1EH,EAAmB1S,KAAKkQ,EAAWnL,KAAOmL,EAAWnL,KAAOnB,GAAYhC,EAAS4B,EAAI3N,OACrF8c,EAAuB3S,KAAK,CAAC4B,EAASsO,I,CAI1C,MAAM4C,EAA+BtP,EAAIoP,YAAcpP,EAAIuP,MAAQ,GAAK,KAEpEL,EAAmBvc,OACrBwF,GAAsB+W,GAAqBtW,IACzCgF,GAAgB0R,GAAkB,IAAME,GACtCL,EAAuBvW,EAAIE,OAAO,GAClCqW,EAAuBvW,EAAIE,OAAO,GAClCF,EAAIC,KACJmH,IACA,IACAhH,IACFrD,EAASqD,EAAKgH,EAAI3N,KAAK,IACtB,KACGid,GACFA,EAAiB9S,MAAK,IAAMjG,QAAQC,QAAQwJ,EAAI2K,OAAO,CAAEC,KAAMV,OAC/DpM,GAAqBwR,IAErBtP,EAAI2K,OAAO,CAAEC,KAAMV,G,IAIvBlK,EAAI2K,OAAO,CAAEC,KAAMV,GAEvB,C,SAQgBsF,GACdpR,EACAsO,EACAnL,EACAvB,GAYA,GATA0M,EAAWnL,KAAOA,EASdvB,EAAIoP,YAAoC,IAAtBpP,EAAIyP,cAAqB,CAC7C,MAAM1G,EAAe2D,EAAW5D,SAAS9I,EAAI3N,MAQ7C,IAAK0W,EAAaC,aAChBD,EAAaC,WAAa0G,GAAUtR,EAAS4B,EAAKuB,EAAMmL,GACxD3D,EAAa4G,YAAc9B,GAAe7N,EAAK0M,IAC1CK,GAAa/M,EAAK0M,IACrB,IACE3D,EAAauE,eAAiBC,GAAkBvN,EAAK0M,EAAY3D,EAAaC,W,CAC9E,MAAOhQ,GACPrD,EAAS,0DAA2DqK,EAAI3N,KAAM,KAAM2G,E,EAK9F,C,SAOgB4W,GACd5P,EACA6P,GAEA,MAAMP,EAA+BtP,EAAIuP,MAAQ,GAAK,KAChD7H,EAA4BjX,MAAM6Z,KAAKtK,EAAI4J,OAAO4E,SAClDsB,EAAoD,GACpDC,EAAqD,GAC3D,IAAK,MAAM3R,KAAWsJ,EAAY,CAChC,MAAMgF,EAAa/D,GAAaR,OAAOJ,QAAQ3J,GACzC2K,EAAe2D,EAAW5D,SAAS9I,EAAI3N,MAEzC0W,EAAa3S,OAAS2S,EAAasF,QAEjC3B,EAAW6B,YAAe7B,EAAWnL,MAASkL,GAAazM,EAAK0M,GAGlEoD,EAAmBtT,KAAKkQ,EAAWnL,MAFnCuO,EAAmBtT,KAAK4D,GAAYhC,EAAS4B,EAAI3N,OAInD0d,EAAgBvT,KAAK,CAAC4B,EAASsO,IAE/BD,GAAazM,EAAK0M,KAAgBmD,EAASG,YAAcH,EAASG,cAAgBH,EAASG,YAAc,IAEzGpS,GAAgB0R,GAAkB,KAChCW,GAAU7R,EAAS4B,EAAK0M,GACxBmD,GAAS,EAAM,G,CAKjBC,EAAmBnd,OACrBwF,GAAsB2X,GAAqBlX,IACzC,MAAM8T,EAAaqD,EAAgBnX,EAAIE,OAAO,GAC9C4T,EAAWnL,KAAOmL,EAAWnL,MAAQ3I,EAAIC,IAAI,IAC3CG,IACF6W,EAASK,WAAaL,EAASK,aAAeL,EAASK,WAAa,EACpEva,EAASqD,EAAKgH,EAAI3N,KAAK,IACtB,KACD0d,EAAgBrX,SAAQ,EAAE0F,EAASsO,MAC7B9a,EAAS8a,EAAWnL,OACtB3D,GAAgB0R,GAAkB,KAChCW,GAAU7R,EAAS4B,EAAK0M,EAAYmD,IACnCpD,GAAazM,EAAK0M,IAAemD,GAAS,EAAM,G,IAanDP,GACFA,EAAiB9S,MAAK,IAAMjG,QAAQC,QAAQqZ,EAC1Cre,EAAYqe,EAASG,cACrBH,EAASK,aAAeJ,EAAmBnd,WAE7CmL,GAAqBwR,IAErBO,EACEre,EAAYqe,EAASG,cACrBH,EAASK,aAAeJ,EAAmBnd,O,IAK7C2c,GACFA,EAAiB9S,MAAK,IAAMjG,QAAQC,QAAQqZ,GAAS,MACrD/R,GAAqBwR,IAErBO,GAAS,EAGf,C,SASgBI,GACd7R,EACA4B,EACA0M,EACArS,EACA8V,G,MAEA,IACEC,GAAuBpQ,GACvB,MAAM+I,EAAe2D,EAAW5D,SAAS9I,EAAI3N,MACvCsd,EAAc9B,GAAe7N,EAAK0M,GAiBxC,GAVK3D,EAAaC,YAAcD,EAAa4G,cAAgBA,IAC3D5G,EAAaC,WAAa0G,GAAUtR,EAAS4B,EAAK0M,EAAWnL,KAAMmL,GACnE3D,EAAa4G,YAAcA,EAC3B5G,EAAauE,eAAiB,MAO5BP,GAAa/M,EAAK0M,GAAa,CACjC,MAAM2D,EAAgBF,GAAkBjV,GAAkB,UAgB1D,GAfAoV,GACElS,EACA2K,EAAaC,WACbyD,GAAazM,EAAK0M,GAClB2D,EACAtH,EAAaI,MACb9O,IASG8V,EAAgB,CAEnB,MAAM5G,EAASvJ,EAAI6M,OAAoB,QAAdza,EAAG4N,EAAIE,eAAO,IAAA9N,OAAA,EAAAA,EAAEme,UAAYvQ,EAAIwQ,cAAc,kBACjE,OAANjH,QAAM,IAANA,GAAAA,EAAQwB,YAAYsF,E,OAGtBI,GAAkBzQ,EAAK0M,E,CAEzB,MAAOjV,GAGP,MAFAzB,QAAQC,MAAM,mBAAmBka,EAAiB,mBAAqB,oBAAoBnQ,EAAI3N,SAAUoF,EAAG2G,GAEtG3G,C,CAEV,C,SASgBiZ,GACdtS,EACA4B,EACA0M,EACAiE,GAEA,MAAMR,EAAiBpD,GAAa/M,EAAK0M,GAAcxR,GAAkB,UAAY/B,SAAS2Q,cAAc,4BAA4B1L,2BAElIwS,EAA4BA,IAAMvJ,GAAoBsJ,GAEtDE,EAAmBA,KACvB,MAAMC,EAAangB,OAAOogB,yBAAyB3H,GAAU/N,YAAa,iBACrEyV,IAAcA,EAAWE,cAC5BrgB,OAAOE,eAAeuY,GAAU/N,YAAa,gBAAiB,CAC5D/J,MAAOqf,EACPK,cAAc,IAIlBf,GAAU7R,EAAS4B,EAAK0M,EAAYkE,EAA2BT,IAE9D1D,GAAazM,EAAK0M,IAAekE,GAA2B,EAe/D,OAZIlE,EAAWnL,MAAQkL,GAAazM,EAAK0M,GACvCtW,EAAMya,GAENzQ,GAAYhC,EAAS4B,EAAI3N,MAAMoE,MAAM8K,IACnCmL,EAAWnL,KAAOA,EAClBsP,GAAkB,IACjB9X,OAAOC,IACRrD,EAASqD,EAAKgH,EAAI3N,MAClBkV,GAAqBoJ,EAAa,IAI/BR,CACT,C,SAQgBc,GACd7S,EACA4B,EACA0M,GAEA,MAAMyD,EAAiBpD,GAAa/M,EAAK0M,GAAcxR,GAAkB,UAAY/B,SAAS2Q,cAAc,8CAI5G,OAFAmG,GAAU7R,EAAS4B,EAAK0M,OAAY,EAAQyD,GAErCA,CACT,CAWA,SAASG,GACPlS,EACAmD,EACAoL,EACA0D,EACAlH,EACA9O,GAEA,GAAIsS,GAWF,GAVAvD,GAAUC,gBAAgB9X,KAAK8e,EAAe,OAAQ,UAClDlS,GAAeC,GAKjBiS,EAAc7J,YAAcjF,EAE5B8O,EAActC,IAAM3P,EAElB/D,EAAU,CACZ,MAAM6W,EAAgBA,KACpB7W,EAAS2V,aAAe3V,EAAS2V,cACjC3V,EAAkC,IAAzBA,EAAS2V,YAAkB,EAOlC7R,GAAeC,GACjBhI,EAAM8a,GAENb,EAAc/I,OAAS4J,C,OAI3Bb,EAAc7J,YAAcjF,EAG9BmM,GAAqB2C,EAAelH,EACtC,CAGA,SAASsH,GAAmBzQ,EAAmB0M,GAC7C,MAAM3D,EAAe2D,EAAW5D,SAAS9I,EAAI3N,MACxC0W,EAAauE,iBAChBvE,EAAauE,eAAiBC,GAAkBvN,EAAK0M,EAAY3D,EAAaC,aAEhFD,EAAauE,eAAe/b,KAAK0b,GAAgBjN,GACnD,CAQA,SAAS0P,GACPtR,EACA4B,EACAuB,EACAmL,GAOA,OAJI1a,EAAc4N,GAASzE,QAAQkG,WACjCE,EAAO4P,GAAW/S,EAASmD,EAAMvB,EAAI3N,KAAMuN,GAASzE,QAAQkG,UAG1DuM,GAAgB5N,EAAK0M,GAChB1M,EAAI6M,OAAS,2CAA2CtL,MAASpD,GAAeC,GAAW,GAAK,iBAAiBA,gOAAwO,4EAA4EgN,QAAuB7J,MAASpD,GAAeC,GAAW,GAAK,iBAAiBA,4BAAkCgN,6CAGzhB7J,CACT,CAKA,SAAS6O,GAAwBpQ,GAC/BoR,GAAqBpR,EACvB,CAKA,SAASoR,GAAsBpR,GACzBA,EAAIE,UACNkJ,GAAU7R,UAAU8Z,2BAA6BrR,EAAIE,QAAQoR,YAEjE,CASA,SAASH,GAAY/S,EAAiBmD,EAAc1L,EAAiBwL,G,MACnE,MAAMkQ,EAAUC,GAAYnQ,EAAQjR,OAAQmR,EAAMnD,GAElD,OAAOoT,GAA2B,QAAhBpf,EAACiP,EAAQI,eAAO,IAAArP,OAAA,EAAAA,EAAGyD,GAAU0b,EAASnT,EAC1D,CAEA,SAASoT,GAAaC,EAA4BlQ,EAAcnD,GAC9D,OAAK5N,EAAQihB,GAINA,EAAQzT,QAAO,CAAC0D,EAASgQ,IAC1B1f,EAAc0f,IAAW3f,EAAW2f,EAAOC,QACtCD,EAAOC,OAAOjQ,EAAStD,GAGzBsD,GACNH,GATMA,CAUX,CC1rBA,SAASqQ,GACPrI,EACAvJ,EACAmK,EACA0H,GAEA,MAAMC,EAAWrhB,MAAM6Z,KAAKf,EAAOuI,UAEnCA,EAASnf,QAAUmf,EAASpZ,SAASqZ,IACnCH,GAAaG,EAAsB/R,EAAKmK,EAAc0H,EAAgB,IAGxE,IAAK,MAAMG,KAAOF,EACZne,EAAcqe,GACZA,EAAIjL,aAAa,YAAciH,GAAgBgE,EAAItI,aAAa,QAAS1J,EAAI3N,MAC/EkX,EAAOS,aAAa7Q,SAAS2Q,cAAc,4DAA6DkI,GAC7FA,EAAIjL,aAAa,WAAakH,GAAe+D,EAAItI,aAAa,QAAS1J,EAAI3N,MAE7E2f,EAAIjL,aAAa,SAC1BqC,GAAUC,gBAAgB9X,KAAKygB,EAAK,OAAQja,GAAeia,EAAItI,aAAa,QAAU1J,EAAI/I,MAF1FqS,GAAoB0I,EAAKzI,EAAQvJ,GAI1BpM,EAAeoe,GACpBA,EAAIjL,aAAa,WACnBwC,EAAOS,aAAa7Q,SAAS2Q,cAAc,6DAA8DkI,GAChGhS,EAAI0G,WAAasL,EAAIjL,aAAa,WAC3CnJ,GAAgBiU,GAAiB,IAAMpL,GAAUuL,EAAKhS,KAE/CnM,EAAgBme,GACzBlE,GAAqBkE,EAAKzI,EAAQvJ,GACzBjM,EAAeie,IAAQA,EAAIjL,aAAa,QACjDqC,GAAUC,gBAAgB9X,KAAKygB,EAAK,MAAOja,GAAeia,EAAItI,aAAa,OAAS1J,EAAI/I,KAc9F,C,SAOgBgb,GAAkBlR,EAAiBf,GACjD,MAAMkK,EAAclK,EAAIkS,gBAAgBnR,GAClCoJ,EAAef,GAAU+I,wBAAwB5gB,KAAK2Y,EAAa,kBACnEkI,EAAehJ,GAAU+I,wBAAwB5gB,KAAK2Y,EAAa,kBAEzE,IAAKC,IAAiBiI,EAAc,CAClC,MAAMxc,EAAM,WAAWuU,EAAe,OAAS,oBAE/C,OADAnK,EAAIgB,QAAQ,IAAIC,MAAMrL,IACfD,EAASC,EAAKoK,EAAI3N,K,CAG3B,MAAMwf,EAA8B7R,EAAIoP,YAAcpP,EAAIuP,MAAQ,GAAK,KAEvEqC,GAAa1H,EAAalK,EAAKmK,EAAc0H,GAK7C,MAAMzH,EAAmBtM,GAAqB+T,GAE1C7R,EAAI4J,OAAOC,MAAMwI,KACnBpI,GAAmBC,EAAalK,EAAKmK,EAAcC,GAC1CA,EACTA,EAAiB3T,MAAK,IAAMuJ,EAAI2K,OAAO,CAAEC,KAAMV,MAE/ClK,EAAI2K,OAAO,CAAEC,KAAMV,IAGjBlK,EAAI4J,OAAO4E,QAAQ6D,KACrBpD,GAAqB/E,EAAalK,GAElCA,EAAI2K,OAAO,CAAEC,KAAMV,GAEvB,C,MC9GqBoI,GAArB7f,WAAAA,GACS,KAAA8f,UAAY,IAAIlV,IAiBf,KAAAmV,MAAkB,GAClB,KAAAC,WAGI,CAAC,EA0BL,KAAAC,QAAU,K,QAChB,IAAIrgB,EACJ,MAAMsgB,EAAgB/Y,KAAK6Y,WACrBD,EAAQ5Y,KAAK4Y,MACnB5Y,KAAK6Y,WAAa,CAAC,EACnB7Y,KAAK4Y,MAAQ,GACb,MAAOngB,EAAOmgB,EAAMI,QAAS,CAC3B,MAAMC,EAAYjZ,KAAK2Y,UAAUhV,IAAIlL,GAE/BygB,EAAWD,EAAUC,SACrB7X,EAAQ4X,EAAU5X,MAGxB,IAAI8X,EACJ,GAHAF,EAAUC,SAAW,KACrBD,EAAU5X,OAAQ,EAEdA,IAAUrB,KAAKoZ,QAAQH,EAAUha,KAAMia,GAAW,CACpDD,EAAUha,KAAOia,GAAYD,EAAUha,KACvC,IAAK,MAAMoa,KAAKJ,EAAUK,UAAW,CACnC,MAAMta,EAAMqa,EAAEJ,EAAUha,MACxBD,IAAc,OAANma,QAAM,IAANA,EAAAA,EAAAA,EAAW,IAAIvW,KAAK5D,E,CAGQ,QAAtCiW,GAAAzc,EAAAugB,EAActgB,IAAO8gB,yBAAiB,IAAAtE,GAAAA,EAAAtd,KAAAa,GAMtCugB,EAActgB,GAAO+gB,aAAa1a,SAAS2a,GAAaA,EAASN,I,IAlE/DO,WAAAA,CAAajhB,GACnB,QAAKA,IACHsD,EAAS,+BACF,E,CAaH4d,OAAAA,CACNlhB,EACAghB,EACAF,GAGIvZ,KAAK6Y,WAAWpgB,IAClBuH,KAAK6Y,WAAWpgB,GAAO+gB,aAAa5W,KAAK6W,GACzCF,IAAsBvZ,KAAK6Y,WAAWpgB,GAAO8gB,kBAAoBA,IAEjEvZ,KAAK6Y,WAAWpgB,GAAQ,CACtB+gB,aAAc,CAACC,GACfF,sBAOFvZ,KAAK4Y,MAAMvd,SAAS5C,IAAmC,IAA1BuH,KAAK4Y,MAAMhW,KAAKnK,IAAgB+D,EAAMwD,KAAK8Y,Q,CAuCpEM,OAAAA,CACNQ,EACAC,GAEA,IAAKA,GAAW9iB,OAAOwO,KAAKqU,GAAS7gB,SAAWhC,OAAOwO,KAAKsU,GAAS9gB,OAAQ,OAAO,EAEpF,IAAK,MAAM8I,KAAO+X,EAChB,GAAI7iB,OAAOM,UAAUG,eAAeG,KAAKiiB,EAAS/X,IAC5C+X,EAAQ/X,KAASgY,EAAQhY,GAAM,OAAO,EAI9C,OAAO,C,CASFiY,EAAAA,CAAIrhB,EAAc4gB,EAAgCU,GAAc,GACrE,GAAI/Z,KAAK0Z,YAAYjhB,GAAO,CAC1B,IAAKN,EAAWkhB,GACd,OAAOtd,EAAS,2CAGlB,IAAIkd,EAAYjZ,KAAK2Y,UAAUhV,IAAIlL,GAC9BwgB,EAOHc,GACAhjB,OAAOwO,KAAK0T,EAAUha,MAAMlG,UAEzBiH,KAAK4Y,MAAMvd,SAAS5C,IACrBuH,KAAKoZ,QAAQH,EAAUha,KAAMga,EAAUC,YAIzCG,EAAEJ,EAAUha,OAdZga,EAAY,CACVha,KAAM,CAAC,EACPqa,UAAW,IAAIpW,KAEjBlD,KAAK2Y,UAAUjV,IAAIjL,EAAMwgB,IAa3BA,EAAUK,UAAUnW,IAAIkW,E,EAKrBW,GAAAA,CACLvhB,EACA4gB,GAEA,GAAIrZ,KAAK0Z,YAAYjhB,GAAO,CAC1B,MAAMwgB,EAAYjZ,KAAK2Y,UAAUhV,IAAIlL,GACjCwgB,IACE9gB,EAAWkhB,GACbJ,EAAUK,UAAUhW,OAAO+V,GAE3BJ,EAAUK,UAAUW,Q,EASrBC,SAAAA,CAAWzhB,GAChB,GAAIuH,KAAK0Z,YAAYjhB,GAAO,CAC1B,MAAMwgB,EAAYjZ,KAAK2Y,UAAUhV,IAAIlL,GACjCwgB,IACFA,EAAUha,KAAO,CAAC,E,EAMjBkb,QAAAA,CACL1hB,EACAwG,EACAwa,EACApY,EACAkY,GAEA,GAAIvZ,KAAK0Z,YAAYjhB,GAAO,CAC1B,IAAKL,EAAc6G,GACjB,OAAOlD,EAAS,qCAGlB,IAAIkd,EAAYjZ,KAAK2Y,UAAUhV,IAAIlL,GAC/BwgB,GACFA,EAAUC,SAAWpiB,EAAO,CAAC,EAAGmiB,EAAUC,UAAYD,EAAUha,KAAMA,IACrEga,EAAU5X,QAAU4X,EAAU5X,QAAUA,KAEzC4X,EAAY,CACVha,KAAMA,EACNqa,UAAW,IAAIpW,KAEjBlD,KAAK2Y,UAAUjV,IAAIjL,EAAMwgB,GAIzBA,EAAU5X,OAAQ,GAGpBrB,KAAK2Z,QAAQlhB,EAAMghB,EAAUF,E,EAK1Ba,OAAAA,CAAS3hB,G,MACd,MAAMwgB,EAAYjZ,KAAK2Y,UAAUhV,IAAIlL,GACrC,OAAsB,QAAtBD,EAAgB,OAATygB,QAAS,IAATA,OAAS,EAATA,EAAWha,YAAI,IAAAzG,EAAAA,EAAI,I,EC7L9B,MAAM6hB,GAAc,IAAI3B,GAOxB,SAAS4B,GAAiBre,EAAiBse,GACzC,OAAKviB,EAASiE,IAAaA,EACpBse,EAAc,KAAKte,oBAA4B,KAAKA,qBADhB,EAE7C,CAGA,MAAMue,GAMJC,qBAAAA,CAAuBC,EAAiCX,GACtD,MAAM9d,EAAW+D,KAAa/D,QAE1BA,IACFye,EAAGC,aAAe1e,EAClBye,EAAGE,iBAAmBb,GAExBM,GAAYP,GAAG,SAAUY,EAAIX,E,CAO/Bc,wBAAAA,CAA0BH,GACxBviB,EAAWuiB,IAAOL,GAAYL,IAAI,SAAUU,E,CAO9CI,aAAAA,CACE7b,EACAwa,EACApY,GAGAD,KAEAiZ,GAAYF,SACV,SACAlb,GACCka,GAAsBhhB,EAAWshB,IAAaA,EAASN,IACxD9X,E,CAIJ0Z,kBAAAA,CACE9b,EACAwa,GAEAzZ,KAAK8a,cAAc7b,EAAMwa,GAAU,E,CAMrCuB,aAAAA,GACE,OAAOX,GAAYD,QAAQ,S,CAM7Ba,eAAAA,GACEZ,GAAYH,UAAU,S,CAQxBgB,uBAAAA,GACE,MAAMjf,EAAW+D,KAAa/D,QACxBgd,EAAYoB,GAAY1B,UAAUhV,IAAI,UAC5C,GAAIsV,EACF,IAAK,MAAMyB,KAAMzB,EAAUK,WAEtBrd,GAAWA,IAAYye,EAAGC,eACzB1e,IAAWye,EAAGC,eAEhB1B,EAAUK,UAAUhW,OAAOoX,E,QAQxBS,WAA8BX,GAOzCY,eAAAA,CAAiBnf,EAAiBye,EAAsBX,GACtDM,GAAYP,GAAGQ,GAAgBxc,EAAc7B,IAAU,GAAQye,EAAIX,E,CAQrEsB,kBAAAA,CAAoBpf,EAAiBye,GACnCviB,EAAWuiB,IAAOL,GAAYL,IAAIM,GAAgBxc,EAAc7B,IAAU,GAAQye,E,CAQpFN,OAAAA,CAASne,EAAiBse,GAAc,GACtC,OAAOF,GAAYD,QAAQE,GAAgBxc,EAAc7B,GAAUse,G,CAQrEe,OAAAA,CACErf,EACAgD,EACAwa,EACApY,GAEAgZ,GAAYF,SACVG,GAAgBxc,EAAc7B,IAAU,GACxCgD,GACCka,GAAsBhhB,EAAWshB,IAAaA,EAASN,IACxD9X,E,CAIJka,YAAAA,CACEtf,EACAgD,EACAwa,GAEAzZ,KAAKsb,QAAQrf,EAASgD,EAAMwa,GAAU,E,CAQxCS,SAAAA,CAAWje,EAAiBse,GAAc,GACxCF,GAAYH,UAAUI,GAAgBxc,EAAc7B,GAAUse,G,CAOhEiB,iBAAAA,CAAmBvf,GACjBoe,GAAYL,IAAIM,GAAgBxc,EAAc7B,IAAU,G,QAK/Cwf,WAA+BjB,GAO1C3hB,WAAAA,CAAaoD,GACXyf,QACA1b,KAAK/D,QAAU6B,EAAc7B,IAC5B+D,KAAK/D,SAAWF,EAAS,mBAAmBE,I,CAQ/Cmf,eAAAA,CAAiBV,EAAiCX,GAChDW,EAAGE,iBAAmBb,EACtBM,GAAYP,GAAGQ,GAAgBta,KAAK/D,SAAS,GAAOye,EAAIX,E,CAO1DsB,kBAAAA,CAAoBX,GAClBviB,EAAWuiB,IAAOL,GAAYL,IAAIM,GAAgBta,KAAK/D,SAAS,GAAOye,E,CAMzEN,OAAAA,CAASG,GAAc,GACrB,OAAOF,GAAYD,QAAQE,GAAgBta,KAAK/D,QAASse,G,CAO3DJ,QAAAA,CAAUlb,EAAoCwa,EAA6BpY,GACzED,KAEAiZ,GAAYF,SACVG,GAAgBta,KAAK/D,SAAS,GAC9BgD,GACCka,GAAsBhhB,EAAWshB,IAAaA,EAASN,IACxD9X,GACA,KACE,MAAM+E,EAAMuV,GAAehY,IAAI3D,KAAK/D,SACpC,IAAO,OAAHmK,QAAG,IAAHA,OAAG,EAAHA,EAAKN,YAAa1N,EAAc6G,GAAO,CACzC,MAAMwG,EAAQ,IAAIM,YAAY,aAAc,CAC1CF,OAAQ,CACN5G,KAAMob,GAAYD,QAAQE,GAAgBta,KAAK/D,SAAS,OAI5D8F,GAAiBqE,EAAIN,WAAWI,cAAcT,E,KAKtDmW,aAAAA,CAAe3c,EAAoCwa,GACjDzZ,KAAKma,SAASlb,EAAMwa,GAAU,E,CAOhCS,SAAAA,CAAWK,GAAc,GACvBF,GAAYH,UAAUI,GAAgBta,KAAK/D,QAASse,G,CAMtDiB,iBAAAA,GACEnB,GAAYL,IAAIM,GAAgBta,KAAK/D,SAAS,G,WASlC4f,GAA0BC,G,QACxC,GAAIA,EAAqB,CACvBA,EAAoBC,iBAAmB,CACrCvlB,OAAQ,IAAI0M,IAAwC,QAArC1K,EAACsjB,EAAoBC,wBAAgB,IAAAvjB,OAAA,EAAAA,EAAEhC,QACtDwlB,OAAQ,IAAI9Y,IAAwC,QAArC+R,EAAC6G,EAAoBC,wBAAgB,IAAA9G,OAAA,EAAAA,EAAE+G,SAGxD,MAAMC,EAAkB5B,GAAY1B,UAAUhV,IAAI,UAClD,GAAIsY,EACF,IAAK,MAAMvB,KAAMuB,EAAgB3C,UAC3BwC,EAAoB7f,UAAYye,EAAGC,cACrCmB,EAAoBC,iBAAiBvlB,OAAO2M,IAAIuX,GAKtD,MAAMwB,EAAkB7B,GAAY1B,UAAUhV,IAAI2W,GAAgBwB,EAAoB7f,SAAS,IAC/F,GAAIigB,EACF,IAAK,MAAMxB,KAAMwB,EAAgB5C,UAC/BwC,EAAoBC,iBAAiBC,OAAO7Y,IAAIuX,E,CAIxD,C,SAMgByB,GAA2BL,GAEzC,GAAuB,OAAnBA,QAAmB,IAAnBA,OAAmB,EAAnBA,EAAqBC,iBAAkB,CACzC,IAAK,MAAMrB,KAAMoB,EAAoBC,iBAAiBvlB,OACpDslB,EAAoBrB,sBAAsBC,EAAIA,EAAGE,kBAGnD,IAAK,MAAMF,KAAMoB,EAAoBC,iBAAiBC,OACpDF,EAAoBV,gBAAgBV,EAAIA,EAAGE,kBAG7CwB,GAAwBN,E,CAE5B,C,SAMgBM,GAAyBN,GACb,OAAnBA,QAAmB,IAAnBA,UAAAA,EAAqBC,gBAC9B,C,MC5TaM,GAAbxjB,WAAAA,GAGU,KAAA8iB,eAAiBA,E,CAElB,kBAAO/U,GAIZ,OAHK5G,KAAKgF,WACRhF,KAAKgF,SAAW,IAAIqX,IAEfrc,KAAKgF,Q,CAGPrB,GAAAA,CAAK1H,GACV,OAAO+D,KAAK2b,eAAehY,IAAI1H,E,CAG1ByH,GAAAA,CAAKzH,EAAiBmK,GAC3BpG,KAAK2b,eAAejY,IAAIzH,EAASmK,E,CAG5BkW,MAAAA,GACL,OAAOzlB,MAAM6Z,KAAK1Q,KAAK2b,eAAeY,S,CAGjCtC,KAAAA,GACLja,KAAK2b,eAAe1B,O,ECjCxB,SAASuC,KACPC,KAEAJ,GAAWzV,cAAc0V,SAASxd,SAAQsH,IAExCA,EAAIN,WAAa/D,GAAiBqE,EAAIN,WAAW4W,sBAAsB,KAGxEpmB,OAAOqmB,wBAA0BN,GAAWzV,cAAcqT,OAC7D,CAGA,SAASwC,KACHnmB,OAAOsmB,2BACTtmB,OAAOumB,oBAAoB,UAAWL,IAAkB,EAE5D,C,SAIgBM,KACVxmB,OAAOsmB,4BACTH,KACAnmB,OAAOymB,iBAAiB,UAAWP,IAAkB,GAEzD,CCnBA,SAASQ,GAAmBtlB,GAC1B,OAAIO,EAAUP,EAAMulB,iCAAyCvlB,EAAMulB,gCAC5DvlB,EAAMulB,gCAAkC1kB,EAAgBb,EACjE,CAEA,SAASwlB,GAAuBxlB,GAC9B,OAAIO,EAAUP,EAAMylB,8BAAsCzlB,EAAMylB,6BACzDzlB,EAAMylB,6BAA+BxkB,EAAcjB,EAC5D,C,SAGwB0lB,GAAkD1lB,EAAY2lB,EAAcxb,EAAM,UASxG,GAAI1J,EAAWT,KAAWwlB,GAAsBxlB,KAAWslB,GAAkBtlB,IAAUA,EAAMoF,KAAM,CACjG,MAAMwgB,EAAW,qBAAqBzb,eACtC,GAAInK,EAAM4lB,GAAW,OAAO5lB,EAAM4lB,GAElC,MAAMC,EAAqB7lB,EAAMoF,KAAKugB,GAEtC,IAAK,MAAMxb,KAAOnK,EAChB6lB,EAAmB1b,GAAOnK,EAAMmK,GAYlC,OATInK,EAAMF,eAAe,cACvBR,EAAkBumB,EAAoB,YAAa,CACjD7lB,MAAOA,EAAML,UACb+f,cAAc,EACdoG,YAAY,EACZC,UAAU,IAIP/lB,EAAM4lB,GAAYC,C,CAG3B,OAAO7lB,CACT,C,MC/BagmB,GACX7kB,WAAAA,CAAaoD,EAAiBoB,GAOvB,KAAAsgB,sBAAuC,CAC5C,YAIK,KAAAC,uBAAwC,CAC7C,SACA,gBAIK,KAAAC,sBAAuC,CAC5C,eACA,mBACA,MAEA,aACA,gBAMK,KAAAC,gBAAiCjnB,MAAM6Z,KAAK1Q,KAAK6d,uBAEjD,KAAAE,iBAAkC,GAElC,KAAAC,aAAe,IAAI9a,IAEnB,KAAA+a,WAAa,IAAI/a,IAnCtBlD,KAAK/D,QAAUA,EACf+D,KAAK3C,IAAMA,EACX2C,KAAKke,wB,CAwCCA,sBAAAA,GACNpF,C,QAoBSqF,I,SAGGC,KACV5O,GAAU7R,UAAU0gB,iBAAgB7O,GAAU7R,UAAU0gB,gBAAiB,EAC/E,C,SAwBgBC,GACdxY,EACA7J,GAEA,MAAMic,EAAWrhB,MAAM6Z,KAAK5K,EAAUyY,YAEtCrG,EAASnf,QAAUmf,EAASpZ,SAASqZ,IACnCmG,GAAiBnG,EAAOlc,EAAQ,IAGlCuiB,GAAkB1Y,EAAW7J,EAC/B,C,SAQgBuiB,GAAuBC,EAASxiB,G,QAC9C,GACEA,GACAxC,EAAOglB,IACPA,EAAK/c,qBAAuBzF,IAC3BwiB,EAAK9c,mBACLb,KACD,CAMA,MAAM4d,EAA4B,CAChChd,mBAAoB,CAClB0V,cAAc,EACdoG,YAAY,EACZC,UAAU,EACV/lB,MAAOuE,IAGX,GAAIrC,EAAgB6kB,GAAO,CAEzB,MAAMzY,EAAWqW,GAAWzV,cAAcjD,IAAI1H,GAC1C+J,IACF0Y,EAAMrlB,KAAO,CACXsK,GAAAA,GACE,OAAO3D,KAAK8P,aAAa,O,EAE3BpM,GAAAA,CAAIhM,QACYI,IAAVJ,GAGJsI,KAAK2e,aAAa,OAAQjnB,E,IAuBlC,GAlBAR,EAAoBunB,EAAMC,GAkBtBE,GAAgB3iB,GAAU,CAC5B,MAAMyb,EAAkD,QAAvCzC,EAA8B,QAA9Bzc,EAAGmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAE8N,eAAO,IAAA2O,OAAA,EAAAA,EAAEyC,YACtDA,GACFxgB,EAAoBunB,EAAM,CACxBrgB,QAAS,CACPgZ,cAAc,EACdoG,YAAY,EACZ7Z,IAAKA,IAAM+T,EAAYpa,SAASjE,MAElCwlB,cAAe,CACbzH,cAAc,EACdoG,YAAY,EACZ7Z,IAAKA,IAAM8a,IAAS/G,EAAYnY,SAAWmY,EAAYnY,SAAW,MAEpE2R,WAAY4N,GACV7iB,EACAuT,GAAUuP,mBAEZC,YAAa,CACX5H,cAAc,EACdoG,YAAY,EACZC,UAAU,EACV/lB,MAAO,WACL,OAAOggB,EAAYnY,Q,MAQ/B,OAAOkf,CACT,C,SAOgBK,GACd7iB,EACAgjB,GAEA,MAAO,CACL7H,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,G,YACEzC,GAA8BjF,GAC9B,MAAMtB,EAAuC,QAAjCnC,EAAeymB,EAAetb,WAAG,IAAAnL,OAAA,EAAAA,EAAEb,KAAKqI,MAYpD,OAAIzF,EAAeI,KAAsC,QAA/Bsa,EAAI0G,GAAehY,IAAI1H,UAAQ,IAAAgZ,OAAA,EAAAA,EAAEnP,YACT,QAAzCoZ,GAAAlK,EAAAhP,GAASzE,SAAQ4d,gCAAwB,IAAAD,OAAA,EAAAA,EAAAvnB,KAAAqd,EAAGhV,KAAM/D,KAAYuT,GAAU/N,YAAY2d,KAEtFzkB,C,EAGb,C,SCpOgB0kB,GACdpjB,EACAsK,EACA+Y,GAEA,MAAM,cAAEC,EAAa,eAAEC,GAAmBC,GAAoBxjB,EAASqjB,GACjEI,EAAgBC,GAAoB1jB,EAASsjB,GAoBnD,OAnBAroB,EAAoBqP,EAAgB,CAClChH,SAAU,CACR6X,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GAEE,OAAO4b,C,GAGXK,SAAU,CACRxI,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GAEE,OAAO+b,C,KAKNF,CACT,CAKA,SAASC,GACPxjB,EACAqjB,GAKA,MAAMO,EAAmB,IAAIpc,IACvBqc,EAAsB,IAAIrc,IAChC,IAAIsc,EAA0B,KAC1BC,EAA6B,KACjC,MAAM,YACJve,EAAW,iBACXwe,EAAgB,mBAChBC,EAAkB,oBAClBC,EAAmB,uBACnBC,GACE5Q,GAEJ,SAAShQ,EACPhG,EACA+H,GAEA,MAAMC,EAAUye,EAAiBtoB,KAAK8J,EAAajI,EAAS+H,GAC5D,OAAOid,GAAkBhd,EAASvF,E,CAGpC,SAASokB,EACPC,EACA7nB,EACA8I,GAEA,MAAMC,EAAU0e,EAAmBvoB,KAAK8J,EAAa6e,EAAc7nB,EAAM8I,GACzE,OAAOid,GAAkBhd,EAASvF,E,CASpC,SAAS8gB,EACP1X,EACAkb,EACAhf,GAEA,MAAMif,EAAeX,EAAiBlc,IAAI0B,GACtCmb,EACFA,EAAard,IAAIod,GAEjBV,EAAiBnc,IAAI2B,EAAM,IAAInC,IAAI,CAACqd,KAEtCA,IAAaA,EAASE,2BAA6Blf,GACnD4e,EAAoBxoB,KAAK8J,EAAa4D,EAAMkb,EAAUhf,E,CAGxD,SAASsb,EACPxX,EACAkb,EACAhf,GAEA,MAAMif,EAAeX,EAAiBlc,IAAI0B,IAC1B,OAAZmb,QAAY,IAAZA,OAAY,EAAZA,EAAc/H,OAAQ+H,EAAand,IAAIkd,IACzCC,EAAald,OAAOid,GAEtBH,EAAuBzoB,KAAK8J,EAAa4D,EAAMkb,EAAUhf,E,CAI3D,MAAMiI,EAAQA,KACZsW,EAAoB7F,QACpB+F,EAAoB,IAAI,EAapBU,EAASA,KAKbV,EAAoBD,GAAkBC,EAGtCH,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,GAAImb,EAAa/H,KAAM,CACrB,MAAMkI,EAAYb,EAAoBnc,IAAI0B,IAAS,GACnDya,EAAoBpc,IAAI2B,EAAM,IAAInC,IAAI,IAAIyd,KAAcH,I,IAE1D,EAIEI,EAAUA,KAEVZ,IAAsBD,IAAgBR,EAAcsB,QAAUb,GAGlEF,EAAoBhhB,SAAQ,CAAC0hB,EAAcnb,KACzC,IAAK,MAAMkb,KAAYC,EACrBjB,EAAcxC,iBAAiB1X,EAAMkb,EAAkB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUE,2B,IAI7DjX,GAAO,EAIHsX,EAAUA,KAEV3oB,EAAW4nB,IACbK,EAAuBzoB,KAAK8J,EAAa,QAASse,GAEpDA,EAAiB,KAGbF,EAAiBpH,OACnBoH,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,IAAK,MAAMkb,KAAYC,EACrBJ,EAAuBzoB,KAAK8J,EAAa4D,EAAMkb,E,IAGnDV,EAAiB5F,Q,EAIf8G,EAAwBA,K,MAE5B,MAAMC,EAAoB,IAAIvd,IAAI,CAChC,CAAC,UAAY/L,IACPS,EAAW4nB,IACbK,EAAuBzoB,KAAK8J,EAAa,QAASse,GAAgB,GAGhE5nB,EAAWT,IACbyoB,EAAoBxoB,KAAK8J,EAAa,QAAS/J,GAAO,GAExDqoB,EAAiBroB,CAAK,KAIpBupB,GAA2C,QAAhBzoB,EAAAwN,GAASzE,eAAO,IAAA/I,OAAA,EAAAA,EAAEyoB,2BAA4B,IAAIxd,IAE7Eyd,EAA2B,IAAIzd,IAAI,IACpCud,KACAC,IAEL,OAAOC,CAAwB,EAG3BA,EAA2BH,IAE3BxB,EAAgB,IAAI4B,MAAM1f,EAAa,CAC3CkC,IAAKA,CAAC9L,EAAkBgK,K,MAGtB,OAFAhB,GAA2B5E,GAEf,kBAAR4F,EAAgCrC,EACxB,oBAARqC,EAAkCwe,EAClCxe,IAAQuf,OAAOC,YAAoB,gBAC3B,gBAARxf,EAA8Byd,EAAQ5H,YAC9B,YAAR7V,EAA0Bke,EAClB,qBAARle,EAAmCkb,EAC3B,wBAARlb,EAAsCgb,EAC9B,oBAARhb,EAA6D,QAAlCrJ,EAAOmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEsN,UACvD,uBAARjE,EAAqC5F,EAClCmhB,GAAkCkE,QAAQ3d,IAAI9L,EAAQgK,GAAMJ,EAAa,WAAW,EAE7FiC,IAAKA,CAAC7L,EAAkBgK,EAAkBnK,KACxC,GAAIwpB,EAAyB7d,IAAIxB,GAAM,CACrC,MAAM0f,EAAgBL,EAAyBvd,IAAI9B,GACnD0f,EAAc7pB,E,KACG,oBAARmK,GAKTyf,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,GAE3B,OAAO,CAAI,IAIf,MAAO,CACL6nB,gBACAC,eAAgB,CACdhW,QACAkX,SACAE,UACAE,WAGN,CAQA,SAASnB,GAAqB1jB,EAAiBsjB,GAC7C,MAAM,YAAE9d,EAAW,gBAAE+f,GAAoBhS,GAEzC,MAAMkQ,EACJ,OAAQ0B,OAAOK,aAAc5pB,GAC3B,IAAIoN,EAAQpN,EACZ,MAAOoN,EAEL,GADAA,EAAQlO,OAAOmO,eAAeD,GAC1BA,IAAUya,EAAcroB,UAC1B,OAAO,EAGX,OACEQ,IAAW0nB,GACX1nB,aAAkB2pB,C,EA2BxB,OAbAzqB,OAAO2qB,eAAehC,EAAe8B,GAErCzqB,OAAO2qB,eAAehC,EAAcroB,UAAW,IAAI8pB,MAAMK,EAAgBnqB,UAAW,CAClFsM,GAAAA,CAAK9L,EAAkBgK,GAErB,OADAhB,GAA2B5E,GACpBmhB,GAAkCkE,QAAQ3d,IAAI9L,EAAQgK,GAAMJ,EAAa,W,EAElFiC,GAAAA,CAAK7L,EAAkBgK,EAAkBnK,GAEvC,OADA4pB,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,IAClB,C,KAIJgoB,CACT,C,SClRgBiC,GACd1lB,EACAsK,EACA+Y,GAIA,OAFAsC,GAAoBrb,GACpBsb,GAAkB5lB,EAASsK,EAAgB+Y,GACpCwC,GAAkBvb,EAAgBtK,EAC3C,CAOA,SAAS2lB,GACPrb,GAEA,MAAM5I,EAAY6R,GAAU7R,UAC5B5G,OAAO+B,oBAAoB6E,GACxBmC,QAAQ+B,GACA,MAAM7I,KAAK6I,KAASwQ,GAA8BhX,SAASwG,KAEnE/C,SAASuH,IACR,MAAM,WAAEmX,EAAU,SAAEC,EAAQ,IAAE/Z,GAAQ3M,OAAOogB,yBAAyBxZ,EAAW0I,IAAc,CAC7FmX,YAAY,EACZC,UAAU,GAEZzmB,EAAkBuP,EAAgBF,EAAW,CAC3CmX,aACApG,cAAc,EACdzT,IAAKA,IAAMhG,EAAU0I,GACrB3C,KAAa,OAAR+Z,QAAQ,IAARA,EAAAA,EAAc/Z,GACdhM,IAAYiG,EAAU0I,GAAa3O,CAAK,OACzCI,GACJ,GAER,CAQA,SAAS+pB,GACP5lB,EACAsK,EACA+Y,GAEA,MAAM3hB,EAAY6R,GAAU7R,UACtBokB,EAAsB,IAAIte,IAE1BiU,EAAc,IAAIyJ,MAAM5a,EAAgB,CAC5C5C,IAAKA,CAAC9L,EAA4BgK,KAChChB,GAA2B5E,GAEzBqlB,QAAQje,IAAIxL,EAAQgK,IACnB7J,EAAS6J,IAAQ,gBAAgB7I,KAAK6I,IACvCxG,EAASikB,EAAQxB,gBAAiBjc,IAE9BxG,EAASqX,GAAmB7Q,IAAMT,KAC/BkgB,QAAQ3d,IAAI9L,EAAQgK,IAGtBub,GAAwBkE,QAAQ3d,IAAIhG,EAAWkE,GAAMlE,IAE9D+F,IAAKA,CAAC7L,EAA4BgK,EAAkBnK,KAClD,GAAI2D,EAASikB,EAAQ3B,sBAAuB9b,GAC1Cyf,QAAQ5d,IAAI/F,EAAWkE,EAAKnK,QACvB,GAEJH,EAAkBI,KAAKE,EAAQgK,KAChCtK,EAAkBI,KAAKgG,EAAWkE,IACjCxG,EAASikB,EAAQxB,gBAAiBjc,GAe9Byf,QAAQje,IAAIxL,EAAQgK,KAAQxG,EAASikB,EAAQxB,gBAAiBjc,IACjEyd,EAAQtB,aAAa7a,IAAItB,GAE3Byf,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,OAjBzB,CACA,MAAMwf,EAAangB,OAAOogB,yBAAyBxZ,EAAWkE,IACxD,aAAEuV,EAAY,WAAEoG,EAAU,SAAEC,EAAQ,IAAE/Z,GAAQwT,EAEpDlgB,EAAkBa,EAAQgK,EAAK,CAC7BnK,QACA0f,eACAoG,aACAC,SAAkB,OAARA,QAAQ,IAARA,EAAAA,IAAc/Z,IAG1B4b,EAAQtB,aAAa7a,IAAItB,E,CAwB3B,OAbIxG,EAASikB,EAAQvB,iBAAkBlc,IAGjCxG,EAASikB,EAAQ1B,uBAAwB/b,KACxCyf,QAAQje,IAAI1F,EAAWkE,MAG3BxG,EAASikB,EAAQxB,gBAAiBjc,MAElCyf,QAAQje,IAAI1F,EAAWkE,IAAQyd,EAAQrB,WAAW9a,IAAItB,GACvDyf,QAAQ5d,IAAI/F,EAAWkE,EAAKnK,KAGvB,CAAI,EAEb2L,IAAKA,CAACxL,EAA4BgK,IAO5BxG,EAASikB,EAAQxB,gBAAiBjc,GAChCyd,EAAQtB,aAAa3a,IAAIxB,GACpByf,QAAQje,IAAIxL,EAAQgK,KAEpBhK,EAAOgK,GAEXyf,QAAQje,IAAIxL,EAAQgK,IAAQyf,QAAQje,IAAI1F,EAAWkE,GAG5DsV,yBAA0BA,CAACtf,EAA4BgK,KACrD,GAAItK,EAAkBI,KAAKE,EAAQgK,GAEjC,OADAkgB,EAAoBre,IAAI7B,EAAK,UACtB9K,OAAOogB,yBAAyBtf,EAAQgK,GAGjD,GAAItK,EAAkBI,KAAKgG,EAAWkE,GAAM,CAC1CkgB,EAAoBre,IAAI7B,EAAK,aAC7B,MAAMqV,EAAangB,OAAOogB,yBAAyBxZ,EAAWkE,GAI9D,OAHIqV,IAAeA,EAAWE,eAC5BF,EAAWE,cAAe,GAErBF,C,CAGO,EAGlBjgB,eAAgBA,CAACY,EAA4BgK,EAAkBnK,KAC7D,MAAMgZ,EAAOqR,EAAoBpe,IAAI9B,GACrC,MAAa,cAAT6O,EACK4Q,QAAQrqB,eAAe0G,EAAWkE,EAAKnK,GAEzC4pB,QAAQrqB,eAAeY,EAAQgK,EAAKnK,EAAM,EAGnDsqB,QAAUnqB,GACD+H,GAAO0hB,QAAQU,QAAQrkB,GAAWwU,OAAOmP,QAAQU,QAAQnqB,KAElEoqB,eAAgBA,CAACpqB,EAA4BgK,KACvCtK,EAAkBI,KAAKE,EAAQgK,KACjCyd,EAAQtB,aAAa3a,IAAIxB,IAAQyd,EAAQtB,aAAa1a,OAAOzB,GAC7Dyd,EAAQrB,WAAW5a,IAAIxB,IAAQyf,QAAQW,eAAetkB,EAAWkE,GAC1Dyf,QAAQW,eAAepqB,EAAQgK,MAM5Cyd,EAAQ5H,YAAcA,CACxB,CAMA,SAASoK,GAAmBvb,EAAoCtK,GAC9D,MAAM4jB,EAAmB,IAAIpc,IACvBqc,EAAsB,IAAIrc,IAC1Bye,EAAgB,IAAIze,IACpB0e,EAAe,IAAI1e,KACnB,UACJ9F,EAAS,oBACTwiB,EAAmB,uBACnBC,EAAsB,iBACtBgC,EAAgB,eAChBC,EAAc,cACdC,EAAa,iBACbC,EAAgB,gBAChBC,GACEhT,GAUJ,SAASiT,EAAgBpd,G,MACvB,OAAI4M,GAA2B5W,SAASgK,KAAoC,QAA/B7M,EAAImjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEsN,WACrE/D,GAAiB4Z,GAAehY,IAAI1H,GAAU6J,WAEhDnI,C,CAUT4I,EAAewW,iBAAmB,SAChC1X,EACAkb,EACAhf,GAEA8D,EAAOD,GAAgBC,EAAMpJ,GAC7B,MAAMukB,EAAeX,EAAiBlc,IAAI0B,GACtCmb,EACFA,EAAard,IAAIod,GAEjBV,EAAiBnc,IAAI2B,EAAM,IAAInC,IAAI,CAACqd,KAEtCA,IAAaA,EAASE,2BAA6Blf,GACnD4e,EAAoBxoB,KAAK8qB,EAAepd,GAAOA,EAAMkb,EAAUhf,E,EAGjEgF,EAAesW,oBAAsB,SACnCxX,EACAkb,EACAhf,GAEA8D,EAAOD,GAAgBC,EAAMpJ,GAC7B,MAAMukB,EAAeX,EAAiBlc,IAAI0B,IAC1B,OAAZmb,QAAY,IAAZA,OAAY,EAAZA,EAAc/H,OAAQ+H,EAAand,IAAIkd,IACzCC,EAAald,OAAOid,GAEtBH,EAAuBzoB,KAAK8qB,EAAepd,GAAOA,EAAMkb,EAAUhf,E,EAGpEgF,EAAeL,cAAgB,SAAUT,GACvC,OAAO2c,EAAiBzqB,KAAK8qB,EAAoB,OAALhd,QAAK,IAALA,OAAK,EAALA,EAAOJ,MAAOI,E,EAG5Dc,EAAemc,YAAc,SAC3Btf,EACAuf,KACGjmB,GAEH,MAAMkmB,EAAaP,EAAe1qB,KAAKgG,EAAWyF,EAASuf,KAAYjmB,GAEvE,OADAwlB,EAAcxe,IAAIkf,EAAY,CAAExf,UAASuf,UAASjmB,SAC3CkmB,C,EAGTrc,EAAetJ,WAAa,SAC1BmG,EACAuf,KACGjmB,GAEH,MAAMmmB,EAAYP,EAAc3qB,KAAKgG,EAAWyF,EAASuf,KAAYjmB,GAErE,OADAylB,EAAaze,IAAImf,EAAW,CAAEzf,UAASuf,UAASjmB,SACzCmmB,C,EAGTtc,EAAeuc,cAAgB,SAAUF,GACvCV,EAAc5e,OAAOsf,GACrBL,EAAiB5qB,KAAKgG,EAAWilB,E,EAGnCrc,EAAewc,aAAe,SAAUF,GACtCV,EAAa7e,OAAOuf,GACpBL,EAAgB7qB,KAAKgG,EAAWklB,E,EAIlC,MAAMrZ,EAAQA,KACZsW,EAAoB7F,OAAO,EAavByG,EAASA,KAEbb,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,GAAImb,EAAa/H,KAAM,CACrB,MAAMkI,EAAYb,EAAoBnc,IAAI0B,IAAS,GACnDya,EAAoBpc,IAAI2B,EAAM,IAAInC,IAAI,IAAIyd,KAAcH,I,IAE1D,EAIEI,EAAUA,KAEdd,EAAoBhhB,SAAQ,CAAC0hB,EAAcnb,KACzC,IAAK,MAAMkb,KAAYC,EACrBja,EAAewW,iBAAiB1X,EAAMkb,EAAkB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUE,2B,IAI9DjX,GAAO,EAIHsX,EAAWkC,IAEXnD,EAAiBpH,OACnBoH,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,IAAK,MAAMkb,KAAYC,EACrBJ,EAAuBzoB,KAAK8qB,EAAepd,GAAOA,EAAMkb,E,IAG5DV,EAAiB5F,SAIf+I,IACFd,EAAcpjB,SAAQ,CAAC6L,EAAGiY,KACxBL,EAAiB5qB,KAAKgG,EAAWilB,EAAW,IAG9CT,EAAarjB,SAAQ,CAAC6L,EAAGkY,KACvBL,EAAgB7qB,KAAKgG,EAAWklB,EAAU,IAG5CX,EAAcjI,QACdkI,EAAalI,Q,EAIjB,MAAO,CACLzQ,QACAkX,SACAE,UACAE,UAEJ,C,SC7VgBmC,GACdhnB,EACAinB,EACAC,GAGA,MAAMC,EAAW5T,GAAU7R,UAAU0lB,QAAQC,MACvCC,EAAuF,CAC3FC,oBAAqB1sB,EAAO,CAAC,EAAW,OAARssB,QAAQ,IAARA,OAAQ,EAARA,EAAUI,oBAAqB,CAC7D,CAACvnB,GAAU,CACT2B,SAAUulB,EAAiBA,EAAejoB,SAAWioB,EAAezlB,OAASylB,EAAeM,KAAO,KACnGH,MAAiB,OAAVJ,QAAU,IAAVA,EAAAA,EAAc,KACrBQ,KAAMC,GAAc1nB,OAM1B,OAAOnF,EAAO,CAAC,EAAGssB,EAAUG,EAC9B,C,SAGgBK,GAAkB3nB,EAAiBmnB,GAUjD,OATIhrB,EAAsB,OAARgrB,QAAQ,IAARA,OAAQ,EAARA,EAAUI,uBACrB5rB,EAAYwrB,EAASI,oBAAoBvnB,YACrCmnB,EAASI,oBAAoBvnB,GAEjClF,OAAOwO,KAAK6d,EAASI,qBAAqBzqB,eACtCqqB,EAASI,qBAIZle,GAAc8d,GAAmC,KAAvBtsB,EAAO,CAAC,EAAGssB,EAC/C,C,SAGgBS,GAAe5nB,G,QAC7B,MAAMmnB,EAAW5T,GAAU7R,UAAU0lB,QAAQC,MAC7C,OAA8C,QAAvCrO,EAA6B,QAA7Bzc,EAAQ,OAAR4qB,QAAQ,IAARA,OAAQ,EAARA,EAAUI,2BAAmB,IAAAhrB,OAAA,EAAAA,EAAGyD,UAAO,IAAAgZ,OAAA,EAAAA,EAAGqO,QAAS,IAC5D,C,SAGgBQ,GAAyB7nB,G,MACvC,MAAMmnB,EAAW5T,GAAU7R,UAAU0lB,QAAQC,MAC7C,OAAoC,QAA7B9qB,EAAQ,OAAR4qB,QAAQ,IAARA,OAAQ,EAARA,EAAUI,2BAAmB,IAAAhrB,OAAA,EAAAA,EAAGyD,KAAY,IACrD,CAEA,MAAM8nB,GAAY,KACZC,GAAY,KACZC,GAAY,OACZC,GAAY,O,SAGFC,GAAiBppB,GAC/B,OAAOwR,mBAAmB6X,GAAarpB,GAAMgD,QAAQgmB,GAAW,OAAOhmB,QAAQimB,GAAW,OAC5F,C,SAGgBK,GAAiBtpB,GAC/B,OAAOqpB,GAAarpB,GAAMgD,QAAQkmB,GAAW,KAAKlmB,QAAQmmB,GAAW,IACvE,CAGA,SAASE,GAAcrpB,GACrB,IACE,MAAMupB,EAAU/a,mBAAmBxO,GACnC,OAAIA,IAASupB,GAAWL,GAAUjrB,KAAKsrB,IAAYJ,GAAUlrB,KAAKsrB,GAAiBA,EAC5EF,GAAaE,E,CACpB,MAAA9rB,GACA,OAAOuC,C,CAEX,CAGA,SAASwpB,GAAoBtoB,GAE3B,OAAOA,CACT,C,SAMgBuoB,GAAqBvoB,G,YACnC,MAAMwoB,EAAcjV,GAAU7R,UAAUL,SAClC8lB,EAAW5T,GAAU7R,UAAU0lB,QAAQC,MAC7C,GAAIoB,GAAmBzoB,GAAU,CAC/B,MAAM6G,EAAc6hB,GAAsBF,EAAY/mB,OAAQ+mB,EAAYhB,MACpEmB,GAAiC,QAArBpsB,EAAAsK,EAAY+hB,iBAAS,IAAArsB,OAAA,EAAAA,EAAG+rB,GAAmBtoB,OAAoC,QAA5BgZ,EAAKnS,EAAYgiB,mBAAW,IAAA7P,OAAA,EAAAA,EAAGsP,GAAmBtoB,KACvH,OAAOjE,EAAS4sB,GAAaP,GAAgBO,GAAa,I,CAsB5D,OAA8C,QAAvC1F,EAA6B,QAA7BlK,EAAQ,OAARoO,QAAQ,IAARA,OAAQ,EAARA,EAAUI,2BAAmB,IAAAxO,OAAA,EAAAA,EAAG/Y,UAAO,IAAAijB,OAAA,EAAAA,EAAGthB,YAAamnB,GAAmB9oB,GAAWwoB,EAAYvpB,SAAWupB,EAAY/mB,OAAS+mB,EAAYhB,KAAO,KAC7J,C,SAOgBuB,GAAmB/oB,EAAiBknB,GAClD,MAAMsB,EAAcjV,GAAU7R,UAAUL,SACxC,IAAI2nB,EAAiB9B,EAAejoB,SAAWioB,EAAezlB,OAASylB,EAAeM,KAClFyB,GAAgB,EACpB,GAAIR,GAAmBzoB,GAAU,CAC/B,IAAI,SAAEf,EAAQ,OAAEwC,EAAM,KAAE+lB,GAASgB,EACjC,MAAM3hB,EAAc6hB,GAAsBjnB,EAAQ+lB,GAC5C0B,EAAmBhB,GAAgBc,GAOzC,GAAIxB,IAAS/lB,EAAQ,CACnBwnB,GAAgB,EAEZpiB,EAAY+hB,UACd/hB,EAAY+hB,UAAUN,GAAmBtoB,IAAYkpB,EAErDriB,EAAY+hB,UAAY,CACtB,CAACN,GAAmBtoB,IAAWkpB,GAGnC,MAAMC,EAAW3B,EAAKpoB,SAAS,KAAOooB,EAAK/gB,MAAM,EAAG+gB,EAAK/qB,QAAQ,KAAO,GAAK+qB,EAAO,IACpFA,EAAO2B,EAAWviB,GAAeC,EAAY+hB,U,MAEzC/hB,EAAYgiB,YACdhiB,EAAYgiB,YAAYP,GAAmBtoB,IAAYkpB,EAEvDriB,EAAYgiB,YAAc,CACxB,CAACP,GAAmBtoB,IAAWkpB,GAGnCznB,EAAS,IAAMmF,GAAeC,EAAYgiB,aAG5C,MAAO,CACLlnB,SAAU1C,EAAWwC,EAAS+lB,EAC9ByB,gB,CAQJ,OAJIG,GAAkBppB,IAAYqpB,GAAiBrpB,MACjDgpB,EAAiBR,EAAYvpB,SAAWupB,EAAY/mB,OAAS+mB,EAAYhB,MAGpE,CACL7lB,SAAUqnB,EACVC,gBAEJ,C,SAMgBK,GAAwBtpB,G,YACtC,IAAI,SAAEf,EAAQ,OAAEwC,EAAM,KAAE+lB,GAASjU,GAAU7R,UAAUL,SACjD4nB,GAAgB,EAEpB,GAAIR,GAAmBzoB,GAAU,CAC/B,MAAM6G,EAAc6hB,GAAsBjnB,EAAQ+lB,GAClD,GAAyB,QAAzBjrB,EAAIsK,EAAY+hB,iBAAS,IAAArsB,OAAA,EAAAA,EAAG+rB,GAAmBtoB,IAAW,CACxDipB,GAAgB,EACY,QAA5BjQ,EAAOnS,EAAY+hB,iBAAS,IAAA5P,UAAAA,EAAGsP,GAAmBtoB,IAClD,MAAMupB,EAAe3iB,GAAeC,EAAY+hB,WAChDpB,EAAOA,EAAK/gB,MAAM,EAAG+gB,EAAK/qB,QAAQ,KAAO+sB,OAAOC,QAAQF,KAAkBA,C,MACrE,GAA2B,QAA3BxQ,EAAIlS,EAAYgiB,mBAAW,IAAA9P,OAAA,EAAAA,EAAGuP,GAAmBtoB,IAAW,CACnC,QAA9BijB,EAAOpc,EAAYgiB,mBAAW,IAAA5F,UAAAA,EAAGqF,GAAmBtoB,IACpD,MAAM0pB,EAAiB9iB,GAAeC,EAAYgiB,aAClDpnB,EAASioB,EAAiB,IAAMA,EAAiB,E,EAIrD,MAAO,CACL/nB,SAAU1C,EAAWwC,EAAS+lB,EAC9ByB,gBAEJ,CAKA,SAASP,GAAuBjnB,EAAgB+lB,GAC9C,MAAM3gB,EAA6B,CAAC,EAUpC,MARe,KAAXpF,GAA4B,MAAXA,IACnBoF,EAAYgiB,YAAcxiB,GAAW5E,EAAOgF,MAAM,KAGhD+gB,EAAKpoB,SAAS,OAChByH,EAAY+hB,UAAYviB,GAAWmhB,EAAK/gB,MAAM+gB,EAAK/qB,QAAQ,KAAO,KAG7DoK,CACT,C,SAKgB8iB,GAA2B3pB,EAAiB4pB,GAC1D,MAAMjB,EAAYJ,GAAoBvoB,GACtC,IAAK2oB,EAAW,MAAO,GACvB,MAAMkB,EAAiB7qB,EAAU2pB,EAAWiB,GAC5C,OAAOC,EAAeroB,OAASqoB,EAAe5qB,SAAW4qB,EAAepoB,MAC1E,C,SAUgBqoB,GAAgB9pB,GAC9B,MAAMmK,EAAMuV,GAAehY,IAAI1H,GAO/B,SAAUmK,GAAQA,EAAIoP,WACxB,CAMA,SAASmO,GAAe1nB,G,MACtB,OAAkC,QAAlCzD,EAAOmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEwtB,UACtC,C,SAGgBtB,GAAoBzoB,GAClC,OAAO0nB,GAAc1nB,KAAa0V,EACpC,C,SAGgB0T,GAAmBppB,GACjC,OAAO0nB,GAAc1nB,KAAayV,EACpC,C,SAGgBuU,GAAoBhqB,GAClC,OAAO0nB,GAAc1nB,KAAa2V,EACpC,C,SAGgBsU,GAAyBjqB,GACvC,OAAO0nB,GAAc1nB,KAAa4V,EACpC,C,SAGgByT,GAAkBrpB,GAChC,OAAO0nB,GAAc1nB,KAAa6V,EACpC,C,SAKgBiT,GAAoB9oB,GAClC,OAAOgqB,GAAmBhqB,IAAYiqB,GAAwBjqB,EAChE,C,SAWgBkqB,GACdzC,EACA0C,GAQA,MAAMJ,EACHI,GAA6BxU,IAC9B8R,GACC1d,GAASzE,QAAQ,0BAA4BqQ,IAC9C5L,GAASzE,QAAQ,gBACjBoQ,GAEF,OAAOI,GAAiB1W,SAAS2qB,GAAcA,EAAarU,EAC9D,C,SCnTgB0U,GAAoBpqB,GAClC,MAAM0B,EAAY6R,GAAU7R,UAEtB2oB,EAAqCzoB,I,UAKzC,GACE0oB,GAAc,CACZC,kBAAkB,EAClBC,kBAAkB,IACjBprB,SAASY,KACX4B,EAAE6oB,kBAmBA3B,GAAmB9oB,KACnBuT,GAAU7R,UAAU0lB,QAAQC,OAC7BQ,GAAwB7nB,IACxB,CACA,MAAM6J,EAAuC,QAA9BtN,EAAGmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEsN,UAC/C/I,GACE,IAAM4pB,GAA6B1qB,EAASuoB,GAAoBvoB,KACD,QADU+Y,EAC/B,QAD+BC,EACxEnP,GAAa/D,GAAiB+D,UAAW,IAAAmP,OAAA,EAAAA,EAAE2R,6BAAmB,IAAA5R,EAAAA,EAAM,E,GAQ7E,OAFArX,EAAUof,iBAAiB,WAAYuJ,GAEhC,KACL3oB,EAAUkf,oBAAoB,WAAYyJ,EAAgB,CAE9D,C,SAUgBK,GACd1qB,EACAgpB,GAEA,MAAM7e,EAAMuV,GAAehY,IAAI1H,GAC/B,GAAO,OAAHmK,QAAG,IAAHA,OAAG,EAAHA,EAAKE,QAAS,CAChB,MAAMoR,EAActR,EAAIE,QAAQoR,YAC1BnR,EAAiBH,EAAIE,QAAQC,eACnC,IAAIsgB,GAAe,EAEnB,MAAMC,EAAUpP,EAAYpa,SAASjE,KAErC,GAAI4rB,EAAgB,CAClB,MAAM8B,EAAUrP,EAAYpa,SAASmmB,KACrCuD,GAAoB/qB,EAASgpB,EAAgB1e,EAAejJ,UAC5DupB,EAAenP,EAAYpa,SAASmmB,OAASsD,C,CAI/CE,GAAgChrB,EAASyb,EAAanR,GAGlDsgB,GAAcK,GAAkCjrB,EAASyb,EAAanR,EAAgBugB,GAG1F1lB,I,CAEJ,C,SAQgB6lB,GACdhrB,EACAyb,EACAnR,GAkBA,MAAM4gB,EAAmB,IAAIC,cAC3B,WACA,CAAE9D,MAAOO,GAAc5nB,KAGzBsK,EAAeL,cAAcihB,GAExBvI,GAAgB3iB,IAEnB9D,EAAWuf,EAAY2P,aAAe3P,EAAY2P,WAAWF,EAEjE,C,SAQgBD,GACdjrB,EACAyb,EACAnR,EACAugB,GAEA,MAAMQ,EAAqB,IAAIC,gBAC7B,aACA,CACEC,OAAQ9P,EAAYpa,SAASjE,KAC7BouB,OAAQX,IAIZvgB,EAAeL,cAAcohB,GAExB1I,GAAgB3iB,IAEnB9D,EAAWuf,EAAYgQ,eAAiBhQ,EAAYgQ,aAAaJ,EAErE,CAMA,SAASK,GAA6BjB,GACpC,MAAMjhB,EAAQ,IAAI2hB,cAAc,WAAY,CAAE9D,MAAO,OACjDoD,IAAgBjhB,EAAMihB,gBAAiB,GAC3ClX,GAAU7R,UAAUuI,cAAcT,EACpC,CAMA,SAASmiB,GAA+Bd,GACtC,MAAMQ,EAAqB,IAAIC,gBAC7B,aACA,CACEC,OAAQhY,GAAU7R,UAAUL,SAASjE,KACrCouB,OAAQX,IAIZtX,GAAU7R,UAAUuI,cAAcohB,EACpC,C,SAQgBO,GACd5rB,EACAyqB,EACAI,GAGA1lB,KACI2kB,GAAe9pB,KACjB0rB,GAA4BjB,GACxBI,GACFc,GAA8Bd,GAGpC,C,SC5LgBgB,GAAoB7rB,EAAiB8rB,GACnD,MAAMC,EAAaxY,GAAU7R,UAAU0lB,QACvC,SAAS4E,EAAuBC,GAC9B,OAAO,YAAaC,G,UAElBA,EAAM,GAAKvwB,EAAYuwB,EAAM,KAAOpwB,EAAOowB,EAAM,KAAQ,GAAKA,EAAM,KAAO,GAAMJ,EAAc1uB,KAAO,GAAK8uB,EAAM,GACjH,MAAMhF,EAAiBloB,EAAUktB,EAAM,GAAIJ,EAAc1uB,MACnD4rB,EAAiB9B,EAAejoB,SAAWioB,EAAezlB,OAASylB,EAAeM,KACnF6B,GAAiBrpB,IACpBmsB,GACEnsB,EACAisB,EACAlD,GAAkB/oB,EAASknB,IAC3B,EACAF,GAAchnB,EAASksB,EAAM,GAAIhF,GACjCgF,EAAM,IAGNlD,IAAmB8C,EAAcnqB,UACnCopB,GAAoB/qB,EAASgpB,EAAgB8C,GAEM,QAArD/S,EAA2B,QAA3Bxc,EAAAmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,GAAAyc,EAAAzc,EAAE8N,SAAQ+hB,wBAAgB,IAAArT,GAAAA,EAAArd,KAAAsd,E,EAIzD,MAAMqT,EAAkB,CACtBC,UAAWN,EAAsB,aACjCO,aAAcP,EAAsB,iBAGtC,OAAIrJ,GAAgB3iB,GACXnF,EAAO,CACZ2xB,EAAAA,CAAIC,GACF,OAAOV,EAAWS,GAAGC,E,GAEtBJ,GAGE,IAAInH,MAAM6G,EAAY,CAC3BrkB,GAAAA,CAAK9L,EAAiBgK,GACpB,MAAY,cAARA,GAA+B,iBAARA,EAClBymB,EAAgBzmB,GACN,UAARA,EACFgiB,GAAc5nB,GAEhBmhB,GAAoDkE,QAAQ3d,IAAI9L,EAAQgK,GAAMhK,EAAQ,U,EAE/F6L,GAAAA,CAAK7L,EAAiBgK,EAAkBnK,GAWtC,MAVY,cAARmK,GAA+B,iBAARA,EACzBymB,EAAgBzmB,GAAOnK,EAEvB4pB,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,IAOpB,C,GAGb,C,SAUgBixB,GACd1sB,EACAisB,EACAtqB,EACA0lB,EAAiB,KACjBsF,EAAiB,IAEjB,GAAI7C,GAAe9pB,GAAU,CAC3B,MAAM4sB,EAAwB,cAAfX,EAA6B1Y,GAAUsZ,aAAetZ,GAAUuZ,gBAC/EF,EAAOlxB,KAAK6X,GAAU7R,UAAU0lB,QAASC,EAAOsF,EAAOhrB,E,CAE3D,C,SAkBgBwqB,GACdnsB,EACAisB,EACAvtB,EACA+rB,EACApD,EACAsF,GAEA,GAAI7C,GAAe9pB,GAAU,CAC3B,MAAMwoB,EAAcjV,GAAU7R,UAAUL,SAClC0rB,EAAcvE,EAAYvpB,SAAWupB,EAAY/mB,OAAS+mB,EAAYhB,KAEtEqD,EAAUnsB,EAAOuqB,eAAiB8D,IAAgBruB,EAAOiD,SAAW6mB,EAAYprB,KAAO,KAE7FsvB,GAAsB1sB,EAASisB,EAAYvtB,EAAOiD,SAAU0lB,EAAOsF,GAE/DI,IAAgBruB,EAAOiD,UAAY8mB,GAAmBzoB,IACxD4rB,GAAoB5rB,EAASyqB,EAAgBI,E,CAGnD,C,SASgBmC,GACdhtB,EACAtB,EACA2oB,GAEA8E,GAAwBnsB,EAAS,eAAgBtB,GAAQ,EAAM2oB,EACjE,CAOA,SAAS4F,GAAsBL,GAC7B,MAAMlrB,EAAY6R,GAAU7R,UAC5B,OAAO,YAAawqB,G,MAClB,IACyB,QAAvB3vB,EAAAmF,EAAU0lB,QAAQC,aAAK,IAAA9qB,OAAA,EAAAA,EAAEgrB,wBACvBprB,EAAc+vB,EAAM,MAAQA,EAAM,GAAG3E,uBACtCxrB,EAASmwB,EAAM,KAAOhvB,EAAMgvB,EAAM,KACnC,CACA,MAAMgB,EAAcxrB,EAAUL,SAASjE,KACjC8pB,EAAiBloB,EAAUktB,EAAM,GAAIgB,GACvChG,EAAe9pB,OAAS8vB,IAC1BhB,EAAM,GAAKrxB,EAAO,CAAC,EAAGqxB,EAAM,GAAI,CAC9B3E,oBAAqB7lB,EAAU0lB,QAAQC,MAAME,sB,CAKnDqF,EAAOO,MAAMzrB,EAAU0lB,QAAS8E,GAQhC5B,GAAc,CACZC,kBAAkB,EAClBC,kBAAkB,IACjB3nB,SAAQ7C,IACT,IAAKyoB,GAAmBzoB,IAAYopB,GAAkBppB,MAAcuoB,GAAoBvoB,GAAU,CAChG,MAAMmK,EAAMuV,GAAehY,IAAI1H,GAC/BgtB,GACEhtB,EACA+oB,GAAkB/oB,EAASmK,EAAIE,QAAQoR,YAAYpa,UACnD2lB,GAAchnB,EAAS4nB,GAAc5nB,GAAUmK,EAAIE,QAAQoR,YAAYpa,U,CAIvEynB,GAAmB9oB,KAAa6nB,GAAwB7nB,IAC1D0sB,GACE1sB,EACA,eACA0B,EAAUL,SAASjE,KACnB4pB,GAAchnB,G,IAkBpBmF,I,CAEJ,C,SAOgBioB,KACd,MAAM1rB,EAAY6R,GAAU7R,UAC5BA,EAAU0lB,QAAQkF,UAAYW,GAC5B1Z,GAAUsZ,cAEZnrB,EAAU0lB,QAAQmF,aAAeU,GAC/B1Z,GAAUuZ,gBAEd,C,SAEgBO,KACd,MAAM3rB,EAAY6R,GAAU7R,UAC5BA,EAAU0lB,QAAQkF,UAAY/Y,GAAUsZ,aACxCnrB,EAAU0lB,QAAQmF,aAAehZ,GAAUuZ,eAC7C,CCvNA,SAASQ,KAQP,SAASC,EACPvtB,EACAisB,EACA/E,EACAG,GAEA8E,GACEnsB,EACAisB,EACAlD,GACE/oB,EACAknB,IAEF,EACAF,GACEhnB,EACK,OAALqnB,QAAK,IAALA,EAAAA,EAAS,KACTH,IAIJ/hB,I,CAUF,SAASqoB,EACPxtB,EACAmK,EACAsjB,EACA3rB,GAEA,MAAMgqB,EAAgB3hB,EAAIE,QAASoR,YAAYpa,SACzC6lB,EAAiBloB,EAAUyuB,EAAG3uB,KAAMgtB,EAAc1uB,MAElDswB,EAAkB5B,EAAc7sB,SAAW6sB,EAAcrqB,OAASqqB,EAActE,KAChFwB,EAAiB9B,EAAejoB,SAAWioB,EAAezlB,OAASylB,EAAeM,KACxF,GAAIkG,IAAoB1E,GAAkBT,GAAoBvoB,KAAagpB,EAAgB,CAEzF,IAAKK,GAAiBrpB,GAAU,CAC9B,MAAMisB,EAAcnqB,IAA0B,IAAf2rB,EAAG3rB,UAAqC,IAAf2rB,EAAG3rB,QAAmB,eAAiB,YAC/FyrB,EAAuBvtB,EAASisB,EAAY/E,EAAgBuG,EAAGpG,M,CAG5DoB,GAAmBzoB,IACtB0qB,GAA6B1qB,EAASgpB,E,EAa5C,SAAS2E,EAAwB7rB,GAC/B,OAAO,SAAU2rB,GACf,OAAO,IAAI/sB,SAAQ,CAACC,EAASitB,KAC3B,MAAM5tB,EAAU6B,EAAc4rB,EAAGjxB,MACjC,GAAIwD,GAAWjE,EAAS0xB,EAAG3uB,MAazB,GAAIwrB,GAAc,CAAEC,kBAAkB,EAAMC,kBAAkB,IAAQprB,SAASY,GAAU,CACvF,MAAMmK,EAAMuV,GAAehY,IAAI1H,GAC/BW,EAAQwJ,EAAIE,QAAQwjB,aAAajtB,MAAK,IAAM4sB,EAAextB,EAASmK,EAAKsjB,EAAI3rB,K,MAE7E8rB,EAAO9tB,EAAS,8BAelB8tB,EAAO9tB,EAAS,gEAA+DgC,EAAU,UAAY,S,KAO7G,SAASgsB,EAAwB7B,GAC/B,OAAO,YAAaC,GAClB,OAAO3Y,GAAU7R,UAAU0lB,QAAQ6E,MAAeC,E,EAItD,MAAM6B,EAAehnB,KACfinB,EAAcjnB,KAapB,SAASknB,EACPjuB,EACAytB,EACAhZ,EACAyZ,GAGA/oB,KACA,IAAK,MAAMgpB,KAASD,EACdhyB,EAAWiyB,GACbA,EAAMV,EAAIhZ,EAAMzU,GACP7D,EAAcgyB,IAAUjyB,EAAYiyB,EAAwBnuB,KACrEmuB,EAAMnuB,GAASytB,EAAIhZ,E,CAWzB,SAAS2Z,EACPpuB,EACAytB,EACAhZ,GAEA4Z,EAAOC,QAAQ7mB,IAAIzH,EAASytB,GAE5BQ,EAAUjuB,EAASytB,EAAIhZ,EAAMsZ,EAAazmB,QAE1CrD,IAAoB,KAClBgqB,EAAUjuB,EAASytB,EAAIhZ,EAAMuZ,EAAY1mB,OAAO,G,CAIpD,SAASinB,EAAwBvuB,GAC/BquB,EAAOC,QAAQjnB,OAAOrH,E,CASxB,SAASwuB,EAA6BxuB,GACpC,GAAIyoB,GAAmBzoB,IAAYopB,GAAkBppB,GAAU,CAC7D,MAAMmK,EAAMuV,GAAehY,IAAI1H,GAC/BgtB,GACEhtB,EACA+oB,GAAkB/oB,EAASmK,EAAIE,QAAQoR,YAAYpa,UACnD2lB,GAAchnB,EAAS4nB,GAAc5nB,GAAUmK,EAAIE,QAAQoR,YAAYpa,U,EAS7E,SAASotB,EAAazuB,GACpBA,EAAU6B,EAAc7B,GACpBA,GAAWsqB,KAAgBlrB,SAASY,IACtCwuB,EAA4BxuB,E,CAShC,SAAS0uB,GAAgB,iBACvBC,GAAmB,EAAK,iBACxBC,GAAmB,IAEnBtE,GAAc,CACZC,kBAAmBoE,EACnBnE,kBAAmBoE,IAClB/rB,SAAQ7C,GAAWwuB,EAA4BxuB,I,CAGpD,SAAS6uB,IAEP,MAAMC,EAAoBvnB,KAS1B,SAASwnB,EAAgBzpB,GACvB,MAAMtF,EAAU6B,EAAcyD,EAAQ9I,MACtC,OAAKwD,GAAYsF,EAAQxG,KAWlBgwB,EAAkB5nB,IAAIlH,EAASsF,EAAQxG,MAHrCpE,C,CAMX,SAASs0B,EAAmBhvB,GAE1B,OADAA,EAAU6B,EAAc7B,KACnBA,GAEE8uB,EAAkBznB,OAAOrH,E,CAGlC,MAAO,CACL+uB,iBACAC,oBACAC,eAAgBH,EAAkBpnB,I,CAItC,SAASwnB,IAIP,IAAIC,EAA2B,KAC/B,SAASC,EAAkBC,GACrBjzB,EAASizB,KACXF,EAAkB,IAAIjK,MAAMmK,EAAY,CACtC3nB,GAAAA,CAAK9L,EAAiBgK,GAEpB,OADAT,KACOgc,GAAwBkE,QAAQ3d,IAAI9L,EAAQgK,GAAMhK,EAAQ,a,EAEnE6L,GAAAA,CAAK7L,EAAiBgK,EAAkBnK,GAEtC,OADA4pB,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,IAClB,C,KAQf,MAAO,CACL2zB,mBACAE,iBAAkBA,IAAMH,E,CAK5B,MAAMd,EAAMvzB,OAAAD,OAAAC,OAAAD,OAAA,CACVyzB,QAAS,IAAI9mB,IACb+nB,OAAQrH,GACRsH,OAAQpH,GACRzhB,KAAMgnB,GAAuB,GAC7B7rB,QAAS6rB,GAAuB,GAChCnB,GAAIsB,EAAuB,MAC3B2B,KAAM3B,EAAuB,QAC7B4B,QAAS5B,EAAuB,WAChC6B,WAAY5B,EAAa7mB,IACzB0oB,UAAW5B,EAAY9mB,IACvBunB,cACAC,kBACGG,KACAK,KAGL,MAAO,CACLb,SACAD,yBACAG,yBAEJ,CAEO,MAAM,OACXF,GAAM,uBACND,GAAsB,uBACtBG,IACEjB,KChVEuC,GAAmD,CAAC,OAAQ,WAAY,SAAU,OAAQ,OAAQ,WAAY,OAAQ,WAAY,UAElIC,GAAwD,IAAID,GAAc,SAAU,Y,SAY1EE,GACd/vB,EACAoB,EACAkJ,EACA0lB,EACAC,EACAC,GAEA,MAAMxuB,EAAY6R,GAAU7R,UACtB8mB,EAAc9mB,EAAUL,SACxB8uB,IAAa7lB,EAKb8lB,EAAepxB,EAAUoC,GAM/B,SAASivB,IACP,OAAOF,EAAW7lB,EAAejJ,SAAW+uB,C,CAU9C,SAASE,EAAe70B,EAAqBwwB,GAC3C,MAAM/E,EAAiBloB,EAAUvD,EAAO80B,EAAcnzB,MAEtD,GAAI8pB,EAAe1lB,SAAW+uB,EAAc/uB,OAAQ,CAClD,MAAMgvB,EAAqBzH,GAAkB/oB,EAASknB,GAEtD,IAAK4B,GAAmB9oB,GAAU,CAShC,GARAisB,EAAa5C,GAAiBrpB,GAAW,eAAiBisB,EASxD/E,EAAejoB,WAAasxB,EAActxB,UAC1CioB,EAAezlB,SAAW8uB,EAAc9uB,OACxC,CACA,IAAIopB,EAAU,KA2Bd,OAzBI3D,EAAeM,OAAS+I,EAAc/I,MAAQ6B,GAAiBrpB,MAE7DwwB,EAAmBvH,gBACrB4B,EAAUrC,EAAYprB,MAGnBisB,GAAiBrpB,IAAaknB,EAAeM,MAChDkF,GACE1sB,EACAisB,EACAuE,EAAmB7uB,SAClB8mB,GAAmBzoB,GAA0D,KAA/CgnB,GAAchnB,EAAS,KAAMknB,UAK9DA,EAAeM,KACbiB,GAAmBzoB,GACrB4rB,GAAoB5rB,GAAS,EAAO6qB,GAEpCH,GAA6B1qB,EAASknB,EAAejoB,SAAWioB,EAAezlB,OAASylB,EAAeM,MAGzGiJ,I,CAcJ,OAPA/D,GACE1sB,EACAisB,EACAuE,EAAmB7uB,SAClB8mB,GAAmBzoB,GAA0D,KAA/CgnB,GAAchnB,EAAS,KAAMknB,SAE9DuJ,G,CAIF,OAAOD,EAAmB7uB,Q,CAG5B,OAAOlG,C,CAQT,SAASi1B,EAA4BC,EAAoB/qB,GACvD,MAAMshB,EAAiBloB,EAAU2xB,EAAYvvB,GAEzC8lB,EAAethB,KAAS2qB,EAAc3qB,IAAQ2qB,EAAc/I,KAE9DoE,GAAoB5rB,GAAS,IAQ7B0sB,GACE1sB,EAEEknB,EAAethB,KAAS2qB,EAAc3qB,IAAQyjB,GAAiBrpB,GAE7D,eACA,YACJ+oB,GAAkB/oB,EAASknB,GAAgBvlB,SAC1C8mB,GAAmBzoB,GAA0D,KAA/CgnB,GAAchnB,EAAS,KAAMknB,IAE9DuJ,I,CAIJ,MAAMG,EAAwBC,GACrB,SAAUp1B,GACf,GAAIquB,GAAe9pB,GAAU,CAC3B,MAAM2wB,EAAaL,EAAc70B,EAA8B,WAAvBo1B,EAAkC,YAAc,gBACpFF,GAEFnI,EAAYqI,GAAoB7xB,EAAU2xB,EAAYnI,EAAYhnB,QAAQpE,K,GAM5EvC,EAAS+1B,EAAqB,UAC9B9uB,EAAU8uB,EAAqB,WAC/BH,EAAUK,GAAiCtI,EAAYiI,OAAOK,GAEpE/1B,EAAkBs1B,IAAa,WAAY,CACzC9O,YAAY,EACZpG,cAAc,EACdzT,IAAKA,IAAM6oB,EAActxB,SAAWsxB,EAAc9uB,OAAS8uB,EAAc/I,OAM3E,MAAM+I,EAAgB,IAAIrL,MAAM,CAAC,EAAe,CAC9Cxd,IAAKA,CAACgH,EAAa9I,KACjB,MAAMhK,EAASy0B,IAEf,GAAY,WAARzqB,EAAkB,OAAO/K,EAC7B,GAAY,YAAR+K,EAAmB,OAAO9D,EAC9B,GAAY,WAAR8D,EAAkB,OAAO6qB,EAC7B,GAAY,SAAR7qB,EAAgB,OAAOhK,EAC3B,GAAY,aAARgK,EAAoB,OAAOhK,EAAO+F,SAStC,GAAI+U,GAAqBtX,SAASwG,GAAM,CACtC,GAAIokB,GAAmBhqB,GACrB,OAAOwoB,EAAY5iB,GAErB,GAAIuqB,EACF,OAAOH,EAAqBpqB,E,CAIhC,GAAY,SAARA,EAAgB,CAClB,GAAIokB,GAAmBhqB,GACrB,OAAOpE,EAAOgK,GAAK9D,QAAQlG,EAAO4F,OAAQgnB,EAAYhnB,QAExD,GAAI2uB,EAEF,OAAOv0B,EAAOgK,GAAK9D,QAAQmuB,EAAcC,E,CAI7C,OAAO/O,GAAkCkE,QAAQ3d,IAAI9L,EAAQgK,GAAMhK,EAAQ,WAAW,EAExF6L,IAAKA,CAACiH,EAAa9I,EAAanK,KAC9B,GAAIquB,GAAe9pB,GAAU,CAC3B,MAAMpE,EAASy0B,IACf,GAAY,SAARzqB,EAAgB,CASlB,MAAM+qB,EAAaL,EAAc70B,EAAO,aACpCk1B,IACFnI,EAAYprB,KAAO4B,EAAU2xB,EAAYnI,EAAYhnB,QAAQpE,K,MAE1D,GAAY,aAARwI,EACT,GAAIkjB,GAAmB9oB,GACrBwoB,EAAYvpB,SAAWxD,MAClB,CACL,MAAMk1B,GAAc,IAAMl1B,GAAOqG,QAAQ,OAAQ,KAAOyuB,EAAc9uB,OAAS8uB,EAAc/I,KAC7FkJ,EAA2BC,EAAY,W,MAEpC,GAAY,WAAR/qB,EACT,GAAIkjB,GAAmB9oB,GACrBwoB,EAAY/mB,OAAShG,MAChB,CACL,MAAMk1B,EAAaJ,EAActxB,UAAY,IAAMxD,GAAOqG,QAAQ,OAAQ,KAAOyuB,EAAc/I,KAC/FkJ,EAA2BC,EAAY,S,MAEpC,GAAY,SAAR/qB,EACT,GAAIkjB,GAAmB9oB,GACrBwoB,EAAYhB,KAAO/rB,MACd,CACL,MAAMk1B,EAAaJ,EAActxB,SAAWsxB,EAAc9uB,QAAU,IAAMhG,GAAOqG,QAAQ,MAAO,KAC1FolB,EAAiBloB,EAAU2xB,EAAYvvB,GAEzC8lB,EAAeM,OAAS+I,EAAc/I,OACnC6B,GAAiBrpB,IACpBmsB,GACEnsB,EACA,YACA+oB,GAAkB/oB,EAASknB,IAC3B,EACAF,GAAchnB,EAAS,KAAMknB,IAG5BuB,GAAmBzoB,IACtB0qB,GAA6B1qB,EAASknB,EAAejoB,SAAWioB,EAAezlB,OAASylB,EAAeM,M,MAK7GnC,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,E,CAG7B,OAAO,CAAI,IAIf,OAAO80B,CACT,C,SAKgBQ,GAAqB/wB,EAAiB8rB,GACpD,MAAMkF,EAAgBn2B,EAAQ,CAAE2B,KAAMwD,GAAW8rB,GAEjD,IAAK,MAAMlmB,KAAOkqB,GAAmBkB,EAAcprB,GAAOkmB,EAAclmB,GACxE,OAAOorB,CACT,C,SAGgBC,GAA4BjxB,EAAiB8rB,GAC3DsC,GAAuBpuB,EAAS+wB,GAAoB/wB,EAAS8rB,GAAgBiF,GAAoB/wB,EAAS8rB,GAC5G,C,SAiBgBf,GACd/qB,EACAgpB,EACA8C,EACA1iB,G,MAGA,MAAMqL,EAAOsc,GAAoB/wB,EAAS8rB,GAEpCoF,EAAclyB,EAAUgqB,EAAgB8C,EAAc1uB,MAC5D,GAAIulB,GAAgB3iB,GAAU,CAC5B,MAAMsK,EAAiBoV,GAAehY,IAAI1H,GAAUqK,QAAQC,eAC9B,QAA9B/N,EAAA+N,EAAewiB,uBAAe,IAAAvwB,GAAAA,EAAEb,KAAK4O,EAAe8c,QAASQ,GAAc5nB,GAAU,GAAIkxB,EAAY9zB,K,KAChG,CACL,IAAI+zB,EAAaD,EAAY9zB,KACzB0uB,EAActxB,KAAKgH,SAAW0vB,EAAY1vB,SAC5C2vB,EAAaA,EAAWrvB,QAAQovB,EAAY1vB,OAAQsqB,EAActxB,KAAKgH,SAEzEsqB,EAActxB,KAAK4C,KAAO+zB,C,CAW5B,MAAM3I,EAAcjV,GAAU7R,UAAUL,SAEtCynB,GAAmB9oB,IAClBgpB,IAAmBR,EAAYvpB,SAAWupB,EAAY/mB,OAAS+mB,EAAYhB,MACnE,YAATpe,GAEAsjB,GAAsB1sB,EAAS,eAAgBgpB,EAAgBzV,GAAU7R,UAAU0lB,QAAQC,OAI7F,MAAMoG,EAAKsD,GAAoB/wB,EAAS8rB,IAE3B,SAAT1iB,GAAoBqL,EAAK9S,WAAa8rB,EAAG9rB,UAAqB,YAATyH,IACvDglB,GAAuBpuB,EAASytB,EAAIhZ,EAExC,C,SC/UgB2c,GAAmBpxB,EAAiBoB,GAClD,MAAM0qB,EAAgBiE,GAAoB/vB,EAASoB,GACnD,MAAO,CACL0qB,gBACAuF,aAAcxF,GAAmB7rB,EAAS8rB,GAE9C,C,SAQgBwF,GACdtxB,EACA8rB,EACAyF,GAEA,MAAM5I,EAAYJ,GAAoBvoB,GAClC2oB,GACFoC,GAAoB/qB,EAAS2oB,EAAWmD,EAAe,QACnDzC,GAAiBrpB,IACnBwxB,GAAsBxxB,IAGxByxB,GAA6BzxB,EAAS8rB,EAAeyF,EAEzD,C,SAQgBE,GACdzxB,EACA8rB,EACAyF,GAGIA,GAAaxG,GAAoB/qB,EAASuxB,EAAazF,EAAe,WACrEzC,GAAiBrpB,IAEpBgtB,GACEhtB,EACA+oB,GAAkB/oB,EAAS8rB,GAC3B9E,GAAchnB,EAAS,KAAM8rB,IAIjCmF,GAA2BjxB,EAAS8rB,EACtC,C,SASgB4F,GACd1xB,EACAoB,EACA0qB,EACA6F,GAGA,IAAKA,IAAmB7I,GAAmB9oB,GAAU,CACnD,MAAM,SAAEf,EAAQ,OAAEwC,EAAM,KAAE+lB,GAASxoB,EAAUoC,GAC7C2pB,GAAoB/qB,EAASf,EAAWwC,EAAS+lB,EAAMsE,EAAe,U,CAEnEzC,GAAiBrpB,IACpBwxB,GAAsBxxB,GAGxBuuB,GAAuBvuB,EACzB,C,SAMgBwxB,GAAuBxxB,GACrCgtB,GACEhtB,EACAspB,GAAuBtpB,GACvB2nB,GAAiB3nB,EAASuT,GAAU7R,UAAU0lB,QAAQC,OAE1D,C,SC5HgBuK,GAAkBxwB,EAAaxF,GAC7C,MAAMi2B,EAAYl2B,EAAYC,GAAmB2X,GAAU7R,UAAU8I,MAA7B5O,EACxC,OAAKM,EAAW21B,GACT,SACLC,EACAC,KACG7F,GAWH,OATInwB,EAAS+1B,IAAU50B,EAAM40B,MAC3BA,EAAQ9yB,EAAU8yB,EAAO1wB,GAAK/F,YAOhC8J,KACO0sB,EAASn2B,KAAK6X,GAAU7R,UAAWowB,EAAOC,KAAS7F,E,EAf1B2F,CAiBpC,C,SAQgBG,GAA2B5wB,EAAaxF,GACtD,MAAMq2B,EAAqBt2B,EAAYC,GAAmB2X,GAAU7R,UAAUwwB,eAA7Bt2B,EACjD,OAAKc,EAAcu1B,GACZ,cAAkCA,EACvCE,IAAAA,CAAMvF,EAAgBwF,KAAmBlG,IAClCnwB,EAASq2B,KAAY,kBAAkBr1B,KAAKq1B,IAAYl1B,EAAMk1B,MACjEA,EAASpzB,EAAUozB,EAAQhxB,GAAK/F,YAElC8J,KACAsa,MAAM0S,KAAKvF,EAAQwF,KAAWlG,E,GAPY+F,CAUhD,C,SAWgBI,KACd,IAAIC,EAUJ,SAASC,EAAwBvyB,EAAiBoB,EAAaxF,GAC7D,MAAM42B,EAAkB72B,EAAYC,GAAmB2X,GAAU7R,UAAU+wB,YAA7B72B,EAC9C,OAAKc,EAAc81B,GACZ,cAA+BA,EACpC51B,WAAAA,CACE81B,EACAC,KACGzG,GAQH,IANInwB,EAAS22B,IAAmBx1B,EAAMw1B,MACpCA,EAAiB1zB,EAAU0zB,EAAgBtxB,GAAK/F,YAElD8J,KACAsa,MAAMiT,EAAgBC,KAAwBzG,GAE1CoG,EAAgB,CAClB,MAAMM,EAAkBN,EAAe5qB,IAAI1H,GACvC4yB,EACFA,EAAgB1rB,IAAInD,MAEpBuuB,EAAe7qB,IAAIzH,EAAS,IAAIiH,IAAI,CAAClD,O,MAGvCuuB,EAAiB,IAAI9qB,IAAI,CAAC,CAACxH,EAAS,IAAIiH,IAAI,CAAClD,S,CAIjD8uB,KAAAA,G,MACEpT,MAAMoT,QACqB,QAA3Bt2B,EAAA+1B,EAAe5qB,IAAI1H,UAAQ,IAAAzD,GAAAA,EAAE8K,OAAOtD,K,GA3BGyuB,C,CAgC7C,SAASM,EAAuB9yB,GAC9B,MAAM4yB,EAAgC,OAAdN,QAAc,IAAdA,OAAc,EAAdA,EAAgB5qB,IAAI1H,IACzB,OAAf4yB,QAAe,IAAfA,OAAe,EAAfA,EAAiBpW,QACnBoW,EAAgB/vB,SAAQiB,IACtBA,EAAK+uB,OAAO,IAEdD,EAAgB5U,Q,CAIpB,MAAO,CACLuU,yBACAO,wBAEJ,CCpCA,MAAM,uBAAEP,GAAsB,sBAAEO,IAA0BT,K,MAErCU,WAAoBtR,GASvC7kB,WAAAA,CAAaoD,EAAiBoB,GAC5Bqe,MAAMzf,EAASoB,GART,KAAA4xB,QAAS,EAKV,KAAA1oB,eAAiB,IAAI4X,GAI1Bne,KAAKkvB,WAAWtyB,IAEdoD,KAAKmvB,qBAAqBlzB,GAE1B+D,KAAKovB,YAAYnzB,EAASoB,EAAK2C,KAAKuG,gBAEpCvG,KAAKqvB,aAAe1N,GAAY1lB,EAAS+D,KAAKuG,eAAgBvG,MAE9DA,KAAKwf,eAAiBH,GAAcpjB,EAAS+D,KAAKuG,eAAgBvG,MAElEA,KAAKsvB,sCAAsCtvB,KAAKuG,gBAEhDvG,KAAKuvB,qBAAqBtzB,EAASoB,EAAK2C,KAAKuG,gBAC7C3J,GAAS,G,CAWN4yB,KAAAA,EAAO,QACZC,EAAO,UACPC,EAAS,YACTlC,EAAW,oBACXmC,IAEI3vB,KAAKivB,SACTjvB,KAAKivB,QAAS,EAIdjvB,KAAK4vB,eAAepC,GAGpBxtB,KAAK6vB,sBAAwBxJ,GAC3BrmB,KAAKuG,eAAe7E,oBAGlBqjB,GAAmB/kB,KAAKuG,eAAe7E,sBACzC1B,KAAKuG,eAAeupB,yBAA2B9vB,KAAKuG,eAAewpB,uBAAyBL,GAUzFD,GACHzvB,KAAKgwB,wBACHhwB,KAAKuG,eAAe7E,mBACpB1B,KAAKuG,eAAe0pB,kBACpBjwB,KAAKuG,eACLopB,GAI8B,MAA5BngB,GAAU0gB,gBACdC,KACA9G,MAGgC,MAA5B2F,GAAYoB,aAEhBtT,KAGFsB,K,CAUKiS,IAAAA,EAAM,QACXZ,EAAO,eACP7B,EAAc,QACd0C,EAAO,UACPpW,I,MAEKla,KAAKivB,SACVjvB,KAAKuwB,uBAAuB,CAAEd,UAASvV,YAAWoW,YAAYb,GAAWa,GAIzEtwB,KAAKwwB,gBAAgB5C,GAGK,QAA1Bp1B,EAAAwH,KAAK6vB,6BAAqB,IAAAr3B,GAAAA,EAAAb,KAA1BqI,MAUKyvB,IAAWa,IACdvB,GAAsB/uB,KAAKuG,eAAe7E,oBAE1C1B,KAAKge,aAAalf,SAAS+C,IACzByf,QAAQW,eAAejiB,KAAKuG,eAAgB1E,EAAI,IAElD7B,KAAKge,aAAa/D,QAElBja,KAAKie,WAAWnf,SAAS+C,IACvByf,QAAQW,eAAezS,GAAU7R,UAAWkE,EAAI,IAElD7B,KAAKie,WAAWhE,QAEhBja,KAAKywB,uBAG2B,MAA5BjhB,GAAU0gB,gBACdQ,KACApH,QAGI0F,GAAYoB,YAIlBpwB,KAAKivB,QAAS,E,CAURM,oBAAAA,CACNtzB,EACAoB,EACAkJ,GAEAA,EAAeqW,2BAA4B,EAC3CrW,EAAe7E,mBAAqBzF,EACpCsK,EAAe0pB,kBAAoB5yB,EACnCkJ,EAAeoqB,0BAA4B3yB,GAAiBX,GAC5DkJ,EAAeupB,yBAA2B,GAC1CvpB,EAAeqqB,qBAAuBrqB,EACtCA,EAAesqB,0BAA2B,EAC1CtqB,EAAeoW,wBAAyB,EACxCpW,EAAekR,2BAA6BzX,KAAK0X,YACjDnR,EAAeuqB,sBAAwB9wB,KACvCuG,EAAewqB,2BAA6B,OAC5CxqB,EAAe5I,UAAY6R,GAAU7R,UACrC4I,EAAe9E,YAAc+N,GAAU/N,YACvC8E,EAAeP,SAAWlP,EAAO,IAAI2kB,GAAuBxf,GAAU,CACpEmF,kBACAE,qBACAhE,SAAUiJ,EAAejJ,SACzBgtB,W,CAiBGiG,sBAAAA,CACLhvB,EACAyvB,GAAgB,GAEZA,EACFhxB,KAAKixB,sBAELjxB,KAAKkxB,uBAEPlxB,KAAKmxB,oBAAoB5vB,E,CASpB0vB,mBAAAA,GACLjxB,KAAKqvB,aAAa7lB,QAClBxJ,KAAKwf,eAAehW,QACpB4S,GAAwBpc,KAAKuG,eAAeP,S,CAUvCkrB,oBAAAA,GACLlxB,KAAKqvB,aAAa3O,SAClB1gB,KAAKwf,eAAekB,SACpB7E,GAAyB7b,KAAKuG,eAAeP,S,CAIxCorB,qBAAAA,GACLpxB,KAAKqvB,aAAazO,UAClB5gB,KAAKwf,eAAeoB,UACpBzE,GAA0Bnc,KAAKuG,eAAeP,S,CAezCmrB,mBAAAA,EAAqB,QAC1B1B,GAAU,EAAK,UACfvV,GAAY,EAAK,YACjBzE,GAAc,EAAK,UACnB4b,GAAY,EAAK,QACjBf,GAAU,I,UAGVtwB,KAAKqvB,aAAavO,SAAU2O,IAAY4B,IAAc5b,GAAgB6a,GACtEtwB,KAAKwf,eAAesB,UACQ,QAA5BtoB,EAAAwH,KAAKuG,eAAeP,gBAAQ,IAAAxN,GAAAA,EAAEgjB,oBACF,QAA5BvG,EAAAjV,KAAKuG,eAAeP,gBAAQ,IAAAiP,GAAAA,EAAEiG,0BAC1BhB,IACFlU,GAASkU,UAAUla,KAAKuG,eAAe7E,oBACX,QAA5BsT,EAAAhV,KAAKuG,eAAeP,gBAAQ,IAAAgP,GAAAA,EAAEkF,Y,CAQ1BiV,oBAAAA,CAAsBlzB,G,MACxB7D,EAAc4N,GAASzE,QAAQkG,WACjCzH,KAAKsxB,iCAAiCtrB,GAASzE,QAAQkG,QAAQjR,QAC/DwJ,KAAKsxB,iCAAiE,QAAjC94B,EAACwN,GAASzE,QAAQkG,QAAQI,eAAO,IAAArP,OAAA,EAAAA,EAAGyD,I,CAKrEq1B,gCAAAA,CAAkC7pB,GACxC,GAAI7Q,EAAQ6Q,GACV,IAAK,MAAMM,KAAUN,EACfrP,EAAc2P,KACZnR,EAAQmR,EAAO+V,mBACjB9d,KAAK8d,gBAAkB9d,KAAK8d,gBAAgB3L,OAAOpK,EAAO+V,kBAExDlnB,EAAQmR,EAAOgW,oBACjB/d,KAAK+d,iBAAmB/d,KAAK+d,iBAAiB5L,OAAOpK,EAAOgW,mB,CAQ/DwT,iBAAAA,CAAmBjO,GACxBtjB,KAAKuG,eAAesqB,yBAA2BvN,C,CAG1CkO,WAAAA,CAAalO,GAClBtjB,KAAKuG,eAAeoW,uBAAyB2G,C,CAGvC4L,SAAAA,CAAWxU,GACjB1a,KAAK8pB,aAAe,IAAIntB,SAAeC,GAAY8d,EAAG9d,I,CAIhD0yB,qCAAAA,CAAuC/oB,GAC7C,IAAIkrB,EAAkBC,EACtB,MAAM/zB,EAAY6R,GAAU7R,UACxBA,IAAcA,EAAUgS,OAC1B8hB,EAAWC,EAAc1xB,KAAK0X,aAE9B+Z,EAAW9zB,EAAUg0B,IACrBD,EAAc/zB,EAAUgS,QAG1BzY,EAAoBqP,EAAgB,CAClCorB,IAAK3xB,KAAK4xB,kCAAkC,MAAOH,GACnD9hB,OAAQ3P,KAAK4xB,kCAAkC,SAAUF,KAG3Djf,GAAqB3T,SAAS+C,IAC5B7K,EACEuP,EACA1E,EACA7B,KAAK4xB,kCAAkC/vB,EAAK7B,KAAK0X,aAClD,G,CAIGka,iCAAAA,CAAmC/vB,EAAkBnK,GAC3D,MAAM,aAAE0f,GAAe,EAAI,WAAEoG,GAAa,EAAI,SAAEC,EAAQ,IAAE/Z,GAAQ3M,OAAOogB,yBAAyB3H,GAAU7R,UAAWkE,IAAQ,CAAE4b,UAAU,GACrIvG,EAAiC,CACrCxf,QACA0f,eACAoG,aACAC,SAAkB,OAARA,QAAQ,IAARA,EAAAA,IAAc/Z,GAG1B,OAAOwT,C,CAUD8Y,uBAAAA,CACN/zB,EACAoB,EACAkJ,EACAopB,GAEAppB,EAAe/O,eAAkBqK,GAAqBtK,EAAkBI,KAAK4O,EAAgB1E,IAAQtK,EAAkBI,KAAK6X,GAAU7R,UAAWkE,GACjJ7B,KAAK6xB,kBAAkB51B,EAASsK,GAC3BopB,GAAqB3vB,KAAK8xB,gBAAgB71B,EAASoB,EAAKkJ,GAC7DvG,KAAK+xB,mBAAmBxrB,E,CAIlBsrB,iBAAAA,CAAmB51B,EAAiBsK,GAC1C,IAAIyrB,EAAuBC,EAC3B/6B,EAAoBqP,EAAgB,CAClC2rB,KAAM,CACJ9a,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GAEE,OADA9C,GAA2B5E,GACpB+1B,GAAgBxiB,GAAU7R,UAAUu0B,I,EAE7CxuB,IAAMhM,IACJs6B,EAAet6B,CAAK,GAGxBy6B,MAAO,CACL/a,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GAEE,OADA9C,GAA2B5E,GACpBg2B,GAAiBziB,GAAU4iB,U,EAEpC1uB,IAAMhM,IACJu6B,EAAgBv6B,CAAK,I,CAOrBo6B,eAAAA,CAAiB71B,EAAiBoB,EAAakJ,GACrD,IAAI8rB,EAAaxE,GAAiBxwB,GAC9Bi1B,EAAsBrE,GAA0B5wB,GAChDk1B,EAAmB/D,GAAuBvyB,EAASoB,GAEvDnG,EAAoBqP,EAAgB,CAClCE,MAAO,CACL2Q,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAO0uB,C,EAET3uB,GAAAA,CAAKhM,GACH26B,EAAaxE,GAAiBxwB,EAAK3F,E,GAGvCy2B,eAAgB,CACd/W,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAO2uB,C,EAET5uB,GAAAA,CAAKhM,GACH46B,EAAsBrE,GAA0B5wB,EAAK3F,E,GAGzDg3B,YAAa,CACXtX,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAO4uB,C,EAET7uB,GAAAA,CAAKhM,GACH66B,EAAmB/D,GAAuBvyB,EAASoB,EAAK3F,E,KAahEq6B,kBAAAA,CAAoBxrB,GAClBvG,KAAK8d,gBAAgBhf,SAAS+C,IAC5Byf,QAAQ5d,IAAI6C,EAAgB1E,EAAK0E,EAAe1E,GAAK,G,CAKjDutB,WAAAA,CAAanzB,EAAiBoB,EAAakJ,GACjD,MAAM,cAAEwhB,EAAa,aAAEuF,GAAiBD,GAAkBpxB,EAASoB,GACnEnG,EAAoBqP,EAAgB,CAClCjJ,SAAU,CACR8Z,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAOokB,C,EAETrkB,IAAMhM,IACJ8X,GAAU7R,UAAUL,SAAW5F,CAAK,GAGxC2rB,QAAS,CACPjM,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAO2pB,C,KAMPsC,cAAAA,CAAgBpC,GACtBD,GACEvtB,KAAKuG,eAAe7E,mBACpB1B,KAAKuG,eAAejJ,SACpBkwB,E,CAIIgD,eAAAA,CAAiB5C,GACvBD,GACE3tB,KAAKuG,eAAe7E,mBACpB1B,KAAKuG,eAAe0pB,kBACpBjwB,KAAKuG,eAAejJ,SACpBswB,E,CAIG4E,2BAAAA,GACL9E,GACE1tB,KAAKuG,eAAe7E,mBACpB1B,KAAKuG,eAAejJ,S,CAIjBm1B,8BAAAA,GACLhF,GAAsBztB,KAAKuG,eAAe7E,mB,CAOrCgxB,kBAAAA,CAAoB5sB,GACzBwY,GAAiBxY,EAAW9F,KAAKuG,eAAe7E,mB,CAU3CixB,wBAAAA,CAA0B7sB,EAAiC8sB,GAChE5yB,KAAK0yB,mBAAmB5sB,GACxB9F,KAAKywB,oBAAsBzwB,KAAK6yB,eAAe7yB,KAAK/D,QAAS+D,KAAKuG,eAAgBqsB,E,CAI5EC,cAAAA,CACN52B,EACAsK,EACAqsB,GAEA,IAAIE,EAAoBC,EAAsBC,EAgC9C,OA/BA97B,EAAoBqP,EAAgB,CAClCusB,MAAO,CACL1b,cAAc,EACdzT,IAAKA,IAAMmvB,EACXpvB,IAAMhM,IACAsI,KAAKivB,QAAU92B,EAAWT,KAAWo7B,GACvCF,EAAeE,EAAQp7B,EAAOq7B,E,GAIpCA,QAAS,CACP3b,cAAc,EACdzT,IAAKA,IAAMovB,EACXrvB,IAAMhM,IACAsI,KAAKivB,QAAU92B,EAAWT,KAAWq7B,GACvCH,EAAeE,EAAOC,EAAUr7B,E,GAItC,CAAC,aAAauE,KAAY,CACxBmb,cAAc,EACdzT,IAAKA,IAAMqvB,EACXtvB,IAAMhM,IACAsI,KAAKivB,QAAU72B,EAAcV,KAAWs7B,IAC1CA,EAAkBt7B,EAClBk7B,EAAeI,EAAgBF,MAAOE,EAAgBD,S,KAMvD,KACLD,EAAQC,EAAUC,EAAkB,IAAI,C,CAIrCC,iBAAAA,CAAmB3P,GACxBtjB,KAAKuG,eAAeid,oBAAsBF,C,WC3nB9B8L,GACdnzB,EACAoB,EACAkJ,EACA2lB,GAEA,MAAMlE,EAAaxY,GAAU7R,UAAU0lB,QACjC4I,EAAsBhxB,EAAUoC,GAChC8uB,EAAYF,EAAoB1uB,SAAW,KAAO0uB,EAAoBjqB,KACtEkxB,EAAgBjH,EAAoB/wB,SAAW+wB,EAAoBvuB,OAASuuB,EAAoBxI,KAGhG6J,EAAe/mB,EAAe8c,QAiCpC,OA/BA9c,EAAewiB,gBAAkBuE,EAAa9E,aAE9C1xB,EAAOw2B,EAAcxF,GAAmB7rB,EAASsK,EAAejJ,WAEhEpG,EAAoBo2B,EAAc,CAChC6F,kBAAmB,CACjB/b,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAOqkB,EAAWmL,iB,EAEpBzvB,GAAAA,CAAKhM,GACHswB,EAAWmL,kBAAoBz7B,C,KAWrCsvB,GACE/qB,EACAi3B,EACA3sB,EAAejJ,SACf,WAIK0uB,GACL/vB,EACAoB,EACAkJ,EACA0lB,EACAC,EACAC,EAEJ,CDwBS6C,GAAAoB,YAAc,EE9FhB,MAAMgD,GAA2B,CACtC,SAGWC,GAAuB,CAClC,mBAEA,YACA,iBACA,aACA,iBACA,wBAGWC,GAA6B,CACxC,mBACA,qBACA,kBACA,WACA,cACA,UACA,WACA,WACA,SAGWC,GAAwB,CACnC,OACA,OACA,OACA,SAqBWC,GAA2B,CACtC,oBACA,WACA,oBACA,aACA,mBACA,gBACA,oBACA,0BACA,qBACA,eAIWC,GAA8B,CACzC,SACA,WACA,kBACA,cACA,eACA,mBACA,oBACA,iBAIWC,GAAwB,CACnC,eACA,aACA,cACA,aACA,MACA,UACA,SACA,oBACA,SACA,iBACA,eACA,0BACA,UACA,aACA,WACA,kBACA,SAIWC,GAA2B,CACtC,cACA,cACA,iBACA,uBACA,yBACA,WACA,WChGIC,GAAwB,CAC5B,SAYIC,GAAiBv9B,OAAOw9B,OAE9B,SAASC,GAAa12B,GACpB,IAEE,MAAM22B,EAAY32B,aAAejE,IAAMiE,EAAM,IAAIjE,IAAIiE,GACrD,QAAIu2B,GAAsBv4B,SAAS24B,EAAUz2B,WAI3Cy2B,EAAUz2B,WAAajH,OAAOgH,SAASC,UACvCy2B,EAAUC,WAAa39B,OAAOgH,SAAS22B,UACvCD,EAAUE,OAAS59B,OAAOgH,SAAS42B,I,CAErC,MAAO73B,GACP,OAAO,C,CAEX,CAEA,SAAS83B,GAAc5lB,GACrB,IAAI6lB,EACJ,IACEA,EAAO,IAAIC,KAAK,CAAC9lB,GAAS,CACxBlJ,KAAM,0B,CAER,MAAOxH,GACP,MAAMy2B,EAEJh+B,OAAOg+B,aAEPh+B,OAAOi+B,mBAEPj+B,OAAOk+B,gBAEPl+B,OAAOm+B,cACHC,EAAc,IAAIJ,EACxBI,EAAYC,OAAOpmB,GACnB6lB,EAAOM,EAAYE,QAAQ,yB,CAG7B,MAAMx7B,EAAM9C,OAAO8C,KAAO9C,OAAOu+B,UACjC,OAAOz7B,EAAI07B,gBAAgBV,EAC7B,CAGA,MAAMW,GAAc,IAAI5T,MAAc0S,GAAgB,CACpDmB,SAAAA,CAAUC,EAAQv4B,GAChB,IAAKw4B,EAAW3zB,GAAW7E,EAC3B6E,EAAUA,GAAW,CAAC,EACtB,MAAMtF,EAAU2E,KAChB,IAAIvD,EAAM63B,EACV,GAAIj5B,EAAS,CACX,MAAMmK,EAAMuV,GAAehY,IAAI1H,GAC/BoB,EAAMc,GAAe+2B,EAAW9uB,EAAK/I,I,CAGvC,GAAIA,IAAQ02B,GAAa12B,GAAM,CAE7B,MAAMkR,EAAS,WAAW2mB,MACpBC,EAAahB,GAAc5lB,GAEjC,OADAhN,EAAQ8D,KAAO,SACR,IAAI4vB,EAAOE,EAAY5zB,E,CAG9B,OAAO,IAAI0zB,EAAOC,EAAW3zB,E,aCpDnB6zB,GACdn5B,EACAsK,EACA+Y,GAIA,OAFA+V,GAAoBp5B,EAASsK,EAAgB+Y,GAC7CgW,GAAkB/uB,EAAgB+Y,GAC3BiW,GAAkBhvB,EAC3B,CAMA,SAAS8uB,GACPp5B,EACAsK,EACA+Y,GAEA,MAAM3hB,EAAY6R,GAAU7R,UAE5B01B,GAAqBv0B,SAAS+C,IAC5B0E,EAAe1E,GAAOub,GAAwBzf,EAAUkE,GAAMlE,EAAU,IAG1E5G,OAAO+B,oBAAoByN,GACxBzG,QAAQ+B,IACPyxB,GAA2Bpe,MAAMpJ,IAC/B,GAAIA,EAAI9S,KAAK6I,IAAQA,KAAO0E,EAAeoJ,OAAQ,CACjD,GAAIxX,EAAWwF,EAAUkE,IACvB0E,EAAe1E,GAAOub,GAAwBzf,EAAUkE,GAAMlE,OACzD,CACL,MAAM,aAAEyZ,EAAY,WAAEoG,GAAezmB,OAAOogB,yBAAyB5Q,EAAgB1E,IAAQ,CAC3FuV,cAAc,EACdoG,YAAY,GAEVpG,GACFpgB,EAAkBuP,EAAgB1E,EAAK,CACrCuV,eACAoG,aACA7Z,IAAKA,IAAMhG,EAAUkE,GACrB6B,IAAMhM,IAAYiG,EAAUkE,GAAOnK,CAAK,G,CAI9C,OAAO,C,CAET,OAAO,CAAK,IAaViB,EAAc4N,EAAe1E,KAASA,KAAOlE,IAAcy1B,GAAyB/3B,SAASwG,IAC/F7K,EAAkBuP,EAAe1E,GAAMuf,OAAOK,YAAa,CACzDrK,cAAc,EACdoG,YAAY,EACZ9lB,KAAAA,CAAOG,GACL,OAAOkN,GAAWlN,EAAQ8F,EAAUkE,KAASkD,GAAWlN,EAAQ0O,EAAe1E,G,IAK9E,MAAM7I,KAAK6I,KAASyQ,GAAgCjX,SAASwG,MAErE/C,SAASuH,IACR,MAAM,WAAEmX,EAAU,SAAEC,EAAQ,IAAE/Z,GAAQ3M,OAAOogB,yBAAyB5Q,EAAgBF,IAAc,CAClGmX,YAAY,EACZC,UAAU,GAEZ,IACEzmB,EAAkBuP,EAAgBF,EAAW,CAC3CmX,aACApG,cAAc,EACdzT,IAAKA,IAAMhG,EAAU0I,GACrB3C,KAAa,OAAR+Z,QAAQ,IAARA,EAAAA,EAAc/Z,GACdhM,IAAYiG,EAAU0I,GAAalO,EAAWT,GAASA,EAAMoF,KAAKyJ,GAAkB7O,CAAK,OAC1FI,G,CAEN,MAAO+F,GACPvB,EAAQuB,EAAG5B,E,KAQjBqjB,EAAQvB,iBAAiBjf,SAAS+C,IAChC,IAAI2zB,EAAWjvB,EAAe1E,GAC9B7K,EAAkBuP,EAAgB1E,EAAK,CACrC2b,YAAY,EACZpG,cAAc,EACdzT,GAAAA,GACE,OAAe,OAAR6xB,QAAQ,IAARA,EAAAA,EAAYpY,GAAwBzf,EAAUkE,GAAMlE,E,EAE7D+F,GAAAA,CAAKhM,GACH89B,EAAW99B,C,GAEb,GAEN,CAOA,SAAS49B,GACP/uB,EACA+Y,GAEA,MAAM3hB,EAAY6R,GAAU7R,UACtB83B,EAAmB,IAAIvyB,IAE7BnM,OAAOE,eAAesP,EAAgB,SAAU,CAC9C7O,MAAOq9B,GACP3d,cAAc,EACdqG,UAAU,IAUZ,MAAM/F,EAAc,IAAIyJ,MAAM5a,EAAgB,CAC5C5C,IAAKA,CAAC9L,EAA4BgK,IACpB,WAARA,EACKkzB,GAEG,aAARlzB,EACKyd,EAAQkN,cAGbnxB,EAASoX,GAAsB5Q,GAC1B6V,EAGL+d,EAAiBpyB,IAAIxB,GAChByf,QAAQ3d,IAAI9L,EAAQgK,GAUzBxG,EAASikB,EAAQvB,iBAAkBlc,KAASyf,QAAQ3d,IAAI9L,EAAQgK,GAC3Dub,GAAwBkE,QAAQ3d,IAAIhG,EAAWkE,GAAMlE,GAGvDyf,GAAwBkE,QAAQ3d,IAAI9L,EAAQgK,GAAMhK,GAE3D6L,IAAKA,CAAC7L,EAA4BgK,EAAkBnK,IACtC,aAARmK,EACKyf,QAAQ5d,IAAI/F,EAAWkE,EAAKnK,IAGhC4pB,QAAQje,IAAIxL,EAAQgK,IACvB4zB,EAAiBtyB,IAAItB,GAIvByf,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,IAElB,GAET2L,IAAKA,CAACxL,EAA4BgK,IAAqBA,KAAOhK,EAC9DoqB,eAAgBA,CAACpqB,EAA4BgK,KACvCyf,QAAQje,IAAIxL,EAAQgK,IACfyf,QAAQW,eAAepqB,EAAQgK,KAM5Cyd,EAAQ5H,YAAcA,CACxB,CAEA,SAAS6d,GAAmBhvB,GAC1B,MAAM,UAAE5I,EAAS,oBAAEwiB,EAAmB,uBAAEC,EAAsB,iBAAEgC,GAAqB5S,GAC/EqQ,EAAmB,IAAIpc,IACvBqc,EAAsB,IAAIrc,IAEhC,SAASgf,EAAgBpd,GAKvB,OAAO6M,GAA6B7W,SAASgK,GAAQkB,EAAiB5I,C,CAIxE4I,EAAewW,iBAAmB,SAChC1X,EACAkb,EACAhf,GAEA,MAAMif,EAAeX,EAAiBlc,IAAI0B,GACtCmb,EACFA,EAAard,IAAIod,GAEjBV,EAAiBnc,IAAI2B,EAAM,IAAInC,IAAI,CAACqd,KAEtCA,IAAaA,EAASE,2BAA6Blf,GACnD4e,EAAoBxoB,KAAK8qB,EAAepd,GAAOA,EAAMkb,EAAUhf,E,EAGjEgF,EAAesW,oBAAsB,SACnCxX,EACAkb,EACAhf,GAEA,MAAMif,EAAeX,EAAiBlc,IAAI0B,IAC1B,OAAZmb,QAAY,IAAZA,OAAY,EAAZA,EAAc/H,OAAQ+H,EAAand,IAAIkd,IACzCC,EAAald,OAAOid,GAEtBH,EAAuBzoB,KAAK8qB,EAAepd,GAAOA,EAAMkb,EAAUhf,E,EAGpEgF,EAAeL,cAAgB,SAAUT,GACvC,OAAO2c,EAAiBzqB,KAAK8qB,EAAoB,OAALhd,QAAK,IAALA,OAAK,EAALA,EAAOJ,MAAOI,E,EAG5D,MAAM+D,EAAQA,KACZsW,EAAoB7F,OAAO,EAevByG,EAASA,KAEbb,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,GAAImb,EAAa/H,KAAM,CACrB,MAAMkI,EAAYb,EAAoBnc,IAAI0B,IAAS,GACnDya,EAAoBpc,IAAI2B,EAAM,IAAInC,IAAI,IAAIyd,KAAcH,I,IAE1D,EAIEI,EAAUA,KAEdd,EAAoBhhB,SAAQ,CAAC0hB,EAAcnb,KACzC,IAAK,MAAMkb,KAAYC,EACrBja,EAAewW,iBAAiB1X,EAAMkb,EAAkB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUE,2B,IAI9DjX,GAAO,EAGHsX,EAAUA,KAEVjB,EAAiBpH,OACnBoH,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,IAAK,MAAMkb,KAAYC,EACrBJ,EAAuBzoB,KAAK8qB,EAAepd,GAAOA,EAAMkb,E,IAG5DV,EAAiB5F,Q,EAIrB,MAAO,CACLzQ,QACAkX,SACAE,UACAE,UAEJ,C,SC1RgB4U,GACdz5B,EACAsK,EACA+Y,GAKA,OAHAqW,GAAuB15B,EAASsK,GAChCqvB,GAAsB35B,EAASsK,EAAgB+Y,GAExCuW,GAAoB55B,EAASsK,EACtC,CAEA,SAASovB,GAAwB15B,EAAiBsK,GAChD,MAAM9E,EAAc+N,GAAU/N,YACxBq0B,EAAoBvvB,EAAeqZ,SACnCmW,EAAgBxvB,EAAehH,SAC/By2B,EAAwBF,EAAkBz+B,UAAUmI,cACpDy2B,EAA0BH,EAAkBz+B,UAAUgpB,gBACtD6V,EAAyBJ,EAAkBz+B,UAAU8+B,eACrDC,EAAiCN,EAAkBz+B,UAAUg/B,uBAC7DC,EAAwBR,EAAkBz+B,UAAU6Y,cACpDqmB,EAAwBT,EAAkBz+B,UAAUuf,cACpD4f,EAA2BV,EAAkBz+B,UAAUo/B,iBACvDC,EAAyBZ,EAAkBz+B,UAAUs/B,eACrDC,EAAiCd,EAAkBz+B,UAAUw/B,uBAC7DC,EAA+BhB,EAAkBz+B,UAAU0/B,qBAC3DC,EAA4BlB,EAAkBz+B,UAAU4/B,kBACxDC,EAA2BpB,EAAkBz+B,UAAU8/B,iBACvDC,EAA8BtB,EAAkBz+B,UAAUggC,oBAgDhE,SAASC,EAAez/B,GAStB,OAFAqJ,GAA8BjF,GAEvB85B,IAAkBl+B,EAAS4J,EAAc5J,C,CAIlD,SAAS+e,EAA+B9M,G,MACtC,MAAMytB,EAAQD,EAAct3B,MAC5B,IACG8J,GACDhI,GAAgBgI,IAChBrI,IAAgB81B,EAEhB,OAAOhB,EAAsB5+B,KAAK4/B,EAAOztB,GAc3C,MAAMnP,EAAoC,QAA9BnC,EAAGmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEoe,cAAc9M,GAC1D,OAAOnP,GAAwB,SAAdmP,EAAuBnP,EAAS47B,EAAsB5+B,KAAKo+B,EAAejsB,E,CAG7F,SAAS2sB,EAAkC3sB,G,QACzC,MAAMytB,EAAQD,EAAct3B,MAC5B,IACG8J,GACDhI,GAAgBgI,IAChBrI,IAAgB81B,EAEhB,OAAOf,EAAyB7+B,KAAK4/B,EAAOztB,GAG9C,MAAMnP,EAAgE,QAA1Dsa,EAA8B,QAA9Bzc,EAAGmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEi+B,iBAAiB3sB,UAAS,IAAAmL,EAAAA,EAAK,GAC3E,OAAOta,EAAO5B,QAAwB,SAAd+Q,EAAuBnP,EAAS67B,EAAyB7+B,KAAKo+B,EAAejsB,E,CA/FvGgsB,EAAkBz+B,UAAUggC,oBAAsB,SAChDG,EACAC,GAGA,MAAMj2B,EAAU01B,EAAyBv/B,KAAK8J,EAAa+1B,EAAGC,GACxDC,EAAQN,EAA4Bz/B,KAAK8J,EAAa+1B,EAAGC,GAE/D,OADAjZ,GAAkBhd,EAASvF,GACpBy7B,C,EAGT5B,EAAkBz+B,UAAUmI,cAAgB,SAC1ChG,EACA+H,GAEA,IAAIC,EAAUw0B,EAAsBr+B,KAAKqI,KAAMxG,EAAS+H,GAIxD,OAHI7G,EAAsB8G,KACxBA,EAAUw0B,EAAsBr+B,KAAK8J,EAAajI,EAAS+H,IAEtDid,GAAkBhd,EAASvF,E,EAGpC65B,EAAkBz+B,UAAUgpB,gBAAkB,SAC5CC,EACA7nB,EACA8I,GAEA,MAAMC,EAAUy0B,EAAwBt+B,KAAKqI,KAAMsgB,EAAc7nB,EAAM8I,GACvE,OAAOid,GAAkBhd,EAASvF,E,EAGpC65B,EAAkBz+B,UAAU8+B,eAAiB,SAAyBl3B,GACpE,MAAMuC,EAAU00B,EAAuBv+B,KAAKqI,KAAMf,GAClD,OAAOuf,GAAwBhd,EAASvF,E,EAG1C65B,EAAkBz+B,UAAUg/B,uBAAyB,WACnD,MAAM70B,EAAU40B,EAA+Bz+B,KAAKqI,MACpD,OAAOwe,GAAkBhd,EAASvF,E,EAGpC65B,EAAkBz+B,UAAU6Y,cAAgB,SAAwBjR,GAClE,MAAMuC,EAAU80B,EAAsB3+B,KAAKqI,KAAMf,GACjD,OAAOuf,GAA2Bhd,EAASvF,E,EAuD7C65B,EAAkBz+B,UAAUuf,cAAgBA,EAC5Ckf,EAAkBz+B,UAAUo/B,iBAAmBA,EAE/CX,EAAkBz+B,UAAUs/B,eAAiB,SAAyB90B,GACpE,MAAM01B,EAAQD,EAAct3B,MAC5B,GAAI4B,GAA0BC,GAC5B,OAAO60B,EAAuB/+B,KAAK4/B,EAAO11B,GAG5C,IACE,OAAO+U,EAAcjf,KAAKqI,KAAM,IAAI6B,I,CACpC,MAAArJ,GACA,OAAOk+B,EAAuB/+B,KAAK4/B,EAAO11B,E,GAI9Ci0B,EAAkBz+B,UAAUw/B,uBAAyB,SAAiCh1B,GACpF,MAAM01B,EAAQD,EAAct3B,MAC5B,GAAI4B,GAA0BC,GAC5B,OAAO+0B,EAA+Bj/B,KAAK4/B,EAAO11B,GAGpD,IACE,OAAO40B,EAAiB9+B,KAAKqI,KAAM,IAAI6B,I,CACvC,MAAArJ,GACA,OAAOo+B,EAA+Bj/B,KAAK4/B,EAAO11B,E,GAItDi0B,EAAkBz+B,UAAU0/B,qBAAuB,SAA+Bl1B,GAChF,MAAM01B,EAAQD,EAAct3B,MAC5B,GACE8B,GAAgBD,IAChBD,GAA0BC,GAE1B,OAAOi1B,EAA6Bn/B,KAAK4/B,EAAO11B,GAE3C,GAAI,YAAY7I,KAAK6I,GAC1B,OAAOi1B,EAA6Bn/B,KAAKo+B,EAAel0B,GAG1D,IACE,OAAO40B,EAAiB9+B,KAAKqI,KAAM6B,E,CACnC,MAAArJ,GACA,OAAOs+B,EAA6Bn/B,KAAK4/B,EAAO11B,E,GAIpDi0B,EAAkBz+B,UAAU4/B,kBAAoB,SAA4Bp1B,GAC1E,MAAM01B,EAAQD,EAAct3B,MAC5B,GAAI4B,GAA0BC,GAC5B,OAAOm1B,EAA0Br/B,KAAK4/B,EAAO11B,GAG/C,IACE,OAAO40B,EAAiB9+B,KAAKqI,KAAM,SAAS6B,K,CAC5C,MAAArJ,GACA,OAAOw+B,EAA0Br/B,KAAK4/B,EAAO11B,E,EAGnD,CAEA,SAAS+zB,GACP35B,EACAsK,EACA+Y,GAEA,MAAM7d,EAAc+N,GAAU/N,YACxBq0B,EAAoBvvB,EAAeqZ,SACnCmW,EAAgBxvB,EAAehH,SAE/Bo4B,EAAsBA,CAAC91B,EAAkB+1B,KAC7C,MAAM,WAAEpa,GAAezmB,OAAOogB,yBAAyB2e,EAAkBz+B,UAAWwK,IAAQ,CAC1F2b,YAAY,GAEd,MAAO,CACLpG,cAAc,EACdoG,aACA7Z,IAAKi0B,EACN,EAGGC,EAAoBA,KACxB,MAAMl9B,EAAgC,CAAC,EACjCm9B,EAA2C,CAE/C,CAAC,cAAe,IAAMxY,EAAQkN,cAAcnzB,MAC5C,CAAC,MAAO,IAAMimB,EAAQkN,cAAcnzB,MACpC,CAAC,kBAAmB,IAAMoI,EAAYs2B,iBACtC,CAAC,mBAAoB,IAAMt2B,EAAYu2B,kBACvC,CAAC,QAAS,IAAMlC,EAAkBz+B,UAAUo/B,iBAAiB9+B,KAAKo+B,EAAe,SACjF,CAAC,SAAU,IAAMD,EAAkBz+B,UAAUo/B,iBAAiB9+B,KAAKo+B,EAAe,QAClF,CAAC,QAAS,IAAMD,EAAkBz+B,UAAUo/B,iBAAiB9+B,KAAKo+B,EAAe,MAEjF,CAAC,kBAAmB,SAAAv9B,EAAA,OAAiC,QAAjCA,EAAMmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEsN,SAAS,GAChE,CAAC,qBAAsB,IAAM7J,IAyB/B,OAtBA67B,EAASh5B,SAASm5B,IAChBt9B,EAAOs9B,EAAK,IAAMN,EAAoBM,EAAK,GAAIA,EAAK,GAAG,IAIzDzE,GAAyB10B,SAAS+C,IAChClH,EAAOkH,GAAO81B,EAAoB91B,GAAK,IAAMJ,EAAYI,IAAK,IAIhE4xB,GAA4B30B,SAAS+C,IACnClH,EAAOkH,GAAO81B,EAAoB91B,GAAK,IAAMub,GAAkC3b,EAAYI,GAAMJ,EAAa,aAAY,IAG5HiyB,GAAsB50B,SAAS+C,IAC7BlH,EAAOkH,GAAO81B,EAAoB91B,GAAK,IAAMJ,EAAYI,IAAK,IAGhE8xB,GAAyB70B,SAAS+C,IAChClH,EAAOkH,GAAO81B,EAAoB91B,GAAK,IAAMub,GAAkC3b,EAAYI,GAAMJ,EAAa,aAAY,IAGrH9G,CAAM,EAGfzD,EAAoB4+B,EAAkBz+B,UAAWwgC,KAGjDtE,GAAsBz0B,SAAStF,IAC7BxC,EAAkB++B,EAAev8B,EAAS,CACxCgkB,YAAY,EACZpG,cAAc,EACdzT,IAAKA,KACHzC,GAA8BjF,GACvBwF,EAAYjI,IAErBkK,IAAMhM,IAAqB+J,EAAYjI,GAAW9B,CAAK,GACvD,GAEN,CAEA,SAASm+B,GAAqB55B,EAAiBsK,GAC7C,MAAM,YAAE9E,EAAW,oBAAE0e,EAAmB,uBAAEC,EAAsB,iBAAEgC,GAAqB5S,GACjFqQ,EAAmB,IAAIpc,IACvBqc,EAAsB,IAAIrc,IAChC,IAAIsc,EAA0B,KAC1BC,EAA6B,KACjC,MAAM8V,EAAoBvvB,EAAeqZ,SACnCmW,EAAgBxvB,EAAehH,SAErC,SAASkjB,EAAgBpd,EAAc6yB,GACrC,OAAO3lB,GAAqBlX,SAASgK,GAAQ6yB,EAAaz2B,C,CAqC5D,SAAS02B,EAAqB9xB,GAC5B,MAAkB,YAAdA,EACM3O,IACFS,EAAW4nB,IACbK,EAAuBzoB,KAAK8J,EAAa,QAASse,GAAgB,GAEhE5nB,EAAWT,IACbqoB,EAAiBroB,EAAMoF,KAAKi5B,GAC5B5V,EAAoBxoB,KAAK8J,EAAa,QAASse,GAAgB,IAE/DA,EAAiBroB,C,EAIfA,IAAqB+J,EAAY4E,GAAalO,EAAWT,GAASA,EAAMoF,KAAKi5B,GAAiBr+B,CAAK,C,CAhD7Go+B,EAAkBz+B,UAAU0lB,iBAAmB,SAC7C1X,EACAkb,EACAhf,GAEA,MAAM6B,EAAUjL,EAAWooB,GAAaA,EAAS6X,6BAA+B7X,EAAS6X,8BAAgC7X,EAASzjB,KAAKkD,MAASugB,EAC1IC,EAAeX,EAAiBlc,IAAI0B,GACtCmb,EACFA,EAAard,IAAIod,GAEjBV,EAAiBnc,IAAI2B,EAAM,IAAInC,IAAI,CAACqd,KAEtCA,IAAaA,EAASE,2BAA6Blf,GACnD4e,EAAoBxoB,KAAK8qB,EAAepd,EAAMrF,MAAOqF,EAAMjC,EAAS7B,E,EAGtEu0B,EAAkBz+B,UAAUwlB,oBAAsB,SAChDxX,EACAkb,EACAhf,GAEA,MAAMif,EAAeX,EAAiBlc,IAAI0B,IAC1B,OAAZmb,QAAY,IAAZA,OAAY,EAAZA,EAAc/H,OAAQ+H,EAAand,IAAIkd,IACzCC,EAAald,OAAOid,GAEtB,MAAMnd,GAAkB,OAARmd,QAAQ,IAARA,OAAQ,EAARA,EAAU6X,+BAAgC7X,EAC1DH,EAAuBzoB,KAAK8qB,EAAepd,EAAMrF,MAAOqF,EAAMjC,EAAS7B,E,EAGzEu0B,EAAkBz+B,UAAU6O,cAAgB,SAAUT,GACpD,OAAO2c,EAAiBzqB,KAAK8qB,EAAoB,OAALhd,QAAK,IAALA,OAAK,EAALA,EAAOJ,KAAMrF,MAAOyF,E,EA0BlE1O,OAAO+B,oBAAoBg9B,EAAkBz+B,WAC1CyI,QAAQ+B,GAAgB,MAAM7I,KAAK6I,KAAS2Q,GAAwBnX,SAASwG,KAC7E/C,SAASuH,IACR,MAAM,WAAEmX,EAAU,SAAEC,EAAQ,IAAE/Z,GAAQ3M,OAAOogB,yBAAyB2e,EAAkBz+B,UAAWgP,IAAc,CAC/GmX,YAAY,EACZC,UAAU,GAGZ,IACEzmB,EAAkB8+B,EAAkBz+B,UAAWgP,EAAW,CACxDmX,aACApG,cAAc,EACdzT,IAAKA,IACe,YAAd0C,EAAgC0Z,EAC7Bte,EAAY4E,GAErB3C,KAAa,OAAR+Z,QAAQ,IAARA,EAAAA,EAAc/Z,GAAMy0B,EAAoB9xB,QAAavO,G,CAE5D,MAAO+F,GACPvB,EAAQuB,EAAG5B,E,KAIjB,MAAMuN,EAAQA,KACZsW,EAAoB7F,QACpB+F,EAAoB,IAAI,EAYpBU,EAASA,KAKbV,EAAoBD,GAAkBC,EAGtCH,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,GAAImb,EAAa/H,KAAM,CACrB,MAAMkI,EAAYb,EAAoBnc,IAAI0B,IAAS,GACnDya,EAAoBpc,IAAI2B,EAAM,IAAInC,IAAI,IAAIyd,KAAcH,I,IAE1D,EAIEI,EAAUA,KAEVZ,IAAsBD,IAAgBgW,EAAclV,QAAUb,GAElEF,EAAoBhhB,SAAQ,CAAC0hB,EAAcnb,KACzC,IAAK,MAAMkb,KAAYC,EACrBuV,EAAchZ,iBAAiB1X,EAAMkb,EAAkB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUE,2B,IAI7DjX,GAAO,EAGHsX,EAAUA,KAEV3oB,EAAW4nB,IACbK,EAAuBzoB,KAAK8J,EAAa,QAASse,GAEpDA,EAAiB,KAGbF,EAAiBpH,OACnBoH,EAAiB/gB,SAAQ,CAAC0hB,EAAcnb,KACtC,IAAK,MAAMkb,KAAYC,EACrBJ,EAAuBzoB,KACrB8qB,EAAepd,EAAM0wB,GACrB1wB,GACQ,OAARkb,QAAQ,IAARA,OAAQ,EAARA,EAAU6X,+BAAgC7X,E,IAIhDV,EAAiB5F,Q,EAIrB,MAAO,CACLzQ,QACAkX,SACAE,UACAE,UAEJ,C,SC9bgBuX,GACdp8B,EACAoB,EACAkJ,EACA+Y,GAEAgZ,GAAgBr8B,EAASsK,EAAgB+Y,GACzCiZ,GAAqBl7B,EAAKkJ,EAC5B,CAMA,SAAS+xB,GACPr8B,EACAsK,EACA+Y,GAEA,MAAMkZ,EAAiBhpB,GAAUgpB,eAC3BC,EAAcjpB,GAAUipB,YACxBh3B,EAAc+N,GAAU/N,YACxBs0B,EAAgBxvB,EAAehH,SAC/Bm5B,EAAgBnyB,EAAe7M,KAC/Bi/B,EAAmBpyB,EAAehN,QAClCq/B,EAAwBryB,EAAesyB,iBAEvCC,EAAsBJ,EAAcrhC,UAAU8Z,YAC9C4nB,EAAuBL,EAAcrhC,UAAU2hC,aAC/CC,EAAuBP,EAAcrhC,UAAU+Y,aAC/C8oB,EAAsBR,EAAcrhC,UAAUyN,YAC9Cq0B,EAAiBR,EAAiBthC,UAAUs9B,OAC5CyE,EAAkBT,EAAiBthC,UAAUgiC,QAC7CC,EAAyBV,EAAsBvhC,UAAUs9B,OACzD4E,EAA0BX,EAAsBvhC,UAAUgiC,QAC1DG,EAAgCb,EAAiBthC,UAAUoiC,sBAC3DC,EAAoBhB,EAAcrhC,UAAUsiC,UAC5CC,EAAmB7iC,OAAOogB,yBAAyBwhB,EAAiBthC,UAAW,aAC/E0nB,EAAoBhoB,OAAOogB,yBAAyBuhB,EAAcrhC,UAAW,cAC7EwiC,EAAuB9iC,OAAOogB,yBAAyBuhB,EAAcrhC,UAAW,iBAEhFyiC,EAAcjiC,IACVoC,EAAgBpC,IAAWuC,EAAcvC,KAAYA,EAAO8J,iBAGhEo4B,EAAgBpqB,GAChBA,IAAW2P,EAAQ0a,UACdv4B,EAAYw4B,KACVtqB,IAAW2P,EAAQ3I,UACrBlV,EAAY2d,KAGdzP,EAGT+oB,EAAcrhC,UAAU8Z,YAAc,SAAuCsN,GAE3E,OADAD,GAAkBC,EAAMxiB,GACpB69B,EAAWrb,GACNqa,EAAoBnhC,KAAKqI,KAAMye,GAEjCga,EAAYphC,UAAU8Z,YAAYxZ,KAAKoiC,EAAa/5B,MAAOye,E,EAGpEia,EAAcrhC,UAAU2hC,aAAe,SAAwCva,EAAStG,GAEtF,OADAqG,GAAkBC,EAAMxiB,GACpB69B,EAAWrb,GACNsa,EAAqBphC,KAAKqI,KAAMye,EAAMtG,GAExCsgB,EAAYphC,UAAU2hC,aAAarhC,KAAKoiC,EAAa/5B,MAAOye,EAAMtG,E,EAG3EugB,EAAcrhC,UAAU+Y,aAAe,SAAwCqO,EAAYtG,GAEzF,OADAqG,GAAkBC,EAAMxiB,GACpB69B,EAAWrb,GACNwa,EAAqBthC,KAAKqI,KAAMye,EAAMtG,GAExCsgB,EAAYphC,UAAU+Y,aAAazY,KAAKoiC,EAAa/5B,MAAOye,EAAMtG,E,EAG3EugB,EAAcrhC,UAAUyN,YAAc,SAAsCo1B,GAC1E,OAAIJ,EAAWI,IAAal6B,KAAKm6B,SAASD,GACjChB,EAAoBvhC,KAAKqI,KAAMk6B,GAEjCzB,EAAYphC,UAAUyN,YAAYnN,KAAKoiC,EAAa/5B,MAAOk6B,E,EAGpEtB,EAAsBvhC,UAAUs9B,OAASgE,EAAiBthC,UAAUs9B,OAAS,YAAoByF,GAC/F,IAAIx+B,EAAI,EAAOy+B,GAAc,EAC7B,MAAOz+B,EAAIw+B,EAAMrhC,OACfqhC,EAAMx+B,GAAKnC,EAAO2gC,EAAMx+B,IAAMw+B,EAAMx+B,GAAKm6B,EAAcI,eAAeiE,EAAMx+B,IACxEk+B,EAAWM,EAAMx+B,MAAKy+B,GAAc,GACxCz+B,IAEF,OAAIy+B,GACMhgC,EAAmB2F,MAAQs5B,EAAyBH,GAAgBxhC,KAAKqI,QAASo6B,GAErF5B,EAAenhC,UAAUs9B,OAAOh9B,KAAKoiC,EAAa/5B,SAAUo6B,E,EAGrExB,EAAsBvhC,UAAUgiC,QAAUV,EAAiBthC,UAAUgiC,QAAU,YAAqBe,GAClG,IAAIx+B,EAAI,EAAOy+B,GAAc,EAC7B,MAAOz+B,EAAIw+B,EAAMrhC,OACfqhC,EAAMx+B,GAAKnC,EAAO2gC,EAAMx+B,IAAMw+B,EAAMx+B,GAAKm6B,EAAcI,eAAeiE,EAAMx+B,IACxEk+B,EAAWM,EAAMx+B,MAAKy+B,GAAc,GACxCz+B,IAEF,OAAIy+B,GACMhgC,EAAmB2F,MAAQu5B,EAA0BH,GAAiBzhC,KAAKqI,QAASo6B,GAEvF5B,EAAenhC,UAAUgiC,QAAQ1hC,KAAKoiC,EAAa/5B,SAAUo6B,E,EAQtEzB,EAAiBthC,UAAUoiC,sBAAwB,SAAgCa,EAAuB94B,GAExG,OADAgd,GAAkBhd,EAASvF,GACvB69B,EAAWt4B,GACNg4B,EAA8B7hC,KAAKqI,KAAMs6B,EAAO94B,GAElDg3B,EAAenhC,UAAUoiC,sBAAsB9hC,KAAKoiC,EAAa/5B,MAAOs6B,EAAO94B,E,EAUxFxK,EAAkB0hC,EAAcrhC,UAAW,UAAW,CACpD+f,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAO2b,EAAQ5H,YAAYpa,SAASjE,I,IAIxCrC,EAAkB0hC,EAAcrhC,UAAW,gBAAiB,CAC1D+f,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,G,MACE,OAAO3D,KAAK2B,kBAAoB3B,OAAS+1B,EACb,QAD0B,EAClD8D,EAAqBl2B,WAAG,IAAAnL,OAAA,EAAAA,EAAEb,KAAKqI,MAC/B+1B,C,IAKR/+B,EAAkB0hC,EAAcrhC,UAAW,aAAcynB,GACvD7iB,EACA8iB,IAGF2Z,EAAcrhC,UAAU2nB,YAAc,WACpC,OAAO+W,C,EAQT2C,EAAcrhC,UAAUsiC,UAAY,SAAoBY,GACtD,MAAMC,EAAad,EAAkB/hC,KAAKqI,KAAMu6B,GAChD,OAAO/b,GAAkBgc,EAAYv+B,E,EAGvCjF,EAAkB2hC,EAAiBthC,UAAW,YAAa,CACzD+f,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,G,MACE,OAA2B,QAA3BnL,EAAOohC,EAAiBj2B,WAAG,IAAAnL,OAAA,EAAAA,EAAEb,KAAKqI,K,EAEpC0D,GAAAA,CAAKiE,G,MACiB,QAApBnP,EAAAohC,EAAiBl2B,WAAG,IAAAlL,GAAAA,EAAEb,KAAKqI,KAAM2H,GACjC9Q,MAAM6Z,KAAK1Q,KAAKkY,UAAUpZ,SAASqZ,IAC7B7e,EAAU6e,IACZqG,GAAkBrG,EAAOlc,E,OAOjC,MAAMm2B,EAAa,IAAIjR,MAAM5a,EAAe4rB,MAAO,CACjD6C,SAAAA,CAAWC,EAAQv4B,GACjB,MAAM+9B,EAAe,IAAIxF,KAAUv4B,GAEnC,OADA8hB,GAAkBic,EAAcx+B,GACzBw+B,C,IAIXzjC,EAAkBuP,EAAgB,QAAS,CACzC6Q,cAAc,EACdqG,UAAU,EACV/lB,MAAO06B,GAEX,CAEA,SAASmG,GAAsBl7B,EAAakJ,GAC1C,MAAMoyB,EAAmBpyB,EAAehN,QAClCmhC,EAAuB/B,EAAiBthC,UAAUsnB,aAExDga,EAAiBthC,UAAUsnB,aAAe,SAAuB9c,EAAanK,GAC5E,GACE,qBAAqBsB,KAAKgH,KAAKxG,UACvB,SAARqI,GACA7B,KAAK2e,eAAiBga,EAAiBthC,UAAUsnB,aAEjD3e,KAAK2e,aAAa9c,EAAKnK,OAClB,CACL,IACY,QAARmK,GAAyB,WAARA,IAAqB,2CAA2C7I,KAAKgH,KAAKxG,UACpF,SAARqI,GAAkB,kBAAkB7I,KAAKgH,KAAKxG,UAEtC,SAARqI,GAAkB,SAAS7I,KAAKgH,KAAKxG,WAAa,KAAKR,KAAKtB,GAC7D,CACA,IAAIijC,EAAOt9B,EACPhH,GAAqB,SAARwL,GAAkB,OAAO7I,KAAKgH,KAAKxG,UAAYrB,EAAW6N,GAASzE,QAAQq5B,qBAAuB50B,GAASzE,QAAQq5B,mBAAmBljC,KACrJijC,EAAOp7B,SAASnB,SAElB1G,EAAQyG,GAAezG,EAAOijC,E,CAEhCD,EAAqB/iC,KAAKqI,KAAM6B,EAAKnK,E,GAIzC,MAAMmjC,EAA8C,CAClD,CAACt0B,EAAeu0B,iBAAiBzjC,UAAW,OAC5C,CAACkP,EAAew0B,kBAAkB1jC,UAAW,OAC7C,CAACkP,EAAey0B,gBAAgB3jC,UAAW,QAC3C,CAACkP,EAAe00B,gBAAgB5jC,UAAW,SAS7CwjC,EAAc/7B,SAAQ,EAAEjH,EAAQgM,MAC9B,MAAM,WAAE2Z,EAAU,aAAEpG,EAAY,IAAEzT,EAAG,IAAED,GAAQ3M,OAAOogB,yBAAyBtf,EAAQgM,IAAS,CAC9F2Z,YAAY,EACZpG,cAAc,GAGhBpgB,EAAkBa,EAAQgM,EAAM,CAC9B2Z,aACApG,eACAzT,IAAK,WACH,OAAU,OAAHA,QAAG,IAAHA,OAAG,EAAHA,EAAKhM,KAAKqI,K,EAEnB0D,IAAK,SAAUhM,GACV,OAAHgM,QAAG,IAAHA,GAAAA,EAAK/L,KAAKqI,KAAM7B,GAAezG,EAAO2F,G,GAExC,GAEN,C,MCnOqB69B,GAwBnBriC,WAAAA,CAAaoD,EAAiBoB,GAtBtB,KAAA4xB,QAAS,EAKV,KAAAlR,iBAAkC,GA8VlC,KAAAsK,iBAAmB,K,MAER,QAAhB7vB,EAAAwH,KAAKm7B,mBAAW,IAAA3iC,GAAAA,EAAEmmB,aAAa,OAAQ1jB,EAAU+E,KAAK3C,KAAKI,OAASuC,KAAKwsB,cAActxB,SAAS,EA9UhG8E,KAAK/D,QAAUA,EACf+D,KAAK3C,IAAMA,EACX,MAAMonB,EAAcjV,GAAU7R,UAAUL,SAClC4uB,EAAczH,EAAYlnB,SAAW,KAAOknB,EAAYziB,KAE9DhC,KAAKo7B,oBAAsBp7B,KAAKq7B,oBAAoBp/B,EAASiwB,EAAczH,EAAYvpB,UACvF8E,KAAKuG,eAAiBvG,KAAKiT,OAAQqoB,cAEnCt7B,KAAKu7B,YAAYv7B,KAAKuG,gBAAiB3J,IAErCoD,KAAKw7B,qBAAqBx7B,KAAKuG,gBAE/BvG,KAAKmvB,qBAAqBlzB,GAE1B+D,KAAKwsB,cAAgB4C,GAAYnzB,EAASoB,EAAK2C,KAAKuG,eAAgB2lB,GAEpElsB,KAAKqvB,aAAe+F,GAAYn5B,EAAS+D,KAAKuG,eAAgBvG,MAE9DA,KAAKwf,eAAiBkW,GAAcz5B,EAAS+D,KAAKuG,eAAgBvG,MAElEq4B,GAAap8B,EAASoB,EAAK2C,KAAKuG,eAAgBvG,MAOhDA,KAAKuvB,qBAAqBtzB,EAASoB,EAAK2C,KAAKuG,gBAC7C3J,GAAS,G,CAUby+B,mBAAAA,CACEp/B,EACAw/B,GAEAz7B,KAAKiT,OAAS3R,GAAkB,UAEhC,MAAMo6B,EAAsC,CAC1CC,GAAI1/B,EACJkY,IAAKnO,GAASzE,QAAQq6B,WAAaH,EACnCI,MAAO,gBACP,aAAc,aAgBhB,OAbA9kC,OAAOwO,KAAKm2B,GAAa58B,SAAS+C,GAAQ7B,KAAKiT,OAAQ0L,aAAa9c,EAAK65B,EAAY75B,MAGrF2N,GAAU/N,YAAY2d,KAAKjO,YAAYnR,KAAKiT,QAUrC,IAAMzW,GAAM,K,QAEM,QAAvByY,EAAW,QAAXzc,EAAAwH,KAAKiT,cAAM,IAAAza,OAAA,EAAAA,EAAE0Y,kBAAU,IAAA+D,GAAAA,EAAEnQ,YAAY9E,KAAKiT,QAC1CjT,KAAKiT,OAAS,IAAI,G,CAIfuc,KAAAA,EAAO,UACZE,EAAS,YACTlC,EAAW,oBACXmC,IAEI3vB,KAAKivB,SACTjvB,KAAKivB,QAAS,EAWdjvB,KAAK4vB,eAAepC,GAGpBxtB,KAAK6vB,sBAAwBxJ,GAC3BrmB,KAAKuG,eAAe7E,oBAGlBqjB,GAAmB/kB,KAAKuG,eAAe7E,sBACzC1B,KAAKuG,eAAeupB,yBAA2B9vB,KAAKuG,eAAewpB,uBAAyBL,GAQzFC,GACH3vB,KAAK87B,mBAG2B,MAA5BtsB,GAAU0gB,gBACdC,KACA9G,QAGI6R,GAAc9K,Y,CAKfC,IAAAA,EAAM,QACXZ,EAAO,eACP7B,EAAc,QACd0C,EAAO,UACPpW,I,MAGKla,KAAKivB,SAEVjvB,KAAKuwB,uBAAuB,CAAErW,cAAcuV,GAAWa,GAIvDtwB,KAAKwwB,gBAAgB5C,GAGK,QAA1Bp1B,EAAAwH,KAAK6vB,6BAAqB,IAAAr3B,GAAAA,EAAAb,KAA1BqI,MAGKyvB,IAAWa,IACdtwB,KAAKo7B,sBAELp7B,KAAKywB,uBAG2B,MAA5BjhB,GAAU0gB,gBACdQ,KACApH,QAGI4R,GAAc9K,YAIpBpwB,KAAKivB,QAAS,E,CAURM,oBAAAA,CACNtzB,EACAoB,EACAkJ,GAEAA,EAAeqW,2BAA4B,EAC3CrW,EAAe7E,mBAAqBzF,EACpCsK,EAAe0pB,kBAAoB5yB,EACnCkJ,EAAeoqB,0BAA4B3yB,GAAiBX,GAC5DkJ,EAAeupB,yBAA2B,GAC1CvpB,EAAeqqB,qBAAuBrqB,EACtCA,EAAesqB,0BAA2B,EAC1CtqB,EAAeoW,wBAAyB,EACxCpW,EAAekR,2BAA6BzX,KAAK0X,YACjDnR,EAAeuqB,sBAAwB9wB,KACvCuG,EAAewqB,2BAA6B,SAC5CxqB,EAAe5I,UAAY6R,GAAU7R,UACrC4I,EAAe9E,YAAc+N,GAAU/N,YACvC8E,EAAeP,SAAWlP,EAAO,IAAI2kB,GAAuBxf,GAAU,CACpEmF,kBACAE,qBACAhE,SAAU0C,KAAKwsB,cACflC,W,CAiBGiG,sBAAAA,CACLhvB,EACAyvB,GAAgB,GAEZA,EACFhxB,KAAKixB,sBAELjxB,KAAKkxB,uBAEPlxB,KAAKmxB,oBAAoB5vB,E,CASpB0vB,mBAAAA,G,QACY,QAAjBz4B,EAAAwH,KAAKqvB,oBAAY,IAAA72B,GAAAA,EAAEgR,QACA,QAAnByL,EAAAjV,KAAKwf,sBAAc,IAAAvK,GAAAA,EAAEzL,QACrB4S,GAAwBpc,KAAKuG,eAAeP,S,CAUvCkrB,oBAAAA,G,QACY,QAAjB14B,EAAAwH,KAAKqvB,oBAAY,IAAA72B,GAAAA,EAAEkoB,SACA,QAAnBzL,EAAAjV,KAAKwf,sBAAc,IAAAvK,GAAAA,EAAEyL,SACrB7E,GAAyB7b,KAAKuG,eAAeP,S,CAIxCorB,qBAAAA,G,QACY,QAAjB54B,EAAAwH,KAAKqvB,oBAAY,IAAA72B,GAAAA,EAAEooB,UACA,QAAnB3L,EAAAjV,KAAKwf,sBAAc,IAAAvK,GAAAA,EAAE2L,UACrBzE,GAA0Bnc,KAAKuG,eAAeP,S,CAazCmrB,mBAAAA,EAAqB,UAAEjX,GAAY,I,cACvB,QAAjB1hB,EAAAwH,KAAKqvB,oBAAY,IAAA72B,GAAAA,EAAEsoB,UACA,QAAnB7L,EAAAjV,KAAKwf,sBAAc,IAAAvK,GAAAA,EAAE6L,UACO,QAA5B9L,EAAAhV,KAAKuG,eAAeP,gBAAQ,IAAAgP,GAAAA,EAAEwG,oBACF,QAA5B0D,EAAAlf,KAAKuG,eAAeP,gBAAQ,IAAAkZ,GAAAA,EAAEhE,0BAC1BhB,IACFlU,GAASkU,UAAUla,KAAKuG,eAAe7E,oBACX,QAA5Bq6B,EAAA/7B,KAAKuG,eAAeP,gBAAQ,IAAA+1B,GAAAA,EAAE7hB,Y,CAK3BqX,iBAAAA,CAAmBjO,GACxBtjB,KAAKuG,eAAesqB,yBAA2BvN,C,CAI1CkO,WAAAA,CAAalO,GAClBtjB,KAAKuG,eAAeoW,uBAAyB2G,C,CAIvCiY,WAAAA,CAAah1B,EAAoCmU,GACvD,MAAMshB,EAAmBz1B,EAAehH,SACxCS,KAAK8pB,aAAe,IAAIntB,SAAeC,KACrC,SAAUq/B,IACRh/B,YAAW,KACT,IAMMsJ,EAAehH,WAAay8B,EAC9BC,KAQA11B,EAAe8pB,OACf3V,EAAG9d,G,CAEL,MAAOiB,GACPo+B,G,IAED,EACJ,EAxBD,EAwBI,G,CAKAT,oBAAAA,CAAsBj1B,GAC5B,MAAMwvB,EAAgBxvB,EAAehH,SACrCoF,GAASoxB,GACT,MAAM/kB,EAAO+kB,EAAcv2B,cAAc,QACzCwR,EAAKkrB,UAAY,6BACjBnG,EAAc5kB,YAAYH,GAG1BhR,KAAK2W,UAAYof,EAAc3W,KAC/Bpf,KAAKg6B,UAAYjE,EAAckE,I,CAOzB6B,gBAAAA,GACN97B,KAAKm7B,YAAc75B,GAAkB,QACrCtB,KAAKqoB,mBACLroB,KAAKg6B,UAAU7oB,YAAYnR,KAAKm7B,Y,CAa1BhM,oBAAAA,CAAsBlzB,G,MACxB7D,EAAc4N,GAASzE,QAAQkG,WACjCzH,KAAKsxB,iCAAiCtrB,GAASzE,QAAQkG,QAAQjR,QAC/DwJ,KAAKsxB,iCAAiE,QAAjC94B,EAACwN,GAASzE,QAAQkG,QAAQI,eAAO,IAAArP,OAAA,EAAAA,EAAGyD,I,CAKrEq1B,gCAAAA,CAAkC7pB,GACxC,GAAI7Q,EAAQ6Q,GACV,IAAK,MAAMM,KAAUN,EACfrP,EAAc2P,IACZnR,EAAQmR,EAAOgW,oBACjB/d,KAAK+d,iBAAmB/d,KAAK+d,iBAAiB5L,OAAOpK,EAAOgW,kB,CAO9D6R,cAAAA,CAAgBpC,GACtBD,GACEvtB,KAAKuG,eAAe7E,mBACpB1B,KAAKuG,eAAejJ,SACpBkwB,E,CAIIgD,eAAAA,CAAiB5C,GACvBD,GACE3tB,KAAKuG,eAAe7E,mBACpB1B,KAAKuG,eAAe0pB,kBACpBjwB,KAAKuG,eAAejJ,SACpBswB,E,CAIG4E,2BAAAA,GACL9E,GACE1tB,KAAKuG,eAAe7E,mBACpB1B,KAAKuG,eAAejJ,S,CAIjBm1B,8BAAAA,GACLhF,GAAsBztB,KAAKuG,eAAe7E,mB,CAOrCgxB,kBAAAA,CAAoB5sB,GACzBwY,GAAiBxY,EAAW9F,KAAKuG,eAAe7E,mB,CAU3CixB,wBAAAA,CAA0B7sB,EAAiC8sB,GAChE5yB,KAAK0yB,mBAAmB5sB,GACxB9F,KAAKywB,oBAAsBzwB,KAAK6yB,eAAe7yB,KAAK/D,QAAS+D,KAAKuG,eAAgBqsB,E,CAI5EC,cAAAA,CACN52B,EACAsK,EACAqsB,GAEA,IAAIE,EAAoBC,EAAsBC,EAgC9C,OA/BA97B,EAAoBqP,EAAgB,CAClCusB,MAAO,CACL1b,cAAc,EACdzT,IAAKA,IAAMmvB,EACXpvB,IAAMhM,IACAsI,KAAKivB,QAAU92B,EAAWT,KAAWo7B,GACvCF,EAAeE,EAAQp7B,EAAOq7B,E,GAIpCA,QAAS,CACP3b,cAAc,EACdzT,IAAKA,IAAMovB,EACXrvB,IAAMhM,IACAsI,KAAKivB,QAAU92B,EAAWT,KAAWq7B,GACvCH,EAAeE,EAAOC,EAAUr7B,E,GAItC,CAAC,aAAauE,KAAY,CACxBmb,cAAc,EACdzT,IAAKA,IAAMqvB,EACXtvB,IAAMhM,IACAsI,KAAKivB,QAAU72B,EAAcV,KAAWs7B,IAC1CA,EAAkBt7B,EAClBk7B,EAAeI,EAAgBF,MAAOE,EAAgBD,S,KAMvD,KACLD,EAAQC,EAAUC,EAAkB,IAAI,C,CAIrCC,iBAAAA,CAAmB3P,GACxBtjB,KAAKuG,eAAeid,oBAAsBF,C,EA7drC4X,GAAA9K,YAAc,ECvBhB,MAAMzU,GAAiB,IAAIlY,I,MAiBb04B,GAyBnBtjC,WAAAA,EAAa,KACXJ,EAAI,IACJ4E,EAAG,UACHyI,EAAS,SACTgH,EAAQ,WACRkG,EAAU,OACVI,EAAM,OACNH,EAAM,OACNlM,EAAM,WACNyO,EAAU,cACVK,EAAa,WACbmQ,IAnCM,KAAA1C,MAAgB3U,GAAUytB,QAC1B,KAAAC,eAAgC,KAChC,KAAAC,gBAA4B,EAC5B,KAAAC,aAA4B,KAC5B,KAAAC,eAA8B,KAE/B,KAAA/M,SAAU,EAGV,KAAAnpB,QAAuD,KAYvD,KAAAqP,OAAQ,EAgBbgG,GAAejY,IAAIjL,EAAMuH,MAEzBA,KAAKvH,KAAOA,EACZuH,KAAK3C,IAAMA,EACX2C,KAAKgT,WAAaA,EAClBhT,KAAK8M,SAAW9M,KAAKgT,YAAclG,EAEnC9M,KAAKiT,OAAe,OAANA,QAAM,IAANA,GAAAA,EACdjT,KAAKoT,OAASpT,KAAKy8B,mBAAmBrpB,GAKtCpT,KAAKgmB,WAAaA,GAAcrU,GAGhC3R,KAAK8F,UAAqB,OAATA,QAAS,IAATA,EAAAA,EAAa,KAC9B9F,KAAK+G,OAAe,OAANA,QAAM,IAANA,EAAAA,EAAU,GAGxB/G,KAAKwV,WAAuB,OAAVA,QAAU,IAAVA,GAAAA,EAClBxV,KAAKyV,YAAgC,IAAlBI,EACnB7V,KAAK6V,cAAgBA,EAErB7V,KAAKgQ,OAAS,CAAEgB,KAAM,KAAMf,MAAO,IAAI/M,IAAO0R,QAAS,IAAI1R,KAC3DlD,KAAK08B,iBACL18B,KAAK28B,e,CAIAD,cAAAA,GACL18B,KAAK48B,YAAYjuB,GAAUkuB,SAC3Bl2B,GAAWC,cAAcC,IAAI7G,KAAMqY,G,CAO9BtH,MAAAA,EAAQ,KACbC,EAAI,YAEJwc,EAAW,WACXxH,EAAU,UACV0J,EAAS,oBACTC,I,MAEA,GAA+B,MAAzB3vB,KAAKs8B,gBAAuB,CAEhC,GADAt8B,KAAKgQ,OAAOgB,KAAOA,EACfhR,KAAK88B,cAAe,OACxB,GAAK98B,KAAKwV,YAEH,GAAIxV,KAAKyV,YAAa,CAkB3B,MAAM3P,EAAYxE,GAAkB,OACpCwE,EAAU6Y,aAAa,YAAa,QACxB,QAAZnmB,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAE+4B,mBAAkB,GAChCvxB,KAAK8yB,MAAM,CACThtB,YACAsN,OAAQpT,KAAKoT,OACbuC,OAAO,EACP6X,YAAaA,GAAe,GAC5BmC,oBAAwC,OAAnBA,QAAmB,IAAnBA,GAAAA,EACrB3J,WAAYA,EACZ0J,UAAWA,GAAa,I,OA7B1B3tB,GAAiB/B,KAAK8F,WAAYgtB,MAAM9yB,K,EAuCvCuH,WAAAA,CAAa1J,GAClBmC,KAAKs8B,iBAAmB,EAEnBt8B,KAAK88B,gBACR98B,KAAKoH,QAAQvJ,GACbmC,KAAK48B,YAAYjuB,GAAUouB,a,CAcxBjK,KAAAA,EAAO,UACZhtB,EAAS,OACTsN,EAAM,WACN4S,EAAU,YACVwH,EAAW,UACXkC,EAAS,oBACTC,EAAmB,MACnBha,IAEA,GAA6B,IAAzB3V,KAAKs8B,gBAkBP,OAXAt8B,KAAK8F,UAAYA,EAEjB9F,KAAKyV,aAAc,EAInBtP,GAA8BnG,KAAM,cAAe,CACjDg9B,SAAUruB,GAAUkuB,UAIf78B,KAAK48B,YAAYjuB,GAAUkuB,SAGpC78B,KAAK28B,gBAGL38B,KAAK48B,YAAYjuB,GAAUsuB,cAE3B,MAAMC,EAAaA,K,kBAUjB,GACEl9B,KAAKyV,aACLvb,EAAa8F,KAAK8F,YAClB9F,KAAK8F,UAAUqH,aAAa,aAS5BnN,KAAK8F,UAAY9F,KAAKm9B,eAAer3B,EAAW9F,KAAK8F,WAAW,GAQpD,QAAZtN,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAE44B,wBACM,QAApBnc,EAAAjV,KAAKo9B,uBAAe,IAAAnoB,GAAAA,EAAEnW,SAAS4b,GAAOA,MAEtC1a,KAAKyV,aAAc,EACnBzV,KAAKo9B,gBAAkB,KAEvB9S,GAAOI,YAAY1qB,KAAKvH,MACZ,QAAZuc,EAAAhV,KAAKsG,eAAO,IAAA0O,GAAAA,EAAEuc,mBAAkB,OAC3B,CACLvxB,KAAK8F,UAAYA,EACjB9F,KAAKoT,OAASpT,KAAKy8B,mBAAmBrpB,GACtCpT,KAAK2V,MAAQA,EACb3V,KAAKgmB,WAAaA,EAElB,MAAMqX,EAAsBA,KAC1B13B,GACE3F,KAAK8F,UACL9F,KAAKvH,KACLwN,GAAWq3B,YACZ,EA0BH,GAvBIt9B,KAAKyV,aACc,QAArByJ,EAAClf,KAAKo9B,uBAAe,IAAAle,EAAAA,EAApBlf,KAAKo9B,gBAAoB,IAAIx6B,KAAKy6B,GAEnCA,IAGFr9B,KAAK48B,YAAYjuB,GAAU4uB,UAG3Bp3B,GAA8BnG,KAAM,cAAe,CACjDg9B,SAAUruB,GAAU4uB,WAItBv9B,KAAKm9B,eAAen9B,KAAK8F,UAAW9F,KAAKgQ,OAAOgB,MAAOhR,KAAKyvB,SAEhD,QAAZsM,EAAA/7B,KAAKsG,eAAO,IAAAy1B,GAAAA,EAAEvM,MAAM,CAClBC,QAASzvB,KAAKyvB,QACdC,YACAlC,cACAmC,wBAGG3vB,KAAKyvB,QA8BH,CACO,QAAZ+N,EAAAx9B,KAAKsG,eAAO,IAAAk3B,GAAAA,EAAEpM,wBACd,IACEpxB,KAAKy9B,cAAcz9B,KAAKu8B,aAAcv2B,GAASoU,QAAQpa,KAAKvH,MAAM,I,CAClE,MAAOoF,GACP9B,EAAS,kCAAmCiE,KAAKvH,KAAMoF,E,OAjC7C,QAAZ6/B,EAAA19B,KAAKsG,eAAO,IAAAo3B,GAAAA,EAAE/K,yBAAyB3yB,KAAK8F,WAAW,CAACgtB,EAAOC,K,MAC7D,IAAK/yB,KAAKyvB,UAAYzvB,KAAK88B,gBACzB98B,KAAKu8B,aAAepkC,EAAW26B,GAASA,EAAQ,KAEhD9yB,KAAKw8B,eAAiBrkC,EAAW46B,GAAWA,EAAU,KAElD56B,EAAW6H,KAAKu8B,eAAiBpkC,EAAW6H,KAAKw8B,iBAAiB,CACxD,QAAZhkC,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAEg5B,YAAYxxB,KAAKyvB,SAAU,GACzC,IAEMzvB,KAAK29B,gBAAkBhvB,GAAUivB,QACnC59B,KAAKu8B,aAAav2B,GAASoU,QAAQpa,KAAKvH,MAAM,IAE9CuH,KAAKy9B,cAAcz9B,KAAKu8B,aAAav2B,GAASoU,QAAQpa,KAAKvH,MAAM,I,CAEnE,MAAOoF,GACP9B,EAAS,kCAAmCiE,KAAKvH,KAAMoF,E,MAO/DmY,GAAYhW,MAAOnB,IACZmB,KAAKyvB,UAA0B,IAAf5wB,GACnBmB,KAAKy9B,e,MAwBfz9B,KAAKsG,QAAUtG,KAAKsG,QAAQwjB,aAAajtB,MAAK,KAAOmD,KAAK88B,eAAiBI,MAAgBA,G,CAOrFO,aAAAA,CAAeI,G,QACrB,MAAMC,EAAiBA,KACrB,MAAMZ,EAAaA,IAAMl9B,KAAK+9B,sBAC1BzlC,EAAUulC,GACZA,EACGhhC,KAAKqgC,GACL/9B,OAAOtB,IACN9B,EAAS,uCAAwCiE,KAAKvH,KAAMoF,GAC5Dq/B,GAAY,IAGhBA,G,EAIAl9B,KAAKyV,aACa,QAApBjd,EAAAwH,KAAKo9B,uBAAe,IAAA5kC,GAAAA,EAAEoK,KAAKk7B,GACf,QAAZ7oB,EAAAjV,KAAKsG,eAAO,IAAA2O,GAAAA,EAAEsb,uBAAuB,CAAE9a,aAAa,KAEpDqoB,G,CAOIC,mBAAAA,G,MACD/9B,KAAK88B,gBACR98B,KAAK48B,YAAYjuB,GAAUivB,SAE3Bn5B,GACEzE,KAAKg+B,sBAAsBpvB,GAAiBqvB,SAC5Cj+B,KAAKvH,KACLmW,GAAiBqvB,QACjBj4B,GAASoU,QAAQpa,KAAKvH,MAAM,IAI9B0N,GAA8BnG,KAAM,cAAe,CACjDg9B,SAAUruB,GAAUivB,UAItBz3B,GAA8BnG,KAAM,WAGpC2F,GACE3F,KAAK8F,UACL9F,KAAKvH,KACLwN,GAAW23B,SAQT59B,KAAKk+B,aACK,QAAZ1lC,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAE+3B,uBAAuB,CAAEc,WAAW,K,CAsBjD0B,OAAAA,EAAS,QACdzC,EAAO,UACPpW,EAAS,eACT0T,EAAc,UACduQ,I,MAEA7N,EAAUA,GAAWtwB,KAAKsjB,QAAU3U,GAAUouB,YAE9C/8B,KAAK48B,YAAYjuB,GAAUyvB,SAE3B,IACEp+B,KAAKq+B,gBACH/N,EACApW,EACA0T,EACAuQ,EACmB,QADV3lC,EACTwH,KAAKw8B,sBAAc,IAAAhkC,OAAA,EAAAA,EAAAb,KAAnBqI,KAAsBgG,GAASoU,QAAQpa,KAAKvH,MAAM,I,CAEpD,MAAOoF,GACP9B,EAAS,oCAAqCiE,KAAKvH,KAAMoF,E,EAYrDwgC,eAAAA,CACN/N,EACApW,EACA0T,EACAuQ,EACAG,GAGAn4B,GAA8BnG,KAAM,cAAe,CACjDg9B,SAAUruB,GAAUyvB,UAItBj4B,GAA8BnG,KAAM,WAGpCyE,GACEzE,KAAKg+B,sBAAsBpvB,GAAiB2vB,WAC5Cv+B,KAAKvH,KACLmW,GAAiB2vB,WAGnB,MAAMrB,EAAaA,IAAMl9B,KAAKw+B,sBAAsB,CAClDlO,UACApW,YACA0T,iBACAuQ,cAGE7lC,EAAUgmC,IAEZl9B,KACAk9B,EACGzhC,KAAKqgC,GACL/9B,OAAOtB,IACN9B,EAAS,yCAA0CiE,KAAKvH,KAAMoF,GAC9Dq/B,GAAY,KAGhBA,G,CAWIsB,qBAAAA,EAAuB,QAC7BlO,EAAO,UACPpW,EAAS,eACT0T,EAAc,UACduQ,I,MAEIn+B,KAAKyvB,SAAWzvB,KAAK8F,YAAcwqB,GACrCtwB,KAAKm9B,eAAen9B,KAAKgQ,OAAOgB,KAAMhR,KAAK8F,WAA0B,GAS3D,QAAZtN,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAE63B,KAAK,CACjBZ,QAASzvB,KAAKyvB,QACd7B,eAAgBA,IAAmB0C,EACnCA,UACApW,UAAWA,GAAaoW,IAI1B3qB,GACE3F,KAAK8F,UACL9F,KAAKvH,KACLwN,GAAWm4B,SAGbp+B,KAAKy+B,aAAanO,GAET,OAAT6N,QAAS,IAATA,GAAAA,G,CAGMM,YAAAA,CAAcnO,G,QACpBtwB,KAAKyV,aAAc,EACnBzV,KAAKo9B,gBAAkB,KACvBp9B,KAAK0+B,kBAAkB,MACnB1+B,KAAK8F,WACP9F,KAAK8F,UAAUo2B,UAAY,GAC3Bl8B,KAAK8F,UAAY,MACP9F,KAAKyvB,SAKkB,QAAjCxa,EAAY,QAAZzc,EAAAwH,KAAKsG,eAAO,IAAA9N,OAAA,EAAAA,EAAE4iC,2BAAmB,IAAAnmB,GAAAA,EAAAtd,KAAAa,GAQ/BwH,KAAKiT,SAAWjT,KAAKyvB,UAASzvB,KAAKsG,QAAU,MAC7CgqB,GAAStwB,KAAK2+B,8BAClBv9B,I,CAIKu9B,2BAAAA,G,QAC4B,QAAjC1pB,EAAY,QAAZzc,EAAAwH,KAAKsG,eAAO,IAAA9N,OAAA,EAAAA,EAAE4iC,2BAAmB,IAAAnmB,GAAAA,EAAAtd,KAAAa,GACjCuW,GAAaR,OAAOC,iBAAiBxO,KAAKgQ,OAAO4E,SACjD+G,GAAerY,OAAOtD,KAAKvH,K,CAItBmmC,kBAAAA,CAAoBn+B,G,QACzBT,KAAK0+B,kBAAkB7vB,GAAgBgwB,mBASvC14B,GAA8BnG,KAAM,kBAAmB,CACrDg9B,SAAU,gBAIZr3B,GACE3F,KAAK8F,UACL9F,KAAKvH,KACLwN,GAAW64B,aAGTpa,GAAmB1kB,KAAKvH,QAEd,QAAZD,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAEi6B,kCAMa,IAAzBzyB,KAAKs8B,gBACPv6B,GAAiB/B,KAAK8F,WAAYitB,WAElC/yB,KAAK8F,UAAY9F,KAAKm9B,eACpB77B,GAAkB,OAClBtB,KAAK8F,WACL,GAGU,QAAZmP,EAAAjV,KAAKsG,eAAO,IAAA2O,GAAAA,EAAEsb,uBAAuB,CAAEc,WAAW,KAG5C,OAAR5wB,QAAQ,IAARA,GAAAA,G,CAIKs+B,gBAAAA,CAAkBj5B,G,QAOvB,MAAMk5B,EAAeh/B,KAAK8F,UAC1B9F,KAAK8F,UAAYA,EACL,QAAZtN,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAE44B,wBAGdjrB,GAA8BnG,KAAM,kBAAmB,CACrDg9B,SAAU,eAIZr3B,GACEG,EACA9F,KAAKvH,KACLwN,GAAWg5B,YAGbj/B,KAAK0+B,kBAAkB7vB,GAAgBqwB,iBAEvCl/B,KAAKm9B,eACHn9B,KAAK8F,UACLk5B,GACA,GAQEta,GAAmB1kB,KAAKvH,QAEd,QAAZwc,EAAAjV,KAAKsG,eAAO,IAAA2O,GAAAA,EAAEud,+BAIhBrsB,GAA8BnG,KAAM,kBAAmB,CACrDg9B,SAAU,cAIZr3B,GACE3F,KAAK8F,UACL9F,KAAKvH,KACLwN,GAAWk5B,U,CAQR/3B,OAAAA,CAASvJ,GAEdsI,GAA8BnG,KAAM,cAAe,CACjDg9B,SAAUruB,GAAUouB,cAGtBp3B,GACE3F,KAAK8F,UACL9F,KAAKvH,KACLwN,GAAWm5B,MACXvhC,E,CAUGya,eAAAA,CAAiB+mB,G,MACtB,MAAMC,GAAwB,QAAZ9mC,EAAAwH,KAAKsG,eAAO,IAAA9N,OAAA,EAAAA,EAAEkf,aAC5B1X,KAAKsG,QAAQoR,YAAY4nB,UACzB9vB,GAAU7R,UAAU2hC,UACxB,OAAQ,IAAIA,GAAaC,gBAAgBF,EAAY,aAAajgB,I,CAS5D+d,cAAAA,CACNtlC,EACA4F,EACA88B,GASA,OANI98B,GAAU5F,IACZA,EAAOqkC,UAAY,GACnBrlC,MAAM6Z,KAAK6pB,EAAOv6B,KAAKsY,gBAAgB7a,EAAOy+B,WAAW3d,WAAa9gB,EAAO8gB,YAAYzf,SAAS2f,IAChG5mB,EAAOsZ,YAAYsN,EAAK,KAGrB5mB,C,CASD8kC,aAAAA,GACF38B,KAAKgT,aAAehT,KAAKsG,UAC3BtG,KAAKsG,QAAUtG,KAAKiT,OAAS,IAAIioB,GAAcl7B,KAAKvH,KAAMuH,KAAK3C,KAAO,IAAI2xB,GAAYhvB,KAAKvH,KAAMuH,KAAK3C,K,CAKnGu/B,WAAAA,CAAatZ,G,MAClBtjB,KAAKsjB,MAAQA,EAGD,QAAZ9qB,EAAAwH,KAAKsG,eAAO,IAAA9N,GAAAA,EAAEy6B,kBAAkB3P,E,CAI3Bqa,WAAAA,GACL,OAAO39B,KAAKsjB,K,CAINob,iBAAAA,CAAmBpb,GACzBtjB,KAAKq8B,eAAiB/Y,C,CAIjBkc,iBAAAA,GACL,OAAOx/B,KAAKq8B,c,CAIPS,WAAAA,GACL,OAAOnuB,GAAUyvB,UAAYp+B,KAAKsjB,K,CAI7B4a,QAAAA,GACL,OAAOrvB,GAAgBgwB,oBAAsB7+B,KAAKq8B,c,CAG5C2B,qBAAAA,CAAuB33B,G,QAC7B,MAAMka,EAA6D,QAArDtL,EAAgB,QAAZzc,EAAAwH,KAAKsG,eAAO,IAAA9N,OAAA,EAAAA,EAAEkf,mBAAmC,IAAAzC,OAAA,EAAAA,EAAG5O,GACtE,OAAOlO,EAAWooB,GAAYA,EAAW,I,CAGpC3J,aAAAA,CAAe9M,GACpB,OAAO9J,KAAK8F,UAAY0J,GAAU+I,wBAAwB5gB,KAAKqI,KAAK8F,UAAWgE,GAAa,I,CAGvF2sB,gBAAAA,CAAkB3sB,GACvB,OAAO9J,KAAK8F,UAAY0J,GAAUiwB,2BAA2B9nC,KAAKqI,KAAK8F,UAAWgE,GAAa,E,CAQzF2yB,kBAAAA,CAAoBrpB,G,MAC1B,OAA8B,QAA9B5a,EAAQwH,KAAKiT,QAAUG,SAAO,IAAA5a,GAAAA,C,WAKlBomB,GAAiB3iB,G,QAC/B,OAA0C,QAA1CgZ,EAAkC,QAAlCzc,EAAOmjB,GAAehY,IAAI1H,UAAQ,IAAAzD,OAAA,EAAAA,EAAEya,cAAM,IAAAgC,GAAAA,CAC5C,CChwBA,MAAMyqB,GAA8B,IAAIC,QAGxC,SAASC,GAAenhB,G,MACtB,OAA4C,QAA5CjmB,EAAOknC,GAA4B/7B,IAAI8a,UAAK,IAAAjmB,EAAAA,EAAIimB,CAClD,CAOA,SAASohB,GAAc1nB,EAAa/R,GAClC,GAAIs5B,GAA4Br8B,IAAI8U,GAClC,OAAOunB,GAA4B/7B,IAAIwU,GAClC,GAAIne,EAAeme,GAAQ,CAChC,GAAIA,EAAMhL,aAAa,WAAY,CACjC,MAAM4C,EAAiBxQ,SAAS2Q,cAAc,6DAE9C,OADAwvB,GAA4Bh8B,IAAIyU,EAAOpI,GAChCA,C,CACF,OAAI3J,EAAI0G,WAAaqL,EAAMhL,aAAa,UACtCN,GAAUsL,EAAO/R,GAEnB+R,C,CACF,GAAIpe,EAAcoe,GAAQ,CAC/B,GAAIA,EAAMhL,aAAa,YAAciH,GAAgB+D,EAAMrI,aAAa,QAAS1J,EAAI3N,MAAO,CAC1F,MAAMqnC,EAAqBvgC,SAAS2Q,cAAc,4DAElD,OADAwvB,GAA4Bh8B,IAAIyU,EAAO2nB,GAChCA,C,CACF,GACL3nB,EAAMhL,aAAa,WACnBkH,GAAe8D,EAAMrI,aAAa,QAAS1J,EAAI3N,OAE7C0f,EAAM9e,MACNlB,EAAW6N,GAASzE,QAAQq5B,qBAC5B50B,GAASzE,QAAQq5B,mBAAmBziB,EAAM9e,MAG5C,OAAO8e,EAGT,MAAM,QAAE3T,EAAO,SAAEyK,EAAQ,eAAEc,GAAmBL,GAC5CyI,EACA,KACA/R,GACA,GAGF,GAAI5B,GAAWyK,EAAU,CACvB,MAAM8wB,EAAe1uB,GAAkB7M,EAAS4B,EAAK6I,EAAUkJ,GAE/D,OADAunB,GAA4Bh8B,IAAIyU,EAAO4nB,GAChCA,C,CACF,OAAIhwB,GACT2vB,GAA4Bh8B,IAAIyU,EAAOpI,GAChCA,GAGFoI,C,CACF,GAAIle,EAAgBke,GAAQ,CACjC,GACEA,EAAMhE,KACNhc,EAAW6N,GAASzE,QAAQq5B,qBAC5B50B,GAASzE,QAAQq5B,mBAAmBziB,EAAMhE,KAE1C,OAAOgE,EAGT,MAAM,eAAEpI,EAAc,QAAEvL,EAAO,WAAEsO,GAAeoB,GAC9CiE,EACA,KACA/R,GACA,IACG,CAAC,EAEN,GAAI5B,GAAWsO,EAAY,CAEzB,MAAMyD,EAA8CzD,EAAW6B,WAAamC,GAAuBtS,EAAS4B,EAAK0M,EAAYqF,GAASd,GAAuB7S,EAAS4B,EAAK0M,GAE3K,OADA4sB,GAA4Bh8B,IAAIyU,EAAO5B,GAChCA,C,CACF,OAAIxG,GACT2vB,GAA4Bh8B,IAAIyU,EAAOpI,GAChCA,GAGFoI,C,CAGT,OAAOA,CACT,CAUA,SAAS6nB,GACP55B,EACA65B,EACAtwB,EACAuwB,EACAC,GAEA,MAAMC,EAAeC,GAAgB1wB,EAAQuwB,EAAY95B,GACzD,GAAIg6B,EAAc,CAahB,IACGxhB,GAAgBxY,EAAI3N,OACrB8B,EAAe6lC,IACfH,IAAczwB,GAAU8wB,eACxB,CACA,MAAMppB,EAAangB,OAAOogB,yBAAyB+oB,EAAY,cACzDhpB,IAAcA,EAAWE,cAAkB8oB,EAAWK,uBAC1DrpC,EAAoBgpC,EAAY,CAC9BhvB,WAAY,CACVkG,cAAc,EACdzT,GAAAA,G,QACE,MAAMhJ,EAAqB6U,GAAUuP,kBAAkBpb,IAAIhM,KAAKqI,MAChE,OAAIzF,EAAeI,IAAWyL,EAAIN,WAEgB,QAAzCmP,GAAAzc,EAAAwN,GAASzE,SAAQ4d,gCAAwB,IAAAlK,OAAA,EAAAA,EAAAtd,KAAAa,EAAGwH,KAAMoG,EAAI3N,QAAS8G,SAAS6f,KAE1EzkB,C,GAGX4lC,sBAAuB,CACrBnpB,cAAc,EACdzT,IAAKA,KAAM,I,CAwBnB,GAAIw8B,IAAgBC,EAAajG,SAASgG,GAAc,CACtD,GAAIF,IAAczwB,GAAUgxB,iBAAmB7wB,EAAOwqB,SAASgG,GAAc,CAC3E,MAAMM,EAAgB5pC,MAAM6Z,KAAKf,EAAO4O,YAAY7lB,QAAQynC,GAC5D,GAAIC,EAAa7hB,WAAWkiB,GAC1B,OAAOC,GAAgBT,EAAWG,EAAcF,EAAYE,EAAa7hB,WAAWkiB,GAAgBr6B,E,CAGxG,OAAOoJ,GAAUmxB,eAAehpC,KAAKyoC,EAAcF,E,CAC9C,OAAID,IAAczwB,GAAU8wB,gBAAmBF,EAAajG,SAAS+F,GAOrEQ,GAAgBT,EAAWG,EAAcF,EAAYC,EAAa/5B,GANnEuJ,EAAOwqB,SAAS+F,GACXD,EAAUtoC,KAAKuoC,EAAWU,cAAeV,GAE3CA,C,CAMX,OAAOQ,GAAgBT,EAAWtwB,EAAQuwB,EAAYC,EAAa/5B,EACrE,CAGA,SAASi6B,GACP1wB,EACAuwB,EACA95B,GAEA,GAAIA,EAAK,CACP,GAAIuJ,IAAWpQ,SAAS06B,KACtB,OAAI7zB,EAAI6M,QAAUhZ,EAAgBimC,GACzB95B,EAAIE,QAAQ0zB,UAEd5zB,EAAIwQ,cAA2B,kBAExC,GAAIjH,IAAWpQ,SAAS6f,MAAQzP,IAAWpQ,SAAS6f,KAAKlO,WACvD,OAAI9K,EAAI6M,QAAUhZ,EAAgBimC,GACzB95B,EAAIE,QAAQqQ,UAEdvQ,EAAIwQ,cAA2B,kBAExC,GAAIxQ,EAAI6M,QAAUhZ,EAAgBimC,GAChC,OAAO95B,EAAIE,QAAQqQ,S,CAGvB,OAAO,IACT,CAEA,SAAS+pB,GACPT,EACAtwB,EACAuwB,EACAC,EACA/5B,GAEA,OAAIy6B,GAAaZ,KAMR,OAAH75B,QAAG,IAAHA,OAAG,EAAHA,EAAK6M,SAAUhZ,EAAgBimC,KAC7BD,IAAczwB,GAAUsxB,kBAC1Bb,EAAYzwB,GAAUuxB,UACbd,IAAczwB,GAAUwxB,qBACjCf,EAAYzwB,GAAUyxB,aAGnBhB,EAAUtoC,KAAKgY,EAAQuwB,IAGzBD,EAAUtoC,KAAKgY,EAAQuwB,EAAYC,EAC5C,CAEA,SAASU,GAAahY,GACpB,OACEA,IAAWrZ,GAAUuxB,WACrBlY,IAAWrZ,GAAUyxB,YACrBpY,IAAWrZ,GAAUsxB,mBACrBjY,IAAWrZ,GAAUwxB,kBAEzB,CAOA,SAASE,GAAoB96B,EAAmB+6B,GAC1C7nC,EAAU6nC,KACR,kBAAkBnoC,KAAKmoC,EAAS3nC,UAC9B2nC,EAASh0B,aAAa,QACxBqC,GAAUC,gBAAgB9X,KAAKwpC,EAAU,MAAOhjC,GAAegjC,EAASrxB,aAAa,OAAS1J,EAAI/I,MAEhG8jC,EAASh0B,aAAa,WACxBqC,GAAUC,gBAAgB9X,KAAKwpC,EAAU,SAAUhjC,GAAegjC,EAASrxB,aAAa,UAAY1J,EAAI/I,QAEhG,kBAAkBrE,KAAKmoC,EAAS3nC,UAAY2nC,EAASh0B,aAAa,SAEvE,SAASnU,KAAKmoC,EAAS3nC,UAAY2nC,EAASh0B,aAAa,UAAY,KAAKnU,KAAKmoC,EAASrxB,aAAa,SAAW,MAErHN,GAAUC,gBAAgB9X,KAAKwpC,EAAU,OAAQhjC,GAAegjC,EAASrxB,aAAa,QAAU1J,EAAI/I,MAG1G,CASA,SAAS+jC,GACPzxB,EACAwxB,EACAhB,EACAF,GAEA,MAAMv/B,EAAiBE,KACvB,GACEnH,EAAO0nC,KACNA,EAASx/B,mBAERw/B,EAASz/B,oBACThB,GAEF,CACA8d,GAAkB2iB,EAAUA,EAASz/B,oBAAsBhB,GAC3D,MAAM0F,EAAMuV,GAAehY,IAAIw9B,EAASz/B,oBACxC,GAAO,OAAH0E,QAAG,IAAHA,OAAG,EAAHA,EAAKN,UAKP,OAJI9L,EAAemnC,IACjBxxB,EAAOqP,wBAAyB9lB,YAAcioC,EAASxiB,aAAa,SAAU,QAEhFuiB,GAAoB96B,EAAK+6B,GAClBnB,GACL55B,EACA65B,EACAtwB,EACAkwB,GAAcsB,EAAU/6B,GACxB+5B,GAAeP,GAAeO,G,CAKpC,OAAOO,GAAgBT,EAAWtwB,EAAQwxB,EAAUhB,EACtD,C,SAKgBhQ,KACdkR,KAEA,MAAM7I,EAAiBhpB,GAAUgpB,eAC3BC,EAAcjpB,GAAUipB,YACxB6I,EAAsB9xB,GAAU8xB,oBAgGtC,SAASC,EAAsBrB,GAC7B,MAAMx/B,EAAiBO,MAA6BL,KACpD,IAAKs/B,IAAe3gC,SAAS6f,MAAQ8gB,IAAe3gC,SAAS06B,OAASv5B,EAAgB,CACpF,MAAM0F,EAAMuV,GAAehY,IAAIjD,GAC/B,GAAO,OAAH0F,QAAG,IAAHA,OAAG,EAAHA,EAAKN,UAAW,CAClB,GAAIo6B,IAAe3gC,SAAS6f,KAC1B,OAAOhZ,EAAIwQ,cAA2B,kBACjC,GAAIspB,IAAe3gC,SAAS06B,KACjC,OAAO7zB,EAAIwQ,cAA2B,iB,EAI5C,OAAOspB,C,CAYT,SAASsB,EACPC,EACAvB,EACAvlC,EACAmP,EACAoe,GAEA,GAAIuZ,EAAS,CACX,MAAM/gC,EAAiBO,MAA6BL,KACpD,GAAIF,GAAkBke,GAAgBle,GAAiB,CACrD,MAAM0F,EAAMuV,GAAehY,IAAIjD,GAC/B,GAAIjG,EAAeylC,GACjB,OAAO95B,EAAIE,QAAQ0zB,UAAU9R,GAAYpe,GAE3C,GAAIvP,EAAe2lC,GACjB,OAAO95B,EAAIE,QAAQqQ,UAAUuR,GAAYpe,E,EAI/C,OAAOnP,C,CAxIT89B,EAAYphC,UAAU8Z,YAAc,SAAqCgwB,GACvE,OAAOC,GAAqBphC,KAAMmhC,EAAU,KAAM3xB,GAAUmxB,e,EAG9DlI,EAAYphC,UAAU2hC,aAAe,SAAsCmI,EAAaO,GACtF,OAAON,GAAqBphC,KAAMmhC,EAAUO,EAAUlyB,GAAUgxB,gB,EAGlE/H,EAAYphC,UAAU+Y,aAAe,SAAsC+wB,EAAgBjH,GACzF,OAAOkH,GAAqBphC,KAAMmhC,EAAUjH,EAAU1qB,GAAUmyB,gB,EAIlElJ,EAAYphC,UAAUyN,YAAc,SAAqCo1B,GACvE,GAAY,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUx4B,mBAAoB,CAChC,MAAM0E,EAAMuV,GAAehY,IAAIu2B,EAASx4B,oBACxC,GAAO,OAAH0E,QAAG,IAAHA,OAAG,EAAHA,EAAKN,UACP,OAAOk6B,GACL55B,EACAoJ,GAAU8wB,eACVtgC,KACA4/B,GAAe1F,IAGnB,IACE,OAAO1qB,GAAU8wB,eAAe3oC,KAAKqI,KAAMk6B,E,CAC3C,MAAA1hC,GACA,OAAgB,OAAR0hC,QAAQ,IAARA,OAAQ,EAARA,EAAUhpB,aAAc1B,GAAU8wB,eAAe3oC,KAAKuiC,EAAShpB,WAAYgpB,E,EAIvF,OAAO1qB,GAAU8wB,eAAe3oC,KAAKqI,KAAMk6B,E,EAG7CoH,EAAoBjqC,UAAUs9B,OAAS6D,EAAenhC,UAAUs9B,OAAS,YAAmByF,GAC1F,IAAIx+B,EAAI,EACR,MAAOA,EAAIw+B,EAAMrhC,OAAQ,CACvB,IAAI0lB,EAAO2b,EAAMx+B,GACjB6iB,EAAOhlB,EAAOglB,GAAQA,EAAOjP,GAAUoyB,kBAAkBjqC,KAAK6X,GAAU/N,YAAagd,GACrF2iB,GACEphC,KACA6hC,GAAYpjB,GACZ,KACApkB,EAAmB2F,MAAQwP,GAAUsxB,kBAAoBtxB,GAAUuxB,WAErEnlC,G,GAIJ0lC,EAAoBjqC,UAAUgiC,QAAUb,EAAenhC,UAAUgiC,QAAU,YAAoBe,GAC7F,IAAIx+B,EAAIw+B,EAAMrhC,OACVlB,EAAS2X,GAAUyxB,YACnB5mC,EAAmB2F,OAAS1F,EAAqB0F,SACnDnI,EAAS2X,GAAUwxB,oBAGrB,MAAOplC,EAAI,EAAG,CACZ,IAAI6iB,EAAO2b,EAAMx+B,EAAI,GACrB6iB,EAAOhlB,EAAOglB,GAAQA,EAAOjP,GAAUoyB,kBAAkBjqC,KAAK6X,GAAU/N,YAAagd,GACrF2iB,GACEphC,KACA6hC,GAAYpjB,GACZ,KACA5mB,GAEF+D,G,GASJ48B,EAAenhC,UAAUoiC,sBAAwB,SAAUa,EAAuB94B,G,MAChF,IAAW,OAAPA,QAAO,IAAPA,OAAO,EAAPA,EAASE,qBAAsBpI,EAAUkI,GAAU,CACrD,MAAM4E,EAAMuV,GAAehY,IAAInC,EAAQE,oBACvC,GAAO,OAAH0E,QAAG,IAAHA,OAAG,EAAHA,EAAKN,UAAW,CAClB,MAAMg8B,EAAejC,GAAcr+B,EAAS4E,GAC5C,IAAK9M,EAAUwoC,GAAe,OAAOtgC,EACrC,MAAMugC,EAAqD,QAA3CvpC,EAAG6nC,GAAgBrgC,KAAM8hC,EAAc17B,UAAI,IAAA5N,EAAAA,EAAIwH,KAC/D,OAAOwP,GAAUwyB,yBAAyBrqC,KAAKoqC,EAAYzH,EAAOwH,E,EAGtE,OAAOtyB,GAAUwyB,yBAAyBrqC,KAAKqI,KAAMs6B,EAAO94B,E,EAuD9Dg3B,EAAenhC,UAAUuf,cAAgB,SAAuB9M,G,MAC9D,MAAMytB,EAAmC,QAA9B/+B,EAAG+oC,EAAsBvhC,aAAK,IAAAxH,EAAAA,EAAIwH,KACvCrF,EAAS6U,GAAU+I,wBAAwB5gB,KAAK4/B,EAAOztB,GAC7D,OAAO03B,EACLzpC,EAAO4C,IAAW48B,IAAUv3B,KAC5Bu3B,EACA58B,EACAmP,EACA,gB,EAIJ0uB,EAAenhC,UAAUo/B,iBAAmB,SAA0B3sB,G,MACpE,MAAMytB,EAAmC,QAA9B/+B,EAAG+oC,EAAsBvhC,aAAK,IAAAxH,EAAAA,EAAIwH,KACvCrF,EAAS6U,GAAUiwB,2BAA2B9nC,KAAK4/B,EAAOztB,GAChE,OAAO03B,GACJ7mC,EAAO5B,QAAUw+B,IAAUv3B,KAC5Bu3B,EACA58B,EACAmP,EACA,mB,EAKJ0uB,EAAenhC,UAAUsnB,aAAe,SAAsB9c,EAAanK,G,MACzE,GACE,qBAAqBsB,KAAKgH,KAAKxG,UACvB,SAARqI,GACA7B,KAAK2e,eAAiB6Z,EAAenhC,UAAUsnB,aAE/C3e,KAAK2e,aAAa9c,EAAKnK,OAClB,CACL,MAAMuE,EAAU+D,KAAK0B,oBAAsBd,KAC3C,GACE3E,GACA0f,GAAetY,IAAIpH,MAEP,QAAR4F,GAAyB,WAARA,IAAqB,2CAA2C7I,KAAKgH,KAAKxG,UACpF,SAARqI,GAAkB,kBAAkB7I,KAAKgH,KAAKxG,UAEtC,SAARqI,GAAkB,SAAS7I,KAAKgH,KAAKxG,WAAa,KAAKR,KAAKtB,IAG/D,CACA,MAAM0O,EAAMuV,GAAehY,IAAI1H,GAC/BvE,EAAQyG,GAAezG,EAAO0O,EAAK/I,I,CAGrC,GADAmS,GAAUC,gBAAgB9X,KAAKqI,KAAM6B,EAAKnK,GACtCyC,EAAe6F,OAASlG,EAAekG,OAASnG,EAAemG,MAAO,CACxE,IAAIiiC,GAAqB,GACJ,QAAjBzpC,EAAQ,OAARwN,SAAQ,IAARA,QAAQ,EAARA,GAAUzE,eAAO,IAAA/I,OAAA,EAAAA,EAAEypC,qBAAsB9pC,EAAW6N,GAASzE,QAAQ0gC,sBACvEA,EAAqBj8B,GAASzE,QAAQ0gC,mBAAmBvqC,IAG3DuqC,IAAuBxjB,KAAKyjB,YAAc,Y,IA0ChDlrC,EAAkByhC,EAAYphC,UAAW,aAAc,CACrD+f,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,G,UAQE,MAAMjD,EAAiBO,MAA6BL,KACpD,GAAIF,GAAkBV,OAASwP,GAAU/N,YAAY0gC,kBAAmB,CACtE,MAAMpM,EAAwE,QAA3D/gB,EAA8C,QAA9CC,EAAqC,QAArCzc,EAAGmjB,GAAehY,IAAIjD,UAAe,IAAAlI,OAAA,EAAAA,EAAE8N,eAAO,IAAA2O,OAAA,EAAAA,EAAEyC,mBAAW,IAAA1C,OAAA,EAAAA,EAAEzV,SAChF,GAAIw2B,EAAe,OAAOA,C,CAG5B,MAAMp7B,EAAS6U,GAAUuP,kBAAkBpb,IAAIhM,KAAKqI,MAepD,OAAOrF,C,IAIX3D,EAAkBwhC,EAAenhC,UAAW,YAAa,CACvD+f,cAAc,EACdoG,YAAY,EACZ7Z,GAAAA,GACE,OAAO6L,GAAUoqB,iBAAiBj2B,IAAIhM,KAAKqI,K,EAE7C0D,GAAAA,CAAIiE,GACF6H,GAAUoqB,iBAAiBl2B,IAAI/L,KAAKqI,KAAM2H,GAC1C,MAAMjH,EAAiBV,KAAK0B,oBAAsBT,MAA6BL,KAC/E/J,MAAM6Z,KAAK1Q,KAAKkY,UAAUpZ,SAASqZ,IAC7B7e,EAAU6e,IAAUzX,GACtB8d,GAAkBrG,EAAOzX,E,OAOjC+3B,EAAYphC,UAAUsiC,UAAY,SAAmBY,GACnD,MAAMC,EAAahrB,GAAU4yB,aAAazqC,KAAKqI,KAAMu6B,GACrD,OAAO/b,GAAkBgc,EAAYx6B,KAAK0B,mB,CAE9C,CAMA,SAASmgC,GAA4BrgC,GACnC,OAAOgd,GAAkBhd,EAASZ,KACpC,CAGA,SAASygC,KACP,MAAM5/B,EAAc+N,GAAU/N,YACxB+f,EAAkBhS,GAAUgS,gBAElC,SAAS8V,EAAcz/B,GACrB,OAAOgD,EAAgBhD,GAAU4J,EAAc5J,C,CAsCjD,SAAS+e,EAA8B9M,G,QACrC,MAAMytB,EAAQD,EAAct3B,MACtBU,EAAiBE,KACvB,OACGF,GACAoJ,IACDhI,GAAgBgI,IAEhBrI,IAAgB81B,EAKgD,QAAlEtiB,EAAyC,QAAzCzc,EAAOmjB,GAAehY,IAAIjD,UAAe,IAAAlI,OAAA,EAAAA,EAAEoe,cAAc9M,UAAS,IAAAmL,EAAAA,EAAK,KAH9DzF,GAAU6yB,iBAAiB1qC,KAAK4/B,EAAOztB,E,CAMlD,SAAS2sB,EAAiC3sB,G,QACxC,MAAMytB,EAAQD,EAAct3B,MACtBU,EAAiBE,KACvB,OACGF,GACAoJ,IACDhI,GAAgBgI,IAChBrI,IAAgB81B,EAKmD,QAArEtiB,EAAyC,QAAzCzc,EAAOmjB,GAAehY,IAAIjD,UAAe,IAAAlI,OAAA,EAAAA,EAAEi+B,iBAAiB3sB,UAAS,IAAAmL,EAAAA,EAAK,GAHjEzF,GAAU8yB,oBAAoB3qC,KAAK4/B,EAAOztB,E,CA3DrD0X,EAAgBnqB,UAAUmI,cAAgB,SACxChG,EACA+H,GAEA,MAAMC,EAAUgO,GAAUyQ,iBAAiBtoB,KAAK2/B,EAAct3B,MAAOxG,EAAS+H,GAC9E,OAAOsgC,GAAYrgC,E,EAGrBggB,EAAgBnqB,UAAUgpB,gBAAkB,SAC1CC,EACA7nB,EACA8I,GAEA,MAAMC,EAAUgO,GAAU0Q,mBAAmBvoB,KAAK2/B,EAAct3B,MAAOsgB,EAAc7nB,EAAM8I,GAC3F,OAAOsgC,GAAYrgC,E,EASrBggB,EAAgBnqB,UAAUg/B,uBAAyB,WACjD,MAAM70B,EAAUgO,GAAU+yB,0BAA0B5qC,KAAK2/B,EAAct3B,OACvE,OAAO6hC,GAAYrgC,E,EAGrBggB,EAAgBnqB,UAAU6Y,cAAgB,SAAuBjR,GAC/D,MAAMuC,EAAUgO,GAAUgzB,iBAAiB7qC,KAAK2/B,EAAct3B,MAAOf,GACrE,OAAO4iC,GAAYrgC,E,EAmCrBggB,EAAgBnqB,UAAUuf,cAAgBA,EAC1C4K,EAAgBnqB,UAAUo/B,iBAAmBA,EAE7CjV,EAAgBnqB,UAAUs/B,eAAiB,SAAwC90B,GACjF,MAAM01B,EAAQD,EAAct3B,MAC5B,IAAKY,MAAuBgB,GAA0BC,GACpD,OAAO2N,GAAUizB,kBAAkB9qC,KAAK4/B,EAAO11B,GAGjD,IACE,OAAO+U,EAAcjf,KAAK4/B,EAAO,IAAI11B,I,CACrC,MAAArJ,GACA,OAAOgX,GAAUizB,kBAAkB9qC,KAAK4/B,EAAO11B,E,GAInD2f,EAAgBnqB,UAAUw/B,uBAAyB,SAAgDh1B,GACjG,MAAM01B,EAAQD,EAAct3B,MAC5B,IAAKY,MAAuBgB,GAA0BC,GACpD,OAAO2N,GAAUkzB,0BAA0B/qC,KAAK4/B,EAAO11B,GAGzD,IACE,OAAO40B,EAAiB9+B,KAAK4/B,EAAO,IAAI11B,I,CACxC,MAAArJ,GACA,OAAOgX,GAAUkzB,0BAA0B/qC,KAAK4/B,EAAO11B,E,GAI3D2f,EAAgBnqB,UAAU0/B,qBAAuB,SAA8Cl1B,G,MAC7F,MAAM01B,EAAQD,EAAct3B,MACtBU,EAAiBE,KACvB,IACGF,GACDoB,GAAgBD,IAChBD,GAA0BC,MACU,QAAnCrJ,EAACmjB,GAAehY,IAAIjD,UAAe,IAAAlI,OAAA,EAAAA,EAAE4a,SAAU,YAAYpa,KAAK6I,GAEjE,OAAO2N,GAAUmzB,wBAAwBhrC,KAAK4/B,EAAO11B,GAGvD,IACE,OAAO40B,EAAiB9+B,KAAK4/B,EAAO11B,E,CACpC,MAAAoT,GACA,OAAOzF,GAAUmzB,wBAAwBhrC,KAAK4/B,EAAO11B,E,GAIzD2f,EAAgBnqB,UAAU4/B,kBAAoB,SAA2Cp1B,GACvF,MAAM01B,EAAQD,EAAct3B,MAC5B,IAAKY,MAAuBgB,GAA0BC,GACpD,OAAO2N,GAAUozB,qBAAqBjrC,KAAK4/B,EAAO11B,GAGpD,IACE,OAAO40B,EAAiB9+B,KAAK4/B,EAAO,SAAS11B,K,CAC7C,MAAArJ,GACA,OAAOgX,GAAUozB,qBAAqBjrC,KAAK4/B,EAAO11B,E,EAGxD,CAEA,SAASghC,KACP,MAAMrhB,EAAkBhS,GAAUgS,gBAClCA,EAAgBnqB,UAAUmI,cAAgBgQ,GAAUyQ,iBACpDuB,EAAgBnqB,UAAUgpB,gBAAkB7Q,GAAU0Q,mBACtDsB,EAAgBnqB,UAAUg/B,uBAAyB7mB,GAAU+yB,0BAC7D/gB,EAAgBnqB,UAAUuf,cAAgBpH,GAAU6yB,iBACpD7gB,EAAgBnqB,UAAUo/B,iBAAmBjnB,GAAU8yB,oBACvD9gB,EAAgBnqB,UAAUs/B,eAAiBnnB,GAAUizB,kBACrDjhB,EAAgBnqB,UAAUw/B,uBAAyBrnB,GAAUkzB,0BAC7DlhB,EAAgBnqB,UAAU0/B,qBAAuBvnB,GAAUmzB,wBAC3DnhB,EAAgBnqB,UAAU4/B,kBAAoBznB,GAAUozB,oBAC1D,C,SAGgBlS,KACdtvB,KACAyhC,KAEA,MAAMrK,EAAiBhpB,GAAUgpB,eAC3BC,EAAcjpB,GAAUipB,YAC9BA,EAAYphC,UAAU8Z,YAAc3B,GAAUmxB,eAC9ClI,EAAYphC,UAAU2hC,aAAexpB,GAAUgxB,gBAC/C/H,EAAYphC,UAAU+Y,aAAeZ,GAAUmyB,gBAC/ClJ,EAAYphC,UAAUyN,YAAc0K,GAAU8wB,eAC9C7H,EAAYphC,UAAUsiC,UAAYnqB,GAAU4yB,aAC5C5J,EAAenhC,UAAUs9B,OAASnlB,GAAUuxB,UAC5CvI,EAAenhC,UAAUgiC,QAAU7pB,GAAUyxB,WAC7CzI,EAAenhC,UAAUuf,cAAgBpH,GAAU+I,wBACnDigB,EAAenhC,UAAUo/B,iBAAmBjnB,GAAUiwB,2BACtDjH,EAAenhC,UAAUsnB,aAAenP,GAAUC,gBAClDzY,EAAkByhC,EAAYphC,UAAW,aAAcmY,GAAUuP,mBACjE/nB,EAAkBwhC,EAAenhC,UAAW,YAAamY,GAAUoqB,iBACrE,CAGA,IAAIkJ,IAAyB,E,SACbC,KACd,IAAKD,GAAwB,CAC3BA,IAAyB,EACzB,MAAMjH,EAAQv6B,GAAkB,SAChCkO,GAAUC,gBAAgB9X,KAAKkkC,EAAO,OAAQ,YAC9CA,EAAMjvB,YAAc,KAAK5G,GAASxM,kFAClCgW,GAAU/N,YAAYw4B,KAAK9oB,YAAY0qB,E,CAE3C,CChzBA,MAAMrsB,GAAiC,CAErC0gB,cAAe,G,SAOD8S,KACd,GAAI3sC,EAAW,CACb,MAAMsH,EAAYrH,OAAOqH,WAAajH,SAAS,gBAATA,GAChC+K,EAAcnL,OAAOmL,aAAe/K,SAAS,kBAATA,GACpC8qB,EAAkB7jB,EAAUiiB,UAAYlpB,SAAS,kBAATA,GACxC8hC,EAAiB76B,EAAUpE,QAC3Bk/B,EAAc96B,EAAUjE,KACxBupC,EAAqBtlC,EAAUulC,YAC/B5B,EAAsB3jC,EAAUk7B,iBAGhC8H,EAAiBlI,EAAYphC,UAAU8Z,YACvCqvB,EAAkB/H,EAAYphC,UAAU2hC,aACxC2I,EAAkBlJ,EAAYphC,UAAU+Y,aACxCkwB,EAAiB7H,EAAYphC,UAAUyN,YACvC2K,EAAkB+oB,EAAenhC,UAAUsnB,aAC3CoiB,EAAYvI,EAAenhC,UAAUs9B,OACrCsM,EAAazI,EAAenhC,UAAUgiC,QACtCyH,EAAoBQ,EAAoBjqC,UAAUs9B,OAClDqM,EAAqBM,EAAoBjqC,UAAUgiC,QACnD+I,EAAe3J,EAAYphC,UAAUsiC,UACrCphB,EAA0BigB,EAAenhC,UAAUuf,cACnD6oB,EAA6BjH,EAAenhC,UAAUo/B,iBACtDuL,EAA2BxJ,EAAenhC,UAAUoiC,sBACpDG,EAAmB7iC,OAAOogB,yBAAyBqhB,EAAenhC,UAAW,aAC7E0nB,EAAoBhoB,OAAOogB,yBAAyBshB,EAAYphC,UAAW,cAG3E4oB,EAAmBuB,EAAgBnqB,UAAUmI,cAC7C0gB,EAAqBsB,EAAgBnqB,UAAUgpB,gBAC/CuhB,EAAoBpgB,EAAgBnqB,UAAU8+B,eAC9CoM,EAA4B/gB,EAAgBnqB,UAAUg/B,uBACtDmM,EAAmBhhB,EAAgBnqB,UAAU6Y,cAC7CmyB,EAAmB7gB,EAAgBnqB,UAAUuf,cAC7C0rB,EAAsB9gB,EAAgBnqB,UAAUo/B,iBAChDgM,EAAoBjhB,EAAgBnqB,UAAUs/B,eAC9C+L,EAA4BlhB,EAAgBnqB,UAAUw/B,uBACtD8L,EAA0BnhB,EAAgBnqB,UAAU0/B,qBACpD6L,EAAuBphB,EAAgBnqB,UAAU4/B,kBAGjD7E,EAAa,IAAIjR,MAAMxjB,EAAUw0B,MAAO,CAC5C6C,SAAAA,CAAWC,EAAQv4B,GACjB,OAAO8hB,GAAkB,IAAIyW,KAAUv4B,GAAOkE,K,IAQ5CyhB,EAAiB1kB,EAAU+kB,YAC3BJ,EAAgB3kB,EAAUV,WAC1BslB,EAAmB5kB,EAAUmlB,cAC7BN,EAAkB7kB,EAAUolB,aAC5B+F,EAAenrB,EAAU0lB,QAAQkF,UACjCQ,EAAkBprB,EAAU0lB,QAAQmF,aACpCrI,EAAsB8iB,EAAmB5rC,UAAU0lB,iBACnDqD,EAAyB6iB,EAAmB5rC,UAAUwlB,oBACtDuF,EAAmB6gB,EAAmB5rC,UAAU6O,cAGtD5P,OAAO6sC,gCAAiC,EAExCrsC,EAAO0Y,GAAW,CAChB+E,oBAAqBlV,KAGrB1B,YACA8D,cACA+f,kBACAgX,iBACAC,cACA6I,sBAGA7xB,kBACAkxB,iBACAH,kBACAmB,kBACArB,iBACAS,YACAE,aACAH,oBACAE,qBACAoB,eACA7pB,0BACAknB,6BACAuC,2BACApI,mBACA7a,oBAEAkB,mBACAC,qBACAqiB,4BACAX,oBACAY,mBACAH,mBACAC,sBACAG,oBACAC,4BACAC,0BACAC,uBACAxQ,aAGA/P,iBACAC,gBACAC,mBACAC,kBACAsG,eACAC,kBACA5I,sBACAC,yBACAgC,qBAMF2gB,I,CAEJ,C,SCtIgBK,GAAe5pC,GAC7B,MAAM6pC,UAAwBC,YAA9BzqC,WAAAA,G,oBAKU,KAAA0qC,WAAY,EACZ,KAAAC,UAAiD,KACjD,KAAAC,eAAiB,EACjB,KAAAC,gBAAwC,IAAIjgC,IAC7C,KAAAxH,QAAU,GACV,KAAA0nC,OAAS,GACT,KAAA58B,OAAS,GACT,KAAA3Q,QAAUA,EA+LT,KAAAwtC,sBAAwB,KAC9B5jC,KAAKujC,WAAY,EACjB,MAAMM,EAAiB/lC,EAAckC,KAAK8P,aAAa,SACjDg0B,EAAgBtmC,EAAawC,KAAK8P,aAAa,OAAQ9P,KAAK/D,SAClE,GAAI+D,KAAK+jC,eAAe,OAAQF,IAAmB7jC,KAAK+jC,eAAe,MAAOD,GAAgB,CAC5F,MAAME,EAASroB,GAAehY,IAAIkgC,GAIlC,GAAIA,IAAmB7jC,KAAK/D,SAAW+nC,IAChCA,EAAOlH,gBAAkBkH,EAAO9F,aAAe8F,EAAOxuB,WAEzD,OADAxV,KAAK2e,aAAa,OAAQ3e,KAAK/D,SACxBF,EAAS,mCAAmC8nC,gBAInDA,IAAmB7jC,KAAK/D,SAAW6nC,IAAkB9jC,KAAK2jC,SACxDE,IAAmB7jC,KAAK/D,QAC1B+D,KAAK+yB,SAAQ,GAAM,KACjB/yB,KAAKikC,0BAA0BJ,EAAgBC,EAAeE,EAAO,IAE9DhkC,KAAKkkC,0BACdlkC,KAAKmkC,2BACLnkC,KAAKikC,0BAA0BJ,EAAgBC,EAAeE,IAE9DhkC,KAAK+yB,SAAQ,GAAO,KAClB/yB,KAAKikC,0BAA0BJ,EAAgBC,EAAeE,EAAO,I,MAIlEH,IAAmB7jC,KAAK/D,SACjC+D,KAAK2e,aAAa,OAAQ3e,KAAK/D,Q,EAzOnC,6BAAWmoC,GACT,MAAO,CAAC,OAAQ,M,CAuBXC,iBAAAA,GAKDttC,OAAOmO,eAAelF,QAAUqjC,EAAgBhsC,WAClDN,OAAO2qB,eAAe1hB,KAAMqjC,EAAgBhsC,WAE9C,MAAMitC,IAAetkC,KAAKyjC,eAC1BzjC,KAAK0jC,gBAAgBhgC,IAAI4gC,GAAY,GAKrC,MAAMC,EAAevkC,KAAK/D,SAAW+D,KAAK2jC,OAC1CnnC,GAAM,KACAwD,KAAK0jC,gBAAgB//B,IAAI2gC,KAC3B3+B,GACE3F,KACAA,KAAK/D,QACLgK,GAAWm2B,SAObmI,GAAgBvkC,KAAKwkC,kB,IAKpB9nB,oBAAAA,GACL1c,KAAK0jC,gBAAgBhgC,IAAI1D,KAAKyjC,gBAAgB,GAC9CzjC,KAAKykC,oB,CAOA/X,MAAAA,CAAQ4D,GACb,OAAO,IAAI3zB,SAASC,IAClB,MAAM8nC,EAAoBA,KACxB1kC,KAAK6c,oBAAoB5W,GAAW23B,QAAS8G,GAC7C1kC,KAAK6c,oBAAoB5W,GAAWk5B,UAAWuF,GAC/C9nC,GAAQ,EAAK,EAEfoD,KAAK+c,iBAAiB9W,GAAW23B,QAAS8G,GAC1C1kC,KAAK+c,iBAAiB9W,GAAWk5B,UAAWuF,GAC5C1kC,KAAKykC,mBAAmBnU,GAAS,KAC/BtwB,KAAKwkC,iBAAiB,GACtB,G,CAQEC,kBAAAA,CAAoBnU,GAAU,EAAO7vB,GAC3C,MAAM2F,EAAMuV,GAAehY,IAAI3D,KAAK/D,UAChCmK,GAAQA,EAAI02B,eAAkB12B,EAAI83B,aAEhCl+B,KAAKkkC,2BAA6B5T,EACpCtwB,KAAKmkC,yBAAyB1jC,GAE9BT,KAAK+yB,QAAQzC,EAAS7vB,G,CAKrBkkC,wBAAAA,CAA0B9gC,EAAwB+gC,EAAiBC,GACxE,GACE7kC,KAAK+jC,eAAelgC,EAAMghC,IAC1B7kC,KAAK6D,IAAS6K,GAAiBo2B,KAAO,UAAY,YAAcD,EAEhE,GACEhhC,IAAS6K,GAAiBtV,KACvB4G,KAAK2jC,QACL3jC,KAAK0jC,gBAAgB//B,IAAI3D,KAAKyjC,gBAS5B,GACL5/B,IAAS6K,GAAiBo2B,MACvB9kC,KAAK/D,SACL+D,KAAK0jC,gBAAgB//B,IAAI3D,KAAKyjC,gBAmBvBzjC,KAAKujC,YACfvjC,KAAKujC,WAAY,EACjB/mC,EAAMwD,KAAK4jC,4BAnBX,CACA,MAAMmB,EAAgBjnC,EAAc+mC,GAEpC,IAAKE,EACH,OAAOhpC,EAAS,0BAA0B8oC,IAAU7kC,KAAK/D,SAGvD+D,KAAKwjC,YACPx9B,GAASsV,QAAQypB,EAAe/kC,KAAKwjC,WACrCxjC,KAAKwjC,UAAY,MAGnBxjC,KAAK/D,QAAU8oC,EACXA,IAAkBF,GACpB7kC,KAAK2e,aAAa,OAAQ3e,KAAK/D,SAEjC+D,KAAKglC,yB,KA5BL,CAEA,GADAH,EAASrnC,EAAaqnC,EAAQ7kC,KAAK/D,UAC9B4oC,EACH,OAAO9oC,EAAS,yBAAyB8oC,IAAU7kC,KAAK/D,SAE1D+D,KAAK2jC,OAASkB,EACd7kC,KAAKglC,yB,EA+BHA,uBAAAA,GACNhlC,KAAK0jC,gBAAgB//B,IAAI3D,KAAKyjC,iBAAmBzjC,KAAKwkC,iB,CAMhDA,eAAAA,GACN,GAAKxkC,KAAK/D,SAAY+D,KAAK2jC,OAO3B,GALI3jC,KAAKilC,iBAAiB,eAAiBjlC,KAAKklC,YAAc/sC,EAAW6H,KAAKmlC,eAC5EnlC,KAAKmlC,aAAa,CAAEzhB,KAAM,SAG5B1jB,KAAKolC,aAAaplC,KAAK2jC,QACnBhoB,GAAetY,IAAIrD,KAAK/D,SAAU,CACpC,MAAM+nC,EAASroB,GAAehY,IAAI3D,KAAK/D,SACjCopC,EAAYrB,EAAOj9B,QAAUi9B,EAAO3mC,IACpCioC,EAAYtlC,KAAK+G,QAAU/G,KAAK2jC,OAQpCK,EAAO9F,YACP8F,EAAO3mC,MAAQ2C,KAAK2jC,OAEpB3jC,KAAKulC,uBAAuBvB,GAE5BqB,IAAcC,IACZtB,EAAOlH,eAELkH,EAAOxuB,YACPxV,KAAKwlC,gBAAgBxB,IAIzBhkC,KAAKylC,YAAYzB,GACRA,EAAOxuB,YAAcwuB,EAAOlH,cAOrC98B,KAAK0lC,kBAEL3pC,EAAS,mCAAmCiE,KAAK/D,oBAAoBopC,e,MAGvErlC,KAAK0lC,iB,CA2CDzB,yBAAAA,CACNJ,EACAC,EACAE,G,MAKAhkC,KAAKolC,aAAatB,GAElB9jC,KAAK/D,QAAU4nC,EACf7jC,KAAK2jC,OAASG,GACG,QAAhBtrC,EAACwH,KAAKklC,kBAAU,IAAA1sC,EAAAA,EAAIwH,MAAMk8B,UAAY,GACnC2H,IAAmB7jC,KAAK8P,aAAa,SACvC9P,KAAK2e,aAAa,OAAQ3e,KAAK/D,SAW7B+nC,EACEA,EAAO9F,WACL8F,EAAO3mC,MAAQ2C,KAAK2jC,OACtB3jC,KAAKulC,uBAAuBvB,GAG5BjoC,EAAS,mCAAmCiE,KAAK/D,sBAc1C+nC,EAAO3mC,MAAQ2C,KAAK2jC,QAAUK,EAAOj9B,SAAW/G,KAAK+G,OAE9D/G,KAAKylC,YAAYzB,GAEjBhkC,KAAK0lC,kBAGP1lC,KAAK0lC,iB,CASD3B,cAAAA,CAAgBtrC,EAAcktC,GACpC,SAAK3tC,EAAS2tC,KAASA,KACrB5pC,EAAS,wBAAwBtD,wBAA4BuH,KAAK/D,UAC3D,E,CAOHypC,eAAAA,GACN,MAAME,EAAoBA,K,MAAM,WAAIzJ,GAAU,CAC5C1jC,KAAMuH,KAAK/D,QACXoB,IAAK2C,KAAK2jC,OACV79B,UAA0B,QAAjBtN,EAAEwH,KAAKklC,kBAAU,IAAA1sC,EAAAA,EAAIwH,KAC9B8M,SAAU9M,KAAK6lC,cACf7yB,WAAYhT,KAAKgT,aACjBI,OAAQpT,KAAKilC,iBAAiB,UAC9BhyB,OAAQjT,KAAKilC,iBAAiB,UAC9Bl+B,OAAQ/G,KAAK+G,OACbif,WAAYhmB,KAAK8lC,uBACjB,EASI9B,EAASroB,GAAehY,IAAI3D,KAAK/D,SACnC+nC,EACEA,EAAOvuB,YACTzV,KAAK+yB,SAAQ,EAAM6S,IAEnB5B,EAAOrF,8BACPiH,KAGFA,G,CAWIH,WAAAA,CAAar/B,GACnBA,EAAIoP,YAAa,EAKjBpP,EAAIw2B,YAAYjuB,GAAUsuB,cAE1BzgC,GAAM,IAAMwD,KAAK8yB,MAAM1sB,I,CAMlB0sB,KAAAA,CAAO1sB,G,MACZA,EAAI0sB,MAAM,CACRhtB,UAA0B,QAAjBtN,EAAEwH,KAAKklC,kBAAU,IAAA1sC,EAAAA,EAAIwH,KAC9BoT,OAAQpT,KAAKilC,iBAAiB,UAC9Bjf,WAAYhmB,KAAK8lC,sBACjBpW,UAAW1vB,KAAK+lC,yBAChBvY,YAAaxtB,KAAKkrB,iBAClByE,oBAAqB3vB,KAAKilC,iBAAiB,yBAC3CtvB,MAAO3V,KAAKilC,iBAAiB,U,CAS1BlS,OAAAA,CAASzC,EAAmB6N,GACjC,MAAM/3B,EAAMuV,GAAehY,IAAI3D,KAAK/D,SAChCmK,IAAQA,EAAI02B,eACd12B,EAAI2sB,QAAQ,CACVzC,QAASA,GAAWtwB,KAAKgmC,6BACzB9rB,UAAWla,KAAKilC,iBAAiB,cACjCrX,eAAgB5tB,KAAKilC,iBAAiB,qBACtC9G,a,CAMEgG,wBAAAA,CAA0B1jC,GAChC,MAAM2F,EAAMuV,GAAehY,IAAI3D,KAAK/D,UAChCmK,GAAQA,EAAI02B,eAAkB12B,EAAI83B,YACpC93B,EAAIw4B,mBAAmBn+B,E,CAKnB8kC,sBAAAA,CAAwBn/B,GAE9B5J,GAAM,SAAAhE,EAAM,OAAA4N,EAAI24B,iBAAgC,QAAhBvmC,EAACwH,KAAKklC,kBAAU,IAAA1sC,EAAAA,EAAIwH,KAAK,G,CAQnDilC,gBAAAA,CAAgDxsC,GACtD,OAAQuH,KAAKimC,qBAAqBxtC,MAAWuN,GAASzE,QAAQ9I,KAAUuH,KAAKkmC,4BAA4BztC,E,CAInGwtC,oBAAAA,CAAsBxtC,GAC5B,MAAa,qBAATA,EACKuH,KAAKmN,aAAa,qBAAuBnN,KAAKmN,aAAa,mBAChD,oBAAT1U,EACFuH,KAAKmN,aAAa,oBAAsBnN,KAAKmN,aAAa,kBAE5DnN,KAAKmN,aAAa1U,E,CAInBytC,2BAAAA,CAA6BztC,GACnC,MAAa,qBAATA,EAC+C,UAA1CuH,KAAK8P,aAAa,qBAA4E,UAAzC9P,KAAK8P,aAAa,mBAC5D,oBAATrX,EACuC,UAAzCuH,KAAK8P,aAAa,oBAA0E,UAAxC9P,KAAK8P,aAAa,kBAE5C,UAA5B9P,KAAK8P,aAAarX,E,CAGnBotC,WAAAA,GACN,QAAS7lC,KAAKilC,iBAAiB,qBAAuBjlC,KAAKilC,iBAAiB,a,CAGtEjyB,UAAAA,GACN,OAAQhT,KAAKilC,iBAAiB,kB,CAMxBO,eAAAA,CAAiBp/B,GACvB,OACEA,EAAI0G,WAAa9M,KAAK6lC,eACtBz/B,EAAI4M,aAAehT,KAAKgT,cACxB5M,EAAI6M,SAAWjT,KAAKilC,iBAAiB,S,CASjCc,sBAAAA,G,QACN,OAAqE,QAArE9wB,EAAqC,QAArCzc,EAAOwH,KAAK8P,aAAa,oBAAY,IAAAtX,EAAAA,EAAIwH,KAAK8P,aAAa,kBAAU,IAAAmF,EAAAA,EAAI,E,CAInE+wB,0BAAAA,GACN,OAAOhmC,KAAKilC,iBAAiB,YAAcjlC,KAAKilC,iBAAiB,U,CAM3Df,sBAAAA,GACN,OAAOlkC,KAAKilC,iBAAiB,gBAAkBjlC,KAAKgmC,4B,CAM9CZ,YAAAA,CAAcvf,GACpB,GAAI7lB,KAAKilC,iBAAiB,OAExB,GAAIjlC,KAAKilC,iBAAiB,0BAA4BjlC,KAAKilC,iBAAiB,kBAAmB,CAC7F,MAAMxgB,EAAcjV,GAAU7R,UAAUL,SACxC0C,KAAK+G,OAAS5I,GAAesmB,EAAYvpB,SAAWupB,EAAY/mB,OAAQmoB,E,KACnE,CAGL,IAAI+G,EAAahH,GAA0B5lB,KAAK/D,QAAS4pB,GACzD,MAAMsgB,EAAkBnmC,KAAKkrB,iBAC7B,IAAK0B,GAAcuZ,EAAiB,CAClC,MAAMhjB,EAAiBloB,EAAUkrC,EAAiBtgB,GAClD+G,EAAazJ,EAAe1lB,OAAS0lB,EAAejoB,SAAWioB,EAAezlB,M,CAEhFsC,KAAK+G,OAAS6lB,C,MAEP5sB,KAAK+G,SACd/G,KAAK+G,OAAS,G,CAOVmkB,cAAAA,GACN,OACEZ,GAAOY,eAAelrB,KAAK/D,UAC3B+D,KAAK8P,aAAa,iBAClB9P,KAAK8P,aAAa,gBAClB,E,CAQIg2B,mBAAAA,GACN,OAAO3f,GACLnmB,KAAK8P,aAAa,eAGlB9P,KAAKimC,qBAAqB,0BAA4BjmC,KAAKkmC,4BAA4B,yB,CASpFvnB,YAAAA,CAAc9c,EAAanK,GAChC,GAAY,SAARmK,EACF,GAAIzJ,EAAcV,GAAQ,CACxB,MAAM0uC,EAAyC,CAAC,EAChDrvC,OAAO+B,oBAAoBpB,GAAOoH,SAASunC,IACnCruC,EAASquC,IAAoC,IAAzBA,EAAO3tC,QAAQ,QACvC0tC,EAAWC,GAAU3uC,EAAM2uC,G,IAG/BrmC,KAAKf,KAAOmnC,C,KACO,oBAAV1uC,GACT4E,EAAQ,kCAAmC0D,KAAK/D,cAGlDuT,GAAUC,gBAAgB9X,KAAKqI,KAAM6B,EAAKnK,E,CAQvCkvB,mBAAAA,GACL,IAAI5pB,EAAQrB,SAASqE,KAAK8P,aAAa,uBAIvC,OAHIw2B,MAAMtpC,KACRA,EAAQrB,SAAUxD,EAAW6N,GAASzE,QAAQ,uBAAyByE,GAASzE,QAAQ,sBAAsBvB,KAAK/D,SAAW+J,GAASzE,QAAQ,wBAEzI+kC,MAAMtpC,GAAiB,EAARA,C,CAMzB,QAAIiC,CAAMvH,GACJsI,KAAK/D,QACP+J,GAASsV,QAAQtb,KAAK/D,QAASvE,GAE/BsI,KAAKwjC,UAAY9rC,C,CAOrB,QAAIuH,GACF,OAAIe,KAAK/D,QACA+J,GAASoU,QAAQpa,KAAK/D,SAAS,GAC7B+D,KAAKwjC,UACPxjC,KAAKwjC,UAEP,I,CAMT,cAAI+C,GACF,OAAOvoC,GAAiBgC,KAAK2jC,O,CAM/B,aAAI6C,GACF,OAAOxmC,KAAK+lC,wB,EAIhBzvC,OAAOmwC,eAAeC,OAAOltC,EAAS6pC,EACxC,C,SCvkBwBsD,GAAUC,EAAyB5pC,GACzD,IAAK3G,EACH,OAAO0F,EAAS,qDAGlBmE,IAAoB,KAClB,MAAM2mC,EAAY3uC,EAAS8E,GAASA,EAAQgJ,GAASzE,QAAQulC,cAM7D7pC,YAAW,KAET8pC,GAAiBH,EAAK,GACrB1uC,EAAS2uC,GAAaA,EAAY,IAAK,GAgB9C,CAEA,SAASE,GAAkBH,GACzBzuC,EAAWyuC,KAAUA,EAAOA,KAExBhwC,EAAQgwC,IACVA,EAAKxiC,QAAO,CAACC,EAAKC,IAASD,EAAIxH,MAAK,IAAMmqC,GAAe1iC,MAAQ3H,QAAQC,UAE7E,CAGA,SAASoqC,GAAgBzlC,GACvB,OAAOf,IAAoB5D,I,gBACzB,GAAIxE,EAAcmJ,IAAYa,UAAU6kC,OAGtC,GAFA1lC,EAAQ9I,KAAOqF,EAAcyD,EAAQ9I,MACrC8I,EAAQlE,IAAMG,EAAa+D,EAAQlE,IAAKkE,EAAQ9I,MAC5C8I,EAAQ9I,MAAQ8I,EAAQlE,MAAQse,GAAetY,IAAI9B,EAAQ9I,MAAO,CACpE,MAAM2N,EAAM,IAAI+1B,GAAU,CACxB1jC,KAAM8I,EAAQ9I,KACd4E,IAAKkE,EAAQlE,IACbmY,YAAY,EACZ1I,WAAkE,QAAxDmI,EAA6B,QAA7Bzc,EAAE+I,EAAQ,2BAAmB,IAAA/I,EAAAA,EAAI+I,EAAQ2lC,uBAAe,IAAAjyB,EAAAA,EAAIjP,GAASzE,QAAQ,qBACvFyR,aAAkE,QAAtDkM,EAA4B,QAA5BlK,EAAEzT,EAAQ,0BAAkB,IAAAyT,EAAAA,EAAIzT,EAAQ4lC,sBAAc,IAAAjoB,EAAAA,EAAIlZ,GAASzE,QAAQ,oBACvF6R,OAAsB,QAAhB2oB,EAAEx6B,EAAQ6R,cAAM,IAAA2oB,EAAAA,EAAI/1B,GAASzE,QAAQ6R,OAC3CH,OAAsB,QAAhByqB,EAAEn8B,EAAQ0R,cAAM,IAAAyqB,EAAAA,EAAI13B,GAASzE,QAAQ0R,OAC3C4C,cAAetU,EAAQ6lC,OAAS31B,GAAepW,SAASkG,EAAQ6lC,OAAS7lC,EAAQ6lC,MAAQphC,GAASzE,QAAQsU,eAAiBpE,GAAepW,SAAS2K,GAASzE,QAAQsU,eAAiB7P,GAASzE,QAAQsU,cAAgB,IAGlNwxB,EAAYjhC,EAAI2K,OAChBu2B,EAAiBlhC,EAAImB,YAC3BnB,EAAI2K,OAAUw2B,IACRnhC,EAAIqP,aACN3e,EAAOywC,EAAa,CAClB/Z,YAAajsB,EAAQ,gBAMrBykB,WAAYG,GAAe5kB,EAAQ,gBACnCmuB,UAAWnuB,EAAQmuB,UACnBC,oBAAqBpuB,EAAQ,2BAGjC3E,IACAyqC,EAAU1vC,KAAKyO,EAAKmhC,EAAY,EAGlCnhC,EAAImB,YAAc,IAAI4gB,KACpBvrB,IACA0qC,EAAe3vC,KAAKyO,KAAQ+hB,EAAM,C,MAGpCvrB,SAGFA,G,GAGN,C,SAMgB4qC,GAAiBC,GAC3BrvC,EAAcqvC,IAChBvnC,IAAoB,KAClBwnC,GAAqBD,EAAOE,GAAI,KAAM54B,GAAaR,QACnDm5B,GAAqBD,EAAOG,IAAK,MAAO74B,GAAaT,KAAK,GAGhE,CAGA,SAASo5B,GAAsBG,EAA4B7sC,EAAgB8sC,GACzE,GAAIlxC,EAAQixC,GAAY,CACtB,MAAME,EAAoBF,EAAW/nC,QAAQ/E,GAAS/C,EAAS+C,IAASD,EAAkBC,EAAMC,KAAY8sC,EAAc15B,QAAQrT,KAE5HitC,EAAuBD,EAAkBn3B,KAAK7V,GAASyL,GAAYzL,KAGzEwD,GAAsBypC,GAAuBhpC,IAC3C,MAAMjE,EAAOgtC,EAAkB/oC,EAAIE,OACpB,OAAXlE,EACG8sC,EAAc15B,QAAQrT,IACzB+sC,EAAc75B,QAAQlT,EAAM,CAC1B4M,KAAM3I,EAAIC,KACV0V,YAAY,EACZzF,SAAU,CAAC,IAIV44B,EAAc15B,QAAQrT,IACxB+sC,EAA2C75B,QAAQlT,EAAM,CACxD4M,KAAM3I,EAAIC,KACViQ,SAAU,CAAC,G,IAIf9P,IACFrD,EAASqD,EAAI,G,CAGnB,C,SC/JgBmnB,IAAe,iBAC7BC,GAAmB,EAAK,iBACxBC,GAAmB,GACG,CAAC,GACvB,MAAMwhB,EAAwB,GAkB9B,OAjBAtsB,GAAe7c,SAAQ,CAACsH,EAAmBnK,KAEtCmK,EAAI02B,eAEF12B,EAAIoP,cACHpP,EAAIqP,aAAgBgR,IAIrBD,GACApgB,EAAI83B,YAGP+J,EAAWrlC,KAAK3G,E,IAIbgsC,CACT,C,SAGgBC,KACd,OAAOrxC,MAAM6Z,KAAKiL,GAAepW,OACnC,C,SAcgB4iC,GAAYlsC,EAAiBsF,GAC3C,MAAM6E,EAAMuV,GAAehY,IAAI7F,EAAc7B,IAC7C,OAAO,IAAIU,SAASC,IAClB,GAAIwJ,EACF,GAAIA,EAAI02B,eAAiB12B,EAAIoP,WACvBpP,EAAIqP,YACNrP,EAAI2sB,QAAQ,CACVzC,WAAkB,OAAP/uB,QAAO,IAAPA,OAAO,EAAPA,EAAS+uB,SACpBpW,aAAoB,OAAP3Y,QAAO,IAAPA,OAAO,EAAPA,EAAS2Y,WACtB0T,gBAAgB,EAChBuQ,UAAWvhC,EAAQE,KAAK,MAAM,OAGrB,OAAPyE,QAAO,IAAPA,OAAO,EAAPA,EAAS+uB,UAASlqB,EAAIu4B,8BAC1B/hC,GAAQ,SAEL,GAAIwJ,EAAI83B,YACF,OAAP38B,QAAO,IAAPA,OAAO,EAAPA,EAAS+uB,SACXlqB,EAAI2sB,QAAQ,CACVzC,SAAS,EACTpW,WAAW,EACX0T,gBAAgB,EAChBuQ,UAAWvhC,EAAQE,KAAK,MAAM,MAEhB,OAAPyE,QAAO,IAAPA,OAAO,EAAPA,EAAS6mC,iBAClBhiC,EAAI2sB,QAAQ,CACVzC,SAAS,EACTpW,YAAa3Y,EAAQ2Y,UACrB0T,gBAAgB,EAChBuQ,UAAWvhC,EAAQE,KAAK,MAAM,KAGhCF,GAAQ,OAEL,CACL,MAAMkJ,EAAY/D,GAAiBqE,EAAIN,WACjCuiC,EAAiBA,KACrBviC,EAAU+W,oBAAoB5W,GAAWm4B,QAASiK,GAClDviC,EAAU+W,oBAAoB5W,GAAW64B,YAAawJ,GACtD1rC,GAAQ,EAAK,EAGT0rC,EAAqBA,KACzBxiC,EAAU+W,oBAAoB5W,GAAWm4B,QAASiK,GAClDviC,EAAU+W,oBAAoB5W,GAAW64B,YAAawJ,GACtD1rC,GAAQ,EAAK,EAMf,GAHAkJ,EAAUiX,iBAAiB9W,GAAWm4B,QAASiK,GAC/CviC,EAAUiX,iBAAiB9W,GAAW64B,YAAawJ,GAExC,OAAP/mC,QAAO,IAAPA,OAAO,EAAPA,EAAS+uB,QAAS,CACpB,IAAIiY,EAAkBC,EACtB1iC,EAAUqH,aAAa,aAAeo7B,EAAmBziC,EAAUgK,aAAa,YAChFhK,EAAUqH,aAAa,aAAeq7B,EAAmB1iC,EAAUgK,aAAa,YAEhFhK,EAAU6Y,aAAa,UAAW,QAClC7Y,EAAUoL,WAAYpM,YAAYgB,GAElCA,EAAU2iC,gBAAgB,WAE1BzwC,EAASuwC,IAAqBziC,EAAU6Y,aAAa,UAAW4pB,GAChEvwC,EAASwwC,IAAqB1iC,EAAU6Y,aAAa,UAAW6pB,E,MAC3D,IAAW,OAAPjnC,QAAO,IAAPA,OAAO,EAAPA,EAAS6mC,kBAAmBtiC,EAAUqH,aAAa,cAAe,CAC3E,MAAMu7B,EAAqB5iC,EAAUgK,aAAa,cAClDhK,EAAU2iC,gBAAgB,cAE1B,IAAIE,EAAqB,KACrBpnC,EAAQ2Y,YACVyuB,EAAqB7iC,EAAUgK,aAAa,cAC5ChK,EAAU6Y,aAAa,aAAc,SAGvC7Y,EAAUoL,WAAYpM,YAAYgB,GAElCA,EAAU6Y,aAAa,aAAc+pB,GACrC1wC,EAAS2wC,IAAuB7iC,EAAU6Y,aAAa,aAAcgqB,E,KAChE,CACL,IAAIA,EAAqB,MACd,OAAPpnC,QAAO,IAAPA,OAAO,EAAPA,EAAS2Y,aACXyuB,EAAqB7iC,EAAUgK,aAAa,cAC5ChK,EAAU6Y,aAAa,aAAc,SAGvC7Y,EAAUoL,WAAYpM,YAAYgB,GAElC9N,EAAS2wC,IAAuB7iC,EAAU6Y,aAAa,aAAcgqB,E,OAIzErsC,EAAQ,OAAOL,oCACfW,GAAQ,E,GAGd,C,SAGgBgsC,GAAgBrnC,GAC9B,OAAO1K,MAAM6Z,KAAKiL,GAAepW,QAAQnB,QAAO,CAACC,EAAKC,IAASD,EAAIxH,MAAK,IAAMsrC,GAAW7jC,EAAM/C,MAAW5E,QAAQC,SAAQ,GAC5H,C,SASgB8vB,GAAQzwB,EAAiBq0B,GACvC,OAAO,IAAI3zB,SAASC,IAClB,MAAMwJ,EAAMuV,GAAehY,IAAI7F,EAAc7B,IAC7C,GAAImK,EAAK,CACP,MAAMyiC,EAAgBziC,EAAIN,WAAa/D,GAAiBqE,EAAIN,WACxD+iC,EACFjsC,EAAQisC,EAAcnc,OAAO4D,KAE7Bh0B,EAAQ,OAAOL,wCACfW,GAAQ,G,MAGVN,EAAQ,OAAOL,oCACfW,GAAQ,E,GAGd,C,SAmBgBksC,GAAWvnC,GACzB,OAAO,IAAI5E,SAASC,IAClB,IAAKxE,EAAgCmJ,GAAU,OAAOxF,EAAS,uCAC/D,MAAM+J,EAA4BxM,EAAUiI,EAAQuE,WAAavE,EAAQuE,UAAY9N,EAASuJ,EAAQuE,WAAavG,SAASqX,cAAcrV,EAAQuE,WAAa,KAC/J,IAAKxM,EAAUwM,GAAY,OAAO/J,EAAS,0CAE3C,MAAMgtC,EAAkBznC,GAAuB0E,GAASxM,SAExD,IAAK,MAAMqK,KAAQtC,EACjB,GAAa,iBAATsC,EACE1L,EAAWoJ,EAAQsC,KACrBklC,EAAgBhsB,iBAAiB,aAAcxb,EAAQsC,SAEpD,GAAa,eAATA,EAAuB,CAChC,MAAMmlC,EAAkBznC,EAAQsC,GAChC,GAAIzL,EAAc4wC,GAChB,IAAK,MAAMC,KAAYD,EACjBC,EAASzuC,gBAAiByL,IAAc9N,EAAW6wC,EAAgBC,KACrEF,EAAgBhsB,iBAAiBksB,EAASC,cAAeF,EAAgBC,G,KAI7D,cAATplC,GACTklC,EAAgBpqB,aAAa9a,EAAMtC,EAAQsC,IAI/C,MAAM4hC,EAAcA,KAClB0D,IACAvsC,GAAQ,EAAK,EAGTwsC,EAAcA,KAClBD,IACAvsC,GAAQ,EAAM,EAGVusC,EAAkBA,KACtBJ,EAAgBlsB,oBAAoB5W,GAAW23B,QAAS6H,GACxDsD,EAAgBlsB,oBAAoB5W,GAAWm5B,MAAOgK,EAAY,EAGpEL,EAAgBhsB,iBAAiB9W,GAAW23B,QAAS6H,GACrDsD,EAAgBhsB,iBAAiB9W,GAAWm5B,MAAOgK,GAEnDtjC,EAAUqL,YAAY43B,EAAgB,GAE1C,C,MAEaM,WAAiBluB,GAA9BtiB,WAAAA,G,oBACE,KAAAW,QAAU,YACV,KAAA8vC,SAAU,EACV,KAAA/nC,QAAuB,CAAC,EACxB,KAAA+oB,OAAiBA,GACjB,KAAAqc,SAAWA,GACX,KAAAwB,WAAaA,GACb,KAAAS,eAAiBA,GACjB,KAAAriB,cAAgBA,GAChB,KAAA2hB,WAAaA,GACb,KAAAxb,OAASA,GACT,KAAAoc,UAAYA,E,CACZtZ,KAAAA,CAAOjuB,G,QACL,IAAKlL,IAAcC,OAAOmwC,eACxB,OAAO1qC,EAAS,kDAQlB,GAAIiE,KAAKspC,QACP,OAAOvtC,EAAS,sCAKlB,GAFAiE,KAAKspC,SAAU,EAEJ,OAAP/nC,QAAO,IAAPA,OAAO,EAAPA,EAAS/H,QAAS,CACpB,IAAI,oBAAoBR,KAAKuI,EAAQ/H,SAGnC,OAAOuC,EAAS,GAAGwF,EAAQ/H,8BAF3BwG,KAAKxG,QAAU+H,EAAQ/H,O,CAQ3B,GAFAwpC,KAEI1sC,OAAOmwC,eAAe9iC,IAAI3D,KAAKxG,SACjC,OAAO8C,EAAQ,WAAW0D,KAAKxG,8BAGjC,GAAIpB,EAA2BmJ,KAC7BvB,KAAKuB,QAAUA,EACfA,EAAQ,oBAAiD,QAA9B/I,EAAG+I,EAAQ,2BAAmB,IAAA/I,EAAAA,EAAI+I,EAAQ2lC,gBACrE3lC,EAAQ,mBAA+C,QAA7B0T,EAAG1T,EAAQ,0BAAkB,IAAA0T,EAAAA,EAAI1T,EAAQ4lC,eAGnE5lC,EAAQgoC,cAAgB5C,GAASplC,EAAQgoC,cAGzChoC,EAAQioC,cAAgBhC,GAAgBjmC,EAAQioC,cAE5CpxC,EAAcmJ,EAAQkG,UAAU,CAClC,MAAMI,EAAUtG,EAAQkG,QAAQI,QAChC,GAAIzP,EAAcyP,GAChB,IAAK,MAAM5L,KAAW4L,EAAS,CAC7B,MAAM4hC,EAAmB3rC,EAAc7B,GACnCwtC,GAAoBxtC,IAAYwtC,IAClC5hC,EAAQ4hC,GAAoB5hC,EAAQ5L,UAC7B4L,EAAQ5L,G,EAQzBmnC,GAAcpjC,KAAKxG,Q,QAIjBwM,GAAW,IAAIqjC,G,kkBC5UrB,IAAIK,EAoIAC,EAnIJ,MAAMC,EACJ/wC,WAAAA,CAAYgxC,GAAW,GACrB7pC,KAAK6pC,SAAWA,EAIhB7pC,KAAK8pC,SAAU,EAIf9pC,KAAK+pC,QAAU,GAIf/pC,KAAKgqC,SAAW,GAChBhqC,KAAKiqC,WAAY,EACjBjqC,KAAK2P,OAAS+5B,GACTG,GAAYH,IACf1pC,KAAKd,OAASwqC,EAAkBQ,SAAWR,EAAkBQ,OAAS,KAAKtnC,KACzE5C,MACE,EAER,CACA,UAAIivB,GACF,OAAOjvB,KAAK8pC,OACd,CACAK,KAAAA,GACE,GAAInqC,KAAK8pC,QAAS,CAEhB,IAAIluC,EAAGwuC,EACP,GAFApqC,KAAKiqC,WAAY,EAEbjqC,KAAKkqC,OACP,IAAKtuC,EAAI,EAAGwuC,EAAIpqC,KAAKkqC,OAAOnxC,OAAQ6C,EAAIwuC,EAAGxuC,IACzCoE,KAAKkqC,OAAOtuC,GAAGuuC,QAGnB,IAAKvuC,EAAI,EAAGwuC,EAAIpqC,KAAK+pC,QAAQhxC,OAAQ6C,EAAIwuC,EAAGxuC,IAC1CoE,KAAK+pC,QAAQnuC,GAAGuuC,OAEpB,CACF,CAIAE,MAAAA,GACE,GAAIrqC,KAAK8pC,SACH9pC,KAAKiqC,UAAW,CAElB,IAAIruC,EAAGwuC,EACP,GAFApqC,KAAKiqC,WAAY,EAEbjqC,KAAKkqC,OACP,IAAKtuC,EAAI,EAAGwuC,EAAIpqC,KAAKkqC,OAAOnxC,OAAQ6C,EAAIwuC,EAAGxuC,IACzCoE,KAAKkqC,OAAOtuC,GAAGyuC,SAGnB,IAAKzuC,EAAI,EAAGwuC,EAAIpqC,KAAK+pC,QAAQhxC,OAAQ6C,EAAIwuC,EAAGxuC,IAC1CoE,KAAK+pC,QAAQnuC,GAAGyuC,QAEpB,CAEJ,CACAxjC,GAAAA,CAAIpK,GACF,GAAIuD,KAAK8pC,QAAS,CAChB,MAAMQ,EAAqBZ,EAC3B,IAEE,OADAA,EAAoB1pC,KACbvD,GACT,CAAE,QACAitC,EAAoBY,CACtB,CACF,MAAW,CAGb,CAKAxwB,EAAAA,GACE4vB,EAAoB1pC,IACtB,CAKAga,GAAAA,GACE0vB,EAAoB1pC,KAAK2P,MAC3B,CACA0gB,IAAAA,CAAKka,GACH,GAAIvqC,KAAK8pC,QAAS,CAEhB,IAAIluC,EAAGwuC,EACP,IAFApqC,KAAK8pC,SAAU,EAEVluC,EAAI,EAAGwuC,EAAIpqC,KAAK+pC,QAAQhxC,OAAQ6C,EAAIwuC,EAAGxuC,IAC1CoE,KAAK+pC,QAAQnuC,GAAGy0B,OAGlB,IADArwB,KAAK+pC,QAAQhxC,OAAS,EACjB6C,EAAI,EAAGwuC,EAAIpqC,KAAKgqC,SAASjxC,OAAQ6C,EAAIwuC,EAAGxuC,IAC3CoE,KAAKgqC,SAASpuC,KAGhB,GADAoE,KAAKgqC,SAASjxC,OAAS,EACnBiH,KAAKkqC,OAAQ,CACf,IAAKtuC,EAAI,EAAGwuC,EAAIpqC,KAAKkqC,OAAOnxC,OAAQ6C,EAAIwuC,EAAGxuC,IACzCoE,KAAKkqC,OAAOtuC,GAAGy0B,MAAK,GAEtBrwB,KAAKkqC,OAAOnxC,OAAS,CACvB,CACA,IAAKiH,KAAK6pC,UAAY7pC,KAAK2P,SAAW46B,EAAY,CAChD,MAAMC,EAAOxqC,KAAK2P,OAAOu6B,OAAO9uC,MAC5BovC,GAAQA,IAASxqC,OACnBA,KAAK2P,OAAOu6B,OAAOlqC,KAAKd,OAASsrC,EACjCA,EAAKtrC,MAAQc,KAAKd,MAEtB,CACAc,KAAK2P,YAAS,CAChB,CACF,EAKF,SAAS86B,IACP,OAAOf,CACT,CAYA,MAgBMgB,EAAqC,IAAIC,QAC/C,MAAMC,EACJ/xC,WAAAA,CAAY4D,GACVuD,KAAKvD,GAAKA,EAIVuD,KAAK6qC,UAAO,EAIZ7qC,KAAK8qC,cAAW,EAIhB9qC,KAAK+qC,MAAQ,EAIb/qC,KAAKsE,UAAO,EAIZtE,KAAKgrC,aAAU,EACfhrC,KAAKirC,eAAY,EACbvB,GAAqBA,EAAkBza,QACzCya,EAAkBK,QAAQnnC,KAAK5C,KAEnC,CACAmqC,KAAAA,GACEnqC,KAAK+qC,OAAS,EAChB,CACAV,MAAAA,GACmB,GAAbrqC,KAAK+qC,QACP/qC,KAAK+qC,QAAS,GACVL,EAAmBrnC,IAAIrD,QACzB0qC,EAAmBpnC,OAAOtD,MAC1BA,KAAKkrC,WAGX,CAIAC,MAAAA,GACmB,EAAbnrC,KAAK+qC,SAA4B,GAAb/qC,KAAK+qC,QAGV,EAAb/qC,KAAK+qC,OACTK,EAAMprC,KAEV,CACA6G,GAAAA,GACE,KAAmB,EAAb7G,KAAK+qC,OACT,OAAO/qC,KAAKvD,KAEduD,KAAK+qC,OAAS,EACdM,EAAcrrC,MACdsrC,EAAYtrC,MACZ,MAAMurC,EAAa5B,EACb6B,EAAkBC,EACxB9B,EAAY3pC,KACZyrC,GAAc,EACd,IACE,OAAOzrC,KAAKvD,IACd,CAAE,QACI,EAKJivC,EAAY1rC,MACZ2pC,EAAY4B,EACZE,EAAcD,EACdxrC,KAAK+qC,QAAS,CAChB,CACF,CACA1a,IAAAA,GACE,GAAiB,EAAbrwB,KAAK+qC,MAAW,CAClB,IAAK,IAAIz8B,EAAOtO,KAAK6qC,KAAMv8B,EAAMA,EAAOA,EAAKq9B,QAC3CC,EAAUt9B,GAEZtO,KAAK6qC,KAAO7qC,KAAK8qC,cAAW,EAC5BO,EAAcrrC,MACdA,KAAK6rC,QAAU7rC,KAAK6rC,SACpB7rC,KAAK+qC,QAAS,CAChB,CACF,CACAG,OAAAA,GACmB,GAAblrC,KAAK+qC,MACPL,EAAmBvnC,IAAInD,MACdA,KAAKirC,UACdjrC,KAAKirC,YAELjrC,KAAK8rC,YAET,CAIAA,UAAAA,GACMC,EAAQ/rC,OACVA,KAAK6G,KAET,CACA,SAAImlC,GACF,OAAOD,EAAQ/rC,KACjB,EAEF,IACIisC,EACAC,EAFAC,EAAa,EAGjB,SAASf,EAAMgB,EAAKC,GAAa,GAE/B,GADAD,EAAIrB,OAAS,EACTsB,EAGF,OAFAD,EAAI9nC,KAAO4nC,OACXA,EAAkBE,GAGpBA,EAAI9nC,KAAO2nC,EACXA,EAAaG,CACf,CACA,SAASE,IACPH,GACF,CACA,SAASI,IACP,KAAMJ,EAAa,EACjB,OAEF,GAAID,EAAiB,CACnB,IAAIruC,EAAIquC,EACRA,OAAkB,EAClB,MAAOruC,EAAG,CACR,MAAMyG,EAAOzG,EAAEyG,KACfzG,EAAEyG,UAAO,EACTzG,EAAEktC,QAAS,EACXltC,EAAIyG,CACN,CACF,CACA,IAAIjI,EACJ,MAAO4vC,EAAY,CACjB,IAAIpuC,EAAIouC,EACRA,OAAa,EACb,MAAOpuC,EAAG,CACR,MAAMyG,EAAOzG,EAAEyG,KAGf,GAFAzG,EAAEyG,UAAO,EACTzG,EAAEktC,QAAS,EACG,EAAVltC,EAAEktC,MACJ,IAEEltC,EAAEqtC,SACJ,CAAE,MAAO9rC,GACF/C,IAAOA,EAAQ+C,EACtB,CAEFvB,EAAIyG,CACN,CACF,CACA,GAAIjI,EAAO,MAAMA,CACnB,CACA,SAASivC,EAAYc,GACnB,IAAK,IAAI99B,EAAO89B,EAAIvB,KAAMv8B,EAAMA,EAAOA,EAAKq9B,QAC1Cr9B,EAAKlY,SAAW,EAChBkY,EAAKk+B,eAAiBl+B,EAAKm+B,IAAIC,WAC/Bp+B,EAAKm+B,IAAIC,WAAap+B,CAE1B,CACA,SAASo9B,EAAYU,GACnB,IAAInS,EACA0S,EAAOP,EAAItB,SACXx8B,EAAOq+B,EACX,MAAOr+B,EAAM,CACX,MAAMs+B,EAAOt+B,EAAKu+B,SACI,IAAlBv+B,EAAKlY,SACHkY,IAASq+B,IAAMA,EAAOC,GAC1BhB,EAAUt9B,GACVw+B,EAAUx+B,IAEV2rB,EAAO3rB,EAETA,EAAKm+B,IAAIC,WAAap+B,EAAKk+B,eAC3Bl+B,EAAKk+B,oBAAiB,EACtBl+B,EAAOs+B,CACT,CACAR,EAAIvB,KAAO5Q,EACXmS,EAAItB,SAAW6B,CACjB,CACA,SAASZ,EAAQK,GACf,IAAK,IAAI99B,EAAO89B,EAAIvB,KAAMv8B,EAAMA,EAAOA,EAAKq9B,QAC1C,GAAIr9B,EAAKm+B,IAAIr2C,UAAYkY,EAAKlY,SAAWkY,EAAKm+B,IAAIM,WAAaC,EAAgB1+B,EAAKm+B,IAAIM,WAAaz+B,EAAKm+B,IAAIr2C,UAAYkY,EAAKlY,SAC7H,OAAO,EAGX,QAAIg2C,EAAIa,MAIV,CACA,SAASD,EAAgBD,GACvB,GAAqB,EAAjBA,EAAShC,SAAgC,GAAjBgC,EAAShC,OACnC,OAGF,GADAgC,EAAShC,QAAS,GACdgC,EAASG,gBAAkBA,EAC7B,OAEFH,EAASG,cAAgBA,EACzB,MAAMT,EAAMM,EAASN,IAErB,GADAM,EAAShC,OAAS,EACd0B,EAAIr2C,QAAU,IAAM22C,EAASI,OAASJ,EAASlC,OAASkB,EAAQgB,GAElE,YADAA,EAAShC,QAAS,GAGpB,MAAMqC,EAAUzD,EACV6B,EAAkBC,EACxB9B,EAAYoD,EACZtB,GAAc,EACd,IACEH,EAAYyB,GACZ,MAAMr1C,EAAQq1C,EAAStwC,GAAGswC,EAASM,SACf,IAAhBZ,EAAIr2C,UAAiBk3C,EAAAA,EAAAA,IAAW51C,EAAOq1C,EAASM,WAClDN,EAASM,OAAS31C,EAClB+0C,EAAIr2C,UAER,CAAE,MAAOgJ,GAEP,MADAqtC,EAAIr2C,UACEgJ,CACR,CAAE,QACAuqC,EAAYyD,EACZ3B,EAAcD,EACdE,EAAYqB,GACZA,EAAShC,QAAS,CACpB,CACF,CACA,SAASa,EAAUt9B,EAAMi/B,GAAO,GAC9B,MAAM,IAAEd,EAAG,QAAEW,EAAO,QAAEI,GAAYl/B,EAYlC,GAXI8+B,IACFA,EAAQI,QAAUA,EAClBl/B,EAAK8+B,aAAU,GAEbI,IACFA,EAAQJ,QAAUA,EAClB9+B,EAAKk/B,aAAU,GAKbf,EAAIgB,OAASn/B,IACfm+B,EAAIgB,KAAOL,GACNA,GAAWX,EAAIM,UAAU,CAC5BN,EAAIM,SAAShC,QAAS,EACtB,IAAK,IAAIX,EAAIqC,EAAIM,SAASlC,KAAMT,EAAGA,EAAIA,EAAEuB,QACvCC,EAAUxB,GAAG,EAEjB,CAEGmD,KAAWd,EAAIiB,KAAMjB,EAAI77B,KAC5B67B,EAAI77B,IAAItN,OAAOmpC,EAAI5qC,IAEvB,CACA,SAASirC,EAAUx+B,GACjB,MAAM,QAAEu+B,EAAO,QAAElB,GAAYr9B,EACzBu+B,IACFA,EAAQlB,QAAUA,EAClBr9B,EAAKu+B,aAAU,GAEblB,IACFA,EAAQkB,QAAUA,EAClBv+B,EAAKq9B,aAAU,EAEnB,CAsBA,IAAIF,GAAc,EAClB,MAAMkC,EAAa,GACnB,SAASC,IACPD,EAAW/qC,KAAK6oC,GAChBA,GAAc,CAChB,CAKA,SAASoC,IACP,MAAMrD,EAAOmD,EAAWvyC,MACxBqwC,OAAuB,IAATjB,GAAyBA,CACzC,CAUA,SAASa,EAAcxtC,GACrB,MAAM,QAAEmtC,GAAYntC,EAEpB,GADAA,EAAEmtC,aAAU,EACRA,EAAS,CACX,MAAMoC,EAAUzD,EAChBA,OAAY,EACZ,IACEqB,GACF,CAAE,QACArB,EAAYyD,CACd,CACF,CACF,CAEA,IAAIF,EAAgB,EACpB,MAAMY,EACJj1C,WAAAA,CAAYuzC,EAAKK,GACfzsC,KAAKosC,IAAMA,EACXpsC,KAAKysC,IAAMA,EACXzsC,KAAK5J,QAAUq2C,EAAIr2C,QACnB4J,KAAK2rC,QAAU3rC,KAAK6sC,QAAU7sC,KAAKwtC,QAAUxtC,KAAKotC,QAAUptC,KAAKwsC,oBAAiB,CACpF,EAEF,MAAMuB,EACJl1C,WAAAA,CAAYk0C,GACV/sC,KAAK+sC,SAAWA,EAChB/sC,KAAK5J,QAAU,EAIf4J,KAAK0sC,gBAAa,EAIlB1sC,KAAKytC,UAAO,EAIZztC,KAAK4Q,SAAM,EACX5Q,KAAK6B,SAAM,EAIX7B,KAAK0tC,GAAK,CAIZ,CACAM,KAAAA,CAAMC,GACJ,IAAKtE,IAAc8B,GAAe9B,IAAc3pC,KAAK+sC,SACnD,OAEF,IAAIz+B,EAAOtO,KAAK0sC,WAChB,QAAa,IAATp+B,GAAmBA,EAAK89B,MAAQzC,EAClCr7B,EAAOtO,KAAK0sC,WAAa,IAAIoB,EAAKnE,EAAW3pC,MACxC2pC,EAAUkB,MAGbv8B,EAAKu+B,QAAUlD,EAAUmB,SACzBnB,EAAUmB,SAASa,QAAUr9B,EAC7Bq7B,EAAUmB,SAAWx8B,GAJrBq7B,EAAUkB,KAAOlB,EAAUmB,SAAWx8B,EAMxC4/B,EAAO5/B,QACF,IAAsB,IAAlBA,EAAKlY,UACdkY,EAAKlY,QAAU4J,KAAK5J,QAChBkY,EAAKq9B,SAAS,CAChB,MAAMrnC,EAAOgK,EAAKq9B,QAClBrnC,EAAKuoC,QAAUv+B,EAAKu+B,QAChBv+B,EAAKu+B,UACPv+B,EAAKu+B,QAAQlB,QAAUrnC,GAEzBgK,EAAKu+B,QAAUlD,EAAUmB,SACzBx8B,EAAKq9B,aAAU,EACfhC,EAAUmB,SAASa,QAAUr9B,EAC7Bq7B,EAAUmB,SAAWx8B,EACjBq7B,EAAUkB,OAASv8B,IACrBq7B,EAAUkB,KAAOvmC,EAErB,CAYF,OAAOgK,CACT,CACA48B,OAAAA,CAAQ+C,GACNjuC,KAAK5J,UACL82C,IACAltC,KAAKmrC,OAAO8C,EACd,CACA9C,MAAAA,CAAO8C,GACL3B,IACA,IACM,EAcJ,IAAK,IAAIh+B,EAAOtO,KAAKytC,KAAMn/B,EAAMA,EAAOA,EAAK8+B,QACvC9+B,EAAK89B,IAAIjB,UAEX78B,EAAK89B,IAAIK,IAAItB,QAGnB,CAAE,QACAoB,GACF,CACF,EAEF,SAAS2B,EAAO5/B,GAEd,GADAA,EAAKm+B,IAAIiB,KACY,EAAjBp/B,EAAK89B,IAAIrB,MAAW,CACtB,MAAMgC,EAAWz+B,EAAKm+B,IAAIM,SAC1B,GAAIA,IAAaz+B,EAAKm+B,IAAIgB,KAAM,CAC9BV,EAAShC,OAAS,GAClB,IAAK,IAAIX,EAAI2C,EAASlC,KAAMT,EAAGA,EAAIA,EAAEuB,QACnCuC,EAAO9D,EAEX,CACA,MAAM+D,EAAc7/B,EAAKm+B,IAAIgB,KACzBU,IAAgB7/B,IAClBA,EAAK8+B,QAAUe,EACXA,IAAaA,EAAYX,QAAUl/B,IAKzCA,EAAKm+B,IAAIgB,KAAOn/B,CAClB,CACF,CACA,MAAM8/B,EAA4B,IAAIzO,QAChC0O,EAAcjtB,OAC6C,IAE3DktB,EAAsBltB,OACuC,IAE7DmtB,EAAoBntB,OACsC,IAEhE,SAAS4sB,EAAMn2C,EAAQwN,EAAMxD,GAC3B,GAAI4pC,GAAe9B,EAAW,CAC5B,IAAI6E,EAAUJ,EAAUzqC,IAAI9L,GACvB22C,GACHJ,EAAU1qC,IAAI7L,EAAQ22C,EAA0B,IAAI/qC,KAEtD,IAAIgpC,EAAM+B,EAAQ7qC,IAAI9B,GACjB4qC,IACH+B,EAAQ9qC,IAAI7B,EAAK4qC,EAAM,IAAIsB,GAC3BtB,EAAI77B,IAAM49B,EACV/B,EAAI5qC,IAAMA,GASV4qC,EAAIuB,OAER,CACF,CACA,SAAS9C,EAAQrzC,EAAQwN,EAAMxD,EAAK4sC,EAAUC,EAAUC,GACtD,MAAMH,EAAUJ,EAAUzqC,IAAI9L,GAC9B,IAAK22C,EAEH,YADAtB,IAGF,MAAMrmC,EAAO4lC,IACPA,GAWAA,EAAIvB,SAER,EAGF,GADAoB,IACa,UAATjnC,EACFmpC,EAAQ1vC,QAAQ+H,OACX,CACL,MAAM+nC,GAAgBh4C,EAAAA,EAAAA,IAAQiB,GACxBg3C,EAAeD,IAAiBE,EAAAA,EAAAA,IAAajtC,GACnD,GAAI+sC,GAAyB,WAAR/sC,EAAkB,CACrC,MAAMktC,EAAYtpB,OAAOgpB,GACzBD,EAAQ1vC,SAAQ,CAAC2tC,EAAKuC,MACP,WAATA,GAAqBA,IAAST,KAAsBU,EAAAA,EAAAA,IAASD,IAASA,GAAQD,IAChFloC,EAAI4lC,EACN,GAEJ,MAOE,aANY,IAAR5qC,GAAkB2sC,EAAQnrC,SAAI,KAChCwD,EAAI2nC,EAAQ7qC,IAAI9B,IAEdgtC,GACFhoC,EAAI2nC,EAAQ7qC,IAAI4qC,IAEVlpC,GACN,IAAK,MACEupC,EAKMC,GACThoC,EAAI2nC,EAAQ7qC,IAAI,YALhBkD,EAAI2nC,EAAQ7qC,IAAI0qC,KACZa,EAAAA,EAAAA,IAAMr3C,IACRgP,EAAI2nC,EAAQ7qC,IAAI2qC,KAKpB,MACF,IAAK,SACEM,IACH/nC,EAAI2nC,EAAQ7qC,IAAI0qC,KACZa,EAAAA,EAAAA,IAAMr3C,IACRgP,EAAI2nC,EAAQ7qC,IAAI2qC,KAGpB,MACF,IAAK,OACCY,EAAAA,EAAAA,IAAMr3C,IACRgP,EAAI2nC,EAAQ7qC,IAAI0qC,IAElB,MAGR,CACA9B,GACF,CAMA,SAAS4C,EAAkBtvC,GACzB,MAAMuvC,EAAMC,GAAMxvC,GAClB,OAAIuvC,IAAQvvC,EAAcuvC,GAC1BpB,EAAMoB,EAAK,UAAWb,GACfe,GAAUzvC,GAASuvC,EAAMA,EAAIx+B,IAAI2+B,IAC1C,CACA,SAASC,EAAiBC,GAExB,OADAzB,EAAMyB,EAAMJ,GAAMI,GAAM,UAAWlB,GAC5BkB,CACT,CACA,MAAMC,EAAwB,CAC5BC,UAAW,KACX,CAACvuB,OAAOwuB,YACN,OAAOA,EAAS5vC,KAAMohB,OAAOwuB,SAAUL,GACzC,EACAp9B,MAAAA,IAAUzV,GACR,OAAOyyC,EAAkBnvC,MAAMmS,UAC1BzV,EAAKkU,KAAK4mB,IAAM5gC,EAAAA,EAAAA,IAAQ4gC,GAAK2X,EAAkB3X,GAAKA,IAE3D,EACAqY,OAAAA,GACE,OAAOD,EAAS5vC,KAAM,WAAYtI,IAChCA,EAAM,GAAK63C,GAAW73C,EAAM,IACrBA,IAEX,EACAo4C,KAAAA,CAAMrzC,EAAIszC,GACR,OAAO3mB,EAAMppB,KAAM,QAASvD,EAAIszC,OAAS,EAAQC,UACnD,EACAlwC,MAAAA,CAAOrD,EAAIszC,GACT,OAAO3mB,EAAMppB,KAAM,SAAUvD,EAAIszC,GAAUE,GAAMA,EAAEr/B,IAAI2+B,KAAaS,UACtE,EACAE,IAAAA,CAAKzzC,EAAIszC,GACP,OAAO3mB,EAAMppB,KAAM,OAAQvD,EAAIszC,EAASR,GAAYS,UACtD,EACAG,SAAAA,CAAU1zC,EAAIszC,GACZ,OAAO3mB,EAAMppB,KAAM,YAAavD,EAAIszC,OAAS,EAAQC,UACvD,EACAI,QAAAA,CAAS3zC,EAAIszC,GACX,OAAO3mB,EAAMppB,KAAM,WAAYvD,EAAIszC,EAASR,GAAYS,UAC1D,EACAK,aAAAA,CAAc5zC,EAAIszC,GAChB,OAAO3mB,EAAMppB,KAAM,gBAAiBvD,EAAIszC,OAAS,EAAQC,UAC3D,EAEAlxC,OAAAA,CAAQrC,EAAIszC,GACV,OAAO3mB,EAAMppB,KAAM,UAAWvD,EAAIszC,OAAS,EAAQC,UACrD,EACA30C,QAAAA,IAAYqB,GACV,OAAO4zC,EAAYtwC,KAAM,WAAYtD,EACvC,EACAhE,OAAAA,IAAWgE,GACT,OAAO4zC,EAAYtwC,KAAM,UAAWtD,EACtC,EACAwB,IAAAA,CAAK0M,GACH,OAAOukC,EAAkBnvC,MAAM9B,KAAK0M,EACtC,EAEA2lC,WAAAA,IAAe7zC,GACb,OAAO4zC,EAAYtwC,KAAM,cAAetD,EAC1C,EACAkU,GAAAA,CAAInU,EAAIszC,GACN,OAAO3mB,EAAMppB,KAAM,MAAOvD,EAAIszC,OAAS,EAAQC,UACjD,EACA50C,GAAAA,GACE,OAAOo1C,EAAWxwC,KAAM,MAC1B,EACA4C,IAAAA,IAAQlG,GACN,OAAO8zC,EAAWxwC,KAAM,OAAQtD,EAClC,EACA0H,MAAAA,CAAO3H,KAAOC,GACZ,OAAO0H,EAAOpE,KAAM,SAAUvD,EAAIC,EACpC,EACA+zC,WAAAA,CAAYh0C,KAAOC,GACjB,OAAO0H,EAAOpE,KAAM,cAAevD,EAAIC,EACzC,EACAsc,KAAAA,GACE,OAAOw3B,EAAWxwC,KAAM,QAC1B,EAEAkV,IAAAA,CAAKzY,EAAIszC,GACP,OAAO3mB,EAAMppB,KAAM,OAAQvD,EAAIszC,OAAS,EAAQC,UAClD,EACAU,MAAAA,IAAUh0C,GACR,OAAO8zC,EAAWxwC,KAAM,SAAUtD,EACpC,EACAi0C,UAAAA,GACE,OAAOxB,EAAkBnvC,MAAM2wC,YACjC,EACAC,QAAAA,CAASC,GACP,OAAO1B,EAAkBnvC,MAAM4wC,SAASC,EAC1C,EACAC,SAAAA,IAAap0C,GACX,OAAOyyC,EAAkBnvC,MAAM8wC,aAAap0C,EAC9C,EACAq0C,OAAAA,IAAWr0C,GACT,OAAO8zC,EAAWxwC,KAAM,UAAWtD,EACrC,EACA6f,MAAAA,GACE,OAAOqzB,EAAS5vC,KAAM,SAAUuvC,GAClC,GAEF,SAASK,EAASn5C,EAAMoyB,EAAQmoB,GAC9B,MAAMvB,EAAMD,EAAiB/4C,GACvBw6C,EAAOxB,EAAI5mB,KAWjB,OAVI4mB,IAAQh5C,GAAS64C,GAAU74C,KAC7Bw6C,EAAKC,MAAQD,EAAK3sC,KAClB2sC,EAAK3sC,KAAO,KACV,MAAM3J,EAASs2C,EAAKC,QAIpB,OAHIv2C,EAAOjD,QACTiD,EAAOjD,MAAQs5C,EAAUr2C,EAAOjD,QAE3BiD,CAAM,GAGVs2C,CACT,CACA,MAAME,EAAat6C,MAAMQ,UACzB,SAAS+xB,EAAM3yB,EAAMoyB,EAAQpsB,EAAIszC,EAASqB,EAAc10C,GACtD,MAAM+yC,EAAMD,EAAiB/4C,GACvB46C,EAAY5B,IAAQh5C,IAAS64C,GAAU74C,GACvC66C,EAAW7B,EAAI5mB,GACrB,GAAIyoB,IAAaH,EAAWtoB,GAAS,CACnC,MAAM0oB,EAAUD,EAASloB,MAAM3yB,EAAMiG,GACrC,OAAO20C,EAAY9B,GAAWgC,GAAWA,CAC3C,CACA,IAAIC,EAAY/0C,EACZgzC,IAAQh5C,IACN46C,EACFG,EAAY,SAASzxC,EAAMb,GACzB,OAAOzC,EAAG9E,KAAKqI,KAAMuvC,GAAWxvC,GAAOb,EAAOzI,EAChD,EACSgG,EAAG1D,OAAS,IACrBy4C,EAAY,SAASzxC,EAAMb,GACzB,OAAOzC,EAAG9E,KAAKqI,KAAMD,EAAMb,EAAOzI,EACpC,IAGJ,MAAMkE,EAAS22C,EAAS35C,KAAK83C,EAAK+B,EAAWzB,GAC7C,OAAOsB,GAAaD,EAAeA,EAAaz2C,GAAUA,CAC5D,CACA,SAASyJ,EAAO3N,EAAMoyB,EAAQpsB,EAAIC,GAChC,MAAM+yC,EAAMD,EAAiB/4C,GAC7B,IAAI+6C,EAAY/0C,EAYhB,OAXIgzC,IAAQh5C,IACL64C,GAAU74C,GAIJgG,EAAG1D,OAAS,IACrBy4C,EAAY,SAASC,EAAK1xC,EAAMb,GAC9B,OAAOzC,EAAG9E,KAAKqI,KAAMyxC,EAAK1xC,EAAMb,EAAOzI,EACzC,GANA+6C,EAAY,SAASC,EAAK1xC,EAAMb,GAC9B,OAAOzC,EAAG9E,KAAKqI,KAAMyxC,EAAKlC,GAAWxvC,GAAOb,EAAOzI,EACrD,GAOGg5C,EAAI5mB,GAAQ2oB,KAAc90C,EACnC,CACA,SAAS4zC,EAAY75C,EAAMoyB,EAAQnsB,GACjC,MAAM+yC,EAAMJ,GAAM54C,GAClBu3C,EAAMyB,EAAK,UAAWlB,GACtB,MAAMvvC,EAAMywC,EAAI5mB,MAAWnsB,GAC3B,OAAc,IAATsC,IAAsB,IAARA,IAAkB0yC,GAAQh1C,EAAK,IAI3CsC,GAHLtC,EAAK,GAAK2yC,GAAM3yC,EAAK,IACd+yC,EAAI5mB,MAAWnsB,GAG1B,CACA,SAAS8zC,EAAW/5C,EAAMoyB,EAAQnsB,EAAO,IACvCkxC,IACAtB,IACA,MAAMttC,EAAMqwC,GAAM54C,GAAMoyB,GAAQO,MAAM3yB,EAAMiG,GAG5C,OAFA6vC,IACAsB,IACO7uC,CACT,CAEA,MAAM2yC,GAAqCC,EAAAA,EAAAA,IAAQ,+BAC7CC,EAAiB,IAAI3uC,IACTnM,OAAO+B,oBAAoBsoB,QAAQthB,QAAQ+B,GAAgB,cAARA,GAA+B,WAARA,IAAkB+O,KAAK/O,GAAQuf,OAAOvf,KAAM/B,OAAOmvC,EAAAA,KAE/I,SAASz3C,EAAeqK,IACjBotC,EAAAA,EAAAA,IAASptC,KAAMA,EAAMiwC,OAAOjwC,IACjC,MAAMkwC,EAAM1C,GAAMrvC,MAElB,OADAguC,EAAM+D,EAAK,MAAOlwC,GACXkwC,EAAIv6C,eAAeqK,EAC5B,CACA,MAAMmwC,EACJn5C,WAAAA,CAAYo5C,GAAc,EAAOC,GAAa,GAC5ClyC,KAAKiyC,YAAcA,EACnBjyC,KAAKkyC,WAAaA,CACpB,CACAvuC,GAAAA,CAAI9L,EAAQgK,EAAKswC,GACf,GAAY,aAARtwC,EAAoB,OAAOhK,EAAO,YACtC,MAAMu6C,EAAcpyC,KAAKiyC,YAAaI,EAAaryC,KAAKkyC,WACxD,GAAY,mBAARrwC,EACF,OAAQuwC,EACH,GAAY,mBAARvwC,EACT,OAAOuwC,EACF,GAAY,kBAARvwC,EACT,OAAOwwC,EACF,GAAY,YAARxwC,EACT,OAAIswC,KAAcC,EAAcC,EAAaC,GAAqBC,GAAcF,EAAaG,GAAqBC,IAAa9uC,IAAI9L,IAEnId,OAAOmO,eAAerN,KAAYd,OAAOmO,eAAeitC,GAC/Ct6C,OAET,EAEF,MAAM+2C,GAAgBh4C,EAAAA,EAAAA,IAAQiB,GAC9B,IAAKu6C,EAAa,CAChB,IAAI31C,EACJ,GAAImyC,IAAkBnyC,EAAKizC,EAAsB7tC,IAC/C,OAAOpF,EAET,GAAY,mBAARoF,EACF,OAAOrK,CAEX,CACA,MAAMwH,EAAMsiB,QAAQ3d,IAClB9L,EACAgK,EAIA6wC,GAAM76C,GAAUA,EAASs6C,GAE3B,QAAIlD,EAAAA,EAAAA,IAASptC,GAAOgwC,EAAexuC,IAAIxB,GAAO8vC,EAAmB9vC,IACxD7C,GAEJozC,GACHpE,EAAMn2C,EAAQ,MAAOgK,GAEnBwwC,EACKrzC,EAEL0zC,GAAM1zC,GACD4vC,IAAiBE,EAAAA,EAAAA,IAAajtC,GAAO7C,EAAMA,EAAItH,OAEpDW,EAAAA,EAAAA,IAAS2G,GACJozC,EAAcO,GAAS3zC,GAAO4zC,GAAS5zC,GAEzCA,EACT,EAEF,MAAM6zC,UAA+Bb,EACnCn5C,WAAAA,CAAYw5C,GAAa,GACvB32B,OAAM,EAAO22B,EACf,CACA3uC,GAAAA,CAAI7L,EAAQgK,EAAKnK,EAAOy6C,GACtB,IAAIzD,EAAW72C,EAAOgK,GACtB,IAAK7B,KAAKkyC,WAAY,CACpB,MAAMY,EAAqBC,GAAWrE,GAKtC,GAJKY,GAAU53C,IAAWq7C,GAAWr7C,KACnCg3C,EAAWW,GAAMX,GACjBh3C,EAAQ23C,GAAM33C,MAEXd,EAAAA,EAAAA,IAAQiB,IAAW66C,GAAMhE,KAAcgE,GAAMh7C,GAChD,OAAIo7C,IAGFpE,EAASh3C,MAAQA,GACV,EAGb,CACA,MAAMs7C,GAASp8C,EAAAA,EAAAA,IAAQiB,KAAWi3C,EAAAA,EAAAA,IAAajtC,GAAO4jB,OAAO5jB,GAAOhK,EAAOkB,QAASk6C,EAAAA,EAAAA,IAAOp7C,EAAQgK,GAC7FlH,EAAS2mB,QAAQ5d,IACrB7L,EACAgK,EACAnK,EACAg7C,GAAM76C,GAAUA,EAASs6C,GAS3B,OAPIt6C,IAAWw3C,GAAM8C,KACda,GAEM1F,EAAAA,EAAAA,IAAW51C,EAAOg3C,IAC3BxD,EAAQrzC,EAAQ,MAAOgK,EAAKnK,EAAOg3C,GAFnCxD,EAAQrzC,EAAQ,MAAOgK,EAAKnK,IAKzBiD,CACT,CACAsnB,cAAAA,CAAepqB,EAAQgK,GACrB,MAAMmxC,GAASC,EAAAA,EAAAA,IAAOp7C,EAAQgK,GACxB6sC,EAAW72C,EAAOgK,GAClBlH,EAAS2mB,QAAQW,eAAepqB,EAAQgK,GAI9C,OAHIlH,GAAUq4C,GACZ9H,EAAQrzC,EAAQ,SAAUgK,OAAK,EAAQ6sC,GAElC/zC,CACT,CACA0I,GAAAA,CAAIxL,EAAQgK,GACV,MAAMlH,EAAS2mB,QAAQje,IAAIxL,EAAQgK,GAInC,OAHKotC,EAAAA,EAAAA,IAASptC,IAASgwC,EAAexuC,IAAIxB,IACxCmsC,EAAMn2C,EAAQ,MAAOgK,GAEhBlH,CACT,CACAqnB,OAAAA,CAAQnqB,GAMN,OALAm2C,EACEn2C,EACA,WACAjB,EAAAA,EAAAA,IAAQiB,GAAU,SAAWw2C,GAExB/sB,QAAQU,QAAQnqB,EACzB,EAEF,MAAMq7C,UAAgClB,EACpCn5C,WAAAA,CAAYw5C,GAAa,GACvB32B,OAAM,EAAM22B,EACd,CACA3uC,GAAAA,CAAI7L,EAAQgK,GAOV,OAAO,CACT,CACAogB,cAAAA,CAAepqB,EAAQgK,GAOrB,OAAO,CACT,EAEF,MAAMsxC,EAAkC,IAAIN,EACtCO,EAAmC,IAAIF,EACvCG,GAA0C,IAAIR,GAAuB,GAGrES,GAAa57C,GAAUA,EACvB67C,GAAYtD,GAAM3uB,QAAQpc,eAAe+qC,GAC/C,SAASuD,GAAqB3qB,EAAQupB,EAAaC,GACjD,OAAO,YAAY31C,GACjB,MAAM7E,EAASmI,KAAK,WACdqd,EAAYgyB,GAAMx3C,GAClB47C,GAAcvE,EAAAA,EAAAA,IAAM7xB,GACpBq2B,EAAoB,YAAX7qB,GAAwBA,IAAWzH,OAAOwuB,UAAY6D,EAC/DE,EAAuB,SAAX9qB,GAAqB4qB,EACjCG,EAAgB/7C,EAAOgxB,MAAWnsB,GAClCm3C,EAAOxB,EAAaiB,GAAYlB,EAAc0B,GAAavE,GAMjE,OALC6C,GAAepE,EACd3wB,EACA,UACAs2B,EAAYrF,EAAsBD,GAE7B,CAEL/pC,IAAAA,GACE,MAAM,MAAE5M,EAAK,KAAEq8C,GAASH,EAActvC,OACtC,OAAOyvC,EAAO,CAAEr8C,QAAOq8C,QAAS,CAC9Br8C,MAAOg8C,EAAS,CAACG,EAAKn8C,EAAM,IAAKm8C,EAAKn8C,EAAM,KAAOm8C,EAAKn8C,GACxDq8C,OAEJ,EAEA,CAAC3yB,OAAOwuB,YACN,OAAO5vC,IACT,EAEJ,CACF,CACA,SAASg0C,GAAqB3uC,GAC5B,OAAO,YAAY3I,GAQjB,MAAgB,WAAT2I,IAAqC,UAATA,OAAmB,EAASrF,KACjE,CACF,CACA,SAASi0C,GAAuBtB,EAAUuB,GACxC,MAAMC,EAAmB,CACvBxwC,GAAAA,CAAI9B,GACF,MAAMhK,EAASmI,KAAK,WACdqd,EAAYgyB,GAAMx3C,GAClBu8C,EAAS/E,GAAMxtC,GAChB8wC,KACCrF,EAAAA,EAAAA,IAAWzrC,EAAKuyC,IAClBpG,EAAM3wB,EAAW,MAAOxb,GAE1BmsC,EAAM3wB,EAAW,MAAO+2B,IAE1B,MAAM,IAAE/wC,GAAQkwC,GAASl2B,GACnBw2B,EAAOK,EAAUZ,GAAYX,EAAWmB,GAAavE,GAC3D,OAAIlsC,EAAI1L,KAAK0lB,EAAWxb,GACfgyC,EAAKh8C,EAAO8L,IAAI9B,IACdwB,EAAI1L,KAAK0lB,EAAW+2B,GACtBP,EAAKh8C,EAAO8L,IAAIywC,SACdv8C,IAAWwlB,GACpBxlB,EAAO8L,IAAI9B,GAEf,EACA,QAAI4W,GACF,MAAM5gB,EAASmI,KAAK,WAEpB,OADC2yC,GAAY3E,EAAMqB,GAAMx3C,GAAS,UAAWw2C,GACtC/sB,QAAQ3d,IAAI9L,EAAQ,OAAQA,EACrC,EACAwL,GAAAA,CAAIxB,GACF,MAAMhK,EAASmI,KAAK,WACdqd,EAAYgyB,GAAMx3C,GAClBu8C,EAAS/E,GAAMxtC,GAOrB,OANK8wC,KACCrF,EAAAA,EAAAA,IAAWzrC,EAAKuyC,IAClBpG,EAAM3wB,EAAW,MAAOxb,GAE1BmsC,EAAM3wB,EAAW,MAAO+2B,IAEnBvyC,IAAQuyC,EAASv8C,EAAOwL,IAAIxB,GAAOhK,EAAOwL,IAAIxB,IAAQhK,EAAOwL,IAAI+wC,EAC1E,EACAt1C,OAAAA,CAAQ2B,EAAUsvC,GAChB,MAAMsE,EAAWr0C,KACXnI,EAASw8C,EAAS,WAClBh3B,EAAYgyB,GAAMx3C,GAClBg8C,EAAOK,EAAUZ,GAAYX,EAAWmB,GAAavE,GAE3D,OADCoD,GAAY3E,EAAM3wB,EAAW,UAAWgxB,GAClCx2C,EAAOiH,SAAQ,CAACpH,EAAOmK,IACrBpB,EAAS9I,KAAKo4C,EAAS8D,EAAKn8C,GAAQm8C,EAAKhyC,GAAMwyC,IAE1D,IAEFC,EAAAA,EAAAA,IACEH,EACAxB,EAAW,CACTxvC,IAAK6wC,GAAqB,OAC1BtwC,IAAKswC,GAAqB,OAC1B1wC,OAAQ0wC,GAAqB,UAC7B/5B,MAAO+5B,GAAqB,UAC1B,CACF7wC,GAAAA,CAAIzL,GACGw8C,GAAY5E,GAAU53C,IAAWq7C,GAAWr7C,KAC/CA,EAAQ23C,GAAM33C,IAEhB,MAAMG,EAASw3C,GAAMrvC,MACfiF,EAAQsuC,GAAS17C,GACjBm7C,EAAS/tC,EAAM5B,IAAI1L,KAAKE,EAAQH,GAKtC,OAJKs7C,IACHn7C,EAAOsL,IAAIzL,GACXwzC,EAAQrzC,EAAQ,MAAOH,EAAOA,IAEzBsI,IACT,EACA0D,GAAAA,CAAI7B,EAAKnK,GACFw8C,GAAY5E,GAAU53C,IAAWq7C,GAAWr7C,KAC/CA,EAAQ23C,GAAM33C,IAEhB,MAAMG,EAASw3C,GAAMrvC,OACf,IAAEqD,EAAG,IAAEM,GAAQ4vC,GAAS17C,GAC9B,IAAIm7C,EAAS3vC,EAAI1L,KAAKE,EAAQgK,GACzBmxC,IACHnxC,EAAMwtC,GAAMxtC,GACZmxC,EAAS3vC,EAAI1L,KAAKE,EAAQgK,IAI5B,MAAM6sC,EAAW/qC,EAAIhM,KAAKE,EAAQgK,GAOlC,OANAhK,EAAO6L,IAAI7B,EAAKnK,GACXs7C,GAEM1F,EAAAA,EAAAA,IAAW51C,EAAOg3C,IAC3BxD,EAAQrzC,EAAQ,MAAOgK,EAAKnK,EAAOg3C,GAFnCxD,EAAQrzC,EAAQ,MAAOgK,EAAKnK,GAIvBsI,IACT,EACAsD,OAAOzB,GACL,MAAMhK,EAASw3C,GAAMrvC,OACf,IAAEqD,EAAG,IAAEM,GAAQ4vC,GAAS17C,GAC9B,IAAIm7C,EAAS3vC,EAAI1L,KAAKE,EAAQgK,GACzBmxC,IACHnxC,EAAMwtC,GAAMxtC,GACZmxC,EAAS3vC,EAAI1L,KAAKE,EAAQgK,IAI5B,MAAM6sC,EAAW/qC,EAAMA,EAAIhM,KAAKE,EAAQgK,QAAO,EACzClH,EAAS9C,EAAOyL,OAAOzB,GAI7B,OAHImxC,GACF9H,EAAQrzC,EAAQ,SAAUgK,OAAK,EAAQ6sC,GAElC/zC,CACT,EACAsf,KAAAA,GACE,MAAMpiB,EAASw3C,GAAMrvC,MACfu0C,EAA2B,IAAhB18C,EAAO4gB,KAClBk2B,OAA4G,EAC5Gh0C,EAAS9C,EAAOoiB,QAUtB,OATIs6B,GACFrJ,EACErzC,EACA,aACA,OACA,EACA82C,GAGGh0C,CACT,IAGJ,MAAM65C,EAAkB,CACtB,OACA,SACA,UACApzB,OAAOwuB,UAKT,OAHA4E,EAAgB11C,SAAS+pB,IACvBsrB,EAAiBtrB,GAAU2qB,GAAqB3qB,EAAQ8pB,EAAUuB,EAAQ,IAErEC,CACT,CACA,SAASM,GAA4BrC,EAAa8B,GAChD,MAAMC,EAAmBF,GAAuB7B,EAAa8B,GAC7D,MAAO,CAACr8C,EAAQgK,EAAKswC,IACP,mBAARtwC,GACMuwC,EACS,mBAARvwC,EACFuwC,EACU,YAARvwC,EACFhK,EAEFypB,QAAQ3d,KACbsvC,EAAAA,EAAAA,IAAOkB,EAAkBtyC,IAAQA,KAAOhK,EAASs8C,EAAmBt8C,EACpEgK,EACAswC,EAGN,CACA,MAAMuC,GAA4B,CAChC/wC,IAAqB8wC,IAA4B,GAAO,IAEpDE,GAA4B,CAChChxC,IAAqB8wC,IAA4B,GAAO,IAEpDG,GAA6B,CACjCjxC,IAAqB8wC,IAA4B,GAAM,IAezD,MAAMhC,GAA8B,IAAI9S,QAClC6S,GAAqC,IAAI7S,QACzC4S,GAA8B,IAAI5S,QAClC2S,GAAqC,IAAI3S,QAC/C,SAASkV,GAAcC,GACrB,OAAQA,GACN,IAAK,SACL,IAAK,QACH,OAAO,EACT,IAAK,MACL,IAAK,MACL,IAAK,UACL,IAAK,UACH,OAAO,EACT,QACE,OAAO,EAEb,CACA,SAASC,GAAcr9C,GACrB,OAAOA,EAAM,cAAgBX,OAAOi+C,aAAat9C,GAAS,EAAkBm9C,IAAcI,EAAAA,EAAAA,IAAUv9C,GACtG,CACA,SAASk7C,GAAS/6C,GAChB,OAAIk7C,GAAWl7C,GACNA,EAEFq9C,GACLr9C,GACA,EACAs7C,EACAuB,GACAjC,GAEJ,CACA,SAAS0C,GAAgBt9C,GACvB,OAAOq9C,GACLr9C,GACA,EACAw7C,GACAsB,GACAnC,GAEJ,CACA,SAASG,GAAS96C,GAChB,OAAOq9C,GACLr9C,GACA,EACAu7C,EACAwB,GACArC,GAEJ,CAUA,SAAS2C,GAAqBr9C,EAAQu6C,EAAagD,EAAcC,EAAoBC,GACnF,KAAKj9C,EAAAA,EAAAA,IAASR,GAQZ,OAAOA,EAET,GAAIA,EAAO,cAAgBu6C,IAAev6C,EAAO,mBAC/C,OAAOA,EAET,MAAM09C,EAAgBD,EAAS3xC,IAAI9L,GACnC,GAAI09C,EACF,OAAOA,EAET,MAAMC,EAAaT,GAAcl9C,GACjC,GAAmB,IAAf29C,EACF,OAAO39C,EAET,MAAM49C,EAAQ,IAAIt0B,MAChBtpB,EACe,IAAf29C,EAAoCH,EAAqBD,GAG3D,OADAE,EAAS5xC,IAAI7L,EAAQ49C,GACdA,CACT,CACA,SAASC,GAAWh+C,GAClB,OAAIq7C,GAAWr7C,GACNg+C,GAAWh+C,EAAM,eAEhBA,IAASA,EAAM,kBAC3B,CACA,SAASq7C,GAAWr7C,GAClB,SAAUA,IAASA,EAAM,kBAC3B,CACA,SAAS43C,GAAU53C,GACjB,SAAUA,IAASA,EAAM,iBAC3B,CACA,SAASg6C,GAAQh6C,GACf,QAAOA,KAAUA,EAAM,UACzB,CACA,SAAS23C,GAAMgF,GACb,MAAMjF,EAAMiF,GAAYA,EAAS,WACjC,OAAOjF,EAAMC,GAAMD,GAAOiF,CAC5B,CACA,SAASsB,GAAQj+C,GAIf,QAHKu7C,EAAAA,EAAAA,IAAOv7C,EAAO,aAAeX,OAAOi+C,aAAat9C,KACpDk+C,EAAAA,EAAAA,IAAIl+C,EAAO,YAAY,GAElBA,CACT,CACA,MAAM63C,GAAc73C,IAAUW,EAAAA,EAAAA,IAASX,GAASk7C,GAASl7C,GAASA,EAC5Do8C,GAAcp8C,IAAUW,EAAAA,EAAAA,IAASX,GAASi7C,GAASj7C,GAASA,EAElE,SAASg7C,GAAM/mC,GACb,QAAOA,IAAuB,IAAnBA,EAAE,YACf,CAqEA,SAASkqC,GAAMC,GACb,OAAOpD,GAAMoD,GAAQA,EAAKp+C,MAAQo+C,CACpC,CAIA,MAAMC,GAAwB,CAC5BpyC,IAAKA,CAAC9L,EAAQgK,EAAKswC,IAAqB,YAARtwC,EAAoBhK,EAASg+C,GAAMv0B,QAAQ3d,IAAI9L,EAAQgK,EAAKswC,IAC5FzuC,IAAKA,CAAC7L,EAAQgK,EAAKnK,EAAOy6C,KACxB,MAAMzD,EAAW72C,EAAOgK,GACxB,OAAI6wC,GAAMhE,KAAcgE,GAAMh7C,IAC5Bg3C,EAASh3C,MAAQA,GACV,GAEA4pB,QAAQ5d,IAAI7L,EAAQgK,EAAKnK,EAAOy6C,EACzC,GAGJ,SAAS6D,GAAUC,GACjB,OAAOP,GAAWO,GAAkBA,EAAiB,IAAI90B,MAAM80B,EAAgBF,GACjF,CA4EA,MAAMG,GACJr9C,WAAAA,CAAY4D,EAAI05C,EAAQhJ,GACtBntC,KAAKvD,GAAKA,EACVuD,KAAKm2C,OAASA,EAIdn2C,KAAKqtC,YAAS,EAIdrtC,KAAKysC,IAAM,IAAIsB,EAAI/tC,MAInBA,KAAKo2C,WAAY,EAMjBp2C,KAAK6qC,UAAO,EAIZ7qC,KAAK8qC,cAAW,EAIhB9qC,KAAK+qC,MAAQ,GAIb/qC,KAAKktC,cAAgBA,EAAgB,EAIrCltC,KAAKsE,UAAO,EAEZtE,KAAKq2C,OAASr2C,KACdA,KAAK,mBAAqBm2C,EAC1Bn2C,KAAKmtC,MAAQA,CACf,CAIAhC,MAAAA,GAEE,GADAnrC,KAAK+qC,OAAS,KACK,EAAb/qC,KAAK+qC,OACXpB,IAAc3pC,MAEZ,OADAorC,EAAMprC,MAAM,IACL,CAEX,CACA,SAAItI,GACF,MAAM4W,EAIDtO,KAAKysC,IAAIuB,QAKd,OAJAhB,EAAgBhtC,MACZsO,IACFA,EAAKlY,QAAU4J,KAAKysC,IAAIr2C,SAEnB4J,KAAKqtC,MACd,CACA,SAAI31C,CAAM+2C,GACJzuC,KAAKm2C,QACPn2C,KAAKm2C,OAAO1H,EAIhB,EAEF,SAAS1B,GAASuJ,EAAiBC,EAAcpJ,GAAQ,GACvD,IAAIvV,EACAue,GACAh+C,EAAAA,EAAAA,IAAWm+C,GACb1e,EAAS0e,GAET1e,EAAS0e,EAAgB3yC,IACzBwyC,EAASG,EAAgB5yC,KAE3B,MAAM8yC,EAAO,IAAIN,GAAgBte,EAAQue,EAAQhJ,GAKjD,OAAOqJ,CACT,CAEA,MA4BMC,GAAwB,CAAC,EACzBC,GAA6B,IAAI/W,QACvC,IAAIgX,GAIJ,SAASC,GAAiBC,EAAWC,GAAe,EAAOC,EAAQJ,IACjE,GAAII,EAAO,CACT,IAAI/M,EAAW0M,GAAW/yC,IAAIozC,GACzB/M,GAAU0M,GAAWhzC,IAAIqzC,EAAO/M,EAAW,IAChDA,EAASpnC,KAAKi0C,EAChB,MAAW,CAKb,CACA,SAASG,GAAMhnC,EAAQ0K,EAAInZ,EAAU01C,EAAAA,IACnC,MAAM,UAAEC,EAAS,KAAE3c,EAAI,KAAE4c,EAAI,UAAElM,EAAS,WAAEmM,EAAU,KAAEz/C,GAAS4J,EAQzD81C,EAAkBC,GAClB/c,EAAa+c,EACbhI,GAAUgI,KAAqB,IAAT/c,GAA2B,IAATA,EACnCgd,GAASD,EAAS,GACpBC,GAASD,GAElB,IAAIjB,EACAze,EACAoT,EACAwM,EACAC,GAAe,EACfC,GAAgB,EA+CpB,GA9CIhF,GAAM1iC,IACR4nB,EAASA,IAAM5nB,EAAOtY,MACtB+/C,EAAenI,GAAUt/B,IAChB0lC,GAAW1lC,IACpB4nB,EAASA,IAAMyf,EAAernC,GAC9BynC,GAAe,IACN7gD,EAAAA,EAAAA,IAAQoZ,IACjB0nC,GAAgB,EAChBD,EAAeznC,EAAOkF,MAAM5V,GAAMo2C,GAAWp2C,IAAMgwC,GAAUhwC,KAC7Ds4B,EAASA,IAAM5nB,EAAOY,KAAKtR,GACrBozC,GAAMpzC,GACDA,EAAE5H,MACAg+C,GAAWp2C,GACb+3C,EAAe/3C,IACbnH,EAAAA,EAAAA,IAAWmH,GACb3H,EAAOA,EAAK2H,EAAG,GAAKA,SADtB,KAQPs4B,GAFOz/B,EAAAA,EAAAA,IAAW6X,GAChB0K,EACO/iB,EAAO,IAAMA,EAAKqY,EAAQ,GAAKA,EAE/B4nB,KACP,GAAIoT,EAAS,CACX4C,IACA,IACE5C,GACF,CAAE,QACA6C,GACF,CACF,CACA,MAAM8J,EAAgBhB,GACtBA,GAAgBN,EAChB,IACE,OAAO1+C,EAAOA,EAAKqY,EAAQ,EAAG,CAACwnC,IAAiBxnC,EAAOwnC,EACzD,CAAE,QACAb,GAAgBgB,CAClB,GAIKC,EAAAA,GAGPl9B,GAAM6f,EAAM,CACd,MAAMsd,EAAajgB,EACbkgB,GAAiB,IAATvd,EAAgBwd,IAAWxd,EACzC3C,EAASA,IAAM2f,GAASM,IAAcC,EACxC,CACA,MAAME,EAAQvN,IACRwN,EAAcA,KAClB5B,EAAOhmB,OACH2nB,GAASA,EAAM/oB,SACjBipB,EAAAA,EAAAA,IAAOF,EAAMjO,QAASsM,EACxB,EAEF,GAAIc,GAAQz8B,EAAI,CACd,MAAMy9B,EAAMz9B,EACZA,EAAKA,IAAIhe,KACPy7C,KAAOz7C,GACPu7C,GAAa,CAEjB,CACA,IAAIvJ,EAAWgJ,EAAgB,IAAI7gD,MAAMmZ,EAAOjX,QAAQq/C,KAAK3B,IAAyBA,GACtF,MAAM4B,EAAOC,IACX,GAAqB,EAAfjC,EAAOtL,QAAesL,EAAOrK,OAAUsM,GAG7C,GAAI59B,EAAI,CACN,MAAM+zB,EAAW4H,EAAOxvC,MACxB,GAAI0zB,GAAQkd,IAAiBC,EAAgBjJ,EAASv5B,MAAK,CAAC+6B,EAAGr0C,KAAM0xC,EAAAA,EAAAA,IAAW2C,EAAGvB,EAAS9yC,OAAO0xC,EAAAA,EAAAA,IAAWmB,EAAUC,IAAY,CAC9H1D,GACFA,IAEF,MAAMuN,EAAiB5B,GACvBA,GAAgBN,EAChB,IACE,MAAM35C,EAAO,CACX+xC,EAEAC,IAAa+H,QAAwB,EAASiB,GAAiBhJ,EAAS,KAAO+H,GAAwB,GAAK/H,EAC5G8I,GAEF7/C,EAAOA,EAAK+iB,EAAI,EAAGhe,GAEjBge,KAAMhe,GAERgyC,EAAWD,CACb,CAAE,QACAkI,GAAgB4B,CAClB,CACF,CACF,MACElC,EAAOxvC,KACT,EAqCF,OAnCIuwC,GACFA,EAAWiB,GAEbhC,EAAS,IAAIzL,EAAehT,GAC5Bye,EAAOpL,UAAYA,EAAY,IAAMA,EAAUoN,GAAK,GAASA,EAC7Db,EAAgB/6C,GAAOm6C,GAAiBn6C,GAAI,EAAO45C,GACnDrL,EAAUqL,EAAOxK,OAAS,KACxB,MAAM7B,EAAW0M,GAAW/yC,IAAI0yC,GAChC,GAAIrM,EAAU,CACZ,GAAIryC,EACFA,EAAKqyC,EAAU,QAEf,IAAK,MAAMwO,KAAYxO,EAAUwO,IAEnC9B,GAAWpzC,OAAO+yC,EACpB,GAME37B,EACEw8B,EACFmB,GAAI,GAEJ3J,EAAW2H,EAAOxvC,MAEXokC,EACTA,EAAUoN,EAAIv7C,KAAK,MAAM,IAAO,GAEhCu5C,EAAOxvC,MAEToxC,EAAY9N,MAAQkM,EAAOlM,MAAMrtC,KAAKu5C,GACtC4B,EAAY5N,OAASgM,EAAOhM,OAAOvtC,KAAKu5C,GACxC4B,EAAY5nB,KAAO4nB,EACZA,CACT,CACA,SAASV,GAAS7/C,EAAOogD,EAAQC,IAAUU,GACzC,GAAIX,GAAS,KAAMz/C,EAAAA,EAAAA,IAASX,IAAUA,EAAM,YAC1C,OAAOA,EAGT,GADA+gD,EAAOA,GAAwB,IAAIv1C,IAC/Bu1C,EAAKp1C,IAAI3L,GACX,OAAOA,EAIT,GAFA+gD,EAAKt1C,IAAIzL,GACTogD,IACIpF,GAAMh7C,GACR6/C,GAAS7/C,EAAMA,MAAOogD,EAAOW,QACxB,IAAI7hD,EAAAA,EAAAA,IAAQc,GACjB,IAAK,IAAIkE,EAAI,EAAGA,EAAIlE,EAAMqB,OAAQ6C,IAChC27C,GAAS7/C,EAAMkE,GAAIk8C,EAAOW,QAEvB,IAAIC,EAAAA,EAAAA,IAAMhhD,KAAUw3C,EAAAA,EAAAA,IAAMx3C,GAC/BA,EAAMoH,SAASmxC,IACbsH,GAAStH,EAAG6H,EAAOW,EAAK,SAErB,IAAIrgD,EAAAA,EAAAA,IAAcV,GAAQ,CAC/B,IAAK,MAAMmK,KAAOnK,EAChB6/C,GAAS7/C,EAAMmK,GAAMi2C,EAAOW,GAE9B,IAAK,MAAM52C,KAAO9K,OAAO4hD,sBAAsBjhD,GACzCX,OAAOM,UAAUuhD,qBAAqBjhD,KAAKD,EAAOmK,IACpD01C,GAAS7/C,EAAMmK,GAAMi2C,EAAOW,EAGlC,CACA,OAAO/gD,CACT,C,kiBCjqDA,SAASmhD,EAAsBp8C,EAAIuI,EAAUK,EAAM3I,GACjD,IACE,OAAOA,EAAOD,KAAMC,GAAQD,GAC9B,CAAE,MAAO2C,GACPgqC,EAAYhqC,EAAK4F,EAAUK,EAC7B,CACF,CACA,SAASyzC,EAA2Br8C,EAAIuI,EAAUK,EAAM3I,GACtD,IAAIvE,EAAAA,EAAAA,IAAWsE,GAAK,CAClB,MAAMuC,EAAM65C,EAAsBp8C,EAAIuI,EAAUK,EAAM3I,GAMtD,OALIsC,IAAO1G,EAAAA,EAAAA,IAAU0G,IACnBA,EAAIG,OAAOC,IACTgqC,EAAYhqC,EAAK4F,EAAUK,EAAK,IAG7BrG,CACT,CACA,IAAIpI,EAAAA,EAAAA,IAAQ6F,GAAK,CACf,MAAM8f,EAAS,GACf,IAAK,IAAI3gB,EAAI,EAAGA,EAAIa,EAAG1D,OAAQ6C,IAC7B2gB,EAAO3Z,KAAKk2C,EAA2Br8C,EAAGb,GAAIoJ,EAAUK,EAAM3I,IAEhE,OAAO6f,CACT,CAKF,CACA,SAAS6sB,EAAYhqC,EAAK4F,EAAUK,EAAM0zC,GAAa,GACrD,MAAMC,EAAeh0C,EAAWA,EAASi0C,MAAQ,MAC3C,aAAEC,EAAY,gCAAEC,GAAoCn0C,GAAYA,EAASo0C,WAAWthC,QAAUm/B,EAAAA,GACpG,GAAIjyC,EAAU,CACZ,IAAIq0C,EAAMr0C,EAAS2K,OACnB,MAAM2pC,EAAkBt0C,EAASywC,MAC3B8D,EAAmF,8CAA8Cl0C,IACvI,MAAOg0C,EAAK,CACV,MAAMG,EAAqBH,EAAII,GAC/B,GAAID,EACF,IAAK,IAAI59C,EAAI,EAAGA,EAAI49C,EAAmBzgD,OAAQ6C,IAC7C,IAA+D,IAA3D49C,EAAmB59C,GAAGwD,EAAKk6C,EAAiBC,GAC9C,OAINF,EAAMA,EAAI1pC,MACZ,CACA,GAAIupC,EAQF,OAPAtL,EAAAA,EAAAA,MACAiL,EAAsBK,EAAc,KAAM,GAAI,CAC5C95C,EACAk6C,EACAC,SAEF1L,EAAAA,EAAAA,KAGJ,CACA9xC,EAASqD,EAAKiG,EAAM2zC,EAAcD,EAAYI,EAChD,CACA,SAASp9C,EAASqD,EAAKiG,EAAM2zC,EAAcD,GAAa,EAAMW,GAAc,GAenE,GAAIA,EACT,MAAMt6C,EAENhD,QAAQC,MAAM+C,EAElB,CAEA,MAAMwZ,EAAQ,GACd,IAAI+gC,GAAc,EAClB,MAAMC,EAAsB,GAC5B,IAAIC,EAAqB,KACrBC,EAAiB,EACrB,MAAMC,EAAkCp9C,QAAQC,UAChD,IAAIo9C,EAAsB,KAE1B,SAASC,EAASx9C,GAChB,MAAMsC,EAAIi7C,GAAuBD,EACjC,OAAOt9C,EAAKsC,EAAElC,KAAKmD,KAAOvD,EAAGK,KAAKkD,MAAQvD,GAAMsC,CAClD,CACA,SAASm7C,EAAmBve,GAC1B,IAAInM,EAAQmqB,EAAa,EACrBQ,EAAMvhC,EAAM7f,OAChB,MAAOy2B,EAAQ2qB,EAAK,CAClB,MAAMC,EAAS5qB,EAAQ2qB,IAAQ,EACzBE,EAAYzhC,EAAMwhC,GAClBE,EAAcC,EAAMF,GACtBC,EAAc3e,GAAM2e,IAAgB3e,GAAwB,EAAlB0e,EAAUtP,MACtDvb,EAAQ4qB,EAAS,EAEjBD,EAAMC,CAEV,CACA,OAAO5qB,CACT,CACA,SAASgrB,EAASnC,GAChB,KAAkB,EAAZA,EAAItN,OAAY,CACpB,MAAM0P,EAAQF,EAAMlC,GACdqC,EAAU9hC,EAAMA,EAAM7f,OAAS,IAChC2hD,KACS,EAAZrC,EAAItN,QAAc0P,GAASF,EAAMG,GACjC9hC,EAAMhW,KAAKy1C,GAEXz/B,EAAM83B,OAAOwJ,EAAmBO,GAAQ,EAAGpC,GAE7CA,EAAItN,OAAS,EACb4P,GACF,CACF,CACA,SAASA,IACFX,IACHA,EAAsBD,EAAgBl9C,KAAK+9C,GAE/C,CACA,SAASC,EAAiBngC,IACnB9jB,EAAAA,EAAAA,IAAQ8jB,GAQXk/B,EAAoBh3C,QAAQ8X,GAPxBm/B,IAAiC,IAAXn/B,EAAGihB,GAC3Bke,EAAmBnJ,OAAOoJ,EAAiB,EAAG,EAAGp/B,GAC3B,EAAXA,EAAGqwB,QACd6O,EAAoBh3C,KAAK8X,GACzBA,EAAGqwB,OAAS,GAKhB4P,GACF,CACA,SAASG,EAAiB91C,EAAUyzC,EAAM78C,EAAI+9C,EAAa,GAIzD,IAHI,EAGG/9C,EAAIgd,EAAM7f,OAAQ6C,IAAK,CAC5B,MAAM8e,EAAK9B,EAAMhd,GACjB,GAAI8e,GAAiB,EAAXA,EAAGqwB,MAAW,CACtB,GAAI/lC,GAAY0V,EAAGihB,KAAO32B,EAAS+1C,IACjC,SAEE,EAGJniC,EAAM83B,OAAO90C,EAAG,GAChBA,IACe,EAAX8e,EAAGqwB,QACLrwB,EAAGqwB,QAAS,GAEdrwB,IACiB,EAAXA,EAAGqwB,QACPrwB,EAAGqwB,QAAS,EAEhB,CACF,CACF,CACA,SAASiQ,EAAkBvC,GACzB,GAAImB,EAAoB7gD,OAAQ,CAC9B,MAAMkiD,EAAU,IAAI,IAAI/3C,IAAI02C,IAAsBsB,MAChD,CAACC,EAAGC,IAAMb,EAAMY,GAAKZ,EAAMa,KAG7B,GADAxB,EAAoB7gD,OAAS,EACzB8gD,EAEF,YADAA,EAAmBj3C,QAAQq4C,GAO7B,IAJApB,EAAqBoB,EAIhBnB,EAAiB,EAAGA,EAAiBD,EAAmB9gD,OAAQ+gD,IAAkB,CACrF,MAAMp/B,EAAKm/B,EAAmBC,GAC1B,EAGW,EAAXp/B,EAAGqwB,QACLrwB,EAAGqwB,QAAS,GAEG,EAAXrwB,EAAGqwB,OAAYrwB,IACrBA,EAAGqwB,QAAS,CACd,CACA8O,EAAqB,KACrBC,EAAiB,CACnB,CACF,CACA,MAAMS,EAASlC,GAAkB,MAAVA,EAAI1c,GAAyB,EAAZ0c,EAAItN,OAAa,EAAIgN,IAAWM,EAAI1c,GAC5E,SAASif,EAAUnC,GAIqFb,EAAAA,GACtG,IACE,IAAK+B,EAAa,EAAGA,EAAa/gC,EAAM7f,OAAQ4gD,IAAc,CAC5D,MAAMtB,EAAMz/B,EAAM+gC,IACdtB,GAAqB,EAAZA,EAAItN,QAIC,EAAZsN,EAAItN,QACNsN,EAAItN,QAAS,GAEf8N,EACER,EACAA,EAAIz8C,EACJy8C,EAAIz8C,EAAI,GAAK,IAEG,EAAZy8C,EAAItN,QACRsN,EAAItN,QAAS,GAGnB,CACF,CAAE,QACA,KAAO4O,EAAa/gC,EAAM7f,OAAQ4gD,IAAc,CAC9C,MAAMtB,EAAMz/B,EAAM+gC,GACdtB,IACFA,EAAItN,QAAS,EAEjB,CACA4O,GAAc,EACd/gC,EAAM7f,OAAS,EACfiiD,EAAkBvC,GAClBuB,EAAsB,MAClBphC,EAAM7f,QAAU6gD,EAAoB7gD,SACtC6hD,EAAUnC,EAEd,CACF,CAwOA,IAAI4C,EAA2B,KAC3BC,EAAiB,KACrB,SAASC,EAA4Bv2C,GACnC,MAAM4nC,EAAOyO,EAGb,OAFAA,EAA2Br2C,EAC3Bs2C,EAAiBt2C,GAAYA,EAASK,KAAKm2C,WAAa,KACjD5O,CACT,CAQA,SAAS6O,EAAQh/C,EAAIi/C,EAAML,EAA0BM,GACnD,IAAKD,EAAK,OAAOj/C,EACjB,GAAIA,EAAGm/C,GACL,OAAOn/C,EAET,MAAMo/C,EAAsBA,IAAIn/C,KAC1Bm/C,EAAoB38B,IACtB48B,IAAkB,GAEpB,MAAMC,EAAeR,EAA4BG,GACjD,IAAI18C,EACJ,IACEA,EAAMvC,KAAMC,EACd,CAAE,QACA6+C,EAA4BQ,GACxBF,EAAoB38B,IACtB48B,GAAiB,EAErB,CAIA,OAAO98C,CAAG,EAKZ,OAHA68C,EAAoBD,IAAK,EACzBC,EAAoB7mC,IAAK,EACzB6mC,EAAoB38B,IAAK,EAClB28B,CACT,CAsCA,SAASG,EAAoB/C,EAAOgD,EAAWj3C,EAAUvM,GACvD,MAAMyjD,EAAWjD,EAAMkD,KACjBC,EAAcH,GAAaA,EAAUE,KAC3C,IAAK,IAAIvgD,EAAI,EAAGA,EAAIsgD,EAASnjD,OAAQ6C,IAAK,CACxC,MAAMygD,EAAUH,EAAStgD,GACrBwgD,IACFC,EAAQ3N,SAAW0N,EAAYxgD,GAAGlE,OAEpC,IAAI4kD,EAAOD,EAAQE,IAAI9jD,GACnB6jD,KACF1O,EAAAA,EAAAA,MACAkL,EAA2BwD,EAAMt3C,EAAU,EAAG,CAC5Ci0C,EAAMuD,GACNH,EACApD,EACAgD,KAEFpO,EAAAA,EAAAA,MAEJ,CACF,CAEA,MAAM4O,EAAiBr7B,OAAO,QACxBs7B,EAAcr3C,GAASA,EAAKs3C,aA2VlC,MAAMC,EAAax7B,OAAO,YACpBy7B,EAAaz7B,OAAO,YAC1B,SAAS07B,IACP,MAAMx5B,EAAQ,CACZy5B,WAAW,EACXC,WAAW,EACXC,cAAc,EACdC,cAA+B,IAAIz5C,KAQrC,OANA05C,IAAU,KACR75B,EAAMy5B,WAAY,CAAI,IAExBK,IAAgB,KACd95B,EAAM25B,cAAe,CAAI,IAEpB35B,CACT,CACA,MAAM+5B,EAA0B,CAAC3mD,SAAUG,OACrCymD,EAAgC,CACpC55B,KAAMouB,OACNyL,OAAQ73B,QACR83B,UAAW93B,QAEX+3B,cAAeJ,EACfK,QAASL,EACTM,aAAcN,EACdO,iBAAkBP,EAElBQ,cAAeR,EACfS,QAAST,EACTU,aAAcV,EACdW,iBAAkBX,EAElBY,eAAgBZ,EAChBa,SAAUb,EACVc,cAAed,EACfe,kBAAmBf,GA+GrB,SAASgB,EAAuB/6B,EAAO21B,GACrC,MAAM,cAAEiE,GAAkB55B,EAC1B,IAAIg7B,EAAqBpB,EAAcv5C,IAAIs1C,EAAM5zC,MAKjD,OAJKi5C,IACHA,EAAqCvnD,OAAOkJ,OAAO,MACnDi9C,EAAcx5C,IAAIu1C,EAAM5zC,KAAMi5C,IAEzBA,CACT,CACA,SAASC,EAAuBtF,EAAOv6B,EAAO4E,EAAOte,EAAUw5C,GAC7D,MAAM,OACJjB,EAAM,KACN75B,EAAI,UACJ85B,GAAY,EAAK,cACjBC,EAAa,QACbC,EAAO,aACPC,EAAY,iBACZC,EAAgB,cAChBC,EAAa,QACbC,EAAO,aACPC,EAAY,iBACZC,EAAgB,eAChBC,EAAc,SACdC,EAAQ,cACRC,EAAa,kBACbC,GACE1/B,EACE7c,EAAMiwC,OAAOmH,EAAMp3C,KACnBy8C,EAAqBD,EAAuB/6B,EAAO21B,GACnDwF,EAAWA,CAACnC,EAAM5/C,KACtB4/C,GAAQxD,EACNwD,EACAt3C,EACA,EACAtI,EACD,EAEGgiD,EAAgBA,CAACpC,EAAM5/C,KAC3B,MAAMq3C,EAAOr3C,EAAK,GAClB+hD,EAASnC,EAAM5/C,IACX9F,EAAAA,EAAAA,IAAQ0lD,GACNA,EAAKxM,OAAO6O,GAAUA,EAAM5lD,QAAU,KAAIg7C,IACrCuI,EAAKvjD,QAAU,GACxBg7C,GACF,EAEI6K,EAAQ,CACZl7B,OACA85B,YACAqB,WAAAA,CAAYrC,GACV,IAAIF,EAAOmB,EACX,IAAKn6B,EAAMy5B,UAAW,CACpB,IAAIQ,EAGF,OAFAjB,EAAO2B,GAAkBR,CAI7B,CACIjB,EAAGI,IACLJ,EAAGI,IACD,GAIJ,MAAMkC,EAAeR,EAAmBz8C,GACpCi9C,GAAgBC,GAAgB9F,EAAO6F,IAAiBA,EAAatC,GAAGI,IAC1EkC,EAAatC,GAAGI,KAElB6B,EAASnC,EAAM,CAACE,GAClB,EACAwC,KAAAA,CAAMxC,GACJ,IAAIF,EAAOoB,EACPuB,EAAYtB,EACZuB,EAAatB,EACjB,IAAKt6B,EAAMy5B,UAAW,CACpB,IAAIQ,EAKF,OAJAjB,EAAO4B,GAAYR,EACnBuB,EAAYd,GAAiBR,EAC7BuB,EAAad,GAAqBR,CAItC,CACA,IAAIuB,GAAS,EACb,MAAMpL,EAAOyI,EAAGK,GAAeuC,IACzBD,IACJA,GAAS,EAEPV,EADEW,EACOF,EAEAD,EAFY,CAACzC,IAIpBoC,EAAMS,cACRT,EAAMS,eAER7C,EAAGK,QAAc,EAAM,EAErBP,EACFoC,EAAcpC,EAAM,CAACE,EAAIzI,IAEzBA,GAEJ,EACAuL,KAAAA,CAAM9C,EAAItE,GACR,MAAMlJ,EAAO8C,OAAOmH,EAAMp3C,KAO1B,GANI26C,EAAGK,IACLL,EAAGK,IACD,GAIAv5B,EAAM25B,aACR,OAAO/E,IAETuG,EAASZ,EAAe,CAACrB,IACzB,IAAI2C,GAAS,EACb,MAAMpL,EAAOyI,EAAGI,GAAewC,IACzBD,IACJA,GAAS,EACTjH,IAEEuG,EADEW,EACOpB,EAEAD,EAFkB,CAACvB,IAI9BA,EAAGI,QAAc,EACb0B,EAAmBtP,KAAUiK,UACxBqF,EAAmBtP,GAC5B,EAEFsP,EAAmBtP,GAAQiK,EACvB6E,EACFY,EAAcZ,EAAS,CAACtB,EAAIzI,IAE5BA,GAEJ,EACAwL,KAAAA,CAAMC,GACJ,MAAMC,EAASlB,EACbiB,EACA9gC,EACA4E,EACAte,EACAw5C,GAGF,OADIA,GAAWA,EAAUiB,GAClBA,CACT,GAEF,OAAOb,CACT,CA4BA,SAASc,EAAmBzG,EAAO2F,GACX,EAAlB3F,EAAM0G,WAAiB1G,EAAM2G,WAC/B3G,EAAM4G,WAAajB,EACnBc,EAAmBzG,EAAM2G,UAAUE,QAASlB,IACjB,IAAlB3F,EAAM0G,WACf1G,EAAM8G,UAAUF,WAAajB,EAAMW,MAAMtG,EAAM8G,WAC/C9G,EAAM+G,WAAWH,WAAajB,EAAMW,MAAMtG,EAAM+G,aAEhD/G,EAAM4G,WAAajB,CAEvB,CACA,SAASqB,EAAyB/nC,EAAUgoC,GAAc,EAAOC,GAC/D,IAAIC,EAAM,GACNC,EAAqB,EACzB,IAAK,IAAIzkD,EAAI,EAAGA,EAAIsc,EAASnf,OAAQ6C,IAAK,CACxC,IAAIuc,EAAQD,EAAStc,GACrB,MAAMiG,EAAmB,MAAbs+C,EAAoBhoC,EAAMtW,IAAMiwC,OAAOqO,GAAarO,OAAoB,MAAb35B,EAAMtW,IAAcsW,EAAMtW,IAAMjG,GACnGuc,EAAM9S,OAASi7C,IACK,IAAlBnoC,EAAMooC,WAAiBF,IAC3BD,EAAMA,EAAIjuC,OACR8tC,EAAyB9nC,EAAMD,SAAUgoC,EAAar+C,MAE/Cq+C,GAAe/nC,EAAM9S,OAASm7C,KACvCJ,EAAIx9C,KAAY,MAAPf,EAAc4+C,GAAWtoC,EAAO,CAAEtW,QAASsW,EAExD,CACA,GAAIkoC,EAAqB,EACvB,IAAK,IAAIzkD,EAAI,EAAGA,EAAIwkD,EAAIrnD,OAAQ6C,IAC9BwkD,EAAIxkD,GAAG2kD,WAAa,EAGxB,OAAOH,CACT;2BAuBA,SAASM,EAAkB17C,GACzBA,EAAS27C,IAAM,CAAC37C,EAAS27C,IAAI,GAAK37C,EAAS27C,IAAI,KAAO,IAAK,EAAG,EAChE,CA8BA,SAASC,EAAOC,EAAQC,EAAWC,EAAgB9H,EAAO+H,GAAY,GACpE,IAAIpqD,EAAAA,EAAAA,IAAQiqD,GAUV,YATAA,EAAO/hD,SACL,CAAC6M,EAAG/P,IAAMglD,EACRj1C,EACAm1C,KAAclqD,EAAAA,EAAAA,IAAQkqD,GAAaA,EAAUllD,GAAKklD,GAClDC,EACA9H,EACA+H,KAKN,GAAIC,EAAehI,KAAW+H,EAI5B,YAHsB,IAAlB/H,EAAM0G,WAAmB1G,EAAM5zC,KAAK67C,iBAAmBjI,EAAM2G,UAAUE,QAAQF,WACjFgB,EAAOC,EAAQC,EAAWC,EAAgB9H,EAAM2G,UAAUE,UAI9D,MAAMqB,EAA6B,EAAlBlI,EAAM0G,UAAgByB,GAA2BnI,EAAM2G,WAAa3G,EAAMuD,GACrF9kD,EAAQspD,EAAY,KAAOG,GACzBvlD,EAAGm7C,EAAOprC,EAAG01C,GAAQR,EAO7B,MAAMS,EAASR,GAAaA,EAAUn1C,EAChC41C,EAAOxK,EAAMwK,OAAStK,EAAAA,GAAYF,EAAMwK,KAAO,CAAC,EAAIxK,EAAMwK,KAC1DC,EAAazK,EAAMyK,WACnBC,GAAgBpS,EAAAA,EAAAA,IAAMmS,GACtBE,EAAiBF,IAAevK,EAAAA,GAAY,KAAM,EAASp1C,IAWxDoxC,EAAAA,EAAAA,IAAOwO,EAAe5/C,GAY/B,GAVc,MAAVy/C,GAAkBA,IAAWD,KAC3BrpD,EAAAA,EAAAA,IAASspD,IACXC,EAAKD,GAAU,KACXI,EAAeJ,KACjBE,EAAWF,GAAU,QAEd5O,EAAAA,EAAAA,IAAM4O,KACfA,EAAO5pD,MAAQ,QAGfS,EAAAA,EAAAA,IAAWkpD,GACbxI,EAAsBwI,EAAKtK,EAAO,GAAI,CAACr/C,EAAO6pD,QACzC,CACL,MAAMI,GAAY3pD,EAAAA,EAAAA,IAASqpD,GACrBO,GAASlP,EAAAA,EAAAA,IAAM2O,GACrB,GAAIM,GAAaC,EAAQ,CACvB,MAAMC,EAAQA,KACZ,GAAIhB,EAAOxnC,EAAG,CACZ,MAAMyoC,EAAWH,EAAYD,EAAeL,GAAOG,EAAWH,GAAOE,EAAKF,GAAOA,EAAI3pD,MACjFspD,GACFpqD,EAAAA,EAAAA,IAAQkrD,KAAa5J,EAAAA,EAAAA,IAAO4J,EAAUX,IAEjCvqD,EAAAA,EAAAA,IAAQkrD,GAUDA,EAASzmD,SAAS8lD,IAC5BW,EAASl/C,KAAKu+C,GAVVQ,GACFJ,EAAKF,GAAO,CAACF,GACTO,EAAeL,KACjBG,EAAWH,GAAOE,EAAKF,MAGzBA,EAAI3pD,MAAQ,CAACypD,GACTN,EAAOkB,IAAGR,EAAKV,EAAOkB,GAAKV,EAAI3pD,OAM3C,MAAWiqD,GACTJ,EAAKF,GAAO3pD,EACRgqD,EAAeL,KACjBG,EAAWH,GAAO3pD,IAEXkqD,IACTP,EAAI3pD,MAAQA,EACRmpD,EAAOkB,IAAGR,EAAKV,EAAOkB,GAAKrqD,GACsB,EAIrDA,GACFmqD,EAAMlmB,IAAM,EACZqmB,GAAsBH,EAAOd,IAE7Bc,GAEJ,MAAW,CAGb,CACF,EAuoB4BI,EAAAA,EAAAA,MAAgB/hD,qBACjB+hD,EAAAA,EAAAA,MAAgBC,mBA0F3C,MAAMjB,EAAkBrlD,KAAQA,EAAEyJ,KAAK88C;4BA4JvC,MAAMC,EAAenJ,GAAUA,EAAM5zC,KAAKg9C,cAQpBt2C,OACAA,OAoMtB,SAASu2C,EAAQC,EAAS9pD,GACxB,OAAI7B,EAAAA,EAAAA,IAAQ2rD,GACHA,EAAQrtC,MAAMnW,GAAMujD,EAAQvjD,EAAGtG,MAC7BT,EAAAA,EAAAA,IAASuqD,GACXA,EAAQpnD,MAAM,KAAKE,SAAS5C,MAC1B+pD,EAAAA,EAAAA,IAASD,KAClBA,EAAQE,UAAY,EACbF,EAAQvpD,KAAKP,GAGxB,CACA,SAASiqD,EAAYpG,EAAMzkD,GACzB8qD,EAAsBrG,EAAM,IAAKzkD,EACnC,CACA,SAAS+qD,EAActG,EAAMzkD,GAC3B8qD,EAAsBrG,EAAM,KAAMzkD,EACpC,CACA,SAAS8qD,EAAsBrG,EAAMj3C,EAAMxN,EAASgrD,IAClD,MAAMC,EAAcxG,EAAKyG,QAAUzG,EAAKyG,MAAQ,KAC9C,IAAIx4B,EAAU1yB,EACd,MAAO0yB,EAAS,CACd,GAAIA,EAAQy4B,cACV,OAEFz4B,EAAUA,EAAQ5a,MACpB,CACA,OAAO2sC,GAAM,GAGf,GADA2G,EAAW59C,EAAMy9C,EAAajrD,GAC1BA,EAAQ,CACV,IAAI0yB,EAAU1yB,EAAO8X,OACrB,MAAO4a,GAAWA,EAAQ5a,OACpByyC,EAAY73B,EAAQ5a,OAAOspC,QAC7BiK,EAAsBJ,EAAaz9C,EAAMxN,EAAQ0yB,GAEnDA,EAAUA,EAAQ5a,MAEtB,CACF,CACA,SAASuzC,EAAsB5G,EAAMj3C,EAAMxN,EAAQsrD,GACjD,MAAMC,EAAWH,EACf59C,EACAi3C,EACA6G,GACA,GAGFE,IAAY,MACVnL,EAAAA,EAAAA,IAAOiL,EAAc99C,GAAO+9C,EAAS,GACpCvrD,EACL,CACA,SAASyrD,EAAerK,GACtBA,EAAM0G,YAAa,IACnB1G,EAAM0G,YAAa,GACrB,CACA,SAAS4D,EAActK,GACrB,OAAyB,IAAlBA,EAAM0G,UAAkB1G,EAAM8G,UAAY9G,CACnD,CAEA,SAASgK,EAAW59C,EAAMi3C,EAAMzkD,EAASgrD,GAAiBxpB,GAAU,GAClE,GAAIxhC,EAAQ,CACV,MAAM+mD,EAAQ/mD,EAAOwN,KAAUxN,EAAOwN,GAAQ,IACxCy9C,EAAcxG,EAAKkH,QAAUlH,EAAKkH,MAAQ,IAAI9mD,MAClDkxC,EAAAA,EAAAA,MACA,MAAMpkC,EAAQi6C,GAAmB5rD,GAC3BmH,EAAM85C,EAA2BwD,EAAMzkD,EAAQwN,EAAM3I,GAG3D,OAFA8M,KACAqkC,EAAAA,EAAAA,MACO7uC,CAAG,GAOZ,OALIq6B,EACFulB,EAAM7N,QAAQ+R,GAEdlE,EAAMh8C,KAAKkgD,GAENA,CACT,CAMF,CACA,MAAMY,EAAcC,GAAc,CAACrH,EAAMzkD,EAASgrD,MAC3Ce,IAAuC,OAAdD,GAC5BV,EAAWU,GAAW,IAAIjnD,IAAS4/C,KAAQ5/C,IAAO7E,EACpD,EAEIgsD,GAAgBH,EAAW,MAC3BvG,GAAYuG,EAAW,KACvBI,GAAiBJ,EACrB,MAEIK,GAAYL,EAAW,KACvBtG,GAAkBsG,EACtB,OAEIL,GAAcK,EAAW,MACzBM,GAAmBN,EACvB,MAEIO,GAAoBP,EAAW,OAC/BQ,GAAkBR,EAAW,OACnC,SAASS,GAAgB7H,EAAMzkD,EAASgrD,IACtCI,EAAW,KAAM3G,EAAMzkD,EACzB,CAEA,MAAMusD,GAAa,aAEnB,SAASC,GAAiB5rD,EAAM6rD,GAC9B,OAAOC,GAAaH,GAAY3rD,GAAM,EAAM6rD,IAAuB7rD,CACrE,CACA,MAAM+rD,GAAyBpjC,OAAOqjC,IAAI,SAW1C,SAASF,GAAal/C,EAAM5M,EAAMisD,GAAc,EAAMJ,GAAqB,GACzE,MAAMt/C,EAAWq2C,GAA4BwH,GAC7C,GAAI79C,EAAU,CACZ,MAAM2/C,EAAY3/C,EAASK,KAC3B,GAAIA,IAAS++C,GAAY,CACvB,MAAMQ,EAAWC,GACfF,GACA,GAEF,GAAIC,IAAaA,IAAansD,GAAQmsD,KAAaE,EAAAA,EAAAA,IAASrsD,IAASmsD,KAAaG,EAAAA,EAAAA,KAAWD,EAAAA,EAAAA,IAASrsD,KACpG,OAAOksD,CAEX,CACA,MAAM3lD,EAGJpC,GAAQoI,EAASK,IAASs/C,EAAUt/C,GAAO5M,IAC3CmE,GAAQoI,EAASo0C,WAAW/zC,GAAO5M,GAErC,OAAKuG,GAAOslD,EACHK,EAOF3lD,CACT,CAKF,CACA,SAASpC,GAAQooD,EAAUvsD,GACzB,OAAOusD,IAAaA,EAASvsD,IAASusD,GAASF,EAAAA,EAAAA,IAASrsD,KAAUusD,GAASD,EAAAA,EAAAA,KAAWD,EAAAA,EAAAA,IAASrsD,KACjG,CAuIA,MAAMwsD,GAAqBrpD,GACpBA,EACDspD,GAAoBtpD,GAAWwlD,GAA2BxlD,GACvDqpD,GAAkBrpD,EAAE+T,QAFZ,KAIXw1C,IAGY7Q,EAAAA,EAAAA,IAAuBv9C,OAAOkJ,OAAO,MAAO,CAC1DmlD,EAAIxpD,GAAMA,EACVypD,IAAMzpD,GAAMA,EAAEq9C,MAAMuD,GACpB8I,MAAQ1pD,GAAMA,EAAEqD,KAChBsmD,OAAS3pD,GAA6EA,EAAE8iB,MACxF8mC,OAAS5pD,GAA6EA,EAAE2T,MACxFk2C,OAAS7pD,GAA6EA,EAAE8pD,MACxFC,MAAQ/pD,GAA4EA,EAAE2lD,KACtFqE,QAAUhqD,GAAMqpD,GAAkBrpD,EAAE+T,QACpCk2C,MAAQjqD,GAAMqpD,GAAkBrpD,EAAEkqD,MAClCC,MAAQnqD,GAAMA,EAAEoqD,GAChBC,MAAQrqD,GAAMA,EAAEsqD,KAChBC,SAAWvqD,GAA4BwqD,GAAqBxqD,GAC5DyqD,aAAezqD,GAAMA,EAAEyd,IAAMzd,EAAEyd,EAAI,KACjCmhC,EAAS5+C,EAAE0qD,OAAO,GAEpBC,UAAY3qD,GAAMA,EAAE4qD,IAAM5qD,EAAE4qD,EAAIvM,EAASn9C,KAAKlB,EAAE65C,QAChDgR,OAAS7qD,GAA4B8qD,GAAc5pD,KAAKlB,KAItD+qD,GAAkBA,CAACrjC,EAAOzhB,IAAQyhB,IAAU2zB,EAAAA,KAAc3zB,EAAMsjC,kBAAmB3T,EAAAA,EAAAA,IAAO3vB,EAAOzhB,GACjGglD,GAA8B,CAClCljD,GAAAA,EAAMgH,EAAG3F,GAAYnD,GACnB,GAAY,aAARA,EACF,OAAO,EAET,MAAM,IAAE65C,EAAG,WAAE8F,EAAU,KAAEviD,EAAI,MAAEyf,EAAK,YAAEooC,EAAW,KAAEzhD,EAAI,WAAE+zC,GAAep0C,EAIxE,IAAI+hD,EACJ,GAAe,MAAXllD,EAAI,GAAY,CAClB,MAAM2kD,EAAIM,EAAYjlD,GACtB,QAAU,IAAN2kD,EACF,OAAQA,GACN,KAAK,EACH,OAAOhF,EAAW3/C,GACpB,KAAK,EACH,OAAO5C,EAAK4C,GACd,KAAK,EACH,OAAO65C,EAAI75C,GACb,KAAK,EACH,OAAO6c,EAAM7c,OAEZ,IAAI8kD,GAAgBnF,EAAY3/C,GAErC,OADAilD,EAAYjlD,GAAO,EACZ2/C,EAAW3/C,GACb,GAAI5C,IAASg4C,EAAAA,KAAahE,EAAAA,EAAAA,IAAOh0C,EAAM4C,GAE5C,OADAilD,EAAYjlD,GAAO,EACZ5C,EAAK4C,GACP,IAGJklD,EAAkB/hD,EAASgiD,aAAa,MAAO/T,EAAAA,EAAAA,IAAO8T,EAAiBllD,GAGxE,OADAilD,EAAYjlD,GAAO,EACZ6c,EAAM7c,GACR,GAAI65C,IAAQzE,EAAAA,KAAahE,EAAAA,EAAAA,IAAOyI,EAAK75C,GAE1C,OADAilD,EAAYjlD,GAAO,EACZ65C,EAAI75C,GACsBolD,KACjCH,EAAYjlD,GAAO,EACrB,CACF,CACA,MAAMqlD,EAAe/B,GAAoBtjD,GACzC,IAAIslD,EAAWC,EACf,OAAIF,GACU,WAARrlD,IACFmsC,EAAAA,EAAAA,IAAMhpC,EAASuK,MAAO,MAAO,IAKxB23C,EAAaliD,KAGnBmiD,EAAY9hD,EAAKgiD,gBAAkBF,EAAYA,EAAUtlD,IAEnDslD,EACEzL,IAAQzE,EAAAA,KAAahE,EAAAA,EAAAA,IAAOyI,EAAK75C,IAC1CilD,EAAYjlD,GAAO,EACZ65C,EAAI75C,KAGXulD,EAAmBhO,EAAWthC,OAAOsvC,kBAAkBnU,EAAAA,EAAAA,IAAOmU,EAAkBvlD,GAGvEulD,EAAiBvlD,QALrB,EAsBT,EACA6B,GAAAA,EAAMiH,EAAG3F,GAAYnD,EAAKnK,GACxB,MAAM,KAAEuH,EAAI,WAAEuiD,EAAU,IAAE9F,GAAQ12C,EAClC,OAAI2hD,GAAgBnF,EAAY3/C,IAC9B2/C,EAAW3/C,GAAOnK,GACX,GAIEuH,IAASg4C,EAAAA,KAAahE,EAAAA,EAAAA,IAAOh0C,EAAM4C,IAC5C5C,EAAK4C,GAAOnK,GACL,KACEu7C,EAAAA,EAAAA,IAAOjuC,EAAS0Z,MAAO7c,MAInB,MAAXA,EAAI,MAAcA,EAAIa,MAAM,KAAMsC,MAalC02C,EAAI75C,GAAOnK,GAGR,GACT,EACA2L,GAAAA,EACEsH,GAAG,KAAE1L,EAAI,WAAEuiD,EAAU,YAAEsF,EAAW,IAAEpL,EAAG,WAAEtC,EAAU,aAAE4N,IACpDnlD,GACD,IAAIklD,EACJ,QAASD,EAAYjlD,IAAQ5C,IAASg4C,EAAAA,KAAahE,EAAAA,EAAAA,IAAOh0C,EAAM4C,IAAQ8kD,GAAgBnF,EAAY3/C,KAASklD,EAAkBC,EAAa,MAAO/T,EAAAA,EAAAA,IAAO8T,EAAiBllD,KAAQoxC,EAAAA,EAAAA,IAAOyI,EAAK75C,KAAQoxC,EAAAA,EAAAA,IAAOkS,GAAqBtjD,KAAQoxC,EAAAA,EAAAA,IAAOmG,EAAWthC,OAAOsvC,iBAAkBvlD,EACxR,EACA5K,cAAAA,CAAeY,EAAQgK,EAAKqV,GAM1B,OALsB,MAAlBA,EAAWvT,IACb9L,EAAO8S,EAAEm8C,YAAYjlD,GAAO,GACnBoxC,EAAAA,EAAAA,IAAO/7B,EAAY,UAC5BlX,KAAK0D,IAAI7L,EAAQgK,EAAKqV,EAAWxf,MAAO,MAEnC4pB,QAAQrqB,eAAeY,EAAQgK,EAAKqV,EAC7C,GA6IF,SAASowC,GAAsB5oC,GAC7B,OAAO9nB,EAAAA,EAAAA,IAAQ8nB,GAASA,EAAMta,QAC5B,CAACmjD,EAAYxoD,KAAOwoD,EAAWxoD,GAAK,KAAMwoD,IAC1C,CAAC,GACC7oC,CACN,CAoEA,IAAIuoC,IAAoB,EACxB,SAASO,GAAaxiD,GACpB,MAAMzD,EAAU6kD,GAAqBphD,GAC/ByiD,EAAaziD,EAASywC,MACtBiG,EAAM12C,EAAS02C,IACrBuL,IAAoB,EAChB1lD,EAAQmmD,cACVjJ,GAASl9C,EAAQmmD,aAAc1iD,EAAU,MAE3C,MAEE/F,KAAM0oD,EACN5a,SAAU6a,EAAe,QACzBC,EACA7Q,MAAO8Q,EACPC,QAASC,EACTC,OAAQC,EAAa,QAErBC,EAAO,YACPC,EAAW,QACXC,EAAO,aACPC,EAAY,QACZC,EAAO,UACPC,EAAS,YACTC,EAAW,cACXC,EAAa,cACbC,EAAa,UACbC,EAAS,UACTC,EAAS,OACTC,EAAM,cACNC,EAAa,gBACbC,EAAe,cACfC,EAAa,eACbC,EAAc,OAEdC,EAAM,aACNC,EAAY,WAEZC,EAAU,WACVC,EAAU,QACVC,GACEhoD,EACEioD,EAAkG,KAYxG,GAHItB,GACFuB,GAAkBvB,EAAexM,EAAK8N,GAEpC3B,EACF,IAAK,MAAMhmD,KAAOgmD,EAAS,CACzB,MAAM6B,EAAgB7B,EAAQhmD,IAC1B1J,EAAAA,EAAAA,IAAWuxD,KASXhO,EAAI75C,GAAO6nD,EAAc5sD,KAAK2qD,GAUpC,CAEF,GAAIE,EAAa,CACX,EAKJ,MAAM1oD,EAAO0oD,EAAYhwD,KAAK8vD,EAAYA,GACtC,GAKCpvD,EAAAA,EAAAA,IAAS4G,KAGZ+F,EAAS/F,MAAO2zC,EAAAA,EAAAA,IAAS3zC,GAe7B,CAEA,GADAgoD,IAAoB,EAChBW,EACF,IAAK,MAAM/lD,KAAO+lD,EAAiB,CACjC,MAAM+B,EAAM/B,EAAgB/lD,GACtB8B,GAAMxL,EAAAA,EAAAA,IAAWwxD,GAAOA,EAAI7sD,KAAK2qD,EAAYA,IAActvD,EAAAA,EAAAA,IAAWwxD,EAAIhmD,KAAOgmD,EAAIhmD,IAAI7G,KAAK2qD,EAAYA,GAAc7P,EAAAA,GAC1H,EAGJ,MAAMl0C,IAAOvL,EAAAA,EAAAA,IAAWwxD,KAAQxxD,EAAAA,EAAAA,IAAWwxD,EAAIjmD,KAAOimD,EAAIjmD,IAAI5G,KAAK2qD,GAI/D7P,EAAAA,GACEgS,EAAI7c,GAAS,CACjBppC,MACAD,QAEF3M,OAAOE,eAAeykD,EAAK75C,EAAK,CAC9B2b,YAAY,EACZpG,cAAc,EACdzT,IAAKA,IAAMimD,EAAElyD,MACbgM,IAAMusC,GAAM2Z,EAAElyD,MAAQu4C,GAK1B,CAEF,GAAI6X,EACF,IAAK,MAAMjmD,KAAOimD,EAChB+B,GAAc/B,EAAajmD,GAAM65C,EAAK+L,EAAY5lD,GAGtD,GAAImmD,EAAgB,CAClB,MAAM8B,GAAW3xD,EAAAA,EAAAA,IAAW6vD,GAAkBA,EAAerwD,KAAK8vD,GAAcO,EAChF1mC,QAAQU,QAAQ8nC,GAAUhrD,SAAS+C,IACjCkmD,GAAQlmD,EAAKioD,EAASjoD,GAAK,GAE/B,CAIA,SAASkoD,EAAsBC,EAAU1N,IACnC1lD,EAAAA,EAAAA,IAAQ0lD,GACVA,EAAKx9C,SAASmrD,GAAUD,EAASC,EAAMntD,KAAK2qD,MACnCnL,GACT0N,EAAS1N,EAAKx/C,KAAK2qD,GAEvB,CAaA,GAtBIU,GACF1J,GAAS0J,EAASnjD,EAAU,KAS9B+kD,EAAsBlG,GAAeuE,GACrC2B,EAAsB5M,GAAWkL,GACjC0B,EAAsBjG,GAAgBwE,GACtCyB,EAAsBhG,GAAWwE,GACjCwB,EAAsBrH,EAAa8F,GACnCuB,EAAsBnH,EAAe6F,GACrCsB,EAAsB5F,GAAiB8E,GACvCc,EAAsB7F,GAAiB6E,GACvCgB,EAAsB9F,GAAmB+E,GACzCe,EAAsB3M,GAAiBuL,GACvCoB,EAAsB1G,GAAawF,GACnCkB,EAAsB/F,GAAkBkF,IACpCtyD,EAAAA,EAAAA,IAAQuyD,GACV,GAAIA,EAAOpwD,OAAQ,CACjB,MAAMmxD,EAAUllD,EAASklD,UAAYllD,EAASklD,QAAU,CAAC,GACzDf,EAAOrqD,SAAS+C,IACd9K,OAAOE,eAAeizD,EAASroD,EAAK,CAClC8B,IAAKA,IAAM8jD,EAAW5lD,GACtB6B,IAAMiiC,GAAQ8hB,EAAW5lD,GAAO8jC,GAChC,GAEN,MAAY3gC,EAASklD,UACnBllD,EAASklD,QAAU,CAAC,GAGpBpB,GAAU9jD,EAAS8jD,SAAWlR,EAAAA,KAChC5yC,EAAS8jD,OAASA,GAEA,MAAhBM,IACFpkD,EAASokD,aAAeA,GAEtBC,IAAYrkD,EAASqkD,WAAaA,GAClCC,IAAYtkD,EAASskD,WAAaA,GAClCJ,GACFxI,EAAkB17C,EAEtB,CACA,SAASykD,GAAkBvB,EAAexM,EAAK8N,EAA2B5R,EAAAA,KACpEhhD,EAAAA,EAAAA,IAAQsxD,KACVA,EAAgBiC,GAAgBjC,IAElC,IAAK,MAAMrmD,KAAOqmD,EAAe,CAC/B,MAAMyB,EAAMzB,EAAcrmD,GAC1B,IAAIuhD,EAGAA,GAFA/qD,EAAAA,EAAAA,IAASsxD,GACP,YAAaA,EACJ1B,GACT0B,EAAIj5C,MAAQ7O,EACZ8nD,EAAIS,SACJ,GAGSnC,GAAO0B,EAAIj5C,MAAQ7O,GAGrBomD,GAAO0B,IAEhBjX,EAAAA,EAAAA,IAAM0Q,GACRrsD,OAAOE,eAAeykD,EAAK75C,EAAK,CAC9B2b,YAAY,EACZpG,cAAc,EACdzT,IAAKA,IAAMy/C,EAAS1rD,MACpBgM,IAAMusC,GAAMmT,EAAS1rD,MAAQu4C,IAG/ByL,EAAI75C,GAAOuhD,CAKf,CACF,CACA,SAAS3E,GAASnC,EAAMt3C,EAAUK,GAChCyzC,GACEliD,EAAAA,EAAAA,IAAQ0lD,GAAQA,EAAK1rC,KAAKy5C,GAAMA,EAAEvtD,KAAKkI,EAASywC,SAAU6G,EAAKx/C,KAAKkI,EAASywC,OAC7EzwC,EACAK,EAEJ,CACA,SAASwkD,GAAcza,EAAKsM,EAAK+L,EAAY5lD,GAC3C,IAAI+1B,EAAS/1B,EAAIxG,SAAS,KAAOivD,GAAiB7C,EAAY5lD,GAAO,IAAM4lD,EAAW5lD,GACtF,IAAI7J,EAAAA,EAAAA,IAASo3C,GAAM,CACjB,MAAMhsC,EAAUs4C,EAAItM,IAChBj3C,EAAAA,EAAAA,IAAWiL,IAEX4zC,GAAMpf,EAAQx0B,EAKpB,MAAO,IAAIjL,EAAAA,EAAAA,IAAWi3C,GAElB4H,GAAMpf,EAAQwX,EAAItyC,KAAK2qD,SAEpB,IAAIpvD,EAAAA,EAAAA,IAAS+2C,GAClB,IAAIx4C,EAAAA,EAAAA,IAAQw4C,GACVA,EAAItwC,SAAS6M,GAAMk+C,GAAcl+C,EAAG+vC,EAAK+L,EAAY5lD,SAChD,CACL,MAAMuB,GAAUjL,EAAAA,EAAAA,IAAWi3C,EAAIhsC,SAAWgsC,EAAIhsC,QAAQtG,KAAK2qD,GAAc/L,EAAItM,EAAIhsC,UAC7EjL,EAAAA,EAAAA,IAAWiL,IACb4zC,GAAMpf,EAAQx0B,EAASgsC,EAI3B,MACS,CAGb,CACA,SAASgX,GAAqBphD,GAC5B,MAAM7H,EAAO6H,EAASK,MAChB,OAAEklD,EAAQC,QAASC,GAAmBttD,GAE1CotD,OAAQG,EACRC,aAAczjD,EACd4Q,QAAQ,sBAAE8yC,IACR5lD,EAASo0C,WACPyR,EAAS3jD,EAAMvD,IAAIxG,GACzB,IAAI2tD,EAmBJ,OAlBID,EACFC,EAAWD,EACDH,EAAa3xD,QAAWwxD,GAAWE,GAK7CK,EAAW,CAAC,EACRJ,EAAa3xD,QACf2xD,EAAa5rD,SACVsL,GAAM2gD,GAAaD,EAAU1gD,EAAGwgD,GAAuB,KAG5DG,GAAaD,EAAU3tD,EAAMytD,IAT3BE,EAAW3tD,GAWX9E,EAAAA,EAAAA,IAAS8E,IACX+J,EAAMxD,IAAIvG,EAAM2tD,GAEXA,CACT,CACA,SAASC,GAAarhC,EAAIhZ,EAAMs6C,EAAQC,GAAU,GAChD,MAAM,OAAEV,EAAQC,QAASC,GAAmB/5C,EACxC+5C,GACFM,GAAarhC,EAAI+gC,EAAgBO,GAAQ,GAEvCT,GACFA,EAAOzrD,SACJsL,GAAM2gD,GAAarhC,EAAItf,EAAG4gD,GAAQ,KAGvC,IAAK,MAAMnpD,KAAO6O,EAChB,GAAIu6C,GAAmB,WAARppD,OAIR,CACL,MAAMqpD,EAAQC,GAA0BtpD,IAAQmpD,GAAUA,EAAOnpD,GACjE6nB,EAAG7nB,GAAOqpD,EAAQA,EAAMxhC,EAAG7nB,GAAM6O,EAAK7O,IAAQ6O,EAAK7O,EACrD,CAEF,OAAO6nB,CACT,CACA,MAAMyhC,GAA4B,CAChClsD,KAAMmsD,GACN1sC,MAAO2sC,GACPC,MAAOD,GAEPxD,QAAS0D,GACTxe,SAAUwe,GAEV7D,aAAc8D,GACdrD,QAASqD,GACTpD,YAAaoD,GACbnD,QAASmD,GACTlD,aAAckD,GACdjD,QAASiD,GACT9C,cAAe8C,GACf7C,cAAe6C,GACf5C,UAAW4C,GACX3C,UAAW2C,GACXhD,UAAWgD,GACX/C,YAAa+C,GACbvC,cAAeuC,GACftC,eAAgBsC,GAEhBnC,WAAYkC,GACZjC,WAAYiC,GAEZvU,MAAOyU,GAEP1D,QAASqD,GACTnD,OAAQyD,IAEV,SAASN,GAAY1hC,EAAIhZ,GACvB,OAAKA,EAGAgZ,EAGE,WACL,OAAQ4qB,EAAAA,EAAAA,KACNn8C,EAAAA,EAAAA,IAAWuxB,GAAMA,EAAG/xB,KAAKqI,KAAMA,MAAQ0pB,GACvCvxB,EAAAA,EAAAA,IAAWuY,GAAQA,EAAK/Y,KAAKqI,KAAMA,MAAQ0Q,EAE/C,EAPSA,EAHAgZ,CAWX,CACA,SAASgiC,GAAYhiC,EAAIhZ,GACvB,OAAO66C,GAAmBpB,GAAgBzgC,GAAKygC,GAAgBz5C,GACjE,CACA,SAASy5C,GAAgB/a,GACvB,IAAIx4C,EAAAA,EAAAA,IAAQw4C,GAAM,CAChB,MAAMpwC,EAAM,CAAC,EACb,IAAK,IAAIpD,EAAI,EAAGA,EAAIwzC,EAAIr2C,OAAQ6C,IAC9BoD,EAAIowC,EAAIxzC,IAAMwzC,EAAIxzC,GAEpB,OAAOoD,CACT,CACA,OAAOowC,CACT,CACA,SAASoc,GAAa9hC,EAAIhZ,GACxB,OAAOgZ,EAAK,IAAI,IAAIxmB,IAAI,GAAGiP,OAAOuX,EAAIhZ,KAAUA,CAClD,CACA,SAAS66C,GAAmB7hC,EAAIhZ,GAC9B,OAAOgZ,GAAK4qB,EAAAA,EAAAA,IAAuBv9C,OAAOkJ,OAAO,MAAOypB,EAAIhZ,GAAQA,CACtE,CACA,SAAS26C,GAAyB3hC,EAAIhZ,GACpC,OAAIgZ,GACE9yB,EAAAA,EAAAA,IAAQ8yB,KAAO9yB,EAAAA,EAAAA,IAAQ8Z,GAClB,IAAoB,IAAIxN,IAAI,IAAIwmB,KAAOhZ,MAEzC4jC,EAAAA,EAAAA,IACWv9C,OAAOkJ,OAAO,MAC9BqnD,GAAsB59B,GACtB49B,GAA8B,MAAR52C,EAAeA,EAAO,CAAC,IAGxCA,CAEX,CACA,SAAS+6C,GAAkB/hC,EAAIhZ,GAC7B,IAAKgZ,EAAI,OAAOhZ,EAChB,IAAKA,EAAM,OAAOgZ,EAClB,MAAMiiC,GAASrX,EAAAA,EAAAA,IAAuBv9C,OAAOkJ,OAAO,MAAOypB,GAC3D,IAAK,MAAM7nB,KAAO6O,EAChBi7C,EAAO9pD,GAAO2pD,GAAa9hC,EAAG7nB,GAAM6O,EAAK7O,IAE3C,OAAO8pD,CACT,CAEA,SAASC,KACP,MAAO,CACLxlD,IAAK,KACL0R,OAAQ,CACN+zC,YAAaC,EAAAA,GACbC,aAAa,EACb3E,iBAAkB,CAAC,EACnBwD,sBAAuB,CAAC,EACxB1R,kBAAc,EACd8S,iBAAa,EACbC,gBAAiB,CAAC,GAEpB1B,OAAQ,GACRlB,WAAY,CAAC,EACbC,WAAY,CAAC,EACbQ,SAA0B/yD,OAAOkJ,OAAO,MACxC0qD,aAA8B,IAAIhrB,QAClCusB,WAA4B,IAAIvsB,QAChCwsB,WAA4B,IAAIxsB,QAEpC,CACA,IAAIysB,GAAQ,EACZ,SAASC,GAAavD,EAAQwD,GAC5B,OAAO,SAAmBC,EAAeC,EAAY,OAC9Cr0D,EAAAA,EAAAA,IAAWo0D,KACdA,GAAgBjY,EAAAA,EAAAA,IAAO,CAAC,EAAGiY,IAEZ,MAAbC,IAAsBn0D,EAAAA,EAAAA,IAASm0D,KAEjCA,EAAY,MAEd,MAAMC,EAAUb,KACVc,EAAmC,IAAI/hB,QACvCgiB,EAAmB,GACzB,IAAI5P,GAAY,EAChB,MAAM32C,EAAMqmD,EAAQrmD,IAAM,CACxBwmD,KAAMR,KACNS,WAAYN,EACZO,OAAQN,EACRO,WAAY,KACZC,SAAUP,EACVQ,UAAW,KACX72D,WACA,UAAI0hB,GACF,OAAO20C,EAAQ30C,MACjB,EACA,UAAIA,CAAOm4B,GACL,CAKN,EACAid,GAAAA,CAAInlD,KAAWxG,GAcb,OAbImrD,EAAiBrpD,IAAI0E,KAEdA,IAAU5P,EAAAA,EAAAA,IAAW4P,EAAOolD,UACrCT,EAAiBvpD,IAAI4E,GACrBA,EAAOolD,QAAQ/mD,KAAQ7E,KACdpJ,EAAAA,EAAAA,IAAW4P,KACpB2kD,EAAiBvpD,IAAI4E,GACrBA,EAAO3B,KAAQ7E,KAMV6E,CACT,EACAgnD,KAAAA,CAAMA,GAYJ,OAVOX,EAAQlC,OAAOlvD,SAAS+xD,IAC3BX,EAAQlC,OAAO3nD,KAAKwqD,GASjBhnD,CACT,EACAw5C,SAAAA,CAAUnnD,EAAMmnD,GAId,OAAKA,GAML6M,EAAQpD,WAAW5wD,GAAQmnD,EACpBx5C,GANEqmD,EAAQpD,WAAW5wD,EAO9B,EACA40D,SAAAA,CAAU50D,EAAM40D,GAId,OAAKA,GAMLZ,EAAQnD,WAAW7wD,GAAQ40D,EACpBjnD,GANEqmD,EAAQnD,WAAW7wD,EAO9B,EACAq6B,KAAAA,CAAM+V,EAAeykB,EAAWC,GAC9B,IAAKxQ,EAAW,CACV,EAMJ,MAAM9D,EAAQ7yC,EAAIonD,UAAYC,GAAYlB,EAAeC,GA4BzD,OA3BAvT,EAAMG,WAAaqT,GACD,IAAdc,EACFA,EAAY,OACW,IAAdA,IACTA,OAAY,GAWVD,GAAahB,EACfA,EAAQrT,EAAOpQ,GAEfigB,EAAO7P,EAAOpQ,EAAe0kB,GAE/BxQ,GAAY,EACZ32C,EAAI2mD,WAAalkB,EACjBA,EAAc6kB,YAActnD,EAKrBg7C,GAA2BnI,EAAM2G,UAC1C,CAMF,EACA+N,SAAAA,CAAU9W,GAMR8V,EAAiB/pD,KAAKi0C,EACxB,EACA9jB,OAAAA,GACMgqB,IACFjE,EACE6T,EACAvmD,EAAI6mD,UACJ,IAEFnE,EAAO,KAAM1iD,EAAI2mD,mBAKV3mD,EAAI2mD,WAAWW,YAI1B,EACA3F,OAAAA,CAAQlmD,EAAKnK,GAOX,OADA+0D,EAAQ3C,SAASjoD,GAAOnK,EACjB0O,CACT,EACAwnD,cAAAA,CAAenxD,GACb,MAAMoxD,EAAUC,GAChBA,GAAa1nD,EACb,IACE,OAAO3J,GACT,CAAE,QACAqxD,GAAaD,CACf,CACF,GAEF,OAAOznD,CACT,CACF,CACA,IAAI0nD,GAAa,KAEjB,SAAS/F,GAAQlmD,EAAKnK,GACpB,GAAKmrD,GAIE,CACL,IAAIiH,EAAWjH,GAAgBiH,SAC/B,MAAMiE,EAAiBlL,GAAgBlzC,QAAUkzC,GAAgBlzC,OAAOm6C,SACpEiE,IAAmBjE,IACrBA,EAAWjH,GAAgBiH,SAAW/yD,OAAOkJ,OAAO8tD,IAEtDjE,EAASjoD,GAAOnK,CAClB,MAVM,CAWR,CACA,SAASuwD,GAAOpmD,EAAKmsD,EAAcC,GAAwB,GACzD,MAAMjpD,EAAW69C,IAAmBxH,EACpC,GAAIr2C,GAAY8oD,GAAY,CAC1B,MAAMhE,EAAWgE,GAAaA,GAAWd,SAASlD,SAAW9kD,EAA8B,MAAnBA,EAAS2K,OAAiB3K,EAASi0C,MAAMG,YAAcp0C,EAASi0C,MAAMG,WAAW0Q,SAAW9kD,EAAS2K,OAAOm6C,cAAW,EAC/L,GAAIA,GAAYjoD,KAAOioD,EACrB,OAAOA,EAASjoD,GACX,GAAImuC,UAAUj3C,OAAS,EAC5B,OAAOk1D,IAAyB91D,EAAAA,EAAAA,IAAW61D,GAAgBA,EAAar2D,KAAKqN,GAAYA,EAASywC,OAASuY,CAI/G,MAAW,CAGb,CAKA,MAAME,GAAsB,CAAC,EACvBC,GAAuBA,IAAMp3D,OAAOkJ,OAAOiuD,IAC3CE,GAAoBrc,GAAQh7C,OAAOmO,eAAe6sC,KAASmc,GAEjE,SAASG,GAAUrpD,EAAUspD,EAAUC,EAAYphB,GAAQ,GACzD,MAAMzuB,EAAQ,CAAC,EACTnP,EAAQ4+C,KACdnpD,EAASwpD,cAAgCz3D,OAAOkJ,OAAO,MACvDwuD,GAAazpD,EAAUspD,EAAU5vC,EAAOnP,GACxC,IAAK,MAAM1N,KAAOmD,EAASgiD,aAAa,GAChCnlD,KAAO6c,IACXA,EAAM7c,QAAO,GAMb0sD,EACFvpD,EAAS0Z,MAAQyuB,EAAQzuB,GAAQy2B,EAAAA,EAAAA,IAAgBz2B,GAE5C1Z,EAASK,KAAKqZ,MAGjB1Z,EAAS0Z,MAAQA,EAFjB1Z,EAAS0Z,MAAQnP,EAKrBvK,EAASuK,MAAQA,CACnB,CAOA,SAASm/C,GAAY1pD,EAAUspD,EAAUK,EAAcC,GACrD,MAAM,MACJlwC,EAAK,MACLnP,EACA0pC,OAAO,UAAEsH,IACPv7C,EACE6pD,GAAkBxf,EAAAA,EAAAA,IAAM3wB,IACvBnd,GAAWyD,EAASgiD,aAC3B,IAAI8H,GAAkB,EACtB,KAI+EF,GAAarO,EAAY,IAAoB,GAAZA,EAmCzG,CAIL,IAAIwO,EAHAN,GAAazpD,EAAUspD,EAAU5vC,EAAOnP,KAC1Cu/C,GAAkB,GAGpB,IAAK,MAAMjtD,KAAOgtD,EACXP,KACJrb,EAAAA,EAAAA,IAAOqb,EAAUzsD,KAEhBktD,GAAWC,EAAAA,EAAAA,IAAUntD,MAAUA,IAAQoxC,EAAAA,EAAAA,IAAOqb,EAAUS,MACpDxtD,GACEotD,QACmB,IAAtBA,EAAa9sD,SACa,IAA3B8sD,EAAaI,KACXrwC,EAAM7c,GAAOotD,GACX1tD,EACAstD,EACAhtD,OACA,EACAmD,GACA,WAIG0Z,EAAM7c,IAInB,GAAI0N,IAAUs/C,EACZ,IAAK,MAAMhtD,KAAO0N,EACX++C,IAAarb,EAAAA,EAAAA,IAAOqb,EAAUzsD,YAC1B0N,EAAM1N,GACbitD,GAAkB,EAI1B,MArEE,GAAgB,EAAZvO,EAAe,CACjB,MAAM2O,EAAgBlqD,EAASi0C,MAAMkW,aACrC,IAAK,IAAIvzD,EAAI,EAAGA,EAAIszD,EAAcn2D,OAAQ6C,IAAK,CAC7C,IAAIiG,EAAMqtD,EAActzD,GACxB,GAAIwzD,GAAepqD,EAASqqD,aAAcxtD,GACxC,SAEF,MAAMnK,EAAQ42D,EAASzsD,GACvB,GAAIN,EACF,IAAI0xC,EAAAA,EAAAA,IAAO1jC,EAAO1N,GACZnK,IAAU6X,EAAM1N,KAClB0N,EAAM1N,GAAOnK,EACbo3D,GAAkB,OAEf,CACL,MAAMQ,GAAexK,EAAAA,EAAAA,IAASjjD,GAC9B6c,EAAM4wC,GAAgBL,GACpB1tD,EACAstD,EACAS,EACA53D,EACAsN,GACA,EAEJ,MAEItN,IAAU6X,EAAM1N,KAClB0N,EAAM1N,GAAOnK,EACbo3D,GAAkB,EAGxB,CACF,CAsCEA,IACF5jB,EAAAA,EAAAA,IAAQlmC,EAASuK,MAAO,MAAO,GAKnC,CACA,SAASk/C,GAAazpD,EAAUspD,EAAU5vC,EAAOnP,GAC/C,MAAOhO,EAASguD,GAAgBvqD,EAASgiD,aACzC,IACIwI,EADAV,GAAkB,EAEtB,GAAIR,EACF,IAAK,IAAIzsD,KAAOysD,EAAU,CACxB,IAAImB,EAAAA,EAAAA,IAAe5tD,GACjB,SAEF,MAAMnK,EAAQ42D,EAASzsD,GACvB,IAAI6tD,EACAnuD,IAAW0xC,EAAAA,EAAAA,IAAO1xC,EAASmuD,GAAW5K,EAAAA,EAAAA,IAASjjD,IAC5C0tD,GAAiBA,EAAal0D,SAASq0D,IAGzCF,IAAkBA,EAAgB,CAAC,IAAIE,GAAYh4D,EAFpDgnB,EAAMgxC,GAAYh4D,EAIV03D,GAAepqD,EAASqqD,aAAcxtD,IAC1CA,KAAO0N,GAAU7X,IAAU6X,EAAM1N,KACrC0N,EAAM1N,GAAOnK,EACbo3D,GAAkB,EAGxB,CAEF,GAAIS,EAAc,CAChB,MAAMV,GAAkBxf,EAAAA,EAAAA,IAAM3wB,GACxBixC,EAAaH,GAAiBvY,EAAAA,GACpC,IAAK,IAAIr7C,EAAI,EAAGA,EAAI2zD,EAAax2D,OAAQ6C,IAAK,CAC5C,MAAMiG,EAAM0tD,EAAa3zD,GACzB8iB,EAAM7c,GAAOotD,GACX1tD,EACAstD,EACAhtD,EACA8tD,EAAW9tD,GACXmD,IACCiuC,EAAAA,EAAAA,IAAO0c,EAAY9tD,GAExB,CACF,CACA,OAAOitD,CACT,CACA,SAASG,GAAiB1tD,EAASmd,EAAO7c,EAAKnK,EAAOsN,EAAU4qD,GAC9D,MAAMjG,EAAMpoD,EAAQM,GACpB,GAAW,MAAP8nD,EAAa,CACf,MAAMkG,GAAa5c,EAAAA,EAAAA,IAAO0W,EAAK,WAC/B,GAAIkG,QAAwB,IAAVn4D,EAAkB,CAClC,MAAMs2D,EAAerE,EAAIS,QACzB,GAAIT,EAAItkD,OAAS3O,WAAaizD,EAAImG,cAAe33D,EAAAA,EAAAA,IAAW61D,GAAe,CACzE,MAAM,cAAEQ,GAAkBxpD,EAC1B,GAAInD,KAAO2sD,EACT92D,EAAQ82D,EAAc3sD,OACjB,CACL,MAAM2H,EAAQi6C,GAAmBz+C,GACjCtN,EAAQ82D,EAAc3sD,GAAOmsD,EAAar2D,KACxC,KACA+mB,GAEFlV,GACF,CACF,MACE9R,EAAQs2D,EAENhpD,EAASghD,IACXhhD,EAASghD,GAAG+J,SAASluD,EAAKnK,EAE9B,CACIiyD,EAAI,KACFiG,IAAaC,EACfn4D,GAAQ,GACCiyD,EAAI,IAAsC,KAAVjyD,GAAgBA,KAAUs3D,EAAAA,EAAAA,IAAUntD,KAC7EnK,GAAQ,GAGd,CACA,OAAOA,CACT,CACA,MAAMs4D,GAAkC,IAAIrwB,QAC5C,SAASswB,GAAsBC,EAAM9W,EAAY6R,GAAU,GACzD,MAAM/jD,EAA+B+jD,EAAU+E,GAAkB5W,EAAW8S,WACtErB,EAAS3jD,EAAMvD,IAAIusD,GACzB,GAAIrF,EACF,OAAOA,EAET,MAAMzb,EAAM8gB,EAAKxxC,MACX6oC,EAAa,CAAC,EACdgI,EAAe,GACrB,IAAIY,GAAa,EACjB,KAA4Bh4D,EAAAA,EAAAA,IAAW+3D,GAAO,CAC5C,MAAME,EAAeC,IACnBF,GAAa,EACb,MAAOzxC,EAAOnZ,GAAQ0qD,GAAsBI,EAAMjX,GAAY,IAC9D9E,EAAAA,EAAAA,IAAOiT,EAAY7oC,GACfnZ,GAAMgqD,EAAa3sD,QAAQ2C,EAAK,GAEjC0lD,GAAW7R,EAAWmR,OAAOxxD,QAChCqgD,EAAWmR,OAAOzrD,QAAQsxD,GAExBF,EAAK1F,SACP4F,EAAYF,EAAK1F,SAEf0F,EAAK3F,QACP2F,EAAK3F,OAAOzrD,QAAQsxD,EAExB,CACA,IAAKhhB,IAAQ+gB,EAIX,OAHI93D,EAAAA,EAAAA,IAAS63D,IACXhpD,EAAMxD,IAAIwsD,EAAMI,EAAAA,IAEXA,EAAAA,GAET,IAAI15D,EAAAA,EAAAA,IAAQw4C,GACV,IAAK,IAAIxzC,EAAI,EAAGA,EAAIwzC,EAAIr2C,OAAQ6C,IAAK,CAC/B,EAGJ,MAAM20D,GAAgBzL,EAAAA,EAAAA,IAAS1V,EAAIxzC,IAC/B40D,GAAiBD,KACnBhJ,EAAWgJ,GAAiBtZ,EAAAA,GAEhC,MACK,GAAI7H,EAAK,CACV,EAGJ,IAAK,MAAMvtC,KAAOutC,EAAK,CACrB,MAAMmhB,GAAgBzL,EAAAA,EAAAA,IAASjjD,GAC/B,GAAI2uD,GAAiBD,GAAgB,CACnC,MAAM5G,EAAMva,EAAIvtC,GACV4uD,EAAOlJ,EAAWgJ,IAAiB35D,EAAAA,EAAAA,IAAQ+yD,KAAQxxD,EAAAA,EAAAA,IAAWwxD,GAAO,CAAEtkD,KAAMskD,IAAQrV,EAAAA,EAAAA,IAAO,CAAC,EAAGqV,GAChG+G,EAAWD,EAAKprD,KACtB,IAAIsrD,GAAa,EACbC,GAAiB,EACrB,IAAIh6D,EAAAA,EAAAA,IAAQ85D,GACV,IAAK,IAAIxxD,EAAQ,EAAGA,EAAQwxD,EAAS33D,SAAUmG,EAAO,CACpD,MAAMmG,EAAOqrD,EAASxxD,GAChB2xD,GAAW14D,EAAAA,EAAAA,IAAWkN,IAASA,EAAK5M,KAC1C,GAAiB,YAAbo4D,EAAwB,CAC1BF,GAAa,EACb,KACF,CAAwB,WAAbE,IACTD,GAAiB,EAErB,MAEAD,GAAax4D,EAAAA,EAAAA,IAAWu4D,IAA+B,YAAlBA,EAASj4D,KAEhDg4D,EAAK,GAAsBE,EAC3BF,EAAK,GAA0BG,GAC3BD,IAAc1d,EAAAA,EAAAA,IAAOwd,EAAM,aAC7BlB,EAAa3sD,KAAK2tD,EAEtB,CACF,CACF,CACA,MAAMvxD,EAAM,CAACuoD,EAAYgI,GAIzB,OAHIl3D,EAAAA,EAAAA,IAAS63D,IACXhpD,EAAMxD,IAAIwsD,EAAMlxD,GAEXA,CACT,CACA,SAASwxD,GAAiB3uD,GACxB,MAAe,MAAXA,EAAI,MAAe4tD,EAAAA,EAAAA,IAAe5tD,EAMxC,CAqHA,MAAMivD,GAAiBjvD,GAAmB,MAAXA,EAAI,IAAsB,YAARA,EAC3CkvD,GAAsBr5D,IAAUd,EAAAA,EAAAA,IAAQc,GAASA,EAAMkZ,IAAIogD,IAAkB,CAACA,GAAet5D,IAC7Fu5D,GAAgBA,CAACpvD,EAAKqvD,EAASxV,KACnC,GAAIwV,EAAQtV,GACV,OAAOsV,EAET,MAAM3J,EAAa9L,GAAQ,IAAI/+C,IAMtBq0D,GAAmBG,KAAWx0D,KACpCg/C,GAEH,OADA6L,EAAWvyC,IAAK,EACTuyC,CAAU,EAEb4J,GAAuBA,CAACC,EAAU1L,EAAO1gD,KAC7C,MAAM02C,EAAM0V,EAASC,KACrB,IAAK,MAAMxvD,KAAOuvD,EAAU,CAC1B,GAAIN,GAAcjvD,GAAM,SACxB,MAAMnK,EAAQ05D,EAASvvD,GACvB,IAAI1J,EAAAA,EAAAA,IAAWT,GACbguD,EAAM7jD,GAAOovD,GAAcpvD,EAAKnK,EAAOgkD,QAClC,GAAa,MAAThkD,EAAe,CACpB,EAKJ,MAAM6vD,EAAawJ,GAAmBr5D,GACtCguD,EAAM7jD,GAAO,IAAM0lD,CACrB,CACF,GAEI+J,GAAsBA,CAACtsD,EAAUkT,KAMrC,MAAMqvC,EAAawJ,GAAmB74C,GACtClT,EAAS0gD,MAAM0E,QAAU,IAAM7C,CAAU,EAErCgK,GAAcA,CAAC7L,EAAOxtC,EAAU02C,KACpC,IAAK,MAAM/sD,KAAOqW,GACZ02C,GAAqB,MAAR/sD,KACf6jD,EAAM7jD,GAAOqW,EAASrW,GAE1B,EAEI2vD,GAAYA,CAACxsD,EAAUkT,EAAU02C,KACrC,MAAMlJ,EAAQ1gD,EAAS0gD,MAAQyI,KAC/B,GAA+B,GAA3BnpD,EAASi0C,MAAM0G,UAAgB,CACjC,MAAMt6C,EAAO6S,EAASvN,EAClBtF,GACFksD,GAAY7L,EAAOxtC,EAAU02C,GACzBA,IACFhZ,EAAAA,EAAAA,IAAI8P,EAAO,IAAKrgD,GAAM,IAGxB8rD,GAAqBj5C,EAAUwtC,EAEnC,MAAWxtC,GACTo5C,GAAoBtsD,EAAUkT,EAChC,EAEIu5C,GAAcA,CAACzsD,EAAUkT,EAAU02C,KACvC,MAAM,MAAE3V,EAAK,MAAEyM,GAAU1gD,EACzB,IAAI0sD,GAAoB,EACpBC,EAA2B1a,EAAAA,GAC/B,GAAsB,GAAlBgC,EAAM0G,UAAgB,CACxB,MAAMt6C,EAAO6S,EAASvN,EAClBtF,EAISupD,GAAsB,IAATvpD,EACtBqsD,GAAoB,EAEpBH,GAAY7L,EAAOxtC,EAAU02C,IAG/B8C,GAAqBx5C,EAAS05C,QAC9BT,GAAqBj5C,EAAUwtC,IAEjCiM,EAA2Bz5C,CAC7B,MAAWA,IACTo5C,GAAoBtsD,EAAUkT,GAC9By5C,EAA2B,CAAEvH,QAAS,IAExC,GAAIsH,EACF,IAAK,MAAM7vD,KAAO6jD,EACXoL,GAAcjvD,IAAyC,MAAjC8vD,EAAyB9vD,WAC3C6jD,EAAM7jD,EAGnB,EA2CF,SAASgwD,KAUgD,mBAA5CC,2CAET7P,EAAAA,EAAAA,MAAgB6P,yCAA0C,EAU9D,CAEA,MAAM9P,GAAwB+P,GAC9B,SAASC,GAAezwD,GACtB,OAAO0wD,GAAmB1wD,EAC5B,CAIA,SAAS0wD,GAAmB1wD,EAAS2wD,GAEjCL,KAEF,MAAMh6D,GAASoqD,EAAAA,EAAAA,MACfpqD,EAAOs6D,SAAU,EAIjB,MACEC,OAAQC,EACRna,OAAQoa,EACRC,UAAWC,EACXhzD,cAAeizD,EACfC,WAAYC,EACZziD,cAAe0iD,EACfC,QAASC,EACTC,eAAgBC,EAChB9hD,WAAY+hD,EACZC,YAAaC,EACbC,WAAYC,EAAiBzb,EAAAA,GAC7B0b,oBAAqBC,GACnBhyD,EACEiyD,EAAQA,CAACC,EAAIC,EAAI5tD,EAAW6tD,EAAS,KAAMC,EAAkB,KAAM7S,EAAiB,KAAMwM,OAAY,EAAQsG,EAAe,KAAMjF,IAAmF8E,EAAGI,mBAC7N,GAAIL,IAAOC,EACT,OAEED,IAAO1U,GAAgB0U,EAAIC,KAC7BC,EAASI,EAAgBN,GACzB1gC,EAAQ0gC,EAAIG,EAAiB7S,GAAgB,GAC7C0S,EAAK,OAEe,IAAlBC,EAAGnT,YACLqO,GAAY,EACZ8E,EAAGI,gBAAkB,MAEvB,MAAM,KAAEzuD,EAAI,IAAEg8C,EAAG,UAAE1B,GAAc+T,EACjC,OAAQruD,GACN,KAAK2uD,GACHC,EAAYR,EAAIC,EAAI5tD,EAAW6tD,GAC/B,MACF,KAAKnT,GACH0T,EAAmBT,EAAIC,EAAI5tD,EAAW6tD,GACtC,MACF,KAAKQ,GACO,MAANV,GACFW,EAAgBV,EAAI5tD,EAAW6tD,EAAQpG,GAIzC,MACF,KAAKjN,GACH+T,EACEZ,EACAC,EACA5tD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAEF,MACF,QACkB,EAAZjP,EACF2U,EACEb,EACAC,EACA5tD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAEmB,EAAZjP,EACT4U,EACEd,EACAC,EACA5tD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,IAEmB,GAAZjP,GAaY,IAAZA,IAZTt6C,EAAKyT,QACH26C,EACAC,EACA5tD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,EACA4F,IAmBG,MAAPnT,GAAeuS,GACjBhT,EAAOS,EAAKoS,GAAMA,EAAGpS,IAAKN,EAAgB2S,GAAMD,GAAKC,EACvD,EAEIO,EAAcA,CAACR,EAAIC,EAAI5tD,EAAW6tD,KACtC,GAAU,MAANF,EACFpB,EACEqB,EAAGlX,GAAKmW,EAAee,EAAGx7C,UAC1BpS,EACA6tD,OAEG,CACL,MAAMnX,EAAKkX,EAAGlX,GAAKiX,EAAGjX,GAClBkX,EAAGx7C,WAAau7C,EAAGv7C,UACrB46C,EAAYtW,EAAIkX,EAAGx7C,SAEvB,GAEIg8C,EAAqBA,CAACT,EAAIC,EAAI5tD,EAAW6tD,KACnC,MAANF,EACFpB,EACEqB,EAAGlX,GAAKoW,EAAkBc,EAAGx7C,UAAY,IACzCpS,EACA6tD,GAGFD,EAAGlX,GAAKiX,EAAGjX,EACb,EAEI4X,EAAkBA,CAACV,EAAI5tD,EAAW6tD,EAAQpG,MAC7CmG,EAAGlX,GAAIkX,EAAGC,QAAUJ,EACnBG,EAAGx7C,SACHpS,EACA6tD,EACApG,EACAmG,EAAGlX,GACHkX,EAAGC,OACJ,EAiBGc,EAAiBA,EAAGjY,KAAImX,UAAU7tD,EAAWotD,KACjD,IAAI5uD,EACJ,MAAOk4C,GAAMA,IAAOmX,EAClBrvD,EAAO6uD,EAAgB3W,GACvB6V,EAAW7V,EAAI12C,EAAWotD,GAC1B1W,EAAKl4C,EAEP+tD,EAAWsB,EAAQ7tD,EAAWotD,EAAY,EAEtCwB,EAAmBA,EAAGlY,KAAImX,aAC9B,IAAIrvD,EACJ,MAAOk4C,GAAMA,IAAOmX,EAClBrvD,EAAO6uD,EAAgB3W,GACvB8V,EAAW9V,GACXA,EAAKl4C,EAEPguD,EAAWqB,EAAO,EAEdW,EAAiBA,CAACb,EAAIC,EAAI5tD,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,KAC3F,QAAZ8E,EAAGruD,KACLkoD,EAAY,MACS,SAAZmG,EAAGruD,OACZkoD,EAAY,UAEJ,MAANkG,EACFkB,EACEjB,EACA5tD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAGFv2B,EACEo7B,EACAC,EACAE,EACA7S,EACAwM,EACAsG,EACAjF,EAEJ,EAEI+F,EAAeA,CAAC1b,EAAOnzC,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,KACxG,IAAIpS,EACAoY,EACJ,MAAM,MAAEl2C,EAAK,UAAEihC,EAAS,WAAEE,EAAU,KAAE1D,GAASlD,EAyB/C,GAxBAuD,EAAKvD,EAAMuD,GAAKiW,EACdxZ,EAAM5zC,KACNkoD,EACA7uC,GAASA,EAAMm2C,GACfn2C,GAEc,EAAZihC,EACFqT,EAAmBxW,EAAIvD,EAAM/gC,UACR,GAAZynC,GACTmV,EACE7b,EAAM/gC,SACNskC,EACA,KACAoX,EACA7S,EACAgU,GAAyB9b,EAAOsU,GAChCsG,EACAjF,GAGAzS,GACFH,EAAoB/C,EAAO,KAAM2a,EAAiB,WAEpDR,EAAW5W,EAAIvD,EAAOA,EAAM+b,QAASnB,EAAcD,GAC/Cl1C,EAAO,CACT,IAAK,MAAM7c,KAAO6c,EACJ,UAAR7c,IAAoB4tD,EAAAA,EAAAA,IAAe5tD,IACrC2wD,EAAchW,EAAI36C,EAAK,KAAM6c,EAAM7c,GAAM0rD,EAAWqG,GAGpD,UAAWl1C,GACb8zC,EAAchW,EAAI,QAAS,KAAM99B,EAAMhnB,MAAO61D,IAE5CqH,EAAYl2C,EAAMu2C,qBACpBC,GAAgBN,EAAWhB,EAAiB3a,EAEhD,CAKIkD,GACFH,EAAoB/C,EAAO,KAAM2a,EAAiB,eAEpD,MAAMuB,EAA0BC,GAAerU,EAAgBlB,GAC3DsV,GACFtV,EAAWhB,YAAYrC,GAEzB6V,EAAW7V,EAAI12C,EAAW6tD,KACrBiB,EAAYl2C,GAASA,EAAM22C,iBAAmBF,GAA2BhZ,IAC5E6F,IAAsB,KACpB4S,GAAaM,GAAgBN,EAAWhB,EAAiB3a,GACzDkc,GAA2BtV,EAAWb,MAAMxC,GAC5CL,GAAQH,EAAoB/C,EAAO,KAAM2a,EAAiB,UAAU,GACnE7S,EACL,EAEIqS,EAAaA,CAAC5W,EAAIvD,EAAO+b,EAASnB,EAAcD,KAIpD,GAHIoB,GACF3B,EAAe7W,EAAIwY,GAEjBnB,EACF,IAAK,IAAIj4D,EAAI,EAAGA,EAAIi4D,EAAa96D,OAAQ6C,IACvCy3D,EAAe7W,EAAIqX,EAAaj4D,IAGpC,GAAIg4D,EAAiB,CACnB,IAAI9T,EAAU8T,EAAgB9T,QAI9B,GAAI7G,IAAU6G,GAAWwV,GAAWxV,EAAQz6C,QAAUy6C,EAAQC,YAAc9G,GAAS6G,EAAQE,aAAe/G,GAAQ,CAClH,MAAMsc,EAAc3B,EAAgB3a,MACpCma,EACE5W,EACA+Y,EACAA,EAAYP,QACZO,EAAY1B,aACZD,EAAgBjkD,OAEpB,CACF,GAEImlD,EAAgBA,CAAC58C,EAAUpS,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,EAAWp/B,EAAQ,KAC/H,IAAK,IAAI5zB,EAAI4zB,EAAO5zB,EAAIsc,EAASnf,OAAQ6C,IAAK,CAC5C,MAAMuc,EAAQD,EAAStc,GAAKgzD,EAAY4G,GAAet9C,EAAStc,IAAMo1D,GAAe94C,EAAStc,IAC9F43D,EACE,KACAr7C,EACArS,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,EAEJ,GAEIv2B,EAAeA,CAACo7B,EAAIC,EAAIE,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,KACtF,MAAMpS,EAAKkX,EAAGlX,GAAKiX,EAAGjX,GAItB,IAAI,UAAE+D,EAAS,gBAAEuT,EAAe,KAAE3X,GAASuX,EAC3CnT,GAA4B,GAAfkT,EAAGlT,UAChB,MAAMkV,EAAWhC,EAAG/0C,OAASu4B,EAAAA,GACvBye,EAAWhC,EAAGh1C,OAASu4B,EAAAA,GAC7B,IAAI2d,EA2CJ,GA1CAhB,GAAmB+B,GAAc/B,GAAiB,IAC9CgB,EAAYc,EAASE,sBACvBV,GAAgBN,EAAWhB,EAAiBF,EAAID,GAE9CtX,GACFH,EAAoB0X,EAAID,EAAIG,EAAiB,gBAE/CA,GAAmB+B,GAAc/B,GAAiB,IAM9C6B,EAASv5B,WAAmC,MAAtBw5B,EAASx5B,WAAqBu5B,EAAS7oD,aAAuC,MAAxB8oD,EAAS9oD,cACvFomD,EAAmBxW,EAAI,IAErBsX,EACF+B,EACEpC,EAAGK,gBACHA,EACAtX,EACAoX,EACA7S,EACAgU,GAAyBrB,EAAInG,GAC7BsG,GAKQjF,GACVkH,EACErC,EACAC,EACAlX,EACA,KACAoX,EACA7S,EACAgU,GAAyBrB,EAAInG,GAC7BsG,GACA,GAGAtT,EAAY,EAAG,CACjB,GAAgB,GAAZA,EACFwV,EAAWvZ,EAAIiZ,EAAUC,EAAU9B,EAAiBrG,QAUpD,GARgB,EAAZhN,GACEkV,EAASO,QAAUN,EAASM,OAC9BxD,EAAchW,EAAI,QAAS,KAAMkZ,EAASM,MAAOzI,GAGrC,EAAZhN,GACFiS,EAAchW,EAAI,QAASiZ,EAAS55B,MAAO65B,EAAS75B,MAAO0xB,GAE7C,EAAZhN,EAAe,CACjB,MAAM2O,EAAgBwE,EAAGvE,aACzB,IAAK,IAAIvzD,EAAI,EAAGA,EAAIszD,EAAcn2D,OAAQ6C,IAAK,CAC7C,MAAMiG,EAAMqtD,EAActzD,GACpBgxC,EAAO6oB,EAAS5zD,GAChByC,EAAOoxD,EAAS7zD,GAClByC,IAASsoC,GAAgB,UAAR/qC,GACnB2wD,EAAchW,EAAI36C,EAAK+qC,EAAMtoC,EAAMipD,EAAWqG,EAElD,CACF,CAEc,EAAZrT,GACEkT,EAAGv7C,WAAaw7C,EAAGx7C,UACrB86C,EAAmBxW,EAAIkX,EAAGx7C,SAGhC,MAAY02C,GAAgC,MAAnBkF,GACvBiC,EAAWvZ,EAAIiZ,EAAUC,EAAU9B,EAAiBrG,KAEjDqH,EAAYc,EAASO,iBAAmB9Z,IAC3C6F,IAAsB,KACpB4S,GAAaM,GAAgBN,EAAWhB,EAAiBF,EAAID,GAC7DtX,GAAQH,EAAoB0X,EAAID,EAAIG,EAAiB,UAAU,GAC9D7S,EACL,EAEI8U,EAAqBA,CAACK,EAAaC,EAAaC,EAAmBxC,EAAiB7S,EAAgBwM,EAAWsG,KACnH,IAAK,IAAIj4D,EAAI,EAAGA,EAAIu6D,EAAYp9D,OAAQ6C,IAAK,CAC3C,MAAMy6D,EAAWH,EAAYt6D,GACvB06D,EAAWH,EAAYv6D,GACvBkK,EAGJuwD,EAAS7Z,KAER6Z,EAAShxD,OAASi7C,KAElBvB,GAAgBsX,EAAUC,IACN,GAArBD,EAAS1W,WAAwBsT,EAAeoD,EAAS7Z,IAGvD4Z,EAGJ5C,EACE6C,EACAC,EACAxwD,EACA,KACA8tD,EACA7S,EACAwM,EACAsG,GACA,EAEJ,GAEIkC,EAAaA,CAACvZ,EAAIiZ,EAAUC,EAAU9B,EAAiBrG,KAC3D,GAAIkI,IAAaC,EAAU,CACzB,GAAID,IAAaxe,EAAAA,GACf,IAAK,MAAMp1C,KAAO4zD,GACXhG,EAAAA,EAAAA,IAAe5tD,IAAUA,KAAO6zD,GACnClD,EACEhW,EACA36C,EACA4zD,EAAS5zD,GACT,KACA0rD,EACAqG,GAKR,IAAK,MAAM/xD,KAAO6zD,EAAU,CAC1B,IAAIjG,EAAAA,EAAAA,IAAe5tD,GAAM,SACzB,MAAMyC,EAAOoxD,EAAS7zD,GAChB+qC,EAAO6oB,EAAS5zD,GAClByC,IAASsoC,GAAgB,UAAR/qC,GACnB2wD,EAAchW,EAAI36C,EAAK+qC,EAAMtoC,EAAMipD,EAAWqG,EAElD,CACI,UAAW8B,GACblD,EAAchW,EAAI,QAASiZ,EAAS/9D,MAAOg+D,EAASh+D,MAAO61D,EAE/D,GAEI8G,EAAkBA,CAACZ,EAAIC,EAAI5tD,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,KAC5G,MAAM2H,EAAsB7C,EAAGlX,GAAKiX,EAAKA,EAAGjX,GAAKmW,EAAe,IAC1D6D,EAAoB9C,EAAGC,OAASF,EAAKA,EAAGE,OAAShB,EAAe,IACtE,IAAI,UAAEpS,EAAS,gBAAEuT,EAAiBD,aAAc4C,GAAyB/C,EAOrE+C,IACF5C,EAAeA,EAAeA,EAAa1hD,OAAOskD,GAAwBA,GAElE,MAANhD,GACFpB,EAAWkE,EAAqBzwD,EAAW6tD,GAC3CtB,EAAWmE,EAAmB1wD,EAAW6tD,GACzCmB,EAKEpB,EAAGx7C,UAAY,GACfpS,EACA0wD,EACA5C,EACA7S,EACAwM,EACAsG,EACAjF,IAGErO,EAAY,GAAiB,GAAZA,GAAkBuT,GAEvCL,EAAGK,iBACD+B,EACEpC,EAAGK,gBACHA,EACAhuD,EACA8tD,EACA7S,EACAwM,EACAsG,IASU,MAAVH,EAAG7xD,KAAe+xD,GAAmBF,IAAOE,EAAgB9T,UAE5D4W,GACEjD,EACAC,GACA,IAKJoC,EACErC,EACAC,EACA5tD,EACA0wD,EACA5C,EACA7S,EACAwM,EACAsG,EACAjF,EAGN,EAEI2F,EAAmBA,CAACd,EAAIC,EAAI5tD,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,KAC7G8E,EAAGG,aAAeA,EACR,MAANJ,EACiB,IAAfC,EAAG/T,UACLiU,EAAgBlY,IAAIib,SAClBjD,EACA5tD,EACA6tD,EACApG,EACAqB,GAGFgI,EACElD,EACA5tD,EACA6tD,EACAC,EACA7S,EACAwM,EACAqB,GAIJiI,EAAgBpD,EAAIC,EAAI9E,EAC1B,EAEIgI,EAAiBA,CAACE,EAAchxD,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWqB,KACnG,MAAM5pD,EAAY8xD,EAAalX,UAAYmX,GACzCD,EACAlD,EACA7S,GAqBF,GAZIqB,EAAY0U,KACd9xD,EAAS02C,IAAIsb,SAAWxC,IAMxByC,GAAejyD,GAAU,EAAO4pD,GAK9B5pD,EAASkyD,UAGX,GADAnW,GAAkBA,EAAeoW,YAAYnyD,EAAUoyD,EAAmBxI,IACrEkI,EAAata,GAAI,CACpB,MAAMrsC,EAAcnL,EAAS86C,QAAU2N,GAAYjN,IACnD0T,EAAmB,KAAM/jD,EAAarK,EAAW6tD,EACnD,OAEAyD,EACEpyD,EACA8xD,EACAhxD,EACA6tD,EACA5S,EACAwM,EACAqB,EAG4C,EAK5CiI,EAAkBA,CAACpD,EAAIC,EAAI9E,KAC/B,MAAM5pD,EAAW0uD,EAAG9T,UAAY6T,EAAG7T,UACnC,GAAIyX,GAAsB5D,EAAIC,EAAI9E,GAAY,CAC5C,GAAI5pD,EAASkyD,WAAalyD,EAASsyD,cAQjC,YAJAC,EAAyBvyD,EAAU0uD,EAAI9E,GAMvC5pD,EAASV,KAAOovD,EAChB1uD,EAASshD,QAEb,MACEoN,EAAGlX,GAAKiX,EAAGjX,GACXx3C,EAASi0C,MAAQya,CACnB,EAEI0D,EAAoBA,CAACpyD,EAAU8xD,EAAchxD,EAAW6tD,EAAQ5S,EAAgBwM,EAAWqB,KAC/F,MAAM4I,EAAoBA,KACxB,GAAKxyD,EAAS+3C,UA2FP,CACL,IAAI,KAAEz4C,EAAI,GAAEmzD,EAAE,EAAEC,EAAC,OAAE/nD,EAAM,MAAEspC,GAAUj0C,EACrC,CACE,MAAM2yD,EAAuBC,GAA2B5yD,GACxD,GAAI2yD,EAUF,OATIrzD,IACFA,EAAKk4C,GAAKvD,EAAMuD,GAChB+a,EAAyBvyD,EAAUV,EAAMsqD,SAE3C+I,EAAqBT,SAASr6D,MAAK,KAC5BmI,EAAS83B,aACZ06B,GACF,GAIN,CACA,IACI5C,EADAiD,EAAavzD,EAEb,EAGJqxD,GAAc3wD,GAAU,GACpBV,GACFA,EAAKk4C,GAAKvD,EAAMuD,GAChB+a,EAAyBvyD,EAAUV,EAAMsqD,IAEzCtqD,EAAO20C,EAELwe,IACFK,EAAAA,EAAAA,IAAeL,IAEb7C,EAAYtwD,EAAKoa,OAASpa,EAAKoa,MAAMk3C,sBACvCV,GAAgBN,EAAWjlD,EAAQrL,EAAM20C,GAE3C0c,GAAc3wD,GAAU,GAIxB,MAAM+yD,EAAWC,GAAoBhzD,GACjC,EAGJ,MAAMizD,EAAWjzD,EAAS86C,QAC1B96C,EAAS86C,QAAUiY,EAInBvE,EACEyE,EACAF,EAEA9E,EAAegF,EAASzb,IAExBuX,EAAgBkE,GAChBjzD,EACA+7C,EACAwM,GAKFjpD,EAAKk4C,GAAKub,EAASvb,GACA,OAAfqb,GACFK,GAAgBlzD,EAAU+yD,EAASvb,IAEjCkb,GACF1V,GAAsB0V,EAAG3W,IAEvB6T,EAAYtwD,EAAKoa,OAASpa,EAAKoa,MAAMu3C,iBACvCjU,IACE,IAAMkT,GAAgBN,EAAWjlD,EAAQrL,EAAM20C,IAC/C8H,EASN,KA5KyB,CACvB,IAAI6T,EACJ,MAAM,GAAEpY,EAAE,MAAE99B,GAAUo4C,GAChB,GAAEqB,EAAE,EAAE/tD,EAAC,OAAEuF,EAAM,KAAEm2C,EAAI,KAAEzgD,GAASL,EAChCozD,EAAsBnX,EAAe6V,GAS3C,GARAnB,GAAc3wD,GAAU,GACpBmzD,IACFL,EAAAA,EAAAA,IAAeK,IAEZC,IAAwBxD,EAAYl2C,GAASA,EAAMu2C,qBACtDC,GAAgBN,EAAWjlD,EAAQmnD,GAErCnB,GAAc3wD,GAAU,GACpBw3C,GAAM6b,GAAa,CACrB,MAAMC,EAAiBA,KAIrBtzD,EAAS86C,QAAUkY,GAAoBhzD,GAOvCqzD,GACE7b,EACAx3C,EAAS86C,QACT96C,EACA+7C,EACA,KAE8C,EAI9CqX,GAAuB/yD,EAAKkzD,eAC9BlzD,EAAKkzD,eACH/b,EACAx3C,EACAszD,GAGFA,GAEJ,KAAO,CACDxS,EAAKE,IACPF,EAAKE,GAAGwS,kBAAkBnzD,GAK5B,MAAMy6C,EAAU96C,EAAS86C,QAAUkY,GAAoBhzD,GACnD,EAMJwuD,EACE,KACA1T,EACAh6C,EACA6tD,EACA3uD,EACA+7C,EACAwM,GAKFuJ,EAAata,GAAKsD,EAAQtD,EAC5B,CAIA,GAHIpyC,GACF43C,GAAsB53C,EAAG22C,IAEtBqX,IAAwBxD,EAAYl2C,GAASA,EAAM22C,gBAAiB,CACvE,MAAMoD,EAAqB3B,EAC3B9U,IACE,IAAMkT,GAAgBN,EAAWjlD,EAAQ8oD,IACzC1X,EAEJ,EAC6B,IAAzB+V,EAAanX,WAAmBhwC,GAAUsxC,EAAetxC,EAAOspC,QAAmC,IAAzBtpC,EAAOspC,MAAM0G,YACzF36C,EAASm2C,GAAK6G,GAAsBh9C,EAASm2C,EAAG4F,GAElD/7C,EAAS+3C,WAAY,EAIrB+Z,EAAehxD,EAAY6tD,EAAS,IACtC,CAiFA,EAEF3uD,EAASgzC,MAAMl+B,KACf,MAAMu8B,EAASrxC,EAASqxC,OAAS,IAAIzL,EAAAA,GAAe4sB,GACpDxyD,EAASgzC,MAAMh+B,MACf,MAAMssC,EAASthD,EAASshD,OAASjQ,EAAOxvC,IAAI/J,KAAKu5C,GAC3CgC,EAAMrzC,EAASqzC,IAAMhC,EAAOvK,WAAWhvC,KAAKu5C,GAClDgC,EAAIz8C,EAAIoJ,EACRqzC,EAAI1c,GAAK32B,EAAS+1C,IAClB1E,EAAOpL,UAAY,IAAMuP,EAASnC,GAClCsd,GAAc3wD,GAAU,GAKxBshD,GAAQ,EAEJiR,EAA2BA,CAACvyD,EAAU0zD,EAAW9J,KACrD8J,EAAU9Y,UAAY56C,EACtB,MAAM2zD,EAAY3zD,EAASi0C,MAAMv6B,MACjC1Z,EAASi0C,MAAQyf,EACjB1zD,EAASV,KAAO,KAChBoqD,GAAY1pD,EAAU0zD,EAAUh6C,MAAOi6C,EAAW/J,GAClD6C,GAAYzsD,EAAU0zD,EAAUxgD,SAAU02C,IAC1ChhB,EAAAA,EAAAA,MACAkN,EAAiB91C,IACjB6oC,EAAAA,EAAAA,KAAe,EAEXioB,EAAgBA,CAACrC,EAAIC,EAAI5tD,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,GAAY,KACtH,MAAMgK,EAAKnF,GAAMA,EAAGv7C,SACd2gD,EAAgBpF,EAAKA,EAAG9T,UAAY,EACpCmZ,EAAKpF,EAAGx7C,UACR,UAAEqoC,EAAS,UAAEZ,GAAc+T,EACjC,GAAInT,EAAY,EAAG,CACjB,GAAgB,IAAZA,EAYF,YAXAwY,EACEH,EACAE,EACAhzD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAGG,GAAgB,IAAZrO,EAYT,YAXAyY,EACEJ,EACAE,EACAhzD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,EAIN,CACgB,EAAZjP,GACkB,GAAhBkZ,GACFI,EAAgBL,EAAIhF,EAAiB7S,GAEnC+X,IAAOF,GACT5F,EAAmBltD,EAAWgzD,IAGZ,GAAhBD,EACc,GAAZlZ,EACFoZ,EACEH,EACAE,EACAhzD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAGFqK,EAAgBL,EAAIhF,EAAiB7S,GAAgB,IAGnC,EAAhB8X,GACF7F,EAAmBltD,EAAW,IAEhB,GAAZ65C,GACFmV,EACEgE,EACAhzD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAIR,EAEIoK,EAAuBA,CAACJ,EAAIE,EAAIhzD,EAAW6tD,EAAQC,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,KACjHgK,EAAKA,GAAMtI,EAAAA,GACXwI,EAAKA,GAAMxI,EAAAA,GACX,MAAM4I,EAAYN,EAAG7/D,OACfg2C,EAAY+pB,EAAG//D,OACfogE,EAAet9D,KAAKu9D,IAAIF,EAAWnqB,GACzC,IAAInzC,EACJ,IAAKA,EAAI,EAAGA,EAAIu9D,EAAcv9D,IAAK,CACjC,MAAMy9D,EAAYP,EAAGl9D,GAAKgzD,EAAY4G,GAAesD,EAAGl9D,IAAMo1D,GAAe8H,EAAGl9D,IAChF43D,EACEoF,EAAGh9D,GACHy9D,EACAvzD,EACA,KACA8tD,EACA7S,EACAwM,EACAsG,EACAjF,EAEJ,CACIsK,EAAYnqB,EACdkqB,EACEL,EACAhF,EACA7S,GACA,GACA,EACAoY,GAGFrE,EACEgE,EACAhzD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,EACAuK,EAEJ,EAEIJ,EAAqBA,CAACH,EAAIE,EAAIhzD,EAAWwzD,EAAc1F,EAAiB7S,EAAgBwM,EAAWsG,EAAcjF,KACrH,IAAIhzD,EAAI,EACR,MAAM29D,EAAKT,EAAG//D,OACd,IAAIygE,EAAKZ,EAAG7/D,OAAS,EACjB0gE,EAAKF,EAAK,EACd,MAAO39D,GAAK49D,GAAM59D,GAAK69D,EAAI,CACzB,MAAMhG,EAAKmF,EAAGh9D,GACR83D,EAAKoF,EAAGl9D,GAAKgzD,EAAY4G,GAAesD,EAAGl9D,IAAMo1D,GAAe8H,EAAGl9D,IACzE,IAAImjD,GAAgB0U,EAAIC,GAatB,MAZAF,EACEC,EACAC,EACA5tD,EACA,KACA8tD,EACA7S,EACAwM,EACAsG,EACAjF,GAKJhzD,GACF,CACA,MAAOA,GAAK49D,GAAM59D,GAAK69D,EAAI,CACzB,MAAMhG,EAAKmF,EAAGY,GACR9F,EAAKoF,EAAGW,GAAM7K,EAAY4G,GAAesD,EAAGW,IAAOzI,GAAe8H,EAAGW,IAC3E,IAAI1a,GAAgB0U,EAAIC,GAatB,MAZAF,EACEC,EACAC,EACA5tD,EACA,KACA8tD,EACA7S,EACAwM,EACAsG,EACAjF,GAKJ4K,IACAC,GACF,CACA,GAAI79D,EAAI49D,GACN,GAAI59D,GAAK69D,EAAI,CACX,MAAMC,EAAUD,EAAK,EACf9F,EAAS+F,EAAUH,EAAKT,EAAGY,GAASld,GAAK8c,EAC/C,MAAO19D,GAAK69D,EACVjG,EACE,KACAsF,EAAGl9D,GAAKgzD,EAAY4G,GAAesD,EAAGl9D,IAAMo1D,GAAe8H,EAAGl9D,IAC9DkK,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAEFhzD,GAEJ,OACK,GAAIA,EAAI69D,EACb,MAAO79D,GAAK49D,EACVzmC,EAAQ6lC,EAAGh9D,GAAIg4D,EAAiB7S,GAAgB,GAChDnlD,QAEG,CACL,MAAM+9D,EAAK/9D,EACLg+D,EAAKh+D,EACLi+D,EAAmC,IAAIp2D,IAC7C,IAAK7H,EAAIg+D,EAAIh+D,GAAK69D,EAAI79D,IAAK,CACzB,MAAMy9D,EAAYP,EAAGl9D,GAAKgzD,EAAY4G,GAAesD,EAAGl9D,IAAMo1D,GAAe8H,EAAGl9D,IAC3D,MAAjBy9D,EAAUx3D,KAQZg4D,EAAiBn2D,IAAI21D,EAAUx3D,IAAKjG,EAExC,CACA,IAAIk+D,EACAC,EAAU,EACd,MAAMC,EAAcP,EAAKG,EAAK,EAC9B,IAAIK,GAAQ,EACRC,EAAmB,EACvB,MAAMC,EAAwB,IAAItjE,MAAMmjE,GACxC,IAAKp+D,EAAI,EAAGA,EAAIo+D,EAAap+D,IAAKu+D,EAAsBv+D,GAAK,EAC7D,IAAKA,EAAI+9D,EAAI/9D,GAAK49D,EAAI59D,IAAK,CACzB,MAAMw+D,EAAYxB,EAAGh9D,GACrB,GAAIm+D,GAAWC,EAAa,CAC1BjnC,EAAQqnC,EAAWxG,EAAiB7S,GAAgB,GACpD,QACF,CACA,IAAIsZ,EACJ,GAAqB,MAAjBD,EAAUv4D,IACZw4D,EAAWR,EAAiBl2D,IAAIy2D,EAAUv4D,UAE1C,IAAKi4D,EAAIF,EAAIE,GAAKL,EAAIK,IACpB,GAAsC,IAAlCK,EAAsBL,EAAIF,IAAa7a,GAAgBqb,EAAWtB,EAAGgB,IAAK,CAC5EO,EAAWP,EACX,KACF,MAGa,IAAbO,EACFtnC,EAAQqnC,EAAWxG,EAAiB7S,GAAgB,IAEpDoZ,EAAsBE,EAAWT,GAAMh+D,EAAI,EACvCy+D,GAAYH,EACdA,EAAmBG,EAEnBJ,GAAQ,EAEVzG,EACE4G,EACAtB,EAAGuB,GACHv0D,EACA,KACA8tD,EACA7S,EACAwM,EACAsG,EACAjF,GAEFmL,IAEJ,CACA,MAAMO,EAA6BL,EAAQM,GAAYJ,GAAyB7J,EAAAA,GAEhF,IADAwJ,EAAIQ,EAA2BvhE,OAAS,EACnC6C,EAAIo+D,EAAc,EAAGp+D,GAAK,EAAGA,IAAK,CACrC,MAAM4+D,EAAYZ,EAAKh+D,EACjBy9D,EAAYP,EAAG0B,GACf7G,EAAS6G,EAAY,EAAIjB,EAAKT,EAAG0B,EAAY,GAAGhe,GAAK8c,EAC1B,IAA7Ba,EAAsBv+D,GACxB43D,EACE,KACA6F,EACAvzD,EACA6tD,EACAC,EACA7S,EACAwM,EACAsG,EACAjF,GAEOqL,IACLH,EAAI,GAAKl+D,IAAM0+D,EAA2BR,GAC5CW,EAAKpB,EAAWvzD,EAAW6tD,EAAQ,GAEnCmG,IAGN,CACF,GAEIW,EAAOA,CAACxhB,EAAOnzC,EAAW6tD,EAAQ+G,EAAU3Z,EAAiB,QACjE,MAAM,GAAEvE,EAAE,KAAEn3C,EAAI,WAAEw6C,EAAU,SAAE3nC,EAAQ,UAAEynC,GAAc1G,EACtD,GAAgB,EAAZ0G,EAEF,YADA8a,EAAKxhB,EAAM2G,UAAUE,QAASh6C,EAAW6tD,EAAQ+G,GAGnD,GAAgB,IAAZ/a,EAEF,YADA1G,EAAM0hB,SAASF,KAAK30D,EAAW6tD,EAAQ+G,GAGzC,GAAgB,GAAZ/a,EAEF,YADAt6C,EAAKo1D,KAAKxhB,EAAOnzC,EAAW6tD,EAAQa,IAGtC,GAAInvD,IAASi7C,GAAU,CACrB+R,EAAW7V,EAAI12C,EAAW6tD,GAC1B,IAAK,IAAI/3D,EAAI,EAAGA,EAAIsc,EAASnf,OAAQ6C,IACnC6+D,EAAKviD,EAAStc,GAAIkK,EAAW6tD,EAAQ+G,GAGvC,YADArI,EAAWpZ,EAAM0a,OAAQ7tD,EAAW6tD,EAEtC,CACA,GAAItuD,IAAS8uD,GAEX,YADAM,EAAexb,EAAOnzC,EAAW6tD,GAGnC,MAAMiH,EAA+B,IAAbF,GAA8B,EAAZ/a,GAAiBE,EAC3D,GAAI+a,EACF,GAAiB,IAAbF,EACF7a,EAAWhB,YAAYrC,GACvB6V,EAAW7V,EAAI12C,EAAW6tD,GAC1B3R,IAAsB,IAAMnC,EAAWb,MAAMxC,IAAKuE,OAC7C,CACL,MAAM,MAAEzB,EAAK,WAAEub,EAAU,WAAEC,GAAejb,EACpCkb,EAAUA,IAAM1I,EAAW7V,EAAI12C,EAAW6tD,GAC1CqH,EAAeA,KACnB1b,EAAM9C,GAAI,KACRue,IACAD,GAAcA,GAAY,GAC1B,EAEAD,EACFA,EAAWre,EAAIue,EAASC,GAExBA,GAEJ,MAEA3I,EAAW7V,EAAI12C,EAAW6tD,EAC5B,EAEI5gC,EAAUA,CAACkmB,EAAO2a,EAAiB7S,EAAgBka,GAAW,EAAOrM,GAAY,KACrF,MAAM,KACJvpD,EAAI,MACJqZ,EAAK,IACL2iC,EAAG,SACHnpC,EAAQ,gBACR47C,EAAe,UACfnU,EAAS,UACTY,EAAS,KACTpE,EAAI,WACJ+e,GACEjiB,EAUJ,IATmB,IAAfsH,IACFqO,GAAY,GAEH,MAAPvN,GACFT,EAAOS,EAAK,KAAMN,EAAgB9H,GAAO,GAEzB,MAAdiiB,IACFtH,EAAgBuH,YAAYD,QAAc,GAE5B,IAAZvb,EAEF,YADAiU,EAAgBlY,IAAI0f,WAAWniB,GAGjC,MAAMoiB,EAA+B,EAAZ1b,GAAiBxD,EACpCmf,GAAyBra,EAAehI,GAC9C,IAAI2b,EAIJ,GAHI0G,IAA0B1G,EAAYl2C,GAASA,EAAM68C,uBACvDrG,GAAgBN,EAAWhB,EAAiB3a,GAE9B,EAAZ0G,EACF6b,EAAiBviB,EAAM2G,UAAWmB,EAAgBka,OAC7C,CACL,GAAgB,IAAZtb,EAEF,YADA1G,EAAM0hB,SAAS5nC,QAAQguB,EAAgBka,GAGrCI,GACFrf,EAAoB/C,EAAO,KAAM2a,EAAiB,iBAEpC,GAAZjU,EACF1G,EAAM5zC,KAAK6yC,OACTe,EACA2a,EACA7S,EACAyT,GACAyG,GAEOnH,IAKVA,EAAgB2H,UAChBp2D,IAASi7C,IAAYC,EAAY,GAAiB,GAAZA,GACrC0Y,EACEnF,EACAF,EACA7S,GACA,GACA,IAEO17C,IAASi7C,IAAwB,IAAZC,IAA4BqO,GAAyB,GAAZjP,IACvEsZ,EAAgB/gD,EAAU07C,EAAiB7S,GAEzCka,GACF/iB,EAAOe,EAEX,EACIqiB,IAA0B1G,EAAYl2C,GAASA,EAAMg9C,mBAAqBL,IAC5ErZ,IAAsB,KACpB4S,GAAaM,GAAgBN,EAAWhB,EAAiB3a,GACzDoiB,GAAoBrf,EAAoB/C,EAAO,KAAM2a,EAAiB,YAAY,GACjF7S,EACL,EAEI7I,EAAUe,IACd,MAAM,KAAE5zC,EAAI,GAAEm3C,EAAE,OAAEmX,EAAM,WAAE9T,GAAe5G,EACzC,GAAI5zC,IAASi7C,GAYX,YAFEqb,EAAenf,EAAImX,GAIvB,GAAItuD,IAAS8uD,GAEX,YADAO,EAAiBzb,GAGnB,MAAM2iB,EAAgBA,KACpBtJ,EAAW9V,GACPqD,IAAeA,EAAWrC,WAAaqC,EAAWib,YACpDjb,EAAWib,YACb,EAEF,GAAsB,EAAlB7hB,EAAM0G,WAAiBE,IAAeA,EAAWrC,UAAW,CAC9D,MAAM,MAAE8B,EAAK,WAAEub,GAAehb,EACxBmb,EAAeA,IAAM1b,EAAM9C,EAAIof,GACjCf,EACFA,EAAW5hB,EAAMuD,GAAIof,EAAeZ,GAEpCA,GAEJ,MACEY,GACF,EAEID,EAAiBA,CAACtiB,EAAKc,KAC3B,IAAI71C,EACJ,MAAO+0C,IAAQc,EACb71C,EAAO6uD,EAAgB9Z,GACvBiZ,EAAWjZ,GACXA,EAAM/0C,EAERguD,EAAWnY,EAAI,EAEXqhB,EAAmBA,CAACx2D,EAAU+7C,EAAgBka,KAIlD,MAAM,IAAEY,EAAG,MAAE7jB,EAAK,IAAEK,EAAG,QAAEyH,EAAO,GAAEgc,EAAE,EAAE1xD,EAAC,EAAE+wC,GAAMn2C,EAC/C+2D,GAAgB3xD,GAChB2xD,GAAgB5gB,GACZ0gB,IACF/D,EAAAA,EAAAA,IAAe+D,GAEjB7jB,EAAM3nB,OACFgoB,IACFA,EAAItN,OAAS,EACbhY,EAAQ+sB,EAAS96C,EAAU+7C,EAAgBka,IAEzCa,GACF9Z,GAAsB8Z,EAAI/a,GAE5BiB,IAAsB,KACpBh9C,EAAS83B,aAAc,CAAI,GAC1BikB,GACCA,GAAkBA,EAAeib,gBAAkBjb,EAAejkB,aAAe93B,EAASkyD,WAAalyD,EAASsyD,eAAiBtyD,EAASi3D,aAAelb,EAAemb,YAC1Knb,EAAelW,OACa,IAAxBkW,EAAelW,MACjBkW,EAAenkD,UAGsD,EAIrEq8D,EAAkBA,CAAC/gD,EAAU07C,EAAiB7S,EAAgBka,GAAW,EAAOrM,GAAY,EAAOp/B,EAAQ,KAC/G,IAAK,IAAI5zB,EAAI4zB,EAAO5zB,EAAIsc,EAASnf,OAAQ6C,IACvCm3B,EAAQ7a,EAAStc,GAAIg4D,EAAiB7S,EAAgBka,EAAUrM,EAClE,EAEImF,EAAmB9a,IACvB,GAAsB,EAAlBA,EAAM0G,UACR,OAAOoU,EAAgB9a,EAAM2G,UAAUE,SAEzC,GAAsB,IAAlB7G,EAAM0G,UACR,OAAO1G,EAAM0hB,SAASr2D,OAExB,MAAMk4C,EAAK2W,EAAgBla,EAAM0a,QAAU1a,EAAMuD,IAC3C2f,EAAc3f,GAAMA,EAAGC,GAC7B,OAAO0f,EAAchJ,EAAgBgJ,GAAe3f,CAAE,EAExD,IAAI4f,IAAa,EACjB,MAAMtT,GAASA,CAAC7P,EAAOnzC,EAAWynD,KACnB,MAATtU,EACEnzC,EAAUu2D,QACZtpC,EAAQjtB,EAAUu2D,OAAQ,KAAM,MAAM,GAGxC7I,EACE1tD,EAAUu2D,QAAU,KACpBpjB,EACAnzC,EACA,KACA,KACA,KACAynD,GAGJznD,EAAUu2D,OAASpjB,EACdmjB,KACHA,IAAa,EACbthB,IACAE,IACAohB,IAAa,EACf,EAEI5H,GAAY,CAChBz1D,EAAGy0D,EACHsI,GAAI/oC,EACJ3oB,EAAGqwD,EACH9uD,EAAGusC,EACHokB,GAAI1F,EACJ2F,GAAIzH,EACJ0H,GAAI1G,EACJ2G,IAAK5G,EACLrP,EAAGuN,EACH2I,EAAGn7D,GAEL,IAAI+qD,GACA+L,GAMJ,OALInG,KACD5F,GAAS+L,IAAenG,EACvBsC,KAGG,CACL1L,UACAwD,WACAqQ,UAAWtQ,GAAavD,GAAQwD,IAEpC,CACA,SAASyI,IAAyB,KAAE1vD,EAAI,MAAEqZ,GAASk+C,GACjD,MAA4B,QAArBA,GAAuC,kBAATv3D,GAAiD,WAArBu3D,GAA0C,mBAATv3D,GAA6BqZ,GAASA,EAAMm+C,UAAYn+C,EAAMm+C,SAASxhE,SAAS,aAAU,EAASuhE,CACvM,CACA,SAASjH,IAAc,OAAEtf,EAAM,IAAEgC,GAAOykB,GAClCA,GACFzmB,EAAOtL,OAAS,GAChBsN,EAAItN,OAAS,IAEbsL,EAAOtL,QAAS,GAChBsN,EAAItN,QAAS,EAEjB,CACA,SAASqqB,GAAerU,EAAgBlB,GACtC,QAASkB,GAAkBA,IAAmBA,EAAeib,gBAAkBnc,IAAeA,EAAWrC,SAC3G,CACA,SAASkZ,GAAuBjD,EAAIC,EAAIxf,GAAU,GAChD,MAAM6oB,EAAMtJ,EAAGv7C,SACT8kD,EAAMtJ,EAAGx7C,SACf,IAAIthB,EAAAA,EAAAA,IAAQmmE,KAAQnmE,EAAAA,EAAAA,IAAQomE,GAC1B,IAAK,IAAIphE,EAAI,EAAGA,EAAImhE,EAAIhkE,OAAQ6C,IAAK,CACnC,MAAMg9D,EAAKmE,EAAInhE,GACf,IAAIk9D,EAAKkE,EAAIphE,GACM,EAAfk9D,EAAGnZ,YAAkBmZ,EAAGhF,mBACtBgF,EAAGvY,WAAa,GAAsB,KAAjBuY,EAAGvY,aAC1BuY,EAAKkE,EAAIphE,GAAK45D,GAAewH,EAAIphE,IACjCk9D,EAAGtc,GAAKoc,EAAGpc,IAERtI,IAA6B,IAAlB4kB,EAAGvY,WACjBmW,GAAuBkC,EAAIE,IAE3BA,EAAGzzD,OAAS2uD,KACd8E,EAAGtc,GAAKoc,EAAGpc,GAKf,CAEJ,CACA,SAAS+d,GAAY9qB,GACnB,MAAM1wC,EAAI0wC,EAAI/sC,QACR/H,EAAS,CAAC,GAChB,IAAIiB,EAAGk+D,EAAGpC,EAAGznB,EAAG2Z,EAChB,MAAMluD,EAAM+zC,EAAI12C,OAChB,IAAK6C,EAAI,EAAGA,EAAIF,EAAKE,IAAK,CACxB,MAAMqhE,EAAOxtB,EAAI7zC,GACjB,GAAa,IAATqhE,EAAY,CAEd,GADAnD,EAAIn/D,EAAOA,EAAO5B,OAAS,GACvB02C,EAAIqqB,GAAKmD,EAAM,CACjBl+D,EAAEnD,GAAKk+D,EACPn/D,EAAOiI,KAAKhH,GACZ,QACF,CACA87D,EAAI,EACJznB,EAAIt1C,EAAO5B,OAAS,EACpB,MAAO2+D,EAAIznB,EACT2Z,EAAI8N,EAAIznB,GAAK,EACTR,EAAI90C,EAAOivD,IAAMqT,EACnBvF,EAAI9N,EAAI,EAER3Z,EAAI2Z,EAGJqT,EAAOxtB,EAAI90C,EAAO+8D,MAChBA,EAAI,IACN34D,EAAEnD,GAAKjB,EAAO+8D,EAAI,IAEpB/8D,EAAO+8D,GAAK97D,EAEhB,CACF,CACA87D,EAAI/8D,EAAO5B,OACXk3C,EAAIt1C,EAAO+8D,EAAI,GACf,MAAOA,KAAM,EACX/8D,EAAO+8D,GAAKznB,EACZA,EAAIlxC,EAAEkxC,GAER,OAAOt1C,CACT,CACA,SAASi9D,GAA2B5yD,GAClC,MAAMk4D,EAAel4D,EAAS86C,QAAQF,UACtC,GAAIsd,EACF,OAAIA,EAAahG,WAAagG,EAAa5F,cAClC4F,EAEAtF,GAA2BsF,EAGxC,CACA,SAASnB,GAAgBnd,GACvB,GAAIA,EACF,IAAK,IAAIhjD,EAAI,EAAGA,EAAIgjD,EAAM7lD,OAAQ6C,IAChCgjD,EAAMhjD,GAAGmvC,OAAS,CAExB,CAEA,MAAMoyB,GAAgB/7C,OAAOqjC,IAAI,SAC3B2Y,GAAgBA,KACpB,CACE,MAAM1hB,EAAMuM,GAAOkV,IAMnB,OAAOzhB,CACT,GAoBF,SAAS1E,GAAMhnC,EAAQ0K,EAAInZ,GAMzB,OAAO87D,GAAQrtD,EAAQ0K,EAAInZ,EAC7B,CACA,SAAS87D,GAAQrtD,EAAQ0K,EAAInZ,EAAU01C,EAAAA,IACrC,MAAM,UAAEC,EAAS,KAAE3c,EAAI,MAAE+iC,EAAK,KAAEnmB,GAAS51C,EAkBzC,MAAMg8D,GAAmBjpB,EAAAA,EAAAA,IAAO,CAAC,EAAG/yC,GAEpC,MAAMi8D,EAAkB9iD,GAAMw8B,IAAcx8B,GAAgB,SAAV4iD,EAClD,IAAIG,EACJ,GAAI7Z,GACF,GAAc,SAAV0Z,EAAkB,CACpB,MAAM5hB,EAAM0hB,KACZK,EAAa/hB,EAAIgiB,mBAAqBhiB,EAAIgiB,iBAAmB,GAC/D,MAAO,IAAKF,EAAiB,CAC3B,MAAMG,EAAkBA,OAKxB,OAHAA,EAAgBttC,KAAOunB,EAAAA,GACvB+lB,EAAgBtzB,OAASuN,EAAAA,GACzB+lB,EAAgBxzB,MAAQyN,EAAAA,GACjB+lB,CACT,CAEF,MAAM34D,EAAW69C,GACjB0a,EAAiB5lE,KAAO,CAAC8E,EAAI4I,EAAM3I,IAASo8C,EAA2Br8C,EAAIuI,EAAUK,EAAM3I,GAC3F,IAAIkhE,GAAQ,EACE,SAAVN,EACFC,EAAiBtyB,UAAaoN,IAC5B2J,GAAsB3J,EAAKrzC,GAAYA,EAAS21D,SAAS,EAExC,SAAV2C,IACTM,GAAQ,EACRL,EAAiBtyB,UAAY,CAACoN,EAAKwlB,KAC7BA,EACFxlB,IAEAmC,EAASnC,EACX,GAGJklB,EAAiBnmB,WAAciB,IACzB39B,IACF29B,EAAItN,OAAS,GAEX6yB,IACFvlB,EAAItN,OAAS,EACT/lC,IACFqzC,EAAI1c,GAAK32B,EAAS+1C,IAClB1C,EAAIz8C,EAAIoJ,GAEZ,EAEF,MAAMizC,GAAc6lB,EAAAA,EAAAA,IAAQ9tD,EAAQ0K,EAAI6iD,GAQxC,OAPI3Z,KACE6Z,EACFA,EAAW76D,KAAKq1C,GACPulB,GACTvlB,KAGGA,CACT,CACA,SAASyO,GAAc12C,EAAQtY,EAAO6J,GACpC,MAAMkmD,EAAaznD,KAAKy1C,MAClB7d,GAAS5/B,EAAAA,EAAAA,IAASgY,GAAUA,EAAO3U,SAAS,KAAOivD,GAAiB7C,EAAYz3C,GAAU,IAAMy3C,EAAWz3C,GAAUA,EAAOlT,KAAK2qD,EAAYA,GACnJ,IAAI/sC,GACAviB,EAAAA,EAAAA,IAAWT,GACbgjB,EAAKhjB,GAELgjB,EAAKhjB,EAAM0L,QACX7B,EAAU7J,GAEZ,MAAM8R,EAAQi6C,GAAmBzjD,MAC3BhB,EAAMq+D,GAAQzlC,EAAQld,EAAG5d,KAAK2qD,GAAalmD,GAEjD,OADAiI,IACOxK,CACT,CACA,SAASsrD,GAAiB5O,EAAK3gD,GAC7B,MAAMgjE,EAAWhjE,EAAKI,MAAM,KAC5B,MAAO,KACL,IAAIk+C,EAAMqC,EACV,IAAK,IAAI9/C,EAAI,EAAGA,EAAImiE,EAAShlE,QAAUsgD,EAAKz9C,IAC1Cy9C,EAAMA,EAAI0kB,EAASniE,IAErB,OAAOy9C,CAAG,CAEd,CAiEA,MAAM2kB,GAAoBA,CAACt/C,EAAOu/C,IACX,eAAdA,GAA4C,gBAAdA,EAA8Bv/C,EAAMw/C,eAAiBx/C,EAAM,GAAGu/C,eAAyBv/C,EAAM,IAAGomC,EAAAA,EAAAA,IAASmZ,gBAA0Bv/C,EAAM,IAAGswC,EAAAA,EAAAA,IAAUiP,eAG7L,SAAS/X,GAAKlhD,EAAUS,KAAU04D,GAChC,GAAIn5D,EAAS83B,YAAa,OAC1B,MAAMpe,EAAQ1Z,EAASi0C,MAAMv6B,OAASu4B,EAAAA,GA0BtC,IAAIv6C,EAAOyhE,EACX,MAAMC,EAAkB34D,EAAM7K,WAAW,WACnCyjE,EAAYD,GAAmBJ,GAAkBt/C,EAAOjZ,EAAM/C,MAAM,IAyB1E,IAAI47D,EAxBAD,IACEA,EAAUp8D,OACZvF,EAAOyhE,EAAQvtD,KAAKuqC,IAAMnjD,EAAAA,EAAAA,IAASmjD,GAAKA,EAAEl5C,OAASk5C,KAEjDkjB,EAAUE,SACZ7hE,EAAOyhE,EAAQvtD,IAAI4tD,EAAAA,MAoBvB,IAAIp7D,EAAUsb,EAAM4/C,GAAcG,EAAAA,EAAAA,IAAah5D,KAC/CiZ,EAAM4/C,GAAcG,EAAAA,EAAAA,KAAa3Z,EAAAA,EAAAA,IAASr/C,MACrCrC,GAAWg7D,IACdh7D,EAAUsb,EAAM4/C,GAAcG,EAAAA,EAAAA,KAAazP,EAAAA,EAAAA,IAAUvpD,MAEnDrC,GACF01C,EACE11C,EACA4B,EACA,EACAtI,GAGJ,MAAMgiE,EAAchgD,EAAM4/C,EAAc,QACxC,GAAII,EAAa,CACf,GAAK15D,EAAS25D,SAEP,GAAI35D,EAAS25D,QAAQL,GAC1B,YAFAt5D,EAAS25D,QAAU,CAAC,EAItB35D,EAAS25D,QAAQL,IAAe,EAChCxlB,EACE4lB,EACA15D,EACA,EACAtI,EAEJ,CACF,CACA,SAASkiE,GAAsB1O,EAAM9W,EAAY6R,GAAU,GACzD,MAAM/jD,EAAQkyC,EAAW+S,WACnBtB,EAAS3jD,EAAMvD,IAAIusD,GACzB,QAAe,IAAXrF,EACF,OAAOA,EAET,MAAMzb,EAAM8gB,EAAK5E,MACjB,IAAI/D,EAAa,CAAC,EACd4I,GAAa,EACjB,KAA4Bh4D,EAAAA,EAAAA,IAAW+3D,GAAO,CAC5C,MAAM2O,EAAexO,IACnB,MAAMyO,EAAuBF,GAAsBvO,EAAMjX,GAAY,GACjE0lB,IACF3O,GAAa,GACb7b,EAAAA,EAAAA,IAAOiT,EAAYuX,GACrB,GAEG7T,GAAW7R,EAAWmR,OAAOxxD,QAChCqgD,EAAWmR,OAAOzrD,QAAQ+/D,GAExB3O,EAAK1F,SACPqU,EAAY3O,EAAK1F,SAEf0F,EAAK3F,QACP2F,EAAK3F,OAAOzrD,QAAQ+/D,EAExB,CACA,OAAKzvB,GAAQ+gB,IAMTv5D,EAAAA,EAAAA,IAAQw4C,GACVA,EAAItwC,SAAS+C,GAAQ0lD,EAAW1lD,GAAO,QAEvCyyC,EAAAA,EAAAA,IAAOiT,EAAYnY,IAEjB/2C,EAAAA,EAAAA,IAAS63D,IACXhpD,EAAMxD,IAAIwsD,EAAM3I,GAEXA,KAbDlvD,EAAAA,EAAAA,IAAS63D,IACXhpD,EAAMxD,IAAIwsD,EAAM,MAEX,KAWX,CACA,SAASd,GAAe7tD,EAASM,GAC/B,SAAKN,KAAYw9D,EAAAA,EAAAA,IAAKl9D,MAGtBA,EAAMA,EAAIa,MAAM,GAAG3E,QAAQ,QAAS,KAC7Bk1C,EAAAA,EAAAA,IAAO1xC,EAASM,EAAI,GAAGqnC,cAAgBrnC,EAAIa,MAAM,MAAOuwC,EAAAA,EAAAA,IAAO1xC,GAASytD,EAAAA,EAAAA,IAAUntD,MAASoxC,EAAAA,EAAAA,IAAO1xC,EAASM,GACpH,CAMA,SAASm2D,GAAoBhzD,GAC3B,MACEK,KAAMs/C,EAAS,MACf1L,EAAK,MACLxD,EAAK,UACLupB,EACAhY,cAAeA,GAAa,MAC5BtB,EAAK,MACLn2C,EAAK,KACL22C,EAAI,OACJ4C,EAAM,YACNqS,EAAW,MACXz8C,EAAK,KACLzf,EAAI,WACJuiD,EAAU,IACV9F,EAAG,aACH0N,GACEpkD,EACE4nC,EAAO2O,EAA4Bv2C,GACzC,IAAIrK,EACAskE,EAIJ,IACE,GAAsB,EAAlBhmB,EAAM0G,UAAe,CACvB,MAAMuf,EAAaF,GAAavpB,EAC1B0pB,EASDD,EACLvkE,EAASq2D,GACPlI,EAAOnxD,KACLwnE,EACAD,EACA/D,EACqEz8C,EACrE8iC,EACAviD,EACAy8C,IAGJujB,EAAmB1vD,CACrB,KAAO,CACL,MAAM6vD,EAAUza,EACZ,EAGJhqD,EAASq2D,GACPoO,EAAQrmE,OAAS,EAAIqmE,EACkD1gD,EAQjE,CAAEnP,QAAOm2C,QAAOQ,SAClBkZ,EACmE1gD,EACrE,OAGJugD,EAAmBta,EAAUjmC,MAAQnP,EAAQ8vD,GAAyB9vD,EACxE,CACF,CAAE,MAAOnQ,GACPkgE,GAAWvmE,OAAS,EACpBqwC,EAAYhqC,EAAK4F,EAAU,GAC3BrK,EAAS8yD,GAAYjN,GACvB,CACA,IAAIsF,EAAOnrD,EAKX,GAAIskE,IAAqC,IAAjB7V,EAAwB,CAC9C,MAAM7jD,EAAOxO,OAAOwO,KAAK05D,IACnB,UAAEtf,GAAcmG,EAClBvgD,EAAKxM,QACS,EAAZ4mD,IACEqH,GAAgBzhD,EAAK2P,KAAKkpD,EAAAA,MAC5Ba,EAAmBM,GACjBN,EACAjY,IAGJlB,EAAOrF,GAAWqF,EAAMmZ,GAAkB,GAAO,GA2BvD,CAwBA,OAvBIhmB,EAAMkD,OAMR2J,EAAOrF,GAAWqF,EAAM,MAAM,GAAO,GACrCA,EAAK3J,KAAO2J,EAAK3J,KAAO2J,EAAK3J,KAAKhqC,OAAO8mC,EAAMkD,MAAQlD,EAAMkD,MAE3DlD,EAAM4G,YAMRH,EAAmBoG,EAAM7M,EAAM4G,YAK/BllD,EAASmrD,EAEXvK,EAA4B3O,GACrBjyC,CACT,CA6CA,MAAM0kE,GAA4B9vD,IAChC,IAAIvQ,EACJ,IAAK,MAAM6C,KAAO0N,GACJ,UAAR1N,GAA2B,UAARA,IAAmBk9D,EAAAA,EAAAA,IAAKl9D,OAC5C7C,IAAQA,EAAM,CAAC,IAAI6C,GAAO0N,EAAM1N,IAGrC,OAAO7C,CAAG,EAENugE,GAAuBA,CAAChwD,EAAOmP,KACnC,MAAM1f,EAAM,CAAC,EACb,IAAK,MAAM6C,KAAO0N,GACX6uD,EAAAA,EAAAA,IAAgBv8D,IAAUA,EAAIa,MAAM,KAAMgc,IAC7C1f,EAAI6C,GAAO0N,EAAM1N,IAGrB,OAAO7C,CAAG,EAKZ,SAASq4D,GAAsBpb,EAAWyc,EAAW9J,GACnD,MAAQlwC,MAAOi6C,EAAWzgD,SAAUsnD,EAAY,UAAE5f,GAAc3D,GACxDv9B,MAAO+gD,EAAWvnD,SAAUwnD,EAAY,UAAEnf,GAAcmY,EAC1DpN,EAAQ1L,EAAUyP,aAIxB,GAAIqJ,EAAUvc,MAAQuc,EAAU7Y,WAC9B,OAAO,EAET,KAAI+O,GAAarO,GAAa,GAmB5B,SAAIif,IAAgBE,GACbA,GAAiBA,EAAa9N,UAIjC+G,IAAc8G,IAGb9G,GAGA8G,GAGEE,GAAgBhH,EAAW8G,EAAWnU,KALlCmU,GA3BX,GAAgB,KAAZlf,EACF,OAAO,EAET,GAAgB,GAAZA,EACF,OAAKoY,EAGEgH,GAAgBhH,EAAW8G,EAAWnU,KAFlCmU,EAGN,GAAgB,EAAZlf,EAAe,CACxB,MAAM4O,EAAeuJ,EAAUvJ,aAC/B,IAAK,IAAIvzD,EAAI,EAAGA,EAAIuzD,EAAap2D,OAAQ6C,IAAK,CAC5C,MAAMiG,EAAMstD,EAAavzD,GACzB,GAAI6jE,EAAU59D,KAAS82D,EAAU92D,KAASutD,GAAe9D,EAAOzpD,GAC9D,OAAO,CAEX,CACF,CAkBF,OAAO,CACT,CACA,SAAS89D,GAAgBhH,EAAW8G,EAAWpQ,GAC7C,MAAMuQ,EAAW7oE,OAAOwO,KAAKk6D,GAC7B,GAAIG,EAAS7mE,SAAWhC,OAAOwO,KAAKozD,GAAW5/D,OAC7C,OAAO,EAET,IAAK,IAAI6C,EAAI,EAAGA,EAAIgkE,EAAS7mE,OAAQ6C,IAAK,CACxC,MAAMiG,EAAM+9D,EAAShkE,GACrB,GAAI6jE,EAAU59D,KAAS82D,EAAU92D,KAASutD,GAAeC,EAAcxtD,GACrE,OAAO,CAEX,CACA,OAAO,CACT,CACA,SAASq2D,IAAgB,MAAEjf,EAAK,OAAEtpC,GAAU6sC,GAC1C,MAAO7sC,EAAQ,CACb,MAAMm2C,EAAOn2C,EAAOmwC,QAIpB,GAHIgG,EAAK6U,UAAY7U,EAAK6U,SAASkF,eAAiB5mB,IAClD6M,EAAKtJ,GAAKvD,EAAMuD,IAEdsJ,IAAS7M,EAIX,OAHCA,EAAQtpC,EAAOspC,OAAOuD,GAAKA,EAC5B7sC,EAASA,EAAOA,MAIpB,CACF,CAEA,MAAM2lD,GAAcjwD,GAASA,EAAKy6D,aAmjBlC,SAAS/N,GAAwBt1D,EAAIk+D,GAC/BA,GAAYA,EAASqB,eACnBplE,EAAAA,EAAAA,IAAQ6F,GACVk+D,EAAS5wB,QAAQnnC,QAAQnG,GAEzBk+D,EAAS5wB,QAAQnnC,KAAKnG,GAGxBo+C,EAAiBp+C,EAErB,CAoBA,MAAM6jD,GAAWl/B,OAAOqjC,IAAI,SACtBuP,GAAO5yC,OAAOqjC,IAAI,SAClBjE,GAAUp/B,OAAOqjC,IAAI,SACrB0P,GAAS/yC,OAAOqjC,IAAI,SACpB6a,GAAa,GACnB,IAAIS,GAAe,KACnB,SAASC,GAAUC,GAAkB,GACnCX,GAAW18D,KAAKm9D,GAAeE,EAAkB,KAAO,GAC1D,CACA,SAASC,KACPZ,GAAWlkE,MACX2kE,GAAeT,GAAWA,GAAWvmE,OAAS,IAAM,IACtD,CACA,IAAIonE,GAAqB,EACzB,SAASrkB,GAAiBpkD,EAAO0oE,GAAU,GACzCD,IAAsBzoE,EAClBA,EAAQ,GAAKqoE,IAAgBK,IAC/BL,GAAatE,SAAU,EAE3B,CACA,SAAS4E,GAAWpnB,GAMlB,OALAA,EAAM6a,gBAAkBqM,GAAqB,EAAIJ,IAAgBzP,EAAAA,GAAY,KAC7E4P,KACIC,GAAqB,GAAKJ,IAC5BA,GAAan9D,KAAKq2C,GAEbA,CACT,CACA,SAASqnB,GAAmBj7D,EAAMqZ,EAAOxG,EAAUqoC,EAAW4O,EAAcxP,GAC1E,OAAO0gB,GACLE,GACEl7D,EACAqZ,EACAxG,EACAqoC,EACA4O,EACAxP,GACA,GAGN,CAaA,SAAS6gB,GAAQ9oE,GACf,QAAOA,IAA8B,IAAtBA,EAAM+oE,WACvB,CACA,SAAS1hB,GAAgB0U,EAAIC,GAS3B,OAAOD,EAAGpuD,OAASquD,EAAGruD,MAAQouD,EAAG5xD,MAAQ6xD,EAAG7xD,GAC9C,CAKA,MAKM6+D,GAAeA,EAAG7+D,SAAiB,MAAPA,EAAcA,EAAM,KAChD8+D,GAAeA,EACnBtf,MACAuf,UACAC,cAEmB,kBAARxf,IACTA,EAAM,GAAKA,GAEC,MAAPA,GAAcrpD,EAAAA,EAAAA,IAASqpD,KAAQ3O,EAAAA,EAAAA,IAAM2O,KAAQlpD,EAAAA,EAAAA,IAAWkpD,GAAO,CAAEzlD,EAAGy/C,EAA0B1vC,EAAG01C,EAAKU,EAAG6e,EAASvnD,IAAKwnD,GAAYxf,EAAM,MAElJ,SAASkf,GAAgBl7D,EAAMqZ,EAAQ,KAAMxG,EAAW,KAAMqoC,EAAY,EAAG4O,EAAe,KAAMxP,GAAYt6C,IAASi7C,GAAW,EAAI,GAAGwgB,GAAc,EAAOC,GAAgC,GAC5L,MAAM9nB,EAAQ,CACZwnB,aAAa,EACbO,UAAU,EACV37D,OACAqZ,QACA7c,IAAK6c,GAASgiD,GAAahiD,GAC3B2iC,IAAK3iC,GAASiiD,GAAajiD,GAC3Bs2C,QAAS1Z,EACTuY,aAAc,KACd37C,WACA0nC,UAAW,KACX+a,SAAU,KACV5a,UAAW,KACXC,WAAY,KACZ7D,KAAM,KACN0D,WAAY,KACZrD,GAAI,KACJmX,OAAQ,KACR97D,OAAQ,KACRopE,YAAa,KACbC,aAAc,KACdC,YAAa,EACbxhB,YACAY,YACA4O,eACA2E,gBAAiB,KACjB1a,WAAY,KACZsC,IAAKL,GAwBP,OAtBI0lB,GACFK,GAAkBnoB,EAAO/gC,GACT,IAAZynC,GACFt6C,EAAKg8D,UAAUpoB,IAER/gC,IACT+gC,EAAM0G,YAAa3nD,EAAAA,EAAAA,IAASkgB,GAAY,EAAI,IAK1CioD,GAAqB,IACxBW,GACDf,KAIC9mB,EAAMsH,UAAY,GAAiB,EAAZZ,IAEJ,KAApB1G,EAAMsH,WACJwf,GAAan9D,KAAKq2C,GAEbA,CACT,CACA,MAAMwU,GAAyF6T,GAC/F,SAASA,GAAaj8D,EAAMqZ,EAAQ,KAAMxG,EAAW,KAAMqoC,EAAY,EAAG4O,EAAe,KAAM2R,GAAc,GAO3G,GANKz7D,GAAQA,IAASm/C,KAIpBn/C,EAAOm7C,IAELggB,GAAQn7D,GAAO,CACjB,MAAMk8D,EAAS9gB,GACbp7C,EACAqZ,GACA,GAcF,OAXIxG,GACFkpD,GAAkBG,EAAQrpD,GAExBioD,GAAqB,IAAMW,GAAef,KACrB,EAAnBwB,EAAO5hB,UACTogB,GAAaA,GAAarnE,QAAQ2M,IAASk8D,EAE3CxB,GAAan9D,KAAK2+D,IAGtBA,EAAOhhB,WAAa,EACbghB,CACT,CAIA,GAHIC,GAAiBn8D,KACnBA,EAAOA,EAAKo8D,WAEV/iD,EAAO,CACTA,EAAQgjD,GAAmBhjD,GAC3B,IAAMs3C,MAAO2L,EAAK,MAAE9lC,GAAUnd,EAC1BijD,KAAU3pE,EAAAA,EAAAA,IAAS2pE,KACrBjjD,EAAMs3C,OAAQ4L,EAAAA,EAAAA,IAAeD,KAE3BtpE,EAAAA,EAAAA,IAASwjC,MACP6V,EAAAA,EAAAA,IAAQ7V,MAAWjlC,EAAAA,EAAAA,IAAQilC,KAC7BA,GAAQyY,EAAAA,EAAAA,IAAO,CAAC,EAAGzY,IAErBnd,EAAMmd,OAAQgmC,EAAAA,EAAAA,IAAehmC,GAEjC,CACA,MAAM8jB,GAAY3nD,EAAAA,EAAAA,IAASqN,GAAQ,EAAIiwD,GAAWjwD,GAAQ,IAAMq3C,EAAWr3C,GAAQ,IAAKhN,EAAAA,EAAAA,IAASgN,GAAQ,GAAIlN,EAAAA,EAAAA,IAAWkN,GAAQ,EAAI,EAUpI,OAAOk7D,GACLl7D,EACAqZ,EACAxG,EACAqoC,EACA4O,EACAxP,EACAmhB,GACA,EAEJ,CACA,SAASY,GAAmBhjD,GAC1B,OAAKA,GACEgzB,EAAAA,EAAAA,IAAQhzB,IAAU0vC,GAAiB1vC,IAAS41B,EAAAA,EAAAA,IAAO,CAAC,EAAG51B,GAASA,EADpD,IAErB,CACA,SAAS+hC,GAAWxH,EAAO6oB,EAAYC,GAAW,EAAOC,GAAkB,GACzE,MAAM,MAAEtjD,EAAK,IAAE2iC,EAAG,UAAEd,EAAS,SAAEroC,EAAQ,WAAE2nC,GAAe5G,EAClDgpB,EAAcH,EAAaI,GAAWxjD,GAAS,CAAC,EAAGojD,GAAcpjD,EACjE6iD,EAAS,CACbd,aAAa,EACbO,UAAU,EACV37D,KAAM4zC,EAAM5zC,KACZqZ,MAAOujD,EACPpgE,IAAKogE,GAAevB,GAAauB,GACjC5gB,IAAKygB,GAAcA,EAAWzgB,IAI5B0gB,GAAY1gB,GAAMzqD,EAAAA,EAAAA,IAAQyqD,GAAOA,EAAIlvC,OAAOwuD,GAAamB,IAAe,CAACzgB,EAAKsf,GAAamB,IAAenB,GAAamB,GACrHzgB,EACJ2T,QAAS/b,EAAM+b,QACfnB,aAAc5a,EAAM4a,aACpB37C,SAA8HA,EAC9HrgB,OAAQohD,EAAMphD,OACdopE,YAAahoB,EAAMgoB,YACnBC,aAAcjoB,EAAMioB,aACpBC,YAAaloB,EAAMkoB,YACnBxhB,UAAW1G,EAAM0G,UAKjBY,UAAWuhB,GAAc7oB,EAAM5zC,OAASi7C,IAA0B,IAAfC,EAAmB,GAAiB,GAAZA,EAAiBA,EAC5F4O,aAAclW,EAAMkW,aACpB2E,gBAAiB7a,EAAM6a,gBACvB1a,WAAYH,EAAMG,WAClB+C,KAAMlD,EAAMkD,KACZ0D,aAKAD,UAAW3G,EAAM2G,UACjB+a,SAAU1hB,EAAM0hB,SAChB5a,UAAW9G,EAAM8G,WAAaU,GAAWxH,EAAM8G,WAC/CC,WAAY/G,EAAM+G,YAAcS,GAAWxH,EAAM+G,YACjDxD,GAAIvD,EAAMuD,GACVmX,OAAQ1a,EAAM0a,OACdjY,IAAKzC,EAAMyC,IACXsK,GAAI/M,EAAM+M,IAQZ,OANInG,GAAcmiB,GAChBtiB,EACE6hB,EACA1hB,EAAWN,MAAMgiB,IAGdA,CACT,CAQA,SAASY,GAAgBz7D,EAAO,IAAK07D,EAAO,GAC1C,OAAO3U,GAAYuG,GAAM,KAAMttD,EAAM07D,EACvC,CASA,SAASpR,GAAe74C,GACtB,OAAa,MAATA,GAAkC,mBAAVA,EACnBs1C,GAAYjN,KACV5pD,EAAAA,EAAAA,IAAQuhB,GACVs1C,GACLnN,GACA,KAEAnoC,EAAMzV,SAEC89D,GAAQroD,GACVq9C,GAAer9C,GAEfs1C,GAAYuG,GAAM,KAAMliB,OAAO35B,GAE1C,CACA,SAASq9C,GAAer9C,GACtB,OAAoB,OAAbA,EAAMqkC,KAAoC,IAArBrkC,EAAMooC,WAAoBpoC,EAAMkqD,KAAOlqD,EAAQsoC,GAAWtoC,EACxF,CACA,SAASipD,GAAkBnoB,EAAO/gC,GAChC,IAAI7S,EAAO,EACX,MAAM,UAAEs6C,GAAc1G,EACtB,GAAgB,MAAZ/gC,EACFA,EAAW,UACN,IAAIthB,EAAAA,EAAAA,IAAQshB,GACjB7S,EAAO,QACF,GAAwB,kBAAb6S,EAAuB,CACvC,GAAgB,GAAZynC,EAAsB,CACxB,MAAM2iB,EAAOpqD,EAASkyC,QAMtB,YALIkY,IACFA,EAAKttD,KAAOstD,EAAKpjD,IAAK,GACtBkiD,GAAkBnoB,EAAOqpB,KACzBA,EAAKttD,KAAOstD,EAAKpjD,IAAK,IAG1B,CAAO,CACL7Z,EAAO,GACP,MAAMk9D,EAAWrqD,EAASvN,EACrB43D,GAAanU,GAAiBl2C,GAEX,IAAbqqD,GAAkBlnB,IACc,IAArCA,EAAyBqK,MAAM/6C,EACjCuN,EAASvN,EAAI,GAEbuN,EAASvN,EAAI,EACbsuC,EAAMsH,WAAa,OANrBroC,EAASm5C,KAAOhW,CASpB,CACF,MAAWljD,EAAAA,EAAAA,IAAW+f,IACpBA,EAAW,CAAEkyC,QAASlyC,EAAUm5C,KAAMhW,GACtCh2C,EAAO,KAEP6S,EAAW45B,OAAO55B,GACF,GAAZynC,GACFt6C,EAAO,GACP6S,EAAW,CAACiqD,GAAgBjqD,KAE5B7S,EAAO,GAGX4zC,EAAM/gC,SAAWA,EACjB+gC,EAAM0G,WAAat6C,CACrB,CACA,SAAS68D,MAAcxlE,GACrB,MAAM0jD,EAAM,CAAC,EACb,IAAK,IAAIxkD,EAAI,EAAGA,EAAIc,EAAK3D,OAAQ6C,IAAK,CACpC,MAAM4mE,EAAU9lE,EAAKd,GACrB,IAAK,MAAMiG,KAAO2gE,EAChB,GAAY,UAAR3gE,EACEu+C,EAAI4V,QAAUwM,EAAQxM,QACxB5V,EAAI4V,OAAQ4L,EAAAA,EAAAA,IAAe,CAACxhB,EAAI4V,MAAOwM,EAAQxM,cAE5C,GAAY,UAARn0D,EACTu+C,EAAIvkB,OAAQgmC,EAAAA,EAAAA,IAAe,CAACzhB,EAAIvkB,MAAO2mC,EAAQ3mC,aAC1C,IAAIkjC,EAAAA,EAAAA,IAAKl9D,GAAM,CACpB,MAAMigD,EAAW1B,EAAIv+C,GACf4gE,EAAWD,EAAQ3gE,IACrB4gE,GAAY3gB,IAAa2gB,IAAc7rE,EAAAA,EAAAA,IAAQkrD,IAAaA,EAASzmD,SAASonE,KAChFriB,EAAIv+C,GAAOigD,EAAW,GAAG3vC,OAAO2vC,EAAU2gB,GAAYA,EAE1D,KAAmB,KAAR5gE,IACTu+C,EAAIv+C,GAAO2gE,EAAQ3gE,GAGzB,CACA,OAAOu+C,CACT,CACA,SAAS8U,GAAgB5Y,EAAMt3C,EAAUi0C,EAAOgD,EAAY,MAC1DnD,EAA2BwD,EAAMt3C,EAAU,EAAG,CAC5Ci0C,EACAgD,GAEJ,CAEA,MAAMymB,GAAkB9W,KACxB,IAAI7Q,GAAM,EACV,SAASgc,GAAwB9d,EAAOtpC,EAAQgrD,GAC9C,MAAMt1D,EAAO4zC,EAAM5zC,KACb+zC,GAAczpC,EAASA,EAAOypC,WAAaH,EAAMG,aAAespB,GAChE19D,EAAW,CACf+1C,IAAKA,KACL9B,QACA5zC,OACAsK,SACAypC,aACA0M,KAAM,KAENxhD,KAAM,KACNw7C,QAAS,KAETzJ,OAAQ,KACRiQ,OAAQ,KAERjO,IAAK,KACLL,MAAO,IAAIpO,EAAAA,IACT,GAGFkf,OAAQ,KACRrT,MAAO,KACPyU,QAAS,KACTyY,YAAa,KACb3D,UAAW,KACXlV,SAAUn6C,EAASA,EAAOm6C,SAAW/yD,OAAOkJ,OAAOm5C,EAAW0Q,UAC9DnJ,IAAKhxC,EAASA,EAAOgxC,IAAM,CAAC,GAAI,EAAG,GACnCmG,YAAa,KACbqU,YAAa,GAEb9R,WAAY,KACZC,WAAY,KAEZtC,aAAciJ,GAAsB5qD,EAAM+zC,GAC1CiW,aAAcuP,GAAsBv5D,EAAM+zC,GAE1C8M,KAAM,KAENyY,QAAS,KAETnQ,cAAevX,EAAAA,GAEfmS,aAAc/jD,EAAK+jD,aAEnB1N,IAAKzE,EAAAA,GACLh4C,KAAMg4C,EAAAA,GACNv4B,MAAOu4B,EAAAA,GACP1nC,MAAO0nC,EAAAA,GACPyO,MAAOzO,EAAAA,GACPsK,KAAMtK,EAAAA,GACNuK,WAAYvK,EAAAA,GACZ2rB,aAAc,KAEdjI,WACAsB,WAAYtB,EAAWA,EAASuB,UAAY,EAC5ChF,SAAU,KACVI,eAAe,EAGfva,WAAW,EACXjgB,aAAa,EACbkmB,eAAe,EACf6f,GAAI,KACJjZ,EAAG,KACHuO,GAAI,KACJ/tD,EAAG,KACHqtD,GAAI,KACJC,EAAG,KACHoE,GAAI,KACJD,IAAK,KACLiH,GAAI,KACJ3nB,EAAG,KACH4nB,IAAK,KACLC,IAAK,KACLvpB,GAAI,KACJwpB,GAAI,MAYN,OAPEj+D,EAAS02C,IAAM,CAAE/wC,EAAG3F,GAEtBA,EAAS8gD,KAAOn2C,EAASA,EAAOm2C,KAAO9gD,EACvCA,EAASkhD,KAAOA,GAAKppD,KAAK,KAAMkI,GAC5Bi0C,EAAM+M,IACR/M,EAAM+M,GAAGhhD,GAEJA,CACT,CACA,IAAI69C,GAAkB,KACtB,MAAMqgB,GAAqBA,IAAMrgB,IAAmBxH,EACpD,IAAI8nB,GACAC,GACJ,CACE,MAAMC,GAAIphB,EAAAA,EAAAA,MACJqhB,EAAuBA,CAACzhE,EAAKs0C,KACjC,IAAIotB,EAGJ,OAFMA,EAAUF,EAAExhE,MAAO0hE,EAAUF,EAAExhE,GAAO,IAC5C0hE,EAAQ3gE,KAAKuzC,GACLlG,IACFszB,EAAQxqE,OAAS,EAAGwqE,EAAQzkE,SAAS4E,GAAQA,EAAIusC,KAChDszB,EAAQ,GAAGtzB,EAAE,CACnB,EAEHkzB,GAA6BG,EAC3B,4BACCrzB,GAAM4S,GAAkB5S,IAE3BmzB,GAAqBE,EACnB,uBACCrzB,GAAM2T,GAAwB3T,GAEnC,CACA,MAAMwT,GAAsBz+C,IAC1B,MAAM4nC,EAAOiW,GAGb,OAFAsgB,GAA2Bn+D,GAC3BA,EAASgzC,MAAMl+B,KACR,KACL9U,EAASgzC,MAAMh+B,MACfmpD,GAA2Bv2B,EAAK,CACjC,EAEG42B,GAAuBA,KAC3B3gB,IAAmBA,GAAgB7K,MAAMh+B,MACzCmpD,GAA2B,KAAK,EAUlC,SAASje,GAAoBlgD,GAC3B,OAAkC,EAA3BA,EAASi0C,MAAM0G,SACxB,CACA,IAgHI8jB,GACAC,GAjHA9f,IAAwB,EAC5B,SAASqT,GAAejyD,EAAUmoC,GAAQ,EAAOyhB,GAAY,GAC3DzhB,GAASi2B,GAAmBj2B,GAC5B,MAAM,MAAEzuB,EAAK,SAAExG,GAAalT,EAASi0C,MAC/BsV,EAAarJ,GAAoBlgD,GACvCqpD,GAAUrpD,EAAU0Z,EAAO6vC,EAAYphB,GACvCqkB,GAAUxsD,EAAUkT,EAAU02C,GAC9B,MAAM+U,EAAcpV,EAAaqV,GAAuB5+D,EAAUmoC,QAAS,EAE3E,OADAA,GAASi2B,IAAmB,GACrBO,CACT,CACA,SAASC,GAAuB5+D,EAAUmoC,GAExC,MAAMwX,EAAY3/C,EAASK,KAuB3BL,EAAS8hD,YAA8B/vD,OAAOkJ,OAAO,MACrD+E,EAASywC,MAAQ,IAAIt0B,MAAMnc,EAAS02C,IAAKmL,IAIzC,MAAM,MAAEgd,GAAUlf,EAClB,GAAIkf,EAAO,EACTj2B,EAAAA,EAAAA,MACA,MAAMg1B,EAAe59D,EAAS49D,aAAeiB,EAAM9qE,OAAS,EAAI+qE,GAAmB9+D,GAAY,KACzFwE,EAAQi6C,GAAmBz+C,GAC3B2+D,EAAc9qB,EAClBgrB,EACA7+D,EACA,EACA,CACgFA,EAAS0Z,MACvFkkD,IAGEmB,GAAezrE,EAAAA,EAAAA,IAAUqrE,GAM/B,IALA91B,EAAAA,EAAAA,MACArkC,KACKu6D,IAAgB/+D,EAASi+D,IAAQhiB,EAAej8C,IACnD07C,EAAkB17C,GAEhB++D,EAAc,CAEhB,GADAJ,EAAY9mE,KAAK2mE,GAAsBA,IACnCr2B,EACF,OAAOw2B,EAAY9mE,MAAMmnE,IACvBC,GAAkBj/D,EAAUg/D,EAAgB72B,EAAM,IACjDhuC,OAAOtB,IACRurC,EAAYvrC,EAAGmH,EAAU,EAAE,IAG7BA,EAASkyD,SAAWyM,CAQxB,MACEM,GAAkBj/D,EAAU2+D,EAAax2B,EAE7C,MACE+2B,GAAqBl/D,EAAUmoC,EAEnC,CACA,SAAS82B,GAAkBj/D,EAAU2+D,EAAax2B,IAC5Ch1C,EAAAA,EAAAA,IAAWwrE,GACT3+D,EAASK,KAAK8+D,kBAChBn/D,EAASo/D,UAAYT,EAErB3+D,EAAS8jD,OAAS6a,GAEXtrE,EAAAA,EAAAA,IAASsrE,KASlB3+D,EAASw8C,YAAaxL,EAAAA,EAAAA,IAAU2tB,IASlCO,GAAqBl/D,EAAUmoC,EACjC,CAYA,SAAS+2B,GAAqBl/D,EAAUmoC,EAAOk3B,GAC7C,MAAM1f,EAAY3/C,EAASK,KAC3B,IAAKL,EAAS8jD,OAAQ,CACpB,IAAK3b,GAASs2B,KAAY9e,EAAUmE,OAAQ,CAC1C,MAAMwb,EAAW3f,EAAU2f,UAAmCle,GAAqBphD,GAAUs/D,SAC7F,GAAIA,EAAU,CACR,EAGJ,MAAM,gBAAEC,EAAe,gBAAEtY,GAAoBjnD,EAASo0C,WAAWthC,QAC3D,WAAE0sD,EAAYvY,gBAAiBwY,GAA6B9f,EAC5D+f,GAAuBpwB,EAAAA,EAAAA,KAC3BA,EAAAA,EAAAA,IACE,CACEiwB,kBACAC,cAEFvY,GAEFwY,GAEF9f,EAAUmE,OAAS2a,GAAQa,EAAUI,EAIvC,CACF,CACA1/D,EAAS8jD,OAASnE,EAAUmE,QAAUlR,EAAAA,GAClC8rB,IACFA,GAAiB1+D,EAErB,CACiC,CAC/B,MAAMwE,EAAQi6C,GAAmBz+C,IACjC4oC,EAAAA,EAAAA,MACA,IACE4Z,GAAaxiD,EACf,CAAE,SACA6oC,EAAAA,EAAAA,MACArkC,GACF,CACF,CAUF,CACA,MAAMm7D,GAcF,CACFhhE,GAAAA,CAAI9L,EAAQgK,GAEV,OADAmsC,EAAAA,EAAAA,IAAMn2C,EAAQ,MAAO,IACdA,EAAOgK,EAChB,GAUF,SAASiiE,GAAmB9+D,GAC1B,MAAMmkD,EAAUe,IAqBdllD,EAASklD,QAAUA,GAAW,CAAC,CAAC,EAkBhC,MAAO,CACL36C,MAAO,IAAI4R,MAAMnc,EAASuK,MAAOo1D,IACjCjf,MAAO1gD,EAAS0gD,MAChBQ,KAAMlhD,EAASkhD,KACfiD,SAGN,CACA,SAAS/H,GAA2Bp8C,GAClC,OAAIA,EAASklD,QACJllD,EAAS29D,cAAgB39D,EAAS29D,YAAc,IAAIxhD,OAAM60B,EAAAA,EAAAA,KAAUL,EAAAA,EAAAA,IAAQ3wC,EAASklD,UAAW,CACrGvmD,GAAAA,CAAI9L,EAAQgK,GACV,OAAIA,KAAOhK,EACFA,EAAOgK,GACLA,KAAOsjD,GACTA,GAAoBtjD,GAAKmD,QAD3B,CAGT,EACA3B,GAAAA,CAAIxL,EAAQgK,GACV,OAAOA,KAAOhK,GAAUgK,KAAOsjD,EACjC,KAGKngD,EAASywC,KAEpB,CAGA,SAASoP,GAAiBF,EAAWigB,GAAkB,GACrD,OAAOzsE,EAAAA,EAAAA,IAAWwsD,GAAaA,EAAUkgB,aAAelgB,EAAUlsD,KAAOksD,EAAUlsD,MAAQmsE,GAAmBjgB,EAAUmgB,MAC1H,CAuBA,SAAStD,GAAiB9pE,GACxB,OAAOS,EAAAA,EAAAA,IAAWT,IAAU,cAAeA,CAC7C,CAEA,MAAMq1C,GAAWA,CAACuJ,EAAiBC,KACjC,MAAMqT,GAAImb,EAAAA,EAAAA,IAAWzuB,EAAiBC,EAAcqN,IAOpD,OAAOgG,CAAC,EAoOV,MAAMxzD,GAAU,Q;;;;;;ACnsQhB,IAAI4uE,EACJ,MAAMC,EAAuB,qBAAX3uE,QAA0BA,OAAO4uE,aACnD,GAAID,EACF,IACED,EAAyBC,EAAGE,aAAa,MAAO,CAC9CC,WAAaz/B,GAAQA,GAEzB,CAAE,MAAO9nC,GAET,CAEF,MAAMwnE,EAAsBL,EAAUr/B,GAAQq/B,EAAOI,WAAWz/B,GAAQA,GAAQA,EAC1E2/B,EAAQ,6BACRC,EAAW,qCACXC,EAA0B,qBAAbjmE,SAA2BA,SAAW,KACnDkmE,EAAoBD,GAAuBA,EAAIhmE,cAAc,YAC7DkmE,EAAU,CACdtT,OAAQA,CAACj6C,EAAOxI,EAAQgkD,KACtBhkD,EAAOqpB,aAAa7gB,EAAOw7C,GAAU,KAAK,EAE5Czb,OAAS//B,IACP,MAAMxI,EAASwI,EAAMjH,WACjBvB,GACFA,EAAO7K,YAAYqT,EACrB,EAEF3Y,cAAeA,CAACmmE,EAAKpY,EAAWsH,EAAIn2C,KAClC,MAAM89B,EAAmB,QAAd+Q,EAAsBiY,EAAInlD,gBAAgBilD,EAAOK,GAAqB,WAAdpY,EAAyBiY,EAAInlD,gBAAgBklD,EAAUI,GAAO9Q,EAAK2Q,EAAIhmE,cAAcmmE,EAAK,CAAE9Q,OAAQ2Q,EAAIhmE,cAAcmmE,GAIzL,MAHY,WAARA,GAAoBjnD,GAA2B,MAAlBA,EAAMknD,UACrCppB,EAAG79B,aAAa,WAAYD,EAAMknD,UAE7BppB,CAAE,EAEXkW,WAAahsD,GAAS8+D,EAAIrvC,eAAezvB,GACzCwJ,cAAgBxJ,GAAS8+D,EAAIt1D,cAAcxJ,GAC3CmsD,QAASA,CAACp0C,EAAM/X,KACd+X,EAAKonD,UAAYn/D,CAAI,EAEvBqsD,eAAgBA,CAACvW,EAAI91C,KACnB81C,EAAG5vC,YAAclG,CAAI,EAEvBwK,WAAauN,GAASA,EAAKvN,WAC3BgiD,YAAcz0C,GAASA,EAAKy0C,YAC5Bt8C,cAAgB/L,GAAa26D,EAAI5uD,cAAc/L,GAC/CuoD,UAAAA,CAAW5W,EAAI7gB,GACb6gB,EAAG79B,aAAagd,EAAI,GACtB,EAKA23B,mBAAAA,CAAoBwS,EAASn2D,EAAQgkD,EAAQpG,EAAW/9B,EAAO2qB,GAC7D,MAAM4rB,EAASpS,EAASA,EAAOqS,gBAAkBr2D,EAAOs2D,UACxD,GAAIz2C,IAAUA,IAAU2qB,GAAO3qB,EAAM0jC,cACnC,MAAO,EAEL,GADAvjD,EAAOqpB,aAAaxJ,EAAMmK,WAAU,GAAOg6B,GACvCnkC,IAAU2qB,KAAS3qB,EAAQA,EAAM0jC,aAAc,UAEhD,CACLuS,EAAkBvpC,UAAYmpC,EACd,QAAd9X,EAAsB,QAAQuY,UAAgC,WAAdvY,EAAyB,SAASuY,WAAmBA,GAEvG,MAAMxB,EAAWmB,EAAkBK,QACnC,GAAkB,QAAdvY,GAAqC,WAAdA,EAAwB,CACjD,MAAM2Y,EAAU5B,EAASz/D,WACzB,MAAOqhE,EAAQrhE,WACby/D,EAASnzD,YAAY+0D,EAAQrhE,YAE/By/D,EAASx/D,YAAYohE,EACvB,CACAv2D,EAAOqpB,aAAasrC,EAAU3Q,EAChC,CACA,MAAO,CAELoS,EAASA,EAAO7S,YAAcvjD,EAAO9K,WAErC8uD,EAASA,EAAOqS,gBAAkBr2D,EAAOs2D,UAE7C,GAKIE,EAAS/kD,OAAO,QAChBglD,EAA+B,CACnC3tE,KAAMq5C,OACNzsC,KAAMysC,OACNlK,IAAK,CACHviC,KAAMqgB,QACN0kC,SAAS,GAEXic,SAAU,CAACv0B,OAAQrsB,OAAQ1uB,QAC3BuvE,eAAgBx0B,OAChBy0B,iBAAkBz0B,OAClB00B,aAAc10B,OACd20B,gBAAiB30B,OACjB40B,kBAAmB50B,OACnB60B,cAAe70B,OACf80B,eAAgB90B,OAChB+0B,iBAAkB/0B,OAClBg1B,aAAch1B,QAIdwL,EAAAA,GAiQF,SAASypB,EAAWvqB,EAAI9kD,EAAOsvE,GAC7B,MAAMC,EAAoBzqB,EAAG2pB,GACzBc,IACFvvE,GAASA,EAAQ,CAACA,KAAUuvE,GAAqB,IAAIA,IAAoB/oE,KAAK,MAEnE,MAATxG,EACF8kD,EAAG/T,gBAAgB,SACVu+B,EACTxqB,EAAG79B,aAAa,QAASjnB,GAEzB8kD,EAAG0qB,UAAYxvE,CAEnB,CAEA,MAAMyvE,EAAuB/lD,OAAO,QAC9BgmD,EAAchmD,OAAO,QAkD3B,MAAMimD,EAAejmD,OAAoE,IAwEzF,MAAMkmD,EAAY,sBAClB,SAASC,EAAW/qB,EAAI5P,EAAMtoC,GAC5B,MAAMu3B,EAAQ2gB,EAAG3gB,MACX2rC,GAAcxvE,EAAAA,EAAAA,IAASsM,GAC7B,IAAImjE,GAAuB,EAC3B,GAAInjE,IAASkjE,EAAa,CACxB,GAAI56B,EACF,IAAK50C,EAAAA,EAAAA,IAAS40C,GAOZ,IAAK,MAAM86B,KAAa96B,EAAKzxC,MAAM,KAAM,CACvC,MAAM0G,EAAM6lE,EAAUhlE,MAAM,EAAGglE,EAAUhvE,QAAQ,MAAMuJ,OACtC,MAAbqC,EAAKzC,IACP8lE,EAAS9rC,EAAOh6B,EAAK,GAEzB,MAXA,IAAK,MAAMA,KAAO+qC,EACC,MAAbtoC,EAAKzC,IACP8lE,EAAS9rC,EAAOh6B,EAAK,IAY7B,IAAK,MAAMA,KAAOyC,EACJ,YAARzC,IACF4lE,GAAuB,GAEzBE,EAAS9rC,EAAOh6B,EAAKyC,EAAKzC,GAE9B,MACE,GAAI2lE,GACF,GAAI56B,IAAStoC,EAAM,CACjB,MAAMsjE,EAAa/rC,EAAMwrC,GACrBO,IACFtjE,GAAQ,IAAMsjE,GAEhB/rC,EAAMvzB,QAAUhE,EAChBmjE,EAAuBH,EAAUtuE,KAAKsL,EACxC,OACSsoC,GACT4P,EAAG/T,gBAAgB,SAGnB0+B,KAAwB3qB,IAC1BA,EAAG2qB,GAAwBM,EAAuB5rC,EAAMgsC,QAAU,GAC9DrrB,EAAG4qB,KACLvrC,EAAMgsC,QAAU,QAGtB,CACA,MACMC,EAAc,iBACpB,SAASH,EAAS9rC,EAAOpjC,EAAMktC,GAC7B,IAAI/uC,EAAAA,EAAAA,IAAQ+uC,GACVA,EAAI7mC,SAASmxC,GAAM03B,EAAS9rC,EAAOpjC,EAAMw3C,UAUzC,GARW,MAAPtK,IAAaA,EAAM,IAQnBltC,EAAKmC,WAAW,MAClBihC,EAAMksC,YAAYtvE,EAAMktC,OACnB,CACL,MAAMqiC,EAAWC,EAAWpsC,EAAOpjC,GAC/BqvE,EAAY9uE,KAAK2sC,GACnB9J,EAAMksC,aACJ/Y,EAAAA,EAAAA,IAAUgZ,GACVriC,EAAI5nC,QAAQ+pE,EAAa,IACzB,aAGFjsC,EAAMmsC,GAAYriC,CAEtB,CAEJ,CACA,MAAMuiC,EAAW,CAAC,SAAU,MAAO,MAC7BC,EAAc,CAAC,EACrB,SAASF,EAAWpsC,EAAOusC,GACzB,MAAMvd,EAASsd,EAAYC,GAC3B,GAAIvd,EACF,OAAOA,EAET,IAAIpyD,GAAOqsD,EAAAA,EAAAA,IAASsjB,GACpB,GAAa,WAAT3vE,GAAqBA,KAAQojC,EAC/B,OAAOssC,EAAYC,GAAW3vE,EAEhCA,GAAOssD,EAAAA,EAAAA,IAAWtsD,GAClB,IAAK,IAAImD,EAAI,EAAGA,EAAIssE,EAASnvE,OAAQ6C,IAAK,CACxC,MAAMosE,EAAWE,EAAStsE,GAAKnD,EAC/B,GAAIuvE,KAAYnsC,EACd,OAAOssC,EAAYC,GAAWJ,CAElC,CACA,OAAOI,CACT,CAEA,MAAMC,EAAU,+BAChB,SAASC,EAAU9rB,EAAI36C,EAAKnK,EAAOsvE,EAAOhiE,EAAU/M,GAAYswE,EAAAA,EAAAA,IAAqB1mE,IAC/EmlE,GAASnlE,EAAIjH,WAAW,UACb,MAATlD,EACF8kD,EAAGgsB,kBAAkBH,EAASxmE,EAAIa,MAAM,EAAGb,EAAI9I,SAE/CyjD,EAAGisB,eAAeJ,EAASxmE,EAAKnK,GAGrB,MAATA,GAAiBO,KAAcywE,EAAAA,EAAAA,IAAmBhxE,GACpD8kD,EAAG/T,gBAAgB5mC,GAEnB26C,EAAG79B,aACD9c,EACA5J,EAAY,IAAKg3C,EAAAA,EAAAA,IAASv3C,GAASo6C,OAAOp6C,GAASA,EAI3D,CAEA,SAASixE,EAAansB,EAAI36C,EAAKnK,EAAOk8D,EAAiBgV,GACrD,GAAY,cAAR/mE,GAA+B,gBAARA,EAIzB,YAHa,MAATnK,IACF8kD,EAAG36C,GAAe,cAARA,EAAsBwjE,EAAoB3tE,GAASA,IAIjE,MAAMiuE,EAAMnpB,EAAGhjD,QACf,GAAY,UAARqI,GAA2B,aAAR8jE,IACtBA,EAAItqE,SAAS,KAAM,CAClB,MAAMqzC,EAAmB,WAARi3B,EAAmBnpB,EAAG1sC,aAAa,UAAY,GAAK0sC,EAAG9kD,MAClE+2C,EAAoB,MAAT/2C,EAGH,aAAZ8kD,EAAGn3C,KAAsB,KAAO,GAC9BysC,OAAOp6C,GAQX,OAPIg3C,IAAaD,GAAc,WAAY+N,IACzCA,EAAG9kD,MAAQ+2C,GAEA,MAAT/2C,GACF8kD,EAAG/T,gBAAgB5mC,QAErB26C,EAAGnP,OAAS31C,EAEd,CACA,IAAImxE,GAAa,EACjB,GAAc,KAAVnxE,GAAyB,MAATA,EAAe,CACjC,MAAM2N,SAAcm3C,EAAG36C,GACV,YAATwD,EACF3N,GAAQgxE,EAAAA,EAAAA,IAAmBhxE,GACT,MAATA,GAA0B,WAAT2N,GAC1B3N,EAAQ,GACRmxE,GAAa,GACK,WAATxjE,IACT3N,EAAQ,EACRmxE,GAAa,EAEjB,CACA,IACErsB,EAAG36C,GAAOnK,CACZ,CAAE,MAAOmG,GACH,CAMN,CACAgrE,GAAcrsB,EAAG/T,gBAAgBmgC,GAAY/mE,EAC/C,CAEA,SAASkb,EAAiBy/B,EAAI/2C,EAAOrC,EAAS7B,GAC5Ci7C,EAAGz/B,iBAAiBtX,EAAOrC,EAAS7B,EACtC,CACA,SAASsb,EAAoB2/B,EAAI/2C,EAAOrC,EAAS7B,GAC/Ci7C,EAAG3/B,oBAAoBpX,EAAOrC,EAAS7B,EACzC,CACA,MAAMunE,EAAS1nD,OAAO,QACtB,SAAS2nD,EAAWvsB,EAAI4rB,EAASY,EAAWC,EAAWjkE,EAAW,MAChE,MAAMkkE,EAAW1sB,EAAGssB,KAAYtsB,EAAGssB,GAAU,CAAC,GACxCK,EAAkBD,EAASd,GACjC,GAAIa,GAAaE,EACfA,EAAgBzxE,MAA6FuxE,MACxG,CACL,MAAOxwE,EAAM8I,GAAW6nE,EAAUhB,GAClC,GAAIa,EAAW,CACb,MAAMI,EAAUH,EAASd,GAAWkB,EACmDL,EACrFjkE,GAEF+X,EAAiBy/B,EAAI/jD,EAAM4wE,EAAS9nE,EACtC,MAAW4nE,IACTtsD,EAAoB2/B,EAAI/jD,EAAM0wE,EAAiB5nE,GAC/C2nE,EAASd,QAAW,EAExB,CACF,CACA,MAAMmB,EAAoB,4BAC1B,SAASH,EAAU3wE,GACjB,IAAI8I,EACJ,GAAIgoE,EAAkBvwE,KAAKP,GAAO,CAEhC,IAAI2R,EADJ7I,EAAU,CAAC,EAEX,MAAO6I,EAAI3R,EAAKiP,MAAM6hE,GACpB9wE,EAAOA,EAAKiK,MAAM,EAAGjK,EAAKM,OAASqR,EAAE,GAAGrR,QACxCwI,EAAQ6I,EAAE,GAAG8+B,gBAAiB,CAElC,CACA,MAAMzjC,EAAoB,MAAZhN,EAAK,GAAaA,EAAKiK,MAAM,IAAKssD,EAAAA,EAAAA,IAAUv2D,EAAKiK,MAAM,IACrE,MAAO,CAAC+C,EAAOlE,EACjB,CACA,IAAIioE,EAAY,EAChB,MAAMzqE,EAAoBpC,QAAQC,UAC5B6sE,EAASA,IAAMD,IAAczqE,EAAElC,MAAK,IAAM2sE,EAAY,IAAIA,EAAYppE,KAAKC,OACjF,SAASipE,EAAcI,EAAc1kE,GACnC,MAAMqkE,EAAWxrE,IACf,GAAKA,EAAE8rE,MAEA,GAAI9rE,EAAE8rE,MAAQN,EAAQO,SAC3B,YAFA/rE,EAAE8rE,KAAOvpE,KAAKC,OAIhBy4C,EAAAA,EAAAA,IACE+wB,EAA8BhsE,EAAGwrE,EAAQ3xE,OACzCsN,EACA,EACA,CAACnH,GACF,EAIH,OAFAwrE,EAAQ3xE,MAAQgyE,EAChBL,EAAQO,SAAWH,IACZJ,CACT,CAWA,SAASQ,EAA8BhsE,EAAGnG,GACxC,IAAId,EAAAA,EAAAA,IAAQc,GAAQ,CAClB,MAAMoyE,EAAejsE,EAAEksE,yBAKvB,OAJAlsE,EAAEksE,yBAA2B,KAC3BD,EAAanyE,KAAKkG,GAClBA,EAAEmsE,UAAW,CAAI,EAEZtyE,EAAMkZ,KACVnU,GAAQg9D,IAAQA,EAAGuQ,UAAYvtE,GAAMA,EAAGg9D,IAE7C,CACE,OAAO/hE,CAEX,CAEA,MAAMuyE,EAAcpoE,GAA8B,MAAtBA,EAAIqoE,WAAW,IAAoC,MAAtBroE,EAAIqoE,WAAW,IACxEroE,EAAIqoE,WAAW,GAAK,IAAMroE,EAAIqoE,WAAW,GAAK,IACxC3X,EAAYA,CAAC/V,EAAI36C,EAAKmnE,EAAWC,EAAW1b,EAAWqG,KAC3D,MAAMoT,EAAsB,QAAdzZ,EACF,UAAR1rD,EACFklE,EAAWvqB,EAAIysB,EAAWjC,GACT,UAARnlE,EACT0lE,EAAW/qB,EAAIwsB,EAAWC,IACjBlK,EAAAA,EAAAA,IAAKl9D,IACTu8D,EAAAA,EAAAA,IAAgBv8D,IACnBknE,EAAWvsB,EAAI36C,EAAKmnE,EAAWC,EAAWrV,IAExB,MAAX/xD,EAAI,IAAcA,EAAMA,EAAIa,MAAM,GAAI,GAAmB,MAAXb,EAAI,IAAcA,EAAMA,EAAIa,MAAM,GAAI,GAASynE,EAAgB3tB,EAAI36C,EAAKonE,EAAWjC,KAC1I2B,EAAansB,EAAI36C,EAAKonE,GACjBzsB,EAAGhjD,QAAQ6B,SAAS,MAAiB,UAARwG,GAA2B,YAARA,GAA6B,aAARA,GACxEymE,EAAU9rB,EAAI36C,EAAKonE,EAAWjC,EAAOpT,EAAyB,UAAR/xD,KAIxD26C,EAAG4tB,WAAa,QAAQpxE,KAAK6I,KAAS7J,EAAAA,EAAAA,IAASixE,IAInC,eAARpnE,EACF26C,EAAG6tB,WAAapB,EACC,gBAARpnE,IACT26C,EAAG8tB,YAAcrB,GAEnBX,EAAU9rB,EAAI36C,EAAKonE,EAAWjC,IAP9B2B,EAAansB,GAAI+tB,EAAAA,EAAAA,IAAW1oE,GAAMonE,EAAWrV,EAAiB/xD,EAQhE,EAEF,SAASsoE,EAAgB3tB,EAAI36C,EAAKnK,EAAOsvE,GACvC,GAAIA,EACF,MAAY,cAARnlE,GAA+B,gBAARA,MAGvBA,KAAO26C,GAAMytB,EAAWpoE,KAAQ1J,EAAAA,EAAAA,IAAWT,IAKjD,GAAY,eAARmK,GAAgC,cAARA,GAA+B,cAARA,EACjD,OAAO,EAET,GAAY,SAARA,EACF,OAAO,EAET,GAAY,SAARA,GAAiC,UAAf26C,EAAGhjD,QACvB,OAAO,EAET,GAAY,SAARqI,GAAiC,aAAf26C,EAAGhjD,QACvB,OAAO,EAET,GAAY,UAARqI,GAA2B,WAARA,EAAkB,CACvC,MAAM8jE,EAAMnpB,EAAGhjD,QACf,GAAY,QAARmsE,GAAyB,UAARA,GAA2B,WAARA,GAA4B,WAARA,EAC1D,OAAO,CAEX,CACA,QAAIsE,EAAWpoE,MAAQ7J,EAAAA,EAAAA,IAASN,KAGzBmK,KAAO26C,CAChB;;AAoByC,qBAAhBlZ,aAA8BA,YAoarCliB,OAAO,WACNA,OAAO,YAoJRA,OAAO,WA0QzB,MAkDMopD,GAAkCl2B,EAAAA,EAAAA,IAAO,CAAEie,aAAamT,GAC9D,IAAI1O,EAEJ,SAASyT,IACP,OAAOzT,IAAaA,GAAWhF,EAAAA,EAAAA,IAAewY,GAChD,CAMA,MAMM7N,EAAYA,IAAIjgE,KACpB,MAAM0J,EAAMqkE,IAAiB9N,aAAajgE,GAK1C,MAAM,MAAEo2B,GAAU1sB,EAkBlB,OAjBAA,EAAI0sB,MAAS43C,IACX,MAAM5kE,EAAY6kE,EAAmBD,GACrC,IAAK5kE,EAAW,OAChB,MAAM85C,EAAYx5C,EAAIymD,YACjB10D,EAAAA,EAAAA,IAAWynD,IAAeA,EAAUkJ,QAAWlJ,EAAU0kB,WAC5D1kB,EAAU0kB,SAAWx+D,EAAUo2B,WAEN,IAAvBp2B,EAAUnM,WACZmM,EAAU8G,YAAc,IAE1B,MAAM6oC,EAAQ3iB,EAAMhtB,GAAW,EAAO8kE,EAAqB9kE,IAK3D,OAJIA,aAAqBvM,UACvBuM,EAAU2iC,gBAAgB,WAC1B3iC,EAAU6Y,aAAa,aAAc,KAEhC82B,CAAK,EAEPrvC,CAAG,EAiBZ,SAASwkE,EAAqB9kE,GAC5B,OAAIA,aAAqB+kE,WAChB,MAEoB,oBAAlBC,eAAgChlE,aAAqBglE,cACvD,cADT,CAGF,CAoCA,SAASH,EAAmB7kE,GAC1B,IAAI9N,EAAAA,EAAAA,IAAS8N,GAAY,CACvB,MAAM9G,EAAMO,SAASqX,cAAc9Q,GAMnC,OAAO9G,CACT,CAMA,OAAO8G,CACT,C;;;;;;;AClzDA,SAAS8rC,EAAQ1vC,GACf,MAAM0O,EAAsB7Z,OAAOkJ,OAAO,MAC1C,IAAK,MAAM4B,KAAOK,EAAI/G,MAAM,KAAMyV,EAAI/O,GAAO,EAC7C,OAAQ8jC,GAAQA,KAAO/0B,CACzB,CAEA,MAAMqmC,EAA4E,CAAC,EAC7EqZ,EAA4E,GAC5E1Y,EAAOA,OAEPkU,EAAKA,KAAM,EACXiT,EAAQl9D,GAA8B,MAAtBA,EAAIqoE,WAAW,IAAoC,MAAtBroE,EAAIqoE,WAAW,KACjEroE,EAAIqoE,WAAW,GAAK,KAAOroE,EAAIqoE,WAAW,GAAK,IAC1C9L,EAAmBv8D,GAAQA,EAAIjH,WAAW,aAC1C05C,EAASv9C,OAAOD,OAChBohD,EAASA,CAACzI,EAAK+M,KACnB,MAAM5gD,EAAI6zC,EAAI/2C,QAAQ8jD,GAClB5gD,GAAK,GACP6zC,EAAIiB,OAAO90C,EAAG,EAChB,EAEIpE,EAAiBT,OAAOM,UAAUG,eAClCy7C,EAASA,CAACtN,EAAK9jC,IAAQrK,EAAeG,KAAKguC,EAAK9jC,GAChDjL,EAAUC,MAAMD,QAChBs4C,EAASvJ,GAA8B,iBAAtBluC,EAAakuC,GAC9B+S,EAAS/S,GAA8B,iBAAtBluC,EAAakuC,GAC9BolC,EAAUplC,GAA8B,kBAAtBluC,EAAakuC,GAC/B6c,EAAY7c,GAA8B,oBAAtBluC,EAAakuC,GACjCxtC,EAAcwtC,GAAuB,oBAARA,EAC7B3tC,EAAY2tC,GAAuB,kBAARA,EAC3BsJ,EAAYtJ,GAAuB,kBAARA,EAC3BttC,EAAYstC,GAAgB,OAARA,GAA+B,kBAARA,EAC3CrtC,EAAaqtC,IACTttC,EAASstC,IAAQxtC,EAAWwtC,KAASxtC,EAAWwtC,EAAI9oC,OAAS1E,EAAWwtC,EAAIxmC,OAEhF6rE,EAAiBj0E,OAAOM,UAAUC,SAClCG,EAAgBC,GAAUszE,EAAerzE,KAAKD,GAC9Cu9C,EAAav9C,GACVD,EAAaC,GAAOgL,MAAM,GAAI,GAEjCtK,EAAiButC,GAA8B,oBAAtBluC,EAAakuC,GACtCmJ,EAAgBjtC,GAAQ7J,EAAS6J,IAAgB,QAARA,GAA4B,MAAXA,EAAI,IAAc,GAAKlG,SAASkG,EAAK,MAAQA,EACvG4tD,EAAiC7d,EAErC,uIAKIq5B,EAAuBxuE,IAC3B,MAAMyK,EAAwBnQ,OAAOkJ,OAAO,MAC5C,OAAQiC,IACN,MAAMgpE,EAAMhkE,EAAMhF,GAClB,OAAOgpE,IAAQhkE,EAAMhF,GAAOzF,EAAGyF,GAAK,CACrC,EAEGipE,EAAa,SACbrmB,EAAWmmB,GACd/oE,GACQA,EAAInE,QAAQotE,GAAY,CAACxgE,EAAGi/C,IAAMA,EAAIA,EAAEpvD,cAAgB,OAG7D4wE,EAAc,aACdpc,EAAYic,GACf/oE,GAAQA,EAAInE,QAAQqtE,EAAa,OAAOliC,gBAErC6b,EAAakmB,GAAqB/oE,GAC/BA,EAAIyH,OAAO,GAAGnP,cAAgB0H,EAAIQ,MAAM,KAE3C+7D,EAAewM,GAClB/oE,IACC,MAAM5C,EAAI4C,EAAM,KAAK6iD,EAAW7iD,KAAS,GACzC,OAAO5C,CAAC,IAGNguC,EAAaA,CAAC51C,EAAOg3C,KAAc33C,OAAO89D,GAAGn9D,EAAOg3C,GACpDopB,EAAiBA,CAACuT,KAAQC,KAC9B,IAAK,IAAI1vE,EAAI,EAAGA,EAAIyvE,EAAItyE,OAAQ6C,IAC9ByvE,EAAIzvE,MAAM0vE,EACZ,EAEI11B,EAAMA,CAAC7D,EAAKlwC,EAAKnK,EAAO+lB,GAAW,KACvC1mB,OAAOE,eAAe86C,EAAKlwC,EAAK,CAC9BuV,cAAc,EACdoG,YAAY,EACZC,WACA/lB,SACA,EAEE8mE,EAAiB74B,IACrB,MAAM6gB,EAAI+kB,WAAW5lC,GACrB,OAAOW,MAAMkgB,GAAK7gB,EAAM6gB,CAAC,EAErBglB,EAAY7lC,IAChB,MAAM6gB,EAAIxuD,EAAS2tC,GAAOlgB,OAAOkgB,GAAO8lC,IACxC,OAAOnlC,MAAMkgB,GAAK7gB,EAAM6gB,CAAC,EAE3B,IAAIklB,EACJ,MAAMzpB,EAAgBA,IACbypB,IAAgBA,EAAoC,qBAAfn1E,WAA6BA,WAA6B,qBAATE,KAAuBA,KAAyB,qBAAXH,OAAyBA,OAA2B,qBAAXE,EAAAA,EAAyBA,EAAAA,EAAS,CAAC,GAahN,MAsFMm1E,EAAkB,wNAClBC,EAAoCh6B,EAAQ+5B,GA6ClD,SAAS9J,EAAenqE,GACtB,GAAId,EAAQc,GAAQ,CAClB,MAAMsH,EAAM,CAAC,EACb,IAAK,IAAIpD,EAAI,EAAGA,EAAIlE,EAAMqB,OAAQ6C,IAAK,CACrC,MAAMmE,EAAOrI,EAAMkE,GACb2rD,EAAavvD,EAAS+H,GAAQ8rE,EAAiB9rE,GAAQ8hE,EAAe9hE,GAC5E,GAAIwnD,EACF,IAAK,MAAM1lD,KAAO0lD,EAChBvoD,EAAI6C,GAAO0lD,EAAW1lD,EAG5B,CACA,OAAO7C,CACT,CAAO,GAAIhH,EAASN,IAAUW,EAASX,GACrC,OAAOA,CAEX,CACA,MAAMo0E,EAAkB,gBAClBC,EAAsB,UACtBC,EAAiB,iBACvB,SAASH,EAAiBvjE,GACxB,MAAM83C,EAAM,CAAC,EAOb,OANA93C,EAAQvK,QAAQiuE,EAAgB,IAAI7wE,MAAM2wE,GAAiBhtE,SAASiB,IAClE,GAAIA,EAAM,CACR,MAAMksE,EAAMlsE,EAAK5E,MAAM4wE,GACvBE,EAAIlzE,OAAS,IAAMqnD,EAAI6rB,EAAI,GAAGhqE,QAAUgqE,EAAI,GAAGhqE,OACjD,KAEKm+C,CACT,CAcA,SAASwhB,EAAelqE,GACtB,IAAIsH,EAAM,GACV,GAAIhH,EAASN,GACXsH,EAAMtH,OACD,GAAId,EAAQc,GACjB,IAAK,IAAIkE,EAAI,EAAGA,EAAIlE,EAAMqB,OAAQ6C,IAAK,CACrC,MAAM2rD,EAAaqa,EAAelqE,EAAMkE,IACpC2rD,IACFvoD,GAAOuoD,EAAa,IAExB,MACK,GAAIlvD,EAASX,GAClB,IAAK,MAAMe,KAAQf,EACbA,EAAMe,KACRuG,GAAOvG,EAAO,KAIpB,OAAOuG,EAAIiD,MACb,CAaA,MASMiqE,EAAsB,8EACtB3D,EAAuC32B,EAAQs6B,GAIrD,SAASxD,GAAmBhxE,GAC1B,QAASA,GAAmB,KAAVA,CACpB,CAuFA,SAASy0E,GAAmBhxB,EAAGC,GAC7B,GAAID,EAAEpiD,SAAWqiD,EAAEriD,OAAQ,OAAO,EAClC,IAAIqzE,GAAQ,EACZ,IAAK,IAAIxwE,EAAI,EAAGwwE,GAASxwE,EAAIu/C,EAAEpiD,OAAQ6C,IACrCwwE,EAAQC,GAAWlxB,EAAEv/C,GAAIw/C,EAAEx/C,IAE7B,OAAOwwE,CACT,CACA,SAASC,GAAWlxB,EAAGC,GACrB,GAAID,IAAMC,EAAG,OAAO,EACpB,IAAIkxB,EAAavB,EAAO5vB,GACpBoxB,EAAaxB,EAAO3vB,GACxB,GAAIkxB,GAAcC,EAChB,SAAOD,IAAcC,IAAapxB,EAAEqxB,YAAcpxB,EAAEoxB,UAItD,GAFAF,EAAar9B,EAASkM,GACtBoxB,EAAat9B,EAASmM,GAClBkxB,GAAcC,EAChB,OAAOpxB,IAAMC,EAIf,GAFAkxB,EAAa11E,EAAQukD,GACrBoxB,EAAa31E,EAAQwkD,GACjBkxB,GAAcC,EAChB,SAAOD,IAAcC,IAAaJ,GAAmBhxB,EAAGC,GAI1D,GAFAkxB,EAAaj0E,EAAS8iD,GACtBoxB,EAAal0E,EAAS+iD,GAClBkxB,GAAcC,EAAY,CAC5B,IAAKD,IAAeC,EAClB,OAAO,EAET,MAAME,EAAa11E,OAAOwO,KAAK41C,GAAGpiD,OAC5B2zE,EAAa31E,OAAOwO,KAAK61C,GAAGriD,OAClC,GAAI0zE,IAAeC,EACjB,OAAO,EAET,IAAK,MAAM7qE,KAAOs5C,EAAG,CACnB,MAAMwxB,EAAUxxB,EAAE3jD,eAAeqK,GAC3B+qE,EAAUxxB,EAAE5jD,eAAeqK,GACjC,GAAI8qE,IAAYC,IAAYD,GAAWC,IAAYP,GAAWlxB,EAAEt5C,GAAMu5C,EAAEv5C,IACtE,OAAO,CAEX,CACF,CACA,OAAOiwC,OAAOqJ,KAAOrJ,OAAOsJ,EAC9B,CACA,SAASyxB,GAAap9B,EAAK9J,GACzB,OAAO8J,EAAIU,WAAWpwC,GAASssE,GAAWtsE,EAAM4lC,IAClD,C,oBCzdAmnC,EAAQ,EAAU,CAACC,EAAKruD,KACpB,MAAM7mB,EAASk1E,EAAItL,WAAasL,EAChC,IAAK,MAAOlrE,EAAK8jC,KAAQjnB,EACrB7mB,EAAOgK,GAAO8jC,EAElB,OAAO9tC,CAAM,C,uBCRjB,IAAIm1E,EAAa,EAAQ,MACrBC,EAAc,EAAQ,MAEtBC,EAAa1xE,UAGjBuX,EAAO+5D,QAAU,SAAUK,GACzB,GAAIH,EAAWG,GAAW,OAAOA,EACjC,MAAM,IAAID,EAAWD,EAAYE,GAAY,qBAC/C,C,uBCTA,IAAI9pE,EAAM,YAGV0P,EAAO+5D,QAAU,SAAUM,GAEzB,OADA/pE,EAAI+pE,GACGA,CACT,C,uBCNA,IAAIC,EAAkB,EAAQ,MAC1BptE,EAAS,EAAQ,MACjBhJ,EAAiB,SAEjBq2E,EAAcD,EAAgB,eAC9BE,EAAiB12E,MAAMQ,eAISS,IAAhCy1E,EAAeD,IACjBr2E,EAAes2E,EAAgBD,EAAa,CAC1Cl2D,cAAc,EACd1f,MAAOuI,EAAO,QAKlB8S,EAAO+5D,QAAU,SAAUjrE,GACzB0rE,EAAeD,GAAazrE,IAAO,CACrC,C,uBCnBA,IAAI2rE,EAAgB,EAAQ,MAExBN,EAAa1xE,UAEjBuX,EAAO+5D,QAAU,SAAUM,EAAIK,GAC7B,GAAID,EAAcC,EAAWL,GAAK,OAAOA,EACzC,MAAM,IAAIF,EAAW,uBACvB,C,uBCPA,IAAI70E,EAAW,EAAQ,MAEnBq1E,EAAU57B,OACVo7B,EAAa1xE,UAGjBuX,EAAO+5D,QAAU,SAAUK,GACzB,GAAI90E,EAAS80E,GAAW,OAAOA,EAC/B,MAAM,IAAID,EAAWQ,EAAQP,GAAY,oBAC3C,C,uBCTA,IAAIQ,EAAoB,EAAQ,MAEhC56D,EAAO+5D,QAAU,SAAUc,EAAarqE,EAAMsqE,GAC5C,IAAI3uE,EAAQ,EACRnG,EAASi3C,UAAUj3C,OAAS,EAAI80E,EAAUF,EAAkBpqE,GAC5D5I,EAAS,IAAIizE,EAAY70E,GAC7B,MAAOA,EAASmG,EAAOvE,EAAOuE,GAASqE,EAAKrE,KAC5C,OAAOvE,CACT,C,sBCRA,IAAImzE,EAAkB,EAAQ,MAC1BC,EAAkB,EAAQ,MAC1BJ,EAAoB,EAAQ,MAG5BK,EAAe,SAAUC,GAC3B,OAAO,SAAUC,EAAO1xB,EAAIjhD,GAC1B,IAAIE,EAAIqyE,EAAgBI,GACpBn1E,EAAS40E,EAAkBlyE,GAC/B,GAAe,IAAX1C,EAAc,OAAQk1E,IAAgB,EAC1C,IACIv2E,EADAwH,EAAQ6uE,EAAgBxyE,EAAWxC,GAIvC,GAAIk1E,GAAezxB,IAAOA,GAAI,MAAOzjD,EAASmG,EAG5C,GAFAxH,EAAQ+D,EAAEyD,KAENxH,IAAUA,EAAO,OAAO,OAEvB,KAAMqB,EAASmG,EAAOA,IAC3B,IAAK+uE,GAAe/uE,KAASzD,IAAMA,EAAEyD,KAAWs9C,EAAI,OAAOyxB,GAAe/uE,GAAS,EACnF,OAAQ+uE,IAAgB,CAC5B,CACF,EAEAl7D,EAAO+5D,QAAU,CAGfzxE,SAAU2yE,GAAa,GAGvBt1E,QAASs1E,GAAa,G,uBC/BxB,IAAIG,EAAc,EAAQ,MACtBv3E,EAAU,EAAQ,MAElBs2E,EAAa1xE,UAEb2b,EAA2BpgB,OAAOogB,yBAGlCi3D,EAAoCD,IAAgB,WAEtD,QAAar2E,IAATkI,KAAoB,OAAO,EAC/B,IAEEjJ,OAAOE,eAAe,GAAI,SAAU,CAAEwmB,UAAU,IAAS1kB,OAAS,CACpE,CAAE,MAAOsD,GACP,OAAOA,aAAiBb,SAC1B,CACF,CATwD,GAWxDuX,EAAO+5D,QAAUsB,EAAoC,SAAU3yE,EAAG1C,GAChE,GAAInC,EAAQ6E,KAAO0b,EAAyB1b,EAAG,UAAUgiB,SACvD,MAAM,IAAIyvD,EAAW,gCACrB,OAAOzxE,EAAE1C,OAASA,CACtB,EAAI,SAAU0C,EAAG1C,GACf,OAAO0C,EAAE1C,OAASA,CACpB,C,uBCzBA,IAAI40E,EAAoB,EAAQ,MAIhC56D,EAAO+5D,QAAU,SAAUrxE,EAAG4yE,GAI5B,IAHA,IAAI3yE,EAAMiyE,EAAkBlyE,GACxB6yE,EAAI,IAAID,EAAE3yE,GACVqmD,EAAI,EACDA,EAAIrmD,EAAKqmD,IAAKusB,EAAEvsB,GAAKtmD,EAAEC,EAAMqmD,EAAI,GACxC,OAAOusB,CACT,C,uBCVA,IAAIC,EAAW,EAAQ,MACnBC,EAAgB,EAAQ,MAG5Bz7D,EAAO+5D,QAAU,SAAUl9B,EAAUnzC,EAAI/E,EAAO+2E,GAC9C,IACE,OAAOA,EAAUhyE,EAAG8xE,EAAS72E,GAAO,GAAIA,EAAM,IAAM+E,EAAG/E,EACzD,CAAE,MAAO2E,GACPmyE,EAAc5+B,EAAU,QAASvzC,EACnC,CACF,C,uBCVA,IAAIqyE,EAAc,EAAQ,MAEtBp3E,EAAWo3E,EAAY,CAAC,EAAEp3E,UAC1Bq3E,EAAcD,EAAY,GAAGhsE,OAEjCqQ,EAAO+5D,QAAU,SAAUM,GACzB,OAAOuB,EAAYr3E,EAAS81E,GAAK,GAAI,EACvC,C,uBCPA,IAAIwB,EAAwB,EAAQ,MAChC5B,EAAa,EAAQ,MACrB6B,EAAa,EAAQ,MACrBxB,EAAkB,EAAQ,MAE1ByB,EAAgBzB,EAAgB,eAChC0B,EAAUh4E,OAGVi4E,EAAwE,cAApDH,EAAW,WAAc,OAAO7+B,SAAW,CAAhC,IAG/Bi/B,EAAS,SAAU7B,EAAIvrE,GACzB,IACE,OAAOurE,EAAGvrE,EACZ,CAAE,MAAOxF,GAAqB,CAChC,EAGA0W,EAAO+5D,QAAU8B,EAAwBC,EAAa,SAAUzB,GAC9D,IAAI3xE,EAAGkqE,EAAKhrE,EACZ,YAAc7C,IAAPs1E,EAAmB,YAAqB,OAAPA,EAAc,OAEO,iBAAjDzH,EAAMsJ,EAAOxzE,EAAIszE,EAAQ3B,GAAK0B,IAA8BnJ,EAEpEqJ,EAAoBH,EAAWpzE,GAEF,YAA5Bd,EAASk0E,EAAWpzE,KAAoBuxE,EAAWvxE,EAAEyzE,QAAU,YAAcv0E,CACpF,C,uBC5BA,IAAIs4C,EAAS,EAAQ,MACjBjxB,EAAU,EAAQ,MAClBmtD,EAAiC,EAAQ,MACzCC,EAAuB,EAAQ,KAEnCr8D,EAAO+5D,QAAU,SAAUj1E,EAAQmY,EAAQq/D,GAIzC,IAHA,IAAI9pE,EAAOyc,EAAQhS,GACf/Y,EAAiBm4E,EAAqB/1D,EACtClC,EAA2Bg4D,EAA+B91D,EACrDzd,EAAI,EAAGA,EAAI2J,EAAKxM,OAAQ6C,IAAK,CACpC,IAAIiG,EAAM0D,EAAK3J,GACVq3C,EAAOp7C,EAAQgK,IAAUwtE,GAAcp8B,EAAOo8B,EAAYxtE,IAC7D5K,EAAeY,EAAQgK,EAAKsV,EAAyBnH,EAAQnO,GAEjE,CACF,C,uBCfA,IAAIytE,EAAQ,EAAQ,MAEpBv8D,EAAO+5D,SAAWwC,GAAM,WACtB,SAASC,IAAkB,CAG3B,OAFAA,EAAEl4E,UAAUwB,YAAc,KAEnB9B,OAAOmO,eAAe,IAAIqqE,KAASA,EAAEl4E,SAC9C,G,mBCLA0b,EAAO+5D,QAAU,SAAUp1E,EAAOq8C,GAChC,MAAO,CAAEr8C,MAAOA,EAAOq8C,KAAMA,EAC/B,C,uBCJA,IAAIo6B,EAAc,EAAQ,MACtBiB,EAAuB,EAAQ,KAC/BI,EAA2B,EAAQ,MAEvCz8D,EAAO+5D,QAAUqB,EAAc,SAAUsB,EAAQ5tE,EAAKnK,GACpD,OAAO03E,EAAqB/1D,EAAEo2D,EAAQ5tE,EAAK2tE,EAAyB,EAAG93E,GACzE,EAAI,SAAU+3E,EAAQ5tE,EAAKnK,GAEzB,OADA+3E,EAAO5tE,GAAOnK,EACP+3E,CACT,C,mBCTA18D,EAAO+5D,QAAU,SAAU4C,EAAQh4E,GACjC,MAAO,CACL8lB,aAAuB,EAATkyD,GACdt4D,eAAyB,EAATs4D,GAChBjyD,WAAqB,EAATiyD,GACZh4E,MAAOA,EAEX,C,uBCPA,IAAIy2E,EAAc,EAAQ,MACtBiB,EAAuB,EAAQ,KAC/BI,EAA2B,EAAQ,MAEvCz8D,EAAO+5D,QAAU,SAAU2C,EAAQ5tE,EAAKnK,GAClCy2E,EAAaiB,EAAqB/1D,EAAEo2D,EAAQ5tE,EAAK2tE,EAAyB,EAAG93E,IAC5E+3E,EAAO5tE,GAAOnK,CACrB,C,uBCPA,IAAIi4E,EAAc,EAAQ,MACtB14E,EAAiB,EAAQ,KAE7B8b,EAAO+5D,QAAU,SAAUj1E,EAAQY,EAAMye,GAGvC,OAFIA,EAAWvT,KAAKgsE,EAAYz4D,EAAWvT,IAAKlL,EAAM,CAAEm/B,QAAQ,IAC5D1gB,EAAWxT,KAAKisE,EAAYz4D,EAAWxT,IAAKjL,EAAM,CAAE09C,QAAQ,IACzDl/C,EAAeoiB,EAAExhB,EAAQY,EAAMye,EACxC,C,uBCPA,IAAI81D,EAAa,EAAQ,MACrBoC,EAAuB,EAAQ,KAC/BO,EAAc,EAAQ,MACtBC,EAAuB,EAAQ,MAEnC78D,EAAO+5D,QAAU,SAAUrxE,EAAGoG,EAAKnK,EAAO6J,GACnCA,IAASA,EAAU,CAAC,GACzB,IAAIsuE,EAAStuE,EAAQic,WACjB/kB,OAAwBX,IAAjByJ,EAAQ9I,KAAqB8I,EAAQ9I,KAAOoJ,EAEvD,GADImrE,EAAWt1E,IAAQi4E,EAAYj4E,EAAOe,EAAM8I,GAC5CA,EAAQ/K,OACNq5E,EAAQp0E,EAAEoG,GAAOnK,EAChBk4E,EAAqB/tE,EAAKnK,OAC1B,CACL,IACO6J,EAAQuuE,OACJr0E,EAAEoG,KAAMguE,GAAS,UADEp0E,EAAEoG,EAEhC,CAAE,MAAOxF,GAAqB,CAC1BwzE,EAAQp0E,EAAEoG,GAAOnK,EAChB03E,EAAqB/1D,EAAE5d,EAAGoG,EAAK,CAClCnK,MAAOA,EACP8lB,YAAY,EACZpG,cAAe7V,EAAQwuE,gBACvBtyD,UAAWlc,EAAQyuE,aAEvB,CAAE,OAAOv0E,CACX,C,uBC1BA,IAAIw0E,EAAgB,EAAQ,MAE5Bl9D,EAAO+5D,QAAU,SAAUj1E,EAAQsc,EAAK5S,GACtC,IAAK,IAAIM,KAAOsS,EAAK87D,EAAcp4E,EAAQgK,EAAKsS,EAAItS,GAAMN,GAC1D,OAAO1J,CACT,C,uBCLA,IAAItB,EAAa,EAAQ,MAGrBU,EAAiBF,OAAOE,eAE5B8b,EAAO+5D,QAAU,SAAUjrE,EAAKnK,GAC9B,IACET,EAAeV,EAAYsL,EAAK,CAAEnK,MAAOA,EAAO0f,cAAc,EAAMqG,UAAU,GAChF,CAAE,MAAOphB,GACP9F,EAAWsL,GAAOnK,CACpB,CAAE,OAAOA,CACX,C,uBCXA,IAAI43E,EAAQ,EAAQ,MAGpBv8D,EAAO+5D,SAAWwC,GAAM,WAEtB,OAA+E,IAAxEv4E,OAAOE,eAAe,CAAC,EAAG,EAAG,CAAE0M,IAAK,WAAc,OAAO,CAAG,IAAK,EAC1E,G,uBCNA,IAAIpN,EAAa,EAAQ,MACrB8B,EAAW,EAAQ,MAEnBkH,EAAWhJ,EAAWgJ,SAEtB2wE,EAAS73E,EAASkH,IAAalH,EAASkH,EAASC,eAErDuT,EAAO+5D,QAAU,SAAUM,GACzB,OAAO8C,EAAS3wE,EAASC,cAAc4tE,GAAM,CAAC,CAChD,C,mBCTA,IAAIF,EAAa1xE,UACb20E,EAAmB,iBAEvBp9D,EAAO+5D,QAAU,SAAUM,GACzB,GAAIA,EAAK+C,EAAkB,MAAMjD,EAAW,kCAC5C,OAAOE,CACT,C,mBCLAr6D,EAAO+5D,QAAU,CACf,cACA,iBACA,gBACA,uBACA,iBACA,WACA,U,uBCRF,IAAIv2E,EAAa,EAAQ,MAErB6L,EAAY7L,EAAW6L,UACvBC,EAAYD,GAAaA,EAAUC,UAEvC0Q,EAAO+5D,QAAUzqE,EAAYyvC,OAAOzvC,GAAa,E,uBCLjD,IAOIqF,EAAOtR,EAPPG,EAAa,EAAQ,MACrB8L,EAAY,EAAQ,MAEpByW,EAAUviB,EAAWuiB,QACrBs3D,EAAO75E,EAAW65E,KAClBC,EAAWv3D,GAAWA,EAAQu3D,UAAYD,GAAQA,EAAKh6E,QACvDk6E,EAAKD,GAAYA,EAASC,GAG1BA,IACF5oE,EAAQ4oE,EAAGn1E,MAAM,KAGjB/E,EAAUsR,EAAM,GAAK,GAAKA,EAAM,GAAK,EAAI,IAAMA,EAAM,GAAKA,EAAM,MAK7DtR,GAAWiM,IACdqF,EAAQrF,EAAUqF,MAAM,iBACnBA,GAASA,EAAM,IAAM,MACxBA,EAAQrF,EAAUqF,MAAM,iBACpBA,IAAOtR,GAAWsR,EAAM,MAIhCqL,EAAO+5D,QAAU12E,C,uBC1BjB,IAAIG,EAAa,EAAQ,MACrB4gB,EAA2B,UAC3Bo5D,EAA8B,EAAQ,MACtCN,EAAgB,EAAQ,MACxBL,EAAuB,EAAQ,MAC/BY,EAA4B,EAAQ,MACpCC,EAAW,EAAQ,MAiBvB19D,EAAO+5D,QAAU,SAAUvrE,EAASyO,GAClC,IAGI0gE,EAAQ74E,EAAQgK,EAAK8uE,EAAgBC,EAAgB15D,EAHrD25D,EAAStvE,EAAQ1J,OACjBi5E,EAASvvE,EAAQ/K,OACjBu6E,EAASxvE,EAAQyvE,KASrB,GANEn5E,EADEi5E,EACOv6E,EACAw6E,EACAx6E,EAAWs6E,IAAWjB,EAAqBiB,EAAQ,CAAC,GAEpDt6E,EAAWs6E,IAAWt6E,EAAWs6E,GAAQx5E,UAEhDQ,EAAQ,IAAKgK,KAAOmO,EAAQ,CAQ9B,GAPA4gE,EAAiB5gE,EAAOnO,GACpBN,EAAQ0vE,gBACV/5D,EAAaC,EAAyBtf,EAAQgK,GAC9C8uE,EAAiBz5D,GAAcA,EAAWxf,OACrCi5E,EAAiB94E,EAAOgK,GAC/B6uE,EAASD,EAASK,EAASjvE,EAAMgvE,GAAUE,EAAS,IAAM,KAAOlvE,EAAKN,EAAQ2vE,SAEzER,QAA6B54E,IAAnB64E,EAA8B,CAC3C,UAAWC,UAAyBD,EAAgB,SACpDH,EAA0BI,EAAgBD,EAC5C,EAEIpvE,EAAQ4vE,MAASR,GAAkBA,EAAeQ,OACpDZ,EAA4BK,EAAgB,QAAQ,GAEtDX,EAAcp4E,EAAQgK,EAAK+uE,EAAgBrvE,EAC7C,CACF,C,mBCrDAwR,EAAO+5D,QAAU,SAAUzjE,GACzB,IACE,QAASA,GACX,CAAE,MAAOhN,GACP,OAAO,CACT,CACF,C,sBCNA,IAAIqyE,EAAc,EAAQ,MACtB0C,EAAY,EAAQ,MACpBC,EAAc,EAAQ,MAEtBv0E,EAAO4xE,EAAYA,EAAY5xE,MAGnCiW,EAAO+5D,QAAU,SAAUrwE,EAAI60E,GAE7B,OADAF,EAAU30E,QACM3E,IAATw5E,EAAqB70E,EAAK40E,EAAcv0E,EAAKL,EAAI60E,GAAQ,WAC9D,OAAO70E,EAAG2sB,MAAMkoD,EAAMthC,UACxB,CACF,C,uBCZA,IAAIs/B,EAAQ,EAAQ,MAEpBv8D,EAAO+5D,SAAWwC,GAAM,WAEtB,IAAIt2E,EAAO,WAA4B,EAAE8D,OAEzC,MAAsB,mBAAR9D,GAAsBA,EAAKxB,eAAe,YAC1D,G,uBCPA,IAAI65E,EAAc,EAAQ,MAEtB15E,EAAOjB,SAASW,UAAUM,KAE9Bob,EAAO+5D,QAAUuE,EAAc15E,EAAKmF,KAAKnF,GAAQ,WAC/C,OAAOA,EAAKyxB,MAAMzxB,EAAMq4C,UAC1B,C,uBCNA,IAAIm+B,EAAc,EAAQ,MACtBl7B,EAAS,EAAQ,MAEjBs+B,EAAoB76E,SAASW,UAE7Bm6E,EAAgBrD,GAAep3E,OAAOogB,yBAEtC+4D,EAASj9B,EAAOs+B,EAAmB,QAEnCE,EAASvB,GAA0D,cAAhD,WAAqC,EAAEz3E,KAC1Di5E,EAAexB,KAAY/B,GAAgBA,GAAeqD,EAAcD,EAAmB,QAAQn6D,cAEvGrE,EAAO+5D,QAAU,CACfoD,OAAQA,EACRuB,OAAQA,EACRC,aAAcA,E,uBCfhB,IAAIhD,EAAc,EAAQ,MACtB0C,EAAY,EAAQ,MAExBr+D,EAAO+5D,QAAU,SAAU2C,EAAQ5tE,EAAKgnB,GACtC,IAEE,OAAO6lD,EAAY0C,EAAUr6E,OAAOogB,yBAAyBs4D,EAAQ5tE,GAAKgnB,IAC5E,CAAE,MAAOxsB,GAAqB,CAChC,C,uBCRA,IAAIwyE,EAAa,EAAQ,MACrBH,EAAc,EAAQ,MAE1B37D,EAAO+5D,QAAU,SAAUrwE,GAIzB,GAAuB,aAAnBoyE,EAAWpyE,GAAoB,OAAOiyE,EAAYjyE,EACxD,C,uBCRA,IAAI40E,EAAc,EAAQ,MAEtBE,EAAoB76E,SAASW,UAC7BM,EAAO45E,EAAkB55E,KAEzBg6E,EAAsBN,GAAeE,EAAkBz0E,KAAKA,KAAKnF,EAAMA,GAE3Eob,EAAO+5D,QAAUuE,EAAcM,EAAsB,SAAUl1E,GAC7D,OAAO,WACL,OAAO9E,EAAKyxB,MAAM3sB,EAAIuzC,UACxB,CACF,C,uBCXA,IAAIz5C,EAAa,EAAQ,MAEzBwc,EAAO+5D,QAAU,SAAU8E,EAAaC,GACtC,IAAIjE,EAAcr3E,EAAWq7E,GACzBnE,EAAYG,GAAeA,EAAYv2E,UAC3C,OAAOo2E,GAAaA,EAAUoE,EAChC,C,qBCNA,IAAIt7E,EAAa,EAAQ,MACrBy2E,EAAa,EAAQ,MAErB8E,EAAY,SAAU3E,GACxB,OAAOH,EAAWG,GAAYA,OAAWr1E,CAC3C,EAEAib,EAAO+5D,QAAU,SAAUvf,EAAW1kC,GACpC,OAAOmnB,UAAUj3C,OAAS,EAAI+4E,EAAUv7E,EAAWg3D,IAAch3D,EAAWg3D,IAAch3D,EAAWg3D,GAAW1kC,EAClH,C,mBCPA9V,EAAO+5D,QAAU,SAAU/6B,GACzB,MAAO,CACLnC,SAAUmC,EACVztC,KAAMytC,EAAIztC,KACVyvC,MAAM,EAEV,C,uBCRA,IAAIg+B,EAAU,EAAQ,MAClBC,EAAY,EAAQ,MACpBC,EAAoB,EAAQ,MAC5BC,EAAY,EAAQ,MACpB7E,EAAkB,EAAQ,MAE1B8E,EAAW9E,EAAgB,YAE/Bt6D,EAAO+5D,QAAU,SAAUM,GACzB,IAAK6E,EAAkB7E,GAAK,OAAO4E,EAAU5E,EAAI+E,IAC5CH,EAAU5E,EAAI,eACd8E,EAAUH,EAAQ3E,GACzB,C,uBCZA,IAAIz1E,EAAO,EAAQ,MACfy5E,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnBtB,EAAc,EAAQ,MACtBmF,EAAoB,EAAQ,MAE5BlF,EAAa1xE,UAEjBuX,EAAO+5D,QAAU,SAAUK,EAAUkF,GACnC,IAAIC,EAAiBtiC,UAAUj3C,OAAS,EAAIq5E,EAAkBjF,GAAYkF,EAC1E,GAAIjB,EAAUkB,GAAiB,OAAO/D,EAAS52E,EAAK26E,EAAgBnF,IACpE,MAAM,IAAID,EAAWD,EAAYE,GAAY,mBAC/C,C,uBCZA,IAAIiE,EAAY,EAAQ,MACpBa,EAAoB,EAAQ,MAIhCl/D,EAAO+5D,QAAU,SAAUyF,EAAGC,GAC5B,IAAIC,EAAOF,EAAEC,GACb,OAAOP,EAAkBQ,QAAQ36E,EAAYs5E,EAAUqB,EACzD,C,uBCRA,IAAIrB,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnB52E,EAAO,EAAQ,MACf+6E,EAAsB,EAAQ,MAC9BC,EAAoB,EAAQ,MAE5BC,EAAe,eACfC,EAAcC,WACd5F,EAAa1xE,UACbM,EAAMD,KAAKC,IAEXi3E,EAAY,SAAUrvE,EAAKsvE,GAC7BhzE,KAAK0D,IAAMA,EACX1D,KAAKyY,KAAO3c,EAAIk3E,EAAS,GACzBhzE,KAAKqD,IAAM+tE,EAAU1tE,EAAIL,KACzBrD,KAAKuF,KAAO6rE,EAAU1tE,EAAI6B,KAC5B,EAEAwtE,EAAU17E,UAAY,CACpB47E,YAAa,WACX,OAAON,EAAkBpE,EAAS52E,EAAKqI,KAAKuF,KAAMvF,KAAK0D,MACzD,EACArI,SAAU,SAAU+xE,GAClB,OAAOz1E,EAAKqI,KAAKqD,IAAKrD,KAAK0D,IAAK0pE,EAClC,GAKFr6D,EAAO+5D,QAAU,SAAU/6B,GACzBw8B,EAASx8B,GACT,IAAImhC,GAAWnhC,EAAIt5B,KAGnB,GAAIy6D,IAAYA,EAAS,MAAM,IAAIhG,EAAW0F,GAC9C,IAAII,EAAUN,EAAoBQ,GAClC,GAAIF,EAAU,EAAG,MAAM,IAAIH,EAAYD,GACvC,OAAO,IAAIG,EAAUhhC,EAAKihC,EAC5B,C,uBCtCA,IAAIG,EAAQ,SAAU/F,GACpB,OAAOA,GAAMA,EAAGvxE,OAASA,MAAQuxE,CACnC,EAGAr6D,EAAO+5D,QAELqG,EAA2B,iBAAd58E,YAA0BA,aACvC48E,EAAuB,iBAAV78E,QAAsBA,SAEnC68E,EAAqB,iBAAR18E,MAAoBA,OACjC08E,EAAuB,iBAAV,EAAA9P,GAAsB,EAAAA,IACnC8P,EAAqB,iBAARnzE,MAAoBA,OAEjC,WAAe,OAAOA,IAAO,CAA7B,IAAoCtJ,SAAS,cAATA,E,uBCdtC,IAAIg4E,EAAc,EAAQ,MACtB0E,EAAW,EAAQ,MAEnB57E,EAAiBk3E,EAAY,CAAC,EAAEl3E,gBAKpCub,EAAO+5D,QAAU/1E,OAAOk8C,QAAU,SAAgBm6B,EAAIvrE,GACpD,OAAOrK,EAAe47E,EAAShG,GAAKvrE,EACtC,C,mBCVAkR,EAAO+5D,QAAU,CAAC,C,uBCAlB,IAAIuG,EAAa,EAAQ,IAEzBtgE,EAAO+5D,QAAUuG,EAAW,WAAY,kB,uBCFxC,IAAIlF,EAAc,EAAQ,MACtBmB,EAAQ,EAAQ,MAChB9vE,EAAgB,EAAQ,MAG5BuT,EAAO+5D,SAAWqB,IAAgBmB,GAAM,WAEtC,OAES,IAFFv4E,OAAOE,eAAeuI,EAAc,OAAQ,IAAK,CACtDmE,IAAK,WAAc,OAAO,CAAG,IAC5Bw3C,CACL,G,uBCVA,IAAIuzB,EAAc,EAAQ,MACtBY,EAAQ,EAAQ,MAChByC,EAAU,EAAQ,MAElBhD,EAAUh4E,OACVoE,EAAQuzE,EAAY,GAAGvzE,OAG3B4X,EAAO+5D,QAAUwC,GAAM,WAGrB,OAAQP,EAAQ,KAAKn2B,qBAAqB,EAC5C,IAAK,SAAUw0B,GACb,MAAuB,WAAhB2E,EAAQ3E,GAAmBjyE,EAAMiyE,EAAI,IAAM2B,EAAQ3B,EAC5D,EAAI2B,C,uBCdJ,IAAIL,EAAc,EAAQ,MACtB1B,EAAa,EAAQ,MACrBsG,EAAQ,EAAQ,MAEhBC,EAAmB7E,EAAYh4E,SAASY,UAGvC01E,EAAWsG,EAAME,iBACpBF,EAAME,cAAgB,SAAUpG,GAC9B,OAAOmG,EAAiBnG,EAC1B,GAGFr6D,EAAO+5D,QAAUwG,EAAME,a,uBCbvB,IAYI9vE,EAAKC,EAAKN,EAZVowE,EAAkB,EAAQ,MAC1Bl9E,EAAa,EAAQ,MACrB8B,EAAW,EAAQ,MACnBk4E,EAA8B,EAAQ,MACtCt9B,EAAS,EAAQ,MACjBygC,EAAS,EAAQ,MACjBC,EAAY,EAAQ,MACpBC,EAAa,EAAQ,MAErBC,EAA6B,6BAC7Br4E,EAAYjF,EAAWiF,UACvBmkC,EAAUppC,EAAWopC,QAGrBm0C,EAAU,SAAU1G,GACtB,OAAO/pE,EAAI+pE,GAAMzpE,EAAIypE,GAAM1pE,EAAI0pE,EAAI,CAAC,EACtC,EAEI2G,EAAY,SAAUC,GACxB,OAAO,SAAU5G,GACf,IAAI9pD,EACJ,IAAKjrB,EAAS+0E,KAAQ9pD,EAAQ3f,EAAIypE,IAAK/nE,OAAS2uE,EAC9C,MAAM,IAAIx4E,EAAU,0BAA4Bw4E,EAAO,aACvD,OAAO1wD,CACX,CACF,EAEA,GAAImwD,GAAmBC,EAAOpwD,MAAO,CACnC,IAAIgwD,EAAQI,EAAOpwD,QAAUowD,EAAOpwD,MAAQ,IAAIqc,GAEhD2zC,EAAM3vE,IAAM2vE,EAAM3vE,IAClB2vE,EAAMjwE,IAAMiwE,EAAMjwE,IAClBiwE,EAAM5vE,IAAM4vE,EAAM5vE,IAElBA,EAAM,SAAU0pE,EAAI6G,GAClB,GAAIX,EAAMjwE,IAAI+pE,GAAK,MAAM,IAAI5xE,EAAUq4E,GAGvC,OAFAI,EAASC,OAAS9G,EAClBkG,EAAM5vE,IAAI0pE,EAAI6G,GACPA,CACT,EACAtwE,EAAM,SAAUypE,GACd,OAAOkG,EAAM3vE,IAAIypE,IAAO,CAAC,CAC3B,EACA/pE,EAAM,SAAU+pE,GACd,OAAOkG,EAAMjwE,IAAI+pE,EACnB,CACF,KAAO,CACL,IAAI+G,EAAQR,EAAU,SACtBC,EAAWO,IAAS,EACpBzwE,EAAM,SAAU0pE,EAAI6G,GAClB,GAAIhhC,EAAOm6B,EAAI+G,GAAQ,MAAM,IAAI34E,EAAUq4E,GAG3C,OAFAI,EAASC,OAAS9G,EAClBmD,EAA4BnD,EAAI+G,EAAOF,GAChCA,CACT,EACAtwE,EAAM,SAAUypE,GACd,OAAOn6B,EAAOm6B,EAAI+G,GAAS/G,EAAG+G,GAAS,CAAC,CAC1C,EACA9wE,EAAM,SAAU+pE,GACd,OAAOn6B,EAAOm6B,EAAI+G,EACpB,CACF,CAEAphE,EAAO+5D,QAAU,CACfppE,IAAKA,EACLC,IAAKA,EACLN,IAAKA,EACLywE,QAASA,EACTC,UAAWA,E,uBCpEb,IAAI1G,EAAkB,EAAQ,MAC1B6E,EAAY,EAAQ,MAEpBC,EAAW9E,EAAgB,YAC3BE,EAAiB12E,MAAMQ,UAG3B0b,EAAO+5D,QAAU,SAAUM,GACzB,YAAct1E,IAAPs1E,IAAqB8E,EAAUr7E,QAAUu2E,GAAMG,EAAe4E,KAAc/E,EACrF,C,uBCTA,IAAI2E,EAAU,EAAQ,MAKtBh/D,EAAO+5D,QAAUj2E,MAAMD,SAAW,SAAiBu2E,GACjD,MAA6B,UAAtB4E,EAAQ5E,EACjB,C,mBCNA,IAAIiH,EAAiC,iBAAZ70E,UAAwBA,SAAS4L,IAK1D4H,EAAO+5D,QAAgC,oBAAfsH,QAA8Ct8E,IAAhBs8E,EAA4B,SAAUjH,GAC1F,MAA0B,mBAAZA,GAA0BA,IAAaiH,CACvD,EAAI,SAAUjH,GACZ,MAA0B,mBAAZA,CAChB,C,uBCVA,IAAImC,EAAQ,EAAQ,MAChBtC,EAAa,EAAQ,MAErBqH,EAAc,kBAEd5D,EAAW,SAAU6D,EAASC,GAChC,IAAI78E,EAAQuH,EAAKoiE,EAAUiT,IAC3B,OAAO58E,IAAU88E,GACb98E,IAAU+8E,IACVzH,EAAWuH,GAAajF,EAAMiF,KAC5BA,EACR,EAEIlT,EAAYoP,EAASpP,UAAY,SAAUqT,GAC7C,OAAO5iC,OAAO4iC,GAAQ32E,QAAQs2E,EAAa,KAAKnrC,aAClD,EAEIjqC,EAAOwxE,EAASxxE,KAAO,CAAC,EACxBw1E,EAAShE,EAASgE,OAAS,IAC3BD,EAAW/D,EAAS+D,SAAW,IAEnCzhE,EAAO+5D,QAAU2D,C,mBCnBjB19D,EAAO+5D,QAAU,SAAUM,GACzB,OAAc,OAAPA,QAAsBt1E,IAAPs1E,CACxB,C,uBCJA,IAAIJ,EAAa,EAAQ,MAEzBj6D,EAAO+5D,QAAU,SAAUM,GACzB,MAAoB,iBAANA,EAAwB,OAAPA,EAAcJ,EAAWI,EAC1D,C,mBCJAr6D,EAAO+5D,SAAU,C,uBCAjB,IAAIuG,EAAa,EAAQ,IACrBrG,EAAa,EAAQ,MACrBQ,EAAgB,EAAQ,MACxBmH,EAAoB,EAAQ,KAE5B5F,EAAUh4E,OAEdgc,EAAO+5D,QAAU6H,EAAoB,SAAUvH,GAC7C,MAAoB,iBAANA,CAChB,EAAI,SAAUA,GACZ,IAAIwH,EAAUvB,EAAW,UACzB,OAAOrG,EAAW4H,IAAYpH,EAAcoH,EAAQv9E,UAAW03E,EAAQ3B,GACzE,C,uBCZA,IAAIz1E,EAAO,EAAQ,MAEnBob,EAAO+5D,QAAU,SAAUpsD,EAAQjkB,EAAIo4E,GACrC,IAEIC,EAAMn6E,EAFNi1C,EAAWilC,EAA6Bn0D,EAASA,EAAOkvB,SACxDtrC,EAAOoc,EAAOpc,KAElB,QAASwwE,EAAOn9E,EAAK2M,EAAMsrC,IAAWmE,KAEpC,GADAp5C,EAAS8B,EAAGq4E,EAAKp9E,YACFI,IAAX6C,EAAsB,OAAOA,CAErC,C,uBCVA,IAAImC,EAAO,EAAQ,KACfnF,EAAO,EAAQ,MACf42E,EAAW,EAAQ,MACnBtB,EAAc,EAAQ,MACtB8H,EAAwB,EAAQ,MAChCpH,EAAoB,EAAQ,MAC5BH,EAAgB,EAAQ,MACxByF,EAAc,EAAQ,MACtBb,EAAoB,EAAQ,MAC5B5D,EAAgB,EAAQ,MAExBtB,EAAa1xE,UAEbw5E,EAAS,SAAUC,EAASt6E,GAC9BqF,KAAKi1E,QAAUA,EACfj1E,KAAKrF,OAASA,CAChB,EAEIu6E,EAAkBF,EAAO39E,UAE7B0b,EAAO+5D,QAAU,SAAUqI,EAAUC,EAAiB7zE,GACpD,IAMIquC,EAAUylC,EAAQn2E,EAAOnG,EAAQ4B,EAAQ2J,EAAMwwE,EAN/CxD,EAAO/vE,GAAWA,EAAQ+vE,KAC1BgE,KAAgB/zE,IAAWA,EAAQ+zE,YACnCC,KAAeh0E,IAAWA,EAAQg0E,WAClCC,KAAiBj0E,IAAWA,EAAQi0E,aACpCC,KAAiBl0E,IAAWA,EAAQk0E,aACpCh5E,EAAKK,EAAKs4E,EAAiB9D,GAG3BjhD,EAAO,SAAUqlD,GAEnB,OADI9lC,GAAU4+B,EAAc5+B,EAAU,SAAU8lC,GACzC,IAAIV,GAAO,EAAMU,EAC1B,EAEIC,EAAS,SAAUj+E,GACrB,OAAI49E,GACF/G,EAAS72E,GACF+9E,EAAch5E,EAAG/E,EAAM,GAAIA,EAAM,GAAI24B,GAAQ5zB,EAAG/E,EAAM,GAAIA,EAAM,KAChE+9E,EAAch5E,EAAG/E,EAAO24B,GAAQ5zB,EAAG/E,EAC9C,EAEA,GAAI69E,EACF3lC,EAAWulC,EAASvlC,cACf,GAAI4lC,EACT5lC,EAAWulC,MACN,CAEL,GADAE,EAASjD,EAAkB+C,IACtBE,EAAQ,MAAM,IAAInI,EAAWD,EAAYkI,GAAY,oBAE1D,GAAIJ,EAAsBM,GAAS,CACjC,IAAKn2E,EAAQ,EAAGnG,EAAS40E,EAAkBwH,GAAWp8E,EAASmG,EAAOA,IAEpE,GADAvE,EAASg7E,EAAOR,EAASj2E,IACrBvE,GAAU6yE,EAAc0H,EAAiBv6E,GAAS,OAAOA,EAC7D,OAAO,IAAIq6E,GAAO,EACtB,CACAplC,EAAWqjC,EAAYkC,EAAUE,EACnC,CAEA/wE,EAAOixE,EAAYJ,EAAS7wE,KAAOsrC,EAAStrC,KAC5C,QAASwwE,EAAOn9E,EAAK2M,EAAMsrC,IAAWmE,KAAM,CAC1C,IACEp5C,EAASg7E,EAAOb,EAAKp9E,MACvB,CAAE,MAAO2E,GACPmyE,EAAc5+B,EAAU,QAASvzC,EACnC,CACA,GAAqB,iBAAV1B,GAAsBA,GAAU6yE,EAAc0H,EAAiBv6E,GAAS,OAAOA,CAC5F,CAAE,OAAO,IAAIq6E,GAAO,EACtB,C,uBCnEA,IAAIr9E,EAAO,EAAQ,MACf42E,EAAW,EAAQ,MACnByD,EAAY,EAAQ,MAExBj/D,EAAO+5D,QAAU,SAAUl9B,EAAUgmC,EAAMl+E,GACzC,IAAIm+E,EAAaC,EACjBvH,EAAS3+B,GACT,IAEE,GADAimC,EAAc7D,EAAUpiC,EAAU,WAC7BimC,EAAa,CAChB,GAAa,UAATD,EAAkB,MAAMl+E,EAC5B,OAAOA,CACT,CACAm+E,EAAcl+E,EAAKk+E,EAAajmC,EAClC,CAAE,MAAOvzC,GACPy5E,GAAa,EACbD,EAAcx5E,CAChB,CACA,GAAa,UAATu5E,EAAkB,MAAMl+E,EAC5B,GAAIo+E,EAAY,MAAMD,EAEtB,OADAtH,EAASsH,GACFn+E,CACT,C,uBCtBA,IAAIC,EAAO,EAAQ,MACfsI,EAAS,EAAQ,MACjBswE,EAA8B,EAAQ,MACtCwF,EAAiB,EAAQ,MACzB1I,EAAkB,EAAQ,MAC1B2I,EAAsB,EAAQ,MAC9BhE,EAAY,EAAQ,MACpBiE,EAAoB,0BACpBC,EAAyB,EAAQ,MACjC1H,EAAgB,EAAQ,MAExBM,EAAgBzB,EAAgB,eAChC8I,EAAkB,iBAClBC,EAA0B,uBAC1BC,EAAmBL,EAAoBtyE,IAEvC4yE,EAA+B,SAAUd,GAC3C,IAAIe,EAAmBP,EAAoBjC,UAAUyB,EAAcY,EAA0BD,GAE7F,OAAOJ,EAAe91E,EAAOg2E,GAAoB,CAC/C3xE,KAAM,WACJ,IAAIgf,EAAQizD,EAAiBv2E,MAI7B,GAAIw1E,EAAa,OAAOlyD,EAAMkzD,cAC9B,GAAIlzD,EAAMywB,KAAM,OAAOmiC,OAAuBp+E,GAAW,GACzD,IACE,IAAI6C,EAAS2oB,EAAMkzD,cACnB,OAAOlzD,EAAMmzD,oBAAsB97E,EAASu7E,EAAuBv7E,EAAQ2oB,EAAMywB,KACnF,CAAE,MAAO13C,GAEP,MADAinB,EAAMywB,MAAO,EACP13C,CACR,CACF,EACA,OAAU,WACR,IAAIinB,EAAQizD,EAAiBv2E,MACzB4vC,EAAWtsB,EAAMssB,SAErB,GADAtsB,EAAMywB,MAAO,EACTyhC,EAAa,CACf,IAAIkB,EAAe1E,EAAUpiC,EAAU,UACvC,OAAO8mC,EAAe/+E,EAAK++E,EAAc9mC,GAAYsmC,OAAuBp+E,GAAW,EACzF,CACA,GAAIwrB,EAAMqzD,MAAO,IACfnI,EAAclrD,EAAMqzD,MAAM/mC,SAAU,SACtC,CAAE,MAAOvzC,GACP,OAAOmyE,EAAc5+B,EAAU,QAASvzC,EAC1C,CAEA,OADIuzC,GAAU4+B,EAAc5+B,EAAU,UAC/BsmC,OAAuBp+E,GAAW,EAC3C,GAEJ,EAEI8+E,EAAgCN,GAA6B,GAC7DO,EAA0BP,GAA6B,GAE3D/F,EAA4BsG,EAAyB/H,EAAe,mBAEpE/7D,EAAO+5D,QAAU,SAAU0J,EAAahB,EAAasB,GACnD,IAAIC,EAAgB,SAAkBr2D,EAAQ4C,GACxCA,GACFA,EAAMssB,SAAWlvB,EAAOkvB,SACxBtsB,EAAMhf,KAAOoc,EAAOpc,MACfgf,EAAQ5C,EACf4C,EAAMje,KAAOmwE,EAAcY,EAA0BD,EACrD7yD,EAAMmzD,sBAAwBK,EAC9BxzD,EAAMkzD,YAAcA,EACpBlzD,EAAM0zD,QAAU,EAChB1zD,EAAMywB,MAAO,EACbsiC,EAAiBr2E,KAAMsjB,EACzB,EAIA,OAFAyzD,EAAc1/E,UAAYm+E,EAAcoB,EAAgCC,EAEjEE,CACT,C,uBC5EA,IAAIp/E,EAAO,EAAQ,MACfy5E,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnBoE,EAAoB,EAAQ,MAC5BsE,EAAsB,EAAQ,MAC9BC,EAA+B,EAAQ,MAEvCH,EAAgBE,GAAoB,WACtC,IAAIrnC,EAAW5vC,KAAK4vC,SAChBj1C,EAAS4zE,EAAS52E,EAAKqI,KAAKsE,KAAMsrC,IAClCmE,EAAO/zC,KAAK+zC,OAASp5C,EAAOo5C,KAChC,IAAKA,EAAM,OAAOmjC,EAA6BtnC,EAAU5vC,KAAKm3E,OAAQ,CAACx8E,EAAOjD,MAAOsI,KAAKg3E,YAAY,EACxG,IAIAjkE,EAAO+5D,QAAU,SAAaqK,GAG5B,OAFA5I,EAASvuE,MACToxE,EAAU+F,GACH,IAAIJ,EAAcpE,EAAkB3yE,MAAO,CAChDm3E,OAAQA,GAEZ,C,uBCtBA,IAcIlB,EAAmBmB,EAAmCC,EAdtD/H,EAAQ,EAAQ,MAChBtC,EAAa,EAAQ,MACrB30E,EAAW,EAAQ,MACnB4H,EAAS,EAAQ,MACjBiF,EAAiB,EAAQ,MACzB+qE,EAAgB,EAAQ,MACxB5C,EAAkB,EAAQ,MAC1BiK,EAAU,EAAQ,MAElBnF,EAAW9E,EAAgB,YAC3BkK,GAAyB,EAOzB,GAAGhyE,OACL8xE,EAAgB,GAAG9xE,OAEb,SAAU8xE,GAEdD,EAAoClyE,EAAeA,EAAemyE,IAC9DD,IAAsCrgF,OAAOM,YAAW4+E,EAAoBmB,IAHlDG,GAAyB,GAO3D,IAAIC,GAA0Bn/E,EAAS49E,IAAsB3G,GAAM,WACjE,IAAIt2E,EAAO,CAAC,EAEZ,OAAOi9E,EAAkB9D,GAAUx6E,KAAKqB,KAAUA,CACpD,IAEIw+E,EAAwBvB,EAAoB,CAAC,EACxCqB,IAASrB,EAAoBh2E,EAAOg2E,IAIxCjJ,EAAWiJ,EAAkB9D,KAChClC,EAAcgG,EAAmB9D,GAAU,WACzC,OAAOnyE,IACT,IAGF+S,EAAO+5D,QAAU,CACfmJ,kBAAmBA,EACnBsB,uBAAwBA,E,mBC9C1BxkE,EAAO+5D,QAAU,CAAC,C,uBCAlB,IAAI2K,EAAW,EAAQ,KAIvB1kE,EAAO+5D,QAAU,SAAU/6B,GACzB,OAAO0lC,EAAS1lC,EAAIh5C,OACtB,C,uBCNA,IAAI21E,EAAc,EAAQ,MACtBY,EAAQ,EAAQ,MAChBtC,EAAa,EAAQ,MACrB/5B,EAAS,EAAQ,MACjBk7B,EAAc,EAAQ,MACtBuJ,EAA6B,qBAC7BlE,EAAgB,EAAQ,MACxBwC,EAAsB,EAAQ,MAE9B2B,EAAuB3B,EAAoBlC,QAC3CyC,EAAmBP,EAAoBryE,IACvC+pE,EAAU57B,OAEV76C,EAAiBF,OAAOE,eACxB03E,EAAcD,EAAY,GAAGhsE,OAC7B3E,EAAU2wE,EAAY,GAAG3wE,SACzBG,EAAOwwE,EAAY,GAAGxwE,MAEtB05E,EAAsBzJ,IAAgBmB,GAAM,WAC9C,OAAsF,IAA/Er4E,GAAe,WAA0B,GAAG,SAAU,CAAES,MAAO,IAAKqB,MAC7E,IAEI8+E,EAAW/lC,OAAOA,QAAQ32C,MAAM,UAEhCw0E,EAAc58D,EAAO+5D,QAAU,SAAUp1E,EAAOe,EAAM8I,GACf,YAArCotE,EAAYjB,EAAQj1E,GAAO,EAAG,KAChCA,EAAO,IAAMsF,EAAQ2vE,EAAQj1E,GAAO,wBAAyB,MAAQ,KAEnE8I,GAAWA,EAAQq2B,SAAQn/B,EAAO,OAASA,GAC3C8I,GAAWA,EAAQ40C,SAAQ19C,EAAO,OAASA,KAC1Cw6C,EAAOv7C,EAAO,SAAYggF,GAA8BhgF,EAAMe,OAASA,KACtE01E,EAAal3E,EAAeS,EAAO,OAAQ,CAAEA,MAAOe,EAAM2e,cAAc,IACvE1f,EAAMe,KAAOA,GAEhBm/E,GAAuBr2E,GAAW0xC,EAAO1xC,EAAS,UAAY7J,EAAMqB,SAAWwI,EAAQu2E,OACzF7gF,EAAeS,EAAO,SAAU,CAAEA,MAAO6J,EAAQu2E,QAEnD,IACMv2E,GAAW0xC,EAAO1xC,EAAS,gBAAkBA,EAAQ1I,YACnDs1E,GAAal3E,EAAeS,EAAO,YAAa,CAAE+lB,UAAU,IAEvD/lB,EAAML,YAAWK,EAAML,eAAYS,EAChD,CAAE,MAAOuE,GAAqB,CAC9B,IAAIinB,EAAQq0D,EAAqBjgF,GAG/B,OAFGu7C,EAAO3vB,EAAO,YACjBA,EAAMtT,OAAS9R,EAAK25E,EAAyB,iBAARp/E,EAAmBA,EAAO,KACxDf,CACX,EAIAhB,SAASW,UAAUC,SAAWq4E,GAAY,WACxC,OAAO3C,EAAWhtE,OAASu2E,EAAiBv2E,MAAMgQ,QAAUwjE,EAAcxzE,KAC5E,GAAG,W,mBCrDH,IAAI+3E,EAAOl8E,KAAKk8E,KACZC,EAAQn8E,KAAKm8E,MAKjBjlE,EAAO+5D,QAAUjxE,KAAKo8E,OAAS,SAAezgD,GAC5C,IAAIgvB,GAAKhvB,EACT,OAAQgvB,EAAI,EAAIwxB,EAAQD,GAAMvxB,EAChC,C,uBCRA,IAoDI0xB,EApDA3J,EAAW,EAAQ,MACnB4J,EAAyB,EAAQ,MACjCC,EAAc,EAAQ,MACtBxE,EAAa,EAAQ,MACrB5iE,EAAO,EAAQ,MACfqnE,EAAwB,EAAQ,MAChC1E,EAAY,EAAQ,MAEpB2E,EAAK,IACLC,EAAK,IACLC,EAAY,YACZC,EAAS,SACTC,EAAW/E,EAAU,YAErBgF,EAAmB,WAA0B,EAE7CC,EAAY,SAAU9S,GACxB,OAAOyS,EAAKE,EAASH,EAAKxS,EAAUyS,EAAK,IAAME,EAASH,CAC1D,EAGIO,EAA4B,SAAUX,GACxCA,EAAgBY,MAAMF,EAAU,KAChCV,EAAgBppD,QAChB,IAAIiqD,EAAOb,EAAgBc,aAAajiF,OAGxC,OADAmhF,EAAkB,KACXa,CACT,EAGIE,EAA2B,WAE7B,IAEIC,EAFAjmE,EAASolE,EAAsB,UAC/Bc,EAAK,OAASV,EAAS,IAU3B,OARAxlE,EAAO4oB,MAAMgsC,QAAU,OACvB72D,EAAKG,YAAY8B,GAEjBA,EAAOkB,IAAM29B,OAAOqnC,GACpBD,EAAiBjmE,EAAOqoB,cAAc/7B,SACtC25E,EAAe9qD,OACf8qD,EAAeJ,MAAMF,EAAU,sBAC/BM,EAAepqD,QACRoqD,EAAe3J,CACxB,EAQI6J,EAAkB,WACpB,IACElB,EAAkB,IAAImB,cAAc,WACtC,CAAE,MAAOh9E,GAAsB,CAC/B+8E,EAAqC,oBAAZ75E,SACrBA,SAAS+5E,QAAUpB,EACjBW,EAA0BX,GAC1Be,IACFJ,EAA0BX,GAC9B,IAAIn/E,EAASq/E,EAAYr/E,OACzB,MAAOA,WAAiBqgF,EAAgBZ,GAAWJ,EAAYr/E,IAC/D,OAAOqgF,GACT,EAEAxF,EAAW8E,IAAY,EAKvB3lE,EAAO+5D,QAAU/1E,OAAOkJ,QAAU,SAAgBxE,EAAG89E,GACnD,IAAI5+E,EAQJ,OAPU,OAANc,GACFk9E,EAAiBH,GAAajK,EAAS9yE,GACvCd,EAAS,IAAIg+E,EACbA,EAAiBH,GAAa,KAE9B79E,EAAO+9E,GAAYj9E,GACdd,EAASy+E,SACMthF,IAAfyhF,EAA2B5+E,EAASw9E,EAAuB9+D,EAAE1e,EAAQ4+E,EAC9E,C,uBCnFA,IAAIpL,EAAc,EAAQ,MACtBqL,EAA0B,EAAQ,MAClCpK,EAAuB,EAAQ,KAC/Bb,EAAW,EAAQ,MACnBT,EAAkB,EAAQ,MAC1B2L,EAAa,EAAQ,KAKzB3M,EAAQzzD,EAAI80D,IAAgBqL,EAA0BziF,OAAOI,iBAAmB,SAA0BsE,EAAG89E,GAC3GhL,EAAS9yE,GACT,IAIIoG,EAJA6c,EAAQovD,EAAgByL,GACxBh0E,EAAOk0E,EAAWF,GAClBxgF,EAASwM,EAAKxM,OACdmG,EAAQ,EAEZ,MAAOnG,EAASmG,EAAOkwE,EAAqB/1D,EAAE5d,EAAGoG,EAAM0D,EAAKrG,KAAUwf,EAAM7c,IAC5E,OAAOpG,CACT,C,sBCnBA,IAAI0yE,EAAc,EAAQ,MACtBuL,EAAiB,EAAQ,MACzBF,EAA0B,EAAQ,MAClCjL,EAAW,EAAQ,MACnBoL,EAAgB,EAAQ,MAExBzM,EAAa1xE,UAEbo+E,EAAkB7iF,OAAOE,eAEzB4iF,EAA4B9iF,OAAOogB,yBACnC2iE,EAAa,aACbpI,EAAe,eACfqI,EAAW,WAIfjN,EAAQzzD,EAAI80D,EAAcqL,EAA0B,SAAwB/9E,EAAG+2E,EAAGwH,GAIhF,GAHAzL,EAAS9yE,GACT+2E,EAAImH,EAAcnH,GAClBjE,EAASyL,GACQ,oBAANv+E,GAA0B,cAAN+2E,GAAqB,UAAWwH,GAAcD,KAAYC,IAAeA,EAAWD,GAAW,CAC5H,IAAIxvD,EAAUsvD,EAA0Bp+E,EAAG+2E,GACvCjoD,GAAWA,EAAQwvD,KACrBt+E,EAAE+2E,GAAKwH,EAAWtiF,MAClBsiF,EAAa,CACX5iE,aAAcs6D,KAAgBsI,EAAaA,EAAWtI,GAAgBnnD,EAAQmnD,GAC9El0D,WAAYs8D,KAAcE,EAAaA,EAAWF,GAAcvvD,EAAQuvD,GACxEr8D,UAAU,GAGhB,CAAE,OAAOm8D,EAAgBn+E,EAAG+2E,EAAGwH,EACjC,EAAIJ,EAAkB,SAAwBn+E,EAAG+2E,EAAGwH,GAIlD,GAHAzL,EAAS9yE,GACT+2E,EAAImH,EAAcnH,GAClBjE,EAASyL,GACLN,EAAgB,IAClB,OAAOE,EAAgBn+E,EAAG+2E,EAAGwH,EAC/B,CAAE,MAAO39E,GAAqB,CAC9B,GAAI,QAAS29E,GAAc,QAASA,EAAY,MAAM,IAAI9M,EAAW,2BAErE,MADI,UAAW8M,IAAYv+E,EAAE+2E,GAAKwH,EAAWtiF,OACtC+D,CACT,C,uBC1CA,IAAI0yE,EAAc,EAAQ,MACtBx2E,EAAO,EAAQ,MACfsiF,EAA6B,EAAQ,MACrCzK,EAA2B,EAAQ,MACnC1B,EAAkB,EAAQ,MAC1B6L,EAAgB,EAAQ,MACxB1mC,EAAS,EAAQ,MACjBymC,EAAiB,EAAQ,MAGzBG,EAA4B9iF,OAAOogB,yBAIvC21D,EAAQzzD,EAAI80D,EAAc0L,EAA4B,SAAkCp+E,EAAG+2E,GAGzF,GAFA/2E,EAAIqyE,EAAgBryE,GACpB+2E,EAAImH,EAAcnH,GACdkH,EAAgB,IAClB,OAAOG,EAA0Bp+E,EAAG+2E,EACtC,CAAE,MAAOn2E,GAAqB,CAC9B,GAAI42C,EAAOx3C,EAAG+2E,GAAI,OAAOhD,GAA0B73E,EAAKsiF,EAA2B5gE,EAAG5d,EAAG+2E,GAAI/2E,EAAE+2E,GACjG,C,sBCrBA,IAAI0H,EAAqB,EAAQ,MAC7B9B,EAAc,EAAQ,MAEtBxE,EAAawE,EAAYjmE,OAAO,SAAU,aAK9C26D,EAAQzzD,EAAItiB,OAAO+B,qBAAuB,SAA6B2C,GACrE,OAAOy+E,EAAmBz+E,EAAGm4E,EAC/B,C,qBCTA9G,EAAQzzD,EAAItiB,OAAO4hD,qB,uBCDnB,IAAI1F,EAAS,EAAQ,MACjB+5B,EAAa,EAAQ,MACrBoG,EAAW,EAAQ,MACnBO,EAAY,EAAQ,MACpBwG,EAA2B,EAAQ,MAEnCzB,EAAW/E,EAAU,YACrB5E,EAAUh4E,OACVqjF,EAAkBrL,EAAQ13E,UAK9B0b,EAAO+5D,QAAUqN,EAA2BpL,EAAQ7pE,eAAiB,SAAUzJ,GAC7E,IAAIg0E,EAAS2D,EAAS33E,GACtB,GAAIw3C,EAAOw8B,EAAQiJ,GAAW,OAAOjJ,EAAOiJ,GAC5C,IAAI7/E,EAAc42E,EAAO52E,YACzB,OAAIm0E,EAAWn0E,IAAgB42E,aAAkB52E,EACxCA,EAAYxB,UACZo4E,aAAkBV,EAAUqL,EAAkB,IACzD,C,uBCpBA,IAAI1L,EAAc,EAAQ,MAE1B37D,EAAO+5D,QAAU4B,EAAY,CAAC,EAAElB,c,uBCFhC,IAAIkB,EAAc,EAAQ,MACtBz7B,EAAS,EAAQ,MACjB66B,EAAkB,EAAQ,MAC1Bp1E,EAAU,eACVk7E,EAAa,EAAQ,MAErBhxE,EAAO8rE,EAAY,GAAG9rE,MAE1BmQ,EAAO+5D,QAAU,SAAU2C,EAAQ4K,GACjC,IAGIx4E,EAHApG,EAAIqyE,EAAgB2B,GACpB7zE,EAAI,EACJjB,EAAS,GAEb,IAAKkH,KAAOpG,GAAIw3C,EAAO2gC,EAAY/xE,IAAQoxC,EAAOx3C,EAAGoG,IAAQe,EAAKjI,EAAQkH,GAE1E,MAAOw4E,EAAMthF,OAAS6C,EAAOq3C,EAAOx3C,EAAGoG,EAAMw4E,EAAMz+E,SAChDlD,EAAQiC,EAAQkH,IAAQe,EAAKjI,EAAQkH,IAExC,OAAOlH,CACT,C,sBCnBA,IAAIu/E,EAAqB,EAAQ,MAC7B9B,EAAc,EAAQ,MAK1BrlE,EAAO+5D,QAAU/1E,OAAOwO,MAAQ,SAAc9J,GAC5C,OAAOy+E,EAAmBz+E,EAAG28E,EAC/B,C,qBCRA,IAAIkC,EAAwB,CAAC,EAAE1hC,qBAE3BzhC,EAA2BpgB,OAAOogB,yBAGlCojE,EAAcpjE,IAA6BmjE,EAAsB3iF,KAAK,CAAE,EAAG,GAAK,GAIpFm1E,EAAQzzD,EAAIkhE,EAAc,SAA8BhI,GACtD,IAAIr7D,EAAaC,EAAyBnX,KAAMuyE,GAChD,QAASr7D,GAAcA,EAAWsG,UACpC,EAAI88D,C,uBCZJ,IAAI3iF,EAAO,EAAQ,MACfq1E,EAAa,EAAQ,MACrB30E,EAAW,EAAQ,MAEnB60E,EAAa1xE,UAIjBuX,EAAO+5D,QAAU,SAAU/+C,EAAOysD,GAChC,IAAI/9E,EAAIkpC,EACR,GAAa,WAAT60C,GAAqBxN,EAAWvwE,EAAKsxB,EAAMz2B,YAAce,EAASstC,EAAMhuC,EAAK8E,EAAIsxB,IAAS,OAAO4X,EACrG,GAAIqnC,EAAWvwE,EAAKsxB,EAAM0sD,WAAapiF,EAASstC,EAAMhuC,EAAK8E,EAAIsxB,IAAS,OAAO4X,EAC/E,GAAa,WAAT60C,GAAqBxN,EAAWvwE,EAAKsxB,EAAMz2B,YAAce,EAASstC,EAAMhuC,EAAK8E,EAAIsxB,IAAS,OAAO4X,EACrG,MAAM,IAAIunC,EAAW,0CACvB,C,uBCdA,IAAImG,EAAa,EAAQ,IACrB3E,EAAc,EAAQ,MACtBgM,EAA4B,EAAQ,KACpCC,EAA8B,EAAQ,MACtCpM,EAAW,EAAQ,MAEnBp8D,EAASu8D,EAAY,GAAGv8D,QAG5BY,EAAO+5D,QAAUuG,EAAW,UAAW,YAAc,SAAiBjG,GACpE,IAAI7nE,EAAOm1E,EAA0BrhE,EAAEk1D,EAASnB,IAC5Cz0B,EAAwBgiC,EAA4BthE,EACxD,OAAOs/B,EAAwBxmC,EAAO5M,EAAMozC,EAAsBy0B,IAAO7nE,CAC3E,C,sBCbA,IAAIgpE,EAAW,EAAQ,MAIvBx7D,EAAO+5D,QAAU,WACf,IAAIwE,EAAO/C,EAASvuE,MAChBrF,EAAS,GASb,OARI22E,EAAKsJ,aAAYjgF,GAAU,KAC3B22E,EAAK96E,SAAQmE,GAAU,KACvB22E,EAAKuJ,aAAYlgF,GAAU,KAC3B22E,EAAKwJ,YAAWngF,GAAU,KAC1B22E,EAAKyJ,SAAQpgF,GAAU,KACvB22E,EAAK0J,UAASrgF,GAAU,KACxB22E,EAAK2J,cAAatgF,GAAU,KAC5B22E,EAAK4J,SAAQvgF,GAAU,KACpBA,CACT,C,uBChBA,IAAIs3E,EAAoB,EAAQ,MAE5B/E,EAAa1xE,UAIjBuX,EAAO+5D,QAAU,SAAUM,GACzB,GAAI6E,EAAkB7E,GAAK,MAAM,IAAIF,EAAW,wBAA0BE,GAC1E,OAAOA,CACT,C,uBCTA,IAAI+N,EAAa,EAAQ,MACrBC,EAAU,EAAQ,KAElBl4E,EAAMi4E,EAAWj4E,IACjBC,EAAMg4E,EAAWh4E,IAErB4P,EAAO+5D,QAAU,SAAUppE,GACzB,IAAI/I,EAAS,IAAIuI,EAIjB,OAHAk4E,EAAQ13E,GAAK,SAAU0pE,GACrBjqE,EAAIxI,EAAQyyE,EACd,IACOzyE,CACT,C,uBCZA,IAAI0gF,EAAO,EAAQ,MACfF,EAAa,EAAQ,MACrB57B,EAAQ,EAAQ,MAChB9mC,EAAO,EAAQ,KACf6iE,EAAe,EAAQ,MACvBC,EAAa,EAAQ,KACrBC,EAAgB,EAAQ,MAExBn4E,EAAM83E,EAAW93E,IACjB60C,EAASijC,EAAWjjC,OAIxBnlC,EAAO+5D,QAAU,SAAoB2O,GACnC,IAAIhgF,EAAI4/E,EAAKr7E,MACT07E,EAAWJ,EAAaG,GACxB9gF,EAAS4kD,EAAM9jD,GAOnB,OANIgd,EAAKhd,IAAMigF,EAASjjE,KAAM8iE,EAAW9/E,GAAG,SAAUoC,GAChD69E,EAASrgF,SAASwC,IAAIq6C,EAAOv9C,EAAQkD,EAC3C,IACK29E,EAAcE,EAASzI,eAAe,SAAUp1E,GAC/CwF,EAAI5H,EAAGoC,IAAIq6C,EAAOv9C,EAAQkD,EAChC,IACOlD,CACT,C,uBCxBA,IAAI+zE,EAAc,EAAQ,MAGtBiN,EAAez4E,IAAI7L,UAEvB0b,EAAO+5D,QAAU,CAEf5pE,IAAKA,IACLC,IAAKurE,EAAYiN,EAAax4E,KAC9BE,IAAKqrE,EAAYiN,EAAat4E,KAC9B60C,OAAQw2B,EAAYiN,EAAa,WACjC12E,MAAO02E,E,uBCXT,IAAIN,EAAO,EAAQ,MACfF,EAAa,EAAQ,MACrB1iE,EAAO,EAAQ,KACf6iE,EAAe,EAAQ,MACvBC,EAAa,EAAQ,KACrBC,EAAgB,EAAQ,MAExBt4E,EAAMi4E,EAAWj4E,IACjBC,EAAMg4E,EAAWh4E,IACjBE,EAAM83E,EAAW93E,IAIrB0P,EAAO+5D,QAAU,SAAsB2O,GACrC,IAAIhgF,EAAI4/E,EAAKr7E,MACT07E,EAAWJ,EAAaG,GACxB9gF,EAAS,IAAIuI,EAYjB,OAVIuV,EAAKhd,GAAKigF,EAASjjE,KACrB+iE,EAAcE,EAASzI,eAAe,SAAUp1E,GAC1CwF,EAAI5H,EAAGoC,IAAIsF,EAAIxI,EAAQkD,EAC7B,IAEA09E,EAAW9/E,GAAG,SAAUoC,GAClB69E,EAASrgF,SAASwC,IAAIsF,EAAIxI,EAAQkD,EACxC,IAGKlD,CACT,C,uBC7BA,IAAI0gF,EAAO,EAAQ,MACfh4E,EAAM,YACNoV,EAAO,EAAQ,KACf6iE,EAAe,EAAQ,MACvBC,EAAa,EAAQ,KACrBC,EAAgB,EAAQ,MACxBhN,EAAgB,EAAQ,MAI5Bz7D,EAAO+5D,QAAU,SAAwB2O,GACvC,IAAIhgF,EAAI4/E,EAAKr7E,MACT07E,EAAWJ,EAAaG,GAC5B,GAAIhjE,EAAKhd,IAAMigF,EAASjjE,KAAM,OAEjB,IAFwB8iE,EAAW9/E,GAAG,SAAUoC,GAC3D,GAAI69E,EAASrgF,SAASwC,GAAI,OAAO,CACnC,IAAG,GACH,IAAI+xC,EAAW8rC,EAASzI,cACxB,OAEO,IAFAuI,EAAc5rC,GAAU,SAAU/xC,GACvC,GAAIwF,EAAI5H,EAAGoC,GAAI,OAAO2wE,EAAc5+B,EAAU,UAAU,EAC1D,GACF,C,uBCpBA,IAAIyrC,EAAO,EAAQ,MACf5iE,EAAO,EAAQ,KACf2iE,EAAU,EAAQ,KAClBE,EAAe,EAAQ,MAI3BvoE,EAAO+5D,QAAU,SAAoB2O,GACnC,IAAIhgF,EAAI4/E,EAAKr7E,MACT07E,EAAWJ,EAAaG,GAC5B,QAAIhjE,EAAKhd,GAAKigF,EAASjjE,QAGV,IAFN2iE,EAAQ3/E,GAAG,SAAUoC,GAC1B,IAAK69E,EAASrgF,SAASwC,GAAI,OAAO,CACpC,IAAG,EACL,C,uBCdA,IAAIw9E,EAAO,EAAQ,MACfh4E,EAAM,YACNoV,EAAO,EAAQ,KACf6iE,EAAe,EAAQ,MACvBE,EAAgB,EAAQ,MACxBhN,EAAgB,EAAQ,MAI5Bz7D,EAAO+5D,QAAU,SAAsB2O,GACrC,IAAIhgF,EAAI4/E,EAAKr7E,MACT07E,EAAWJ,EAAaG,GAC5B,GAAIhjE,EAAKhd,GAAKigF,EAASjjE,KAAM,OAAO,EACpC,IAAIm3B,EAAW8rC,EAASzI,cACxB,OAEO,IAFAuI,EAAc5rC,GAAU,SAAU/xC,GACvC,IAAKwF,EAAI5H,EAAGoC,GAAI,OAAO2wE,EAAc5+B,EAAU,UAAU,EAC3D,GACF,C,sBCjBA,IAAI8+B,EAAc,EAAQ,MACtB8M,EAAgB,EAAQ,MACxBL,EAAa,EAAQ,MAErBj4E,EAAMi4E,EAAWj4E,IACjBy4E,EAAeR,EAAWl2E,MAC1BnG,EAAU4vE,EAAYiN,EAAa78E,SACnCyG,EAAOmpE,EAAYiN,EAAap2E,MAChCjB,EAAOiB,EAAK,IAAIrC,GAAOoB,KAE3ByO,EAAO+5D,QAAU,SAAUppE,EAAKjH,EAAIm/E,GAClC,OAAOA,EAAgBJ,EAAc,CAAE5rC,SAAUrqC,EAAK7B,GAAMY,KAAMA,GAAQ7H,GAAMqC,EAAQ4E,EAAKjH,EAC/F,C,uBCZA,IAAI42E,EAAa,EAAQ,IAErBwI,EAAgB,SAAUpjE,GAC5B,MAAO,CACLA,KAAMA,EACNpV,IAAK,WACH,OAAO,CACT,EACAkC,KAAM,WACJ,MAAO,CACLjB,KAAM,WACJ,MAAO,CAAEyvC,MAAM,EACjB,EAEJ,EAEJ,EAEI+nC,EAAgC,SAAUrjE,GAC5C,MAAO,CACLA,KAAMA,EACNpV,IAAK,WACH,OAAO,CACT,EACAkC,KAAM,WACJ,MAAM,IAAI8B,MAAM,IAClB,EAEJ,EAEA0L,EAAO+5D,QAAU,SAAUr0E,EAAMgI,GAC/B,IAAIyC,EAAMmwE,EAAW,OACrB,KACE,IAAInwE,GAAMzK,GAAMojF,EAAc,IAC9B,IAIE,OADA,IAAI34E,GAAMzK,GAAMojF,GAAe,KACxB,CACT,CAAE,MAAOE,GACP,IAAKt7E,EAAU,OAAO,EAGtB,IAEE,OADA,IAAIyC,GAAMzK,GAAMqjF,GAA+B/jC,OACxC,CACT,CAAE,MAAO17C,GACP,IAAIqH,EAAM,IAAIR,EAGd,OAFAQ,EAAIP,IAAI,GACRO,EAAIP,IAAI,GACD1C,EAASiD,EAAIjL,GAAMqjF,EAA8B/jC,MAC1D,CACF,CACF,CAAE,MAAO17C,GACP,OAAO,CACT,CACF,C,sBCxDA,IAAI2/E,EAAsB,EAAQ,MAC9Bb,EAAa,EAAQ,MAEzBpoE,EAAO+5D,QAAUkP,EAAoBb,EAAWl2E,MAAO,OAAQ,QAAU,SAAUvB,GACjF,OAAOA,EAAI+U,IACb,C,sBCLA,IAAI4iE,EAAO,EAAQ,MACfF,EAAa,EAAQ,MACrB57B,EAAQ,EAAQ,MAChB+7B,EAAe,EAAQ,MACvBE,EAAgB,EAAQ,MAExBr4E,EAAMg4E,EAAWh4E,IACjBE,EAAM83E,EAAW93E,IACjB60C,EAASijC,EAAWjjC,OAIxBnlC,EAAO+5D,QAAU,SAA6B2O,GAC5C,IAAIhgF,EAAI4/E,EAAKr7E,MACTi8E,EAAWX,EAAaG,GAAOxI,cAC/Bt4E,EAAS4kD,EAAM9jD,GAKnB,OAJA+/E,EAAcS,GAAU,SAAUp+E,GAC5BwF,EAAI5H,EAAGoC,GAAIq6C,EAAOv9C,EAAQkD,GACzBsF,EAAIxI,EAAQkD,EACnB,IACOlD,CACT,C,sBCrBA,IAAI0gF,EAAO,EAAQ,MACfl4E,EAAM,YACNo8C,EAAQ,EAAQ,MAChB+7B,EAAe,EAAQ,MACvBE,EAAgB,EAAQ,MAI5BzoE,EAAO+5D,QAAU,SAAe2O,GAC9B,IAAIhgF,EAAI4/E,EAAKr7E,MACTi8E,EAAWX,EAAaG,GAAOxI,cAC/Bt4E,EAAS4kD,EAAM9jD,GAInB,OAHA+/E,EAAcS,GAAU,SAAU7O,GAChCjqE,EAAIxI,EAAQyyE,EACd,IACOzyE,CACT,C,uBChBA,IAAI+4E,EAAS,EAAQ,MACjB34B,EAAM,EAAQ,MAEdx1C,EAAOmuE,EAAO,QAElB3gE,EAAO+5D,QAAU,SAAUjrE,GACzB,OAAO0D,EAAK1D,KAAS0D,EAAK1D,GAAOk5C,EAAIl5C,GACvC,C,uBCPA,IAAIy1E,EAAU,EAAQ,MAClB/gF,EAAa,EAAQ,MACrBq5E,EAAuB,EAAQ,MAE/BsM,EAAS,qBACT5I,EAAQvgE,EAAO+5D,QAAUv2E,EAAW2lF,IAAWtM,EAAqBsM,EAAQ,CAAC,IAEhF5I,EAAMjD,WAAaiD,EAAMjD,SAAW,KAAKztE,KAAK,CAC7CxM,QAAS,SACTstB,KAAM4zD,EAAU,OAAS,SACzB6E,UAAW,4CACXC,QAAS,2DACTpsE,OAAQ,uC,uBCZV,IAAIsjE,EAAQ,EAAQ,MAEpBvgE,EAAO+5D,QAAU,SAAUjrE,EAAKnK,GAC9B,OAAO47E,EAAMzxE,KAASyxE,EAAMzxE,GAAOnK,GAAS,CAAC,EAC/C,C,uBCHA,IAAI2kF,EAAa,EAAQ,MACrB/M,EAAQ,EAAQ,MAChB/4E,EAAa,EAAQ,MAErBm3E,EAAUn3E,EAAWu7C,OAGzB/+B,EAAO+5D,UAAY/1E,OAAO4hD,wBAA0B22B,GAAM,WACxD,IAAIgN,EAASl7D,OAAO,oBAKpB,OAAQssD,EAAQ4O,MAAavlF,OAAOulF,aAAmBl7D,UAEpDA,OAAO+vD,MAAQkL,GAAcA,EAAa,EAC/C,G,uBCjBA,IAAI3J,EAAsB,EAAQ,MAE9B52E,EAAMD,KAAKC,IACXs9D,EAAMv9D,KAAKu9D,IAKfrmD,EAAO+5D,QAAU,SAAU5tE,EAAOnG,GAChC,IAAIwjF,EAAU7J,EAAoBxzE,GAClC,OAAOq9E,EAAU,EAAIzgF,EAAIygF,EAAUxjF,EAAQ,GAAKqgE,EAAImjB,EAASxjF,EAC/D,C,uBCVA,IAAIyjF,EAAgB,EAAQ,MACxBC,EAAyB,EAAQ,MAErC1pE,EAAO+5D,QAAU,SAAUM,GACzB,OAAOoP,EAAcC,EAAuBrP,GAC9C,C,uBCNA,IAAI6K,EAAQ,EAAQ,MAIpBllE,EAAO+5D,QAAU,SAAUK,GACzB,IAAI5O,GAAU4O,EAEd,OAAO5O,IAAWA,GAAqB,IAAXA,EAAe,EAAI0Z,EAAM1Z,EACvD,C,sBCRA,IAAImU,EAAsB,EAAQ,MAE9BtZ,EAAMv9D,KAAKu9D,IAIfrmD,EAAO+5D,QAAU,SAAUK,GACzB,IAAIzxE,EAAMg3E,EAAoBvF,GAC9B,OAAOzxE,EAAM,EAAI09D,EAAI19D,EAAK,kBAAoB,CAChD,C,uBCTA,IAAI+gF,EAAyB,EAAQ,MAEjC1N,EAAUh4E,OAIdgc,EAAO+5D,QAAU,SAAUK,GACzB,OAAO4B,EAAQ0N,EAAuBtP,GACxC,C,uBCRA,IAAIx1E,EAAO,EAAQ,MACfU,EAAW,EAAQ,MACnB42C,EAAW,EAAQ,MACnB+iC,EAAY,EAAQ,MACpB0K,EAAsB,EAAQ,MAC9BrP,EAAkB,EAAQ,MAE1BH,EAAa1xE,UACbmhF,EAAetP,EAAgB,eAInCt6D,EAAO+5D,QAAU,SAAU/+C,EAAOysD,GAChC,IAAKniF,EAAS01B,IAAUkhB,EAASlhB,GAAQ,OAAOA,EAChD,IACIpzB,EADAiiF,EAAe5K,EAAUjkD,EAAO4uD,GAEpC,GAAIC,EAAc,CAGhB,QAFa9kF,IAAT0iF,IAAoBA,EAAO,WAC/B7/E,EAAShD,EAAKilF,EAAc7uD,EAAOysD,IAC9BniF,EAASsC,IAAWs0C,EAASt0C,GAAS,OAAOA,EAClD,MAAM,IAAIuyE,EAAW,0CACvB,CAEA,YADap1E,IAAT0iF,IAAoBA,EAAO,UACxBkC,EAAoB3uD,EAAOysD,EACpC,C,uBCxBA,IAAIqC,EAAc,EAAQ,MACtB5tC,EAAW,EAAQ,MAIvBl8B,EAAO+5D,QAAU,SAAUK,GACzB,IAAItrE,EAAMg7E,EAAY1P,EAAU,UAChC,OAAOl+B,EAASptC,GAAOA,EAAMA,EAAM,EACrC,C,uBCRA,IAAIwrE,EAAkB,EAAQ,MAE1ByB,EAAgBzB,EAAgB,eAChCr0E,EAAO,CAAC,EAEZA,EAAK81E,GAAiB,IAEtB/7D,EAAO+5D,QAA2B,eAAjBh7B,OAAO94C,E,uBCPxB,IAAI+4E,EAAU,EAAQ,MAElBrE,EAAU57B,OAEd/+B,EAAO+5D,QAAU,SAAUK,GACzB,GAA0B,WAAtB4E,EAAQ5E,GAAwB,MAAM,IAAI3xE,UAAU,6CACxD,OAAOkyE,EAAQP,EACjB,C,mBCPA,IAAIO,EAAU57B,OAEd/+B,EAAO+5D,QAAU,SAAUK,GACzB,IACE,OAAOO,EAAQP,EACjB,CAAE,MAAO9wE,GACP,MAAO,QACT,CACF,C,uBCRA,IAAIqyE,EAAc,EAAQ,MAEtB/yC,EAAK,EACLmhD,EAAUjhF,KAAK6D,SACfpI,EAAWo3E,EAAY,GAAIp3E,UAE/Byb,EAAO+5D,QAAU,SAAUjrE,GACzB,MAAO,gBAAqB/J,IAAR+J,EAAoB,GAAKA,GAAO,KAAOvK,IAAWqkC,EAAKmhD,EAAS,GACtF,C,sBCPA,IAAIC,EAAgB,EAAQ,MAE5BhqE,EAAO+5D,QAAUiQ,IACd37D,OAAO+vD,MACkB,iBAAnB/vD,OAAOwuB,Q,uBCLhB,IAAIu+B,EAAc,EAAQ,MACtBmB,EAAQ,EAAQ,MAIpBv8D,EAAO+5D,QAAUqB,GAAemB,GAAM,WAEpC,OAGiB,KAHVv4E,OAAOE,gBAAe,WAA0B,GAAG,YAAa,CACrES,MAAO,GACP+lB,UAAU,IACTpmB,SACL,G,kBCXA,IAAI61E,EAAa1xE,UAEjBuX,EAAO+5D,QAAU,SAAUkQ,EAAQC,GACjC,GAAID,EAASC,EAAU,MAAM,IAAI/P,EAAW,wBAC5C,OAAO8P,CACT,C,uBCLA,IAAIzmF,EAAa,EAAQ,MACrBy2E,EAAa,EAAQ,MAErBrtC,EAAUppC,EAAWopC,QAEzB5sB,EAAO+5D,QAAUE,EAAWrtC,IAAY,cAAc3mC,KAAK84C,OAAOnS,G,uBCLlE,IAAIppC,EAAa,EAAQ,MACrBm9E,EAAS,EAAQ,MACjBzgC,EAAS,EAAQ,MACjB8H,EAAM,EAAQ,MACdgiC,EAAgB,EAAQ,MACxBpI,EAAoB,EAAQ,KAE5BvzD,EAAS7qB,EAAW6qB,OACpB87D,EAAwBxJ,EAAO,OAC/ByJ,EAAwBxI,EAAoBvzD,EAAO,QAAUA,EAASA,GAAUA,EAAOg8D,eAAiBriC,EAE5GhoC,EAAO+5D,QAAU,SAAUr0E,GAKvB,OAJGw6C,EAAOiqC,EAAuBzkF,KACjCykF,EAAsBzkF,GAAQskF,GAAiB9pC,EAAO7xB,EAAQ3oB,GAC1D2oB,EAAO3oB,GACP0kF,EAAsB,UAAY1kF,IAC/BykF,EAAsBzkF,EACjC,C,uBCjBA,IAAI2sD,EAAI,EAAQ,MACZguB,EAAW,EAAQ,MACnBzF,EAAoB,EAAQ,MAC5B0P,EAAiB,EAAQ,MACzBC,EAA2B,EAAQ,MACnChO,EAAQ,EAAQ,MAEhBiO,EAAsBjO,GAAM,WAC9B,OAAoD,aAA7C,GAAG1sE,KAAKjL,KAAK,CAAEoB,OAAQ,YAAe,EAC/C,IAIIykF,EAAiC,WACnC,IAEEzmF,OAAOE,eAAe,GAAI,SAAU,CAAEwmB,UAAU,IAAS7a,MAC3D,CAAE,MAAOvG,GACP,OAAOA,aAAiBb,SAC1B,CACF,EAEIk1E,EAAS6M,IAAwBC,IAIrCp4B,EAAE,CAAEvtD,OAAQ,QAASoN,OAAO,EAAM6yE,MAAO,EAAG5G,OAAQR,GAAU,CAE5D9tE,KAAM,SAAc7C,GAClB,IAAItE,EAAI23E,EAASpzE,MACbtE,EAAMiyE,EAAkBlyE,GACxBgiF,EAAWztC,UAAUj3C,OACzBukF,EAAyB5hF,EAAM+hF,GAC/B,IAAK,IAAI7hF,EAAI,EAAGA,EAAI6hF,EAAU7hF,IAC5BH,EAAEC,GAAOs0C,UAAUp0C,GACnBF,IAGF,OADA2hF,EAAe5hF,EAAGC,GACXA,CACT,G,uBCvCF,IAAI0pD,EAAI,EAAQ,MACZs4B,EAAkB,EAAQ,MAC1B5P,EAAkB,EAAQ,MAC1B6P,EAAmB,EAAQ,MAE3BC,EAAS/mF,MAIbuuD,EAAE,CAAEvtD,OAAQ,QAASoN,OAAO,GAAQ,CAClC0rC,WAAY,WACV,OAAO+sC,EAAgB5P,EAAgB9tE,MAAO49E,EAChD,IAGFD,EAAiB,a,uBCfjB,IAAIv4B,EAAI,EAAQ,MACZspB,EAAc,EAAQ,MACtB0C,EAAY,EAAQ,MACpBtD,EAAkB,EAAQ,MAC1B+P,EAA8B,EAAQ,MACtCC,EAA4B,EAAQ,MACpCH,EAAmB,EAAQ,MAE3BC,EAAS/mF,MACTqkD,EAAOwzB,EAAYoP,EAA0B,QAAS,SAI1D14B,EAAE,CAAEvtD,OAAQ,QAASoN,OAAO,GAAQ,CAClC2rC,SAAU,SAAkBmtC,QACRjmF,IAAdimF,GAAyB3M,EAAU2M,GACvC,IAAItiF,EAAIqyE,EAAgB9tE,MACpBsuE,EAAIuP,EAA4BD,EAAQniF,GAC5C,OAAOy/C,EAAKozB,EAAGyP,EACjB,IAGFJ,EAAiB,W,uBCtBjB,IAAIv4B,EAAI,EAAQ,MACZu4B,EAAmB,EAAQ,MAC3BL,EAA2B,EAAQ,MACnC3P,EAAoB,EAAQ,MAC5BI,EAAkB,EAAQ,MAC1BD,EAAkB,EAAQ,MAC1B4E,EAAsB,EAAQ,MAE9BkL,EAAS/mF,MACTiF,EAAMD,KAAKC,IACXs9D,EAAMv9D,KAAKu9D,IAIfhU,EAAE,CAAEvtD,OAAQ,QAASoN,OAAO,GAAQ,CAClC6rC,UAAW,SAAmBthB,EAAOwuD,GACnC,IAKIC,EAAaC,EAAmBC,EAAQ7P,EALxC7yE,EAAIqyE,EAAgB9tE,MACpBtE,EAAMiyE,EAAkBlyE,GACxB2iF,EAAcrQ,EAAgBv+C,EAAO9zB,GACrC2iF,EAAkBruC,UAAUj3C,OAC5BgpD,EAAI,EAcR,IAZwB,IAApBs8B,EACFJ,EAAcC,EAAoB,EACL,IAApBG,GACTJ,EAAc,EACdC,EAAoBxiF,EAAM0iF,IAE1BH,EAAcI,EAAkB,EAChCH,EAAoB9kB,EAAIt9D,EAAI42E,EAAoBsL,GAAc,GAAItiF,EAAM0iF,IAE1ED,EAASb,EAAyB5hF,EAAMuiF,EAAcC,GACtD5P,EAAIsP,EAAOO,GAEJp8B,EAAIq8B,EAAar8B,IAAKusB,EAAEvsB,GAAKtmD,EAAEsmD,GACtC,KAAOA,EAAIq8B,EAAcH,EAAal8B,IAAKusB,EAAEvsB,GAAK/R,UAAU+R,EAAIq8B,EAAc,GAC9E,KAAOr8B,EAAIo8B,EAAQp8B,IAAKusB,EAAEvsB,GAAKtmD,EAAEsmD,EAAIm8B,EAAoBD,GAEzD,OAAO3P,CACT,IAGFqP,EAAiB,Y,uBC1CjB,IAAIv4B,EAAI,EAAQ,MACZ7uD,EAAa,EAAQ,MACrB+nF,EAAa,EAAQ,MACrB/P,EAAW,EAAQ,MACnBvB,EAAa,EAAQ,MACrB9nE,EAAiB,EAAQ,MACzBq5E,EAAwB,EAAQ,MAChCC,EAAiB,EAAQ,MACzBlP,EAAQ,EAAQ,MAChBr8B,EAAS,EAAQ,MACjBo6B,EAAkB,EAAQ,MAC1B4I,EAAoB,0BACpB9H,EAAc,EAAQ,MACtBmJ,EAAU,EAAQ,MAElB1F,EAAc,cACdO,EAAW,WACXrD,EAAgBzB,EAAgB,eAEhCH,EAAa1xE,UACbijF,EAAiBloF,EAAW47E,GAG5BzB,EAAS4G,IACPtK,EAAWyR,IACZA,EAAepnF,YAAc4+E,IAE5B3G,GAAM,WAAcmP,EAAe,CAAC,EAAI,IAE1CC,EAAsB,WAExB,GADAJ,EAAWt+E,KAAMi2E,GACb/wE,EAAelF,QAAUi2E,EAAmB,MAAM,IAAI/I,EAAW,qDACvE,EAEIyR,EAAkC,SAAU98E,EAAKnK,GAC/Cy2E,EACFoQ,EAAsBtI,EAAmBp0E,EAAK,CAC5CuV,cAAc,EACdzT,IAAK,WACH,OAAOjM,CACT,EACAgM,IAAK,SAAU2wE,GAEb,GADA9F,EAASvuE,MACLA,OAASi2E,EAAmB,MAAM,IAAI/I,EAAW,oCACjDj6B,EAAOjzC,KAAM6B,GAAM7B,KAAK6B,GAAOwyE,EAC9BmK,EAAex+E,KAAM6B,EAAKwyE,EACjC,IAEG4B,EAAkBp0E,GAAOnK,CAClC,EAEKu7C,EAAOgjC,EAAmBnH,IAAgB6P,EAAgC7P,EAAeqD,IAE1FzB,GAAWz9B,EAAOgjC,EAAmBrE,IAAgBqE,EAAkBrE,KAAiB76E,QAC1F4nF,EAAgC/M,EAAa8M,GAG/CA,EAAoBrnF,UAAY4+E,EAIhC7wB,EAAE,CAAE5uD,QAAQ,EAAMqC,aAAa,EAAMq4E,OAAQR,GAAU,CACrDkO,SAAUF,G,uBC9DZ,IAAIt5B,EAAI,EAAQ,MACZg2B,EAAU,EAAQ,MAClBhK,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnBoE,EAAoB,EAAQ,MAIhCvtB,EAAE,CAAEvtD,OAAQ,WAAYoN,OAAO,EAAM45E,MAAM,GAAQ,CACjD/uC,MAAO,SAAegvC,GACpBvQ,EAASvuE,MACToxE,EAAU0N,GACV,IAAIp+D,EAASiyD,EAAkB3yE,MAC3Bg3E,EAAU,EACd,OAAQoE,EAAQ16D,GAAQ,SAAUhpB,EAAO24B,GACvC,IAAKyuD,EAAUpnF,EAAOs/E,KAAY,OAAO3mD,GAC3C,GAAG,CAAEklD,WAAW,EAAME,aAAa,IAAQR,OAC7C,G,uBCjBF,IAAI7vB,EAAI,EAAQ,MACZztD,EAAO,EAAQ,MACfy5E,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnBoE,EAAoB,EAAQ,MAC5BsE,EAAsB,EAAQ,MAC9BC,EAA+B,EAAQ,MACvCI,EAAU,EAAQ,MAElBP,EAAgBE,GAAoB,WACtC,IAGIt8E,EAAQo5C,EAAMr8C,EAHdk4C,EAAW5vC,KAAK4vC,SAChBkvC,EAAY9+E,KAAK8+E,UACjBx6E,EAAOtE,KAAKsE,KAEhB,MAAO,EAAM,CAGX,GAFA3J,EAAS4zE,EAAS52E,EAAK2M,EAAMsrC,IAC7BmE,EAAO/zC,KAAK+zC,OAASp5C,EAAOo5C,KACxBA,EAAM,OAEV,GADAr8C,EAAQiD,EAAOjD,MACXw/E,EAA6BtnC,EAAUkvC,EAAW,CAACpnF,EAAOsI,KAAKg3E,YAAY,GAAO,OAAOt/E,CAC/F,CACF,IAIA0tD,EAAE,CAAEvtD,OAAQ,WAAYoN,OAAO,EAAM45E,MAAM,EAAM3N,OAAQoG,GAAW,CAClEx3E,OAAQ,SAAgBg/E,GAGtB,OAFAvQ,EAASvuE,MACToxE,EAAU0N,GACH,IAAI/H,EAAcpE,EAAkB3yE,MAAO,CAChD8+E,UAAWA,GAEf,G,uBChCF,IAAI15B,EAAI,EAAQ,MACZg2B,EAAU,EAAQ,MAClBhK,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnBoE,EAAoB,EAAQ,MAIhCvtB,EAAE,CAAEvtD,OAAQ,WAAYoN,OAAO,EAAM45E,MAAM,GAAQ,CACjD//E,QAAS,SAAiBrC,GACxB8xE,EAASvuE,MACToxE,EAAU30E,GACV,IAAIikB,EAASiyD,EAAkB3yE,MAC3Bg3E,EAAU,EACdoE,EAAQ16D,GAAQ,SAAUhpB,GACxB+E,EAAG/E,EAAOs/E,IACZ,GAAG,CAAEzB,WAAW,GAClB,G,uBCjBF,IAAInwB,EAAI,EAAQ,MACZx0C,EAAM,EAAQ,MACd0mE,EAAU,EAAQ,MAItBlyB,EAAE,CAAEvtD,OAAQ,WAAYoN,OAAO,EAAM45E,MAAM,EAAM3N,OAAQoG,GAAW,CAClE1mE,IAAKA,G,uBCPP,IAAIw0C,EAAI,EAAQ,MACZg2B,EAAU,EAAQ,MAClBhK,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnBoE,EAAoB,EAAQ,MAE5BzF,EAAa1xE,UAIjB4pD,EAAE,CAAEvtD,OAAQ,WAAYoN,OAAO,EAAM45E,MAAM,GAAQ,CACjDz6E,OAAQ,SAAgB26E,GACtBxQ,EAASvuE,MACToxE,EAAU2N,GACV,IAAIr+D,EAASiyD,EAAkB3yE,MAC3Bg/E,EAAYhvC,UAAUj3C,OAAS,EAC/BkmF,EAAcD,OAAYlnF,EAAYk4C,UAAU,GAChDgnC,EAAU,EAUd,GATAoE,EAAQ16D,GAAQ,SAAUhpB,GACpBsnF,GACFA,GAAY,EACZC,EAAcvnF,GAEdunF,EAAcF,EAAQE,EAAavnF,EAAOs/E,GAE5CA,GACF,GAAG,CAAEzB,WAAW,IACZyJ,EAAW,MAAM,IAAI9R,EAAW,kDACpC,OAAO+R,CACT,G,sBC7BF,IAAI75B,EAAI,EAAQ,MACZg2B,EAAU,EAAQ,MAClBhK,EAAY,EAAQ,MACpB7C,EAAW,EAAQ,MACnBoE,EAAoB,EAAQ,MAIhCvtB,EAAE,CAAEvtD,OAAQ,WAAYoN,OAAO,EAAM45E,MAAM,GAAQ,CACjD3pE,KAAM,SAAc4pE,GAClBvQ,EAASvuE,MACToxE,EAAU0N,GACV,IAAIp+D,EAASiyD,EAAkB3yE,MAC3Bg3E,EAAU,EACd,OAAOoE,EAAQ16D,GAAQ,SAAUhpB,EAAO24B,GACtC,GAAIyuD,EAAUpnF,EAAOs/E,KAAY,OAAO3mD,GAC1C,GAAG,CAAEklD,WAAW,EAAME,aAAa,IAAQR,OAC7C,G,uBCjBF,IAAI1+E,EAAa,EAAQ,MACrB43E,EAAc,EAAQ,MACtBoQ,EAAwB,EAAQ,MAChCW,EAAc,EAAQ,KACtB5P,EAAQ,EAAQ,MAGhBvjE,EAASxV,EAAWwV,OACpBozE,EAAkBpzE,EAAO1U,UAEzBq5E,EAASvC,GAAemB,GAAM,WAChC,IAAI8P,GAAkB,EACtB,IACErzE,EAAO,IAAK,IACd,CAAE,MAAO1P,GACP+iF,GAAkB,CACpB,CAEA,IAAI3jF,EAAI,CAAC,EAEL4jF,EAAQ,GACRC,EAAWF,EAAkB,SAAW,QAExCG,EAAY,SAAU19E,EAAK29E,GAE7BzoF,OAAOE,eAAewE,EAAGoG,EAAK,CAAE8B,IAAK,WAEnC,OADA07E,GAASG,GACF,CACT,GACF,EAEIC,EAAQ,CACV1E,OAAQ,IACRvkF,OAAQ,IACRqkF,WAAY,IACZC,UAAW,IACXI,OAAQ,KAKV,IAAK,IAAIr5E,KAFLu9E,IAAiBK,EAAM7E,WAAa,KAExB6E,EAAOF,EAAU19E,EAAK49E,EAAM59E,IAG5C,IAAIlH,EAAS5D,OAAOogB,yBAAyBgoE,EAAiB,SAASx7E,IAAIhM,KAAK8D,GAEhF,OAAOd,IAAW2kF,GAAYD,IAAUC,CAC1C,IAII5O,GAAQ6N,EAAsBY,EAAiB,QAAS,CAC1D/nE,cAAc,EACdzT,IAAKu7E,G,uBCrDP,IAAI95B,EAAI,EAAQ,MACZs6B,EAAa,EAAQ,MACrBC,EAAyB,EAAQ,MAEjCC,GAAaD,EAAuB,cAAc,SAAUhlF,GAC9D,OAAuB,IAAhBA,EAAO8d,IAChB,IAIA2sC,EAAE,CAAEvtD,OAAQ,MAAOoN,OAAO,EAAM45E,MAAM,EAAM3N,OAAQ0O,GAAa,CAC/DF,WAAYA,G,sBCXd,IAAIt6B,EAAI,EAAQ,MACZkqB,EAAQ,EAAQ,MAChBuQ,EAAe,EAAQ,MACvBF,EAAyB,EAAQ,MAEjCC,GAAaD,EAAuB,gBAAgB,SAAUhlF,GAChE,OAAuB,IAAhBA,EAAO8d,MAAc9d,EAAO0I,IAAI,IAAM1I,EAAO0I,IAAI,EAC1D,KAAMisE,GAAM,WAEV,MAAgF,QAAzEx9B,OAAOj7C,MAAM6Z,KAAK,IAAIxN,IAAI,CAAC,EAAG,EAAG,IAAI28E,aAAa,IAAI38E,IAAI,CAAC,EAAG,MACvE,IAIAkiD,EAAE,CAAEvtD,OAAQ,MAAOoN,OAAO,EAAM45E,MAAM,EAAM3N,OAAQ0O,GAAa,CAC/DC,aAAcA,G,uBCfhB,IAAIz6B,EAAI,EAAQ,MACZ06B,EAAiB,EAAQ,MACzBH,EAAyB,EAAQ,MAEjCC,GAAaD,EAAuB,kBAAkB,SAAUhlF,GAClE,OAAQA,CACV,IAIAyqD,EAAE,CAAEvtD,OAAQ,MAAOoN,OAAO,EAAM45E,MAAM,EAAM3N,OAAQ0O,GAAa,CAC/DE,eAAgBA,G,sBCXlB,IAAI16B,EAAI,EAAQ,MACZ26B,EAAa,EAAQ,MACrBJ,EAAyB,EAAQ,MAEjCC,GAAaD,EAAuB,cAAc,SAAUhlF,GAC9D,OAAOA,CACT,IAIAyqD,EAAE,CAAEvtD,OAAQ,MAAOoN,OAAO,EAAM45E,MAAM,EAAM3N,OAAQ0O,GAAa,CAC/DG,WAAYA,G,sBCXd,IAAI36B,EAAI,EAAQ,MACZ46B,EAAe,EAAQ,MACvBL,EAAyB,EAAQ,MAEjCC,GAAaD,EAAuB,gBAAgB,SAAUhlF,GAChE,OAAQA,CACV,IAIAyqD,EAAE,CAAEvtD,OAAQ,MAAOoN,OAAO,EAAM45E,MAAM,EAAM3N,OAAQ0O,GAAa,CAC/DI,aAAcA,G,uBCXhB,IAAI56B,EAAI,EAAQ,MACZ66B,EAAsB,EAAQ,KAC9BN,EAAyB,EAAQ,MAIrCv6B,EAAE,CAAEvtD,OAAQ,MAAOoN,OAAO,EAAM45E,MAAM,EAAM3N,QAASyO,EAAuB,wBAA0B,CACpGM,oBAAqBA,G,sBCPvB,IAAI76B,EAAI,EAAQ,MACZ86B,EAAQ,EAAQ,KAChBP,EAAyB,EAAQ,MAIrCv6B,EAAE,CAAEvtD,OAAQ,MAAOoN,OAAO,EAAM45E,MAAM,EAAM3N,QAASyO,EAAuB,UAAY,CACtFO,MAAOA,G,uBCNT,EAAQ,K,uBCAR,EAAQ,K,uBCAR,EAAQ,K,sBCAR,EAAQ,K,uBCAR,EAAQ,K,sBCAR,EAAQ,K,uBCAR,EAAQ,I,uBCDR,IAAIjQ,EAAgB,EAAQ,MACxBvB,EAAc,EAAQ,MACtBp3E,EAAW,EAAQ,MACnB6oF,EAA0B,EAAQ,KAElCC,EAAmBC,gBACnBC,EAA2BF,EAAiB/oF,UAC5Cs9B,EAAS+5C,EAAY4R,EAAyB3rD,QAC9C4rD,EAAU7R,EAAY4R,EAAyB,WAC/CxhF,EAAU4vE,EAAY4R,EAAyBxhF,SAC/C8D,EAAO8rE,EAAY,GAAG9rE,MACtB49E,EAAS,IAAIJ,EAAiB,eAElCI,EAAO,UAAU,IAAK,GAGtBA,EAAO,UAAU,SAAK1oF,GAElB0oF,EAAS,KAAO,OAClBvQ,EAAcqQ,EAA0B,UAAU,SAAU7nF,GAC1D,IAAIM,EAASi3C,UAAUj3C,OACnB0nF,EAAS1nF,EAAS,OAAIjB,EAAYk4C,UAAU,GAChD,GAAIj3C,QAAqBjB,IAAX2oF,EAAsB,OAAOF,EAAQvgF,KAAMvH,GACzD,IAAIo3C,EAAU,GACd/wC,EAAQkB,MAAM,SAAUiwC,EAAG8R,GACzBn/C,EAAKitC,EAAS,CAAEhuC,IAAKkgD,EAAGrqD,MAAOu4C,GACjC,IACAkwC,EAAwBpnF,EAAQ,GAChC,IAMI2nF,EANA7+E,EAAMvK,EAASmB,GACff,EAAQJ,EAASmpF,GACjBvhF,EAAQ,EACRyhF,EAAS,EACTC,GAAQ,EACRC,EAAgBhxC,EAAQ92C,OAE5B,MAAOmG,EAAQ2hF,EACbH,EAAQ7wC,EAAQ3wC,KACZ0hF,GAASF,EAAM7+E,MAAQA,GACzB++E,GAAQ,EACRL,EAAQvgF,KAAM0gF,EAAM7+E,MACf8+E,IAET,MAAOA,EAASE,EACdH,EAAQ7wC,EAAQ8wC,KACVD,EAAM7+E,MAAQA,GAAO6+E,EAAMhpF,QAAUA,GAAQi9B,EAAO30B,KAAM0gF,EAAM7+E,IAAK6+E,EAAMhpF,MAErF,GAAG,CAAE8lB,YAAY,EAAMsyD,QAAQ,G,uBC9CjC,IAAIG,EAAgB,EAAQ,MACxBvB,EAAc,EAAQ,MACtBp3E,EAAW,EAAQ,MACnB6oF,EAA0B,EAAQ,KAElCC,EAAmBC,gBACnBC,EAA2BF,EAAiB/oF,UAC5CilB,EAASoyD,EAAY4R,EAAyBhkE,QAC9CwkE,EAAOpS,EAAY4R,EAAyBj9E,KAC5Cm9E,EAAS,IAAIJ,EAAiB,QAI9BI,EAAOn9E,IAAI,IAAK,IAAOm9E,EAAOn9E,IAAI,SAAKvL,IACzCm4E,EAAcqQ,EAA0B,OAAO,SAAa7nF,GAC1D,IAAIM,EAASi3C,UAAUj3C,OACnB0nF,EAAS1nF,EAAS,OAAIjB,EAAYk4C,UAAU,GAChD,GAAIj3C,QAAqBjB,IAAX2oF,EAAsB,OAAOK,EAAK9gF,KAAMvH,GACtD,IAAI8jB,EAASD,EAAOtc,KAAMvH,GAC1B0nF,EAAwBpnF,EAAQ,GAChC,IAAIrB,EAAQJ,EAASmpF,GACjBvhF,EAAQ,EACZ,MAAOA,EAAQqd,EAAOxjB,OACpB,GAAIwjB,EAAOrd,OAAaxH,EAAO,OAAO,EACtC,OAAO,CACX,GAAG,CAAE8lB,YAAY,EAAMsyD,QAAQ,G,uBCzBjC,IAAI3B,EAAc,EAAQ,MACtBO,EAAc,EAAQ,MACtB6P,EAAwB,EAAQ,MAEhC+B,EAA2BD,gBAAgBhpF,UAC3CyH,EAAU4vE,EAAY4R,EAAyBxhF,SAI/CqvE,KAAiB,SAAUmS,IAC7B/B,EAAsB+B,EAA0B,OAAQ,CACtD38E,IAAK,WACH,IAAIo9E,EAAQ,EAEZ,OADAjiF,EAAQkB,MAAM,WAAc+gF,GAAS,IAC9BA,CACT,EACA3pE,cAAc,EACdoG,YAAY,G","sources":["webpack://plugin-iframe/../src/libs/utils.ts","webpack://plugin-iframe/../src/interact/lifecycles_event.ts","webpack://plugin-iframe/../src/source/fetch.ts","webpack://plugin-iframe/../src/source/loader/html.ts","webpack://plugin-iframe/../src/sandbox/scoped_css.ts","webpack://plugin-iframe/../src/source/load_event.ts","webpack://plugin-iframe/../src/source/source_center.ts","webpack://plugin-iframe/../src/constants.ts","webpack://plugin-iframe/../src/source/links.ts","webpack://plugin-iframe/../src/source/scripts.ts","webpack://plugin-iframe/../src/source/index.ts","webpack://plugin-iframe/../src/interact/event_center.ts","webpack://plugin-iframe/../src/interact/index.ts","webpack://plugin-iframe/../src/app_manager.ts","webpack://plugin-iframe/../src/libs/nest_app.ts","webpack://plugin-iframe/../src/sandbox/bind_function.ts","webpack://plugin-iframe/../src/sandbox/adapter.ts","webpack://plugin-iframe/../src/sandbox/with/document.ts","webpack://plugin-iframe/../src/sandbox/with/window.ts","webpack://plugin-iframe/../src/sandbox/router/core.ts","webpack://plugin-iframe/../src/sandbox/router/event.ts","webpack://plugin-iframe/../src/sandbox/router/history.ts","webpack://plugin-iframe/../src/sandbox/router/api.ts","webpack://plugin-iframe/../src/sandbox/router/location.ts","webpack://plugin-iframe/../src/sandbox/router/index.ts","webpack://plugin-iframe/../src/sandbox/request.ts","webpack://plugin-iframe/../src/sandbox/with/index.ts","webpack://plugin-iframe/../src/sandbox/iframe/router.ts","webpack://plugin-iframe/../src/sandbox/iframe/special_key.ts","webpack://plugin-iframe/../src/proxies/worker.ts","webpack://plugin-iframe/../src/sandbox/iframe/window.ts","webpack://plugin-iframe/../src/sandbox/iframe/document.ts","webpack://plugin-iframe/../src/sandbox/iframe/element.ts","webpack://plugin-iframe/../src/sandbox/iframe/index.ts","webpack://plugin-iframe/../src/create_app.ts","webpack://plugin-iframe/../src/source/patch.ts","webpack://plugin-iframe/../src/libs/global_env.ts","webpack://plugin-iframe/../src/micro_app_element.ts","webpack://plugin-iframe/../src/prefetch.ts","webpack://plugin-iframe/../src/micro_app.ts","webpack://plugin-iframe/./node_modules/.pnpm/@vue+reactivity@3.5.13/node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack://plugin-iframe/./node_modules/.pnpm/@vue+runtime-core@3.5.13/node_modules/@vue/runtime-core/dist/runtime-core.esm-bundler.js","webpack://plugin-iframe/./node_modules/.pnpm/@vue+runtime-dom@3.5.13/node_modules/@vue/runtime-dom/dist/runtime-dom.esm-bundler.js","webpack://plugin-iframe/./node_modules/.pnpm/@vue+shared@3.5.13/node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack://plugin-iframe/./node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.5.13_vue@3.5.13_webpack@5.97.1/node_modules/vue-loader/dist/exportHelper.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/a-callable.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/a-set.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/add-to-unscopables.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/an-instance.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/an-object.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/array-from-constructor-and-list.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/array-includes.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/array-set-length.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/array-to-reversed.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/classof-raw.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/classof.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/copy-constructor-properties.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/correct-prototype-getter.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/create-iter-result-object.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/create-non-enumerable-property.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/create-property-descriptor.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/create-property.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/define-built-in-accessor.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/define-built-in.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/define-built-ins.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/define-global-property.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/descriptors.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/document-create-element.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/enum-bug-keys.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/environment-user-agent.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/environment-v8-version.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/export.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/fails.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/function-bind-context.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/function-bind-native.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/function-call.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/function-name.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/function-uncurry-this-accessor.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/function-uncurry-this-clause.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/function-uncurry-this.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/get-built-in-prototype-method.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/get-built-in.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/get-iterator-direct.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/get-iterator-method.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/get-iterator.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/get-method.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/get-set-record.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/global-this.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/has-own-property.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/hidden-keys.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/html.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/ie8-dom-define.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/indexed-object.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/inspect-source.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/internal-state.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-array-iterator-method.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-array.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-callable.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-forced.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-null-or-undefined.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-object.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-pure.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/is-symbol.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/iterate-simple.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/iterate.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/iterator-close.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/iterator-create-proxy.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/iterator-map.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/iterators-core.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/iterators.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/length-of-array-like.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/make-built-in.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/math-trunc.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-create.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-define-properties.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-define-property.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-get-own-property-names.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-get-prototype-of.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-is-prototype-of.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-keys-internal.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-keys.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/object-property-is-enumerable.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/ordinary-to-primitive.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/own-keys.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/regexp-flags.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/require-object-coercible.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-clone.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-difference.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-helpers.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-intersection.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-is-disjoint-from.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-is-subset-of.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-is-superset-of.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-iterate.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-method-accept-set-like.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-size.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-symmetric-difference.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/set-union.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/shared-key.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/shared-store.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/shared.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/symbol-constructor-detection.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-absolute-index.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-indexed-object.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-integer-or-infinity.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-length.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-object.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-primitive.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-property-key.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-string-tag-support.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/to-string.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/try-to-string.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/uid.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/use-symbol-as-uid.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/validate-arguments-length.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/weak-map-basic-detection.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/internals/well-known-symbol.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.array.push.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.array.to-reversed.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.array.to-sorted.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.array.to-spliced.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.iterator.constructor.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.iterator.every.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.iterator.filter.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.iterator.for-each.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.iterator.map.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.iterator.reduce.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.iterator.some.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.regexp.flags.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.set.difference.v2.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.set.intersection.v2.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.set.is-disjoint-from.v2.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.set.is-subset-of.v2.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.set.is-superset-of.v2.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.set.symmetric-difference.v2.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/es.set.union.v2.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/esnext.iterator.constructor.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/esnext.iterator.every.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/esnext.iterator.filter.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/esnext.iterator.for-each.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/esnext.iterator.map.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/esnext.iterator.reduce.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/esnext.iterator.some.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/web.url-search-params.delete.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/web.url-search-params.has.js","webpack://plugin-iframe/./node_modules/.pnpm/core-js@3.40.0/node_modules/core-js/modules/web.url-search-params.size.js"],"sourcesContent":["/* eslint-disable no-new-func, indent, no-self-compare, @typescript-eslint/explicit-module-boundary-types */\nimport type {\n  Func,\n  LocationQueryObject,\n  LocationQueryValue,\n  MicroLocation,\n  AttrsType,\n  fiberTasks,\n  MicroAppElementTagNameMap,\n  MicroAppElementInterface,\n} from '@micro-app/types'\n\nexport const version = '__MICRO_APP_VERSION__'\n\n// do not use isUndefined\nexport const isBrowser = typeof window !== 'undefined'\n\n// do not use isUndefined\nexport const globalThis = (typeof global !== 'undefined')\n  ? global\n  : (\n    (typeof window !== 'undefined')\n      ? window\n      : (\n        (typeof self !== 'undefined') ? self : Function('return this')()\n      )\n  )\n\nexport const noop = () => { }\nexport const noopFalse = () => false\n\n// Array.isArray\nexport const isArray = Array.isArray\n// Object.assign\nexport const assign = Object.assign\n\n// Object prototype methods\nexport const rawDefineProperty = Object.defineProperty\nexport const rawDefineProperties = Object.defineProperties\nexport const rawToString = Object.prototype.toString\nexport const rawHasOwnProperty = Object.prototype.hasOwnProperty\n\nexport const toTypeString = (value: unknown): string => rawToString.call(value)\n\n// is Undefined\nexport function isUndefined(target: unknown): target is undefined {\n  return target === undefined\n}\n\n// is Null\nexport function isNull(target: unknown): target is null {\n  return target === null\n}\n\n// is String\nexport function isString(target: unknown): target is string {\n  return typeof target === 'string'\n}\n\n// is Boolean\nexport function isBoolean(target: unknown): target is boolean {\n  return typeof target === 'boolean'\n}\n\n// is Number\nexport function isNumber(target: unknown): target is Number {\n  return typeof target === 'number'\n}\n\n// is function\nexport function isFunction(target: unknown): target is Function {\n  return typeof target === 'function'\n}\n\n// is PlainObject\nexport function isPlainObject<T = Record<PropertyKey, unknown>>(target: unknown): target is T {\n  return toTypeString(target) === '[object Object]'\n}\n\n// is Object\nexport function isObject(target: unknown): target is Object {\n  return !isNull(target) && typeof target === 'object'\n}\n\n// is Promise\nexport function isPromise(target: unknown): target is Promise<unknown> {\n  return toTypeString(target) === '[object Promise]'\n}\n\n// is bind function\nexport function isBoundFunction(target: unknown): boolean {\n  return isFunction(target) && target.name?.indexOf('bound ') === 0 && !target.hasOwnProperty('prototype')\n}\n\n// is constructor function\nexport function isConstructor(target: unknown): boolean {\n  if (isFunction(target)) {\n    const targetStr = target.toString()\n    return (\n      target.prototype?.constructor === target &&\n      Object.getOwnPropertyNames(target.prototype).length > 1\n    ) ||\n      /^function\\s+[A-Z]/.test(targetStr) ||\n      /^class\\s+/.test(targetStr)\n  }\n  return false\n}\n\n// is ShadowRoot\nexport function isShadowRoot(target: unknown): target is ShadowRoot {\n  return typeof ShadowRoot !== 'undefined' && target instanceof ShadowRoot\n}\n\nexport function isURL(target: unknown): target is URL {\n  return target instanceof URL || !!(target as URL)?.href\n}\n\n// iframe element not instanceof base app Element, use tagName instead\nexport function isElement(target: unknown): target is Element {\n  return target instanceof Element || isString((target as Element)?.tagName)\n}\n\n// iframe node not instanceof base app Node, use nodeType instead\nexport function isNode(target: unknown): target is Node {\n  return target instanceof Node || isNumber((target as Node)?.nodeType)\n}\n\nexport function isCanvasElement(target: unknown): target is HTMLCanvasElement {\n  return toTypeString(target) === '[object HTMLCanvasElement]'\n}\n\nexport function isAnchorElement(target: unknown): target is HTMLAnchorElement {\n  return toTypeString(target) === '[object HTMLAnchorElement]'\n}\n\nexport function isAudioElement(target: unknown): target is HTMLAudioElement {\n  return toTypeString(target) === '[object HTMLAudioElement]'\n}\n\nexport function isVideoElement(target: unknown): target is HTMLVideoElement {\n  return toTypeString(target) === '[object HTMLVideoElement]'\n}\n\nexport function isLinkElement(target: unknown): target is HTMLLinkElement {\n  return toTypeString(target) === '[object HTMLLinkElement]'\n}\n\nexport function isStyleElement(target: unknown): target is HTMLStyleElement {\n  return toTypeString(target) === '[object HTMLStyleElement]'\n}\n\nexport function isScriptElement(target: unknown): target is HTMLScriptElement {\n  return toTypeString(target) === '[object HTMLScriptElement]'\n}\n\nexport function isIFrameElement(target: unknown): target is HTMLIFrameElement {\n  return toTypeString(target) === '[object HTMLIFrameElement]'\n}\n\nexport function isDivElement(target: unknown): target is HTMLDivElement {\n  return toTypeString(target) === '[object HTMLDivElement]'\n}\n\nexport function isImageElement(target: unknown): target is HTMLImageElement {\n  return toTypeString(target) === '[object HTMLImageElement]'\n}\n\nexport function isBaseElement(target: unknown): target is HTMLBaseElement {\n  return toTypeString(target) === '[object HTMLBaseElement]'\n}\n\nexport function isDocumentFragment(target: unknown): target is DocumentFragment {\n  return toTypeString(target) === '[object DocumentFragment]'\n}\n\nexport function isDocumentShadowRoot(target: unknown): target is DocumentFragment {\n  return toTypeString(target) === '[object ShadowRoot]'\n}\n\nexport function isMicroAppBody(target: unknown): target is HTMLElement {\n  return isElement(target) && target.tagName.toUpperCase() === 'MICRO-APP-BODY'\n}\n\nexport function isMicroAppHead(target: unknown): target is HTMLElement {\n  return isElement(target) && target.tagName.toUpperCase() === 'MICRO-APP-HEAD'\n}\n\nexport function isWebComponentElement(target: unknown): boolean {\n  let result = toTypeString(target) === '[object HTMLElement]'\n  if (result) {\n    const tagName = (target as HTMLElement).tagName.toUpperCase()\n    result = result && !tagName.startsWith('MICRO-APP')\n  }\n  return result\n}\n\n// is ProxyDocument\nexport function isProxyDocument(target: unknown): target is Document {\n  return toTypeString(target) === '[object ProxyDocument]'\n}\n\nexport function isTargetExtension(path: string, suffix: string): boolean {\n  try {\n    return createURL(path).pathname.split('.').pop() === suffix\n  } catch {\n    return false\n  }\n}\n\nexport function includes(target: unknown[], searchElement: unknown, fromIndex?: number): boolean {\n  if (target == null) {\n    throw new TypeError('includes target is null or undefined')\n  }\n\n  const O = Object(target)\n  const len = parseInt(O.length, 10) || 0\n  if (len === 0) return false\n  // @ts-ignore\n  fromIndex = parseInt(fromIndex, 10) || 0\n  let i = Math.max(fromIndex >= 0 ? fromIndex : len + fromIndex, 0)\n  while (i < len) {\n    // NaN !== NaN\n    if (searchElement === O[i] || (searchElement !== searchElement && O[i] !== O[i])) {\n      return true\n    }\n    i++\n  }\n  return false\n}\n\n/**\n * format error log\n * @param msg message\n * @param appName app name, default is null\n */\nexport function logError(\n  msg: unknown,\n  appName: string | null = null,\n  ...rest: unknown[]\n): void {\n  const appNameTip = appName && isString(appName) ? ` app ${appName}:` : ''\n  if (isString(msg)) {\n    console.error(`[micro-app]${appNameTip} ${msg}`, ...rest)\n  } else {\n    console.error(`[micro-app]${appNameTip}`, msg, ...rest)\n  }\n}\n\n/**\n * format warn log\n * @param msg message\n * @param appName app name, default is null\n */\nexport function logWarn(\n  msg: unknown,\n  appName: string | null = null,\n  ...rest: unknown[]\n): void {\n  const appNameTip = appName && isString(appName) ? ` app ${appName}:` : ''\n  if (isString(msg)) {\n    console.warn(`[micro-app]${appNameTip} ${msg}`, ...rest)\n  } else {\n    console.warn(`[micro-app]${appNameTip}`, msg, ...rest)\n  }\n}\n\n/**\n * async execution\n * @param fn callback\n * @param args params\n */\nexport function defer(fn: Func, ...args: unknown[]): void {\n  Promise.resolve().then(fn.bind(null, ...args))\n}\n\n/**\n * async execution with macro task\n * @param fn callback\n * @param args params\n */\nexport function macro(fn: Func, delay = 0, ...args: unknown[]): void {\n  setTimeout(fn.bind(null, ...args), delay)\n}\n\n/**\n * create URL as MicroLocation\n */\nexport const createURL = (function (): (path: string | URL, base?: string) => MicroLocation {\n  class Location extends URL { }\n  return (path: string | URL, base?: string): MicroLocation => {\n    return (base ? new Location('' + path, base) : new Location('' + path)) as MicroLocation\n  }\n})()\n\n/**\n * Add address protocol\n * @param url address\n */\nexport function addProtocol(url: string): string {\n  return url.startsWith('//') ? `${globalThis.location.protocol}${url}` : url\n}\n\n/**\n * format URL address\n * note the scenes:\n * 1. micro-app -> attributeChangedCallback\n * 2. preFetch\n */\nexport function formatAppURL(url: string | null, appName: string | null = null): string {\n  if (!isString(url) || !url) return ''\n\n  try {\n    const { origin, pathname, search } = createURL(addProtocol(url), (window.rawWindow || window).location.href)\n    /**\n     * keep the original url unchanged, such as .html .node .php .net .etc, search, except hash\n     * BUG FIX: Never using '/' to complete url, refer to https://github.com/jd-opensource/micro-app/issues/1147\n     */\n    const fullPath = `${origin}${pathname}${search}`\n    return /^https?:\\/\\//.test(fullPath) ? fullPath : ''\n  } catch (e) {\n    logError(e, appName)\n    return ''\n  }\n}\n\n/**\n * format name\n * note the scenes:\n * 1. micro-app -> attributeChangedCallback\n * 2. event_center -> EventCenterForMicroApp -> constructor\n * 3. event_center -> EventCenterForBaseApp -> all methods\n * 4. preFetch\n * 5. plugins\n * 6. router api (push, replace)\n */\nexport function formatAppName(name: string | null): string {\n  if (!isString(name) || !name) return ''\n  return name.replace(/(^\\d+)|([^\\w\\d-_])/gi, '')\n}\n\n/**\n * Get valid address, such as\n *  1. https://domain/xx/xx.html to https://domain/xx/\n *  2. https://domain/xx to https://domain/xx/\n * @param url app.url\n */\nexport function getEffectivePath(url: string): string {\n  const { origin, pathname } = createURL(url)\n  if (/\\.(\\w+)$/.test(pathname)) {\n    const pathArr = `${origin}${pathname}`.split('/')\n    pathArr.pop()\n    return pathArr.join('/') + '/'\n  }\n\n  return `${origin}${pathname}/`.replace(/\\/\\/$/, '/')\n}\n\n/**\n * Complete address\n * @param path address\n * @param baseURI base url(app.url)\n */\nexport function CompletionPath(path: string, baseURI: string): string {\n  if (\n    !path ||\n    /^((((ht|f)tps?)|file):)?\\/\\//.test(path) ||\n    /^(data|blob):/.test(path)\n  ) return path\n\n  return createURL(path, getEffectivePath(addProtocol(baseURI))).toString()\n}\n\n/**\n * Get the folder where the link resource is located,\n * which is used to complete the relative address in the css\n * @param linkPath full link address\n */\nexport function getLinkFileDir(linkPath: string): string {\n  const pathArr = linkPath.split('/')\n  pathArr.pop()\n  return addProtocol(pathArr.join('/') + '/')\n}\n\n/**\n * promise stream\n * @param promiseList promise list\n * @param successCb success callback\n * @param errorCb failed callback\n * @param finallyCb finally callback\n */\nexport function promiseStream<T>(\n  promiseList: Array<Promise<T> | T>,\n  successCb: CallableFunction,\n  errorCb: CallableFunction,\n  finallyCb?: CallableFunction,\n): void {\n  let finishedNum = 0\n\n  function isFinished() {\n    if (++finishedNum === promiseList.length && finallyCb) finallyCb()\n  }\n\n  promiseList.forEach((p, i) => {\n    if (isPromise(p)) {\n      (p as Promise<T>).then((res: T) => {\n        successCb({ data: res, index: i })\n        isFinished()\n      }).catch((err: Error) => {\n        errorCb({ error: err, index: i })\n        isFinished()\n      })\n    } else {\n      successCb({ data: p, index: i })\n      isFinished()\n    }\n  })\n}\n\n// Check whether the browser supports module script\nexport function isSupportModuleScript(): boolean {\n  const s = document.createElement('script')\n  return 'noModule' in s\n}\n\n// Create a random symbol string\nexport function createNonceSrc(): string {\n  return 'inline-' + Math.random().toString(36).substr(2, 15)\n}\n\n// Array deduplication\nexport function unique(array: any[]): any[] {\n  return array.filter(function (this: Record<PropertyKey, boolean>, item) {\n    return item in this ? false : (this[item] = true)\n  }, Object.create(null))\n}\n\n// requestIdleCallback polyfill\nexport const requestIdleCallback = globalThis.requestIdleCallback ||\n  function (fn: CallableFunction) {\n    const lastTime = Date.now()\n    return setTimeout(function () {\n      fn({\n        didTimeout: false,\n        timeRemaining() {\n          return Math.max(0, 50 - (Date.now() - lastTime))\n        },\n      })\n    }, 1)\n  }\n\n/**\n * Wrap requestIdleCallback with promise\n * Exec callback when browser idle\n */\nexport function promiseRequestIdle(callback: CallableFunction): Promise<void> {\n  return new Promise((resolve) => {\n    requestIdleCallback(() => {\n      callback(resolve)\n    })\n  })\n}\n\n/**\n * Record the currently running app.name\n */\nlet currentAppName: string | null = null\nexport function setCurrentAppName(appName: string | null): void {\n  currentAppName = appName\n}\n\n// get the currently running app.name\nexport function getCurrentAppName(): string | null {\n  return currentAppName\n}\n\nexport function throttleDeferForSetAppName(appName: string): void {\n  if (currentAppName !== appName && !getPreventSetState()) {\n    setCurrentAppName(appName)\n    defer(() => {\n      setCurrentAppName(null)\n    })\n  }\n}\n\n// only for iframe document.body(head).querySelector(querySelectorAll)\nlet iframeCurrentAppName: string | null = null\nexport function setIframeCurrentAppName(appName: string | null) {\n  iframeCurrentAppName = appName\n}\n\nexport function getIframeCurrentAppName(): string | null {\n  return iframeCurrentAppName\n}\n\nexport function throttleDeferForIframeAppName(appName: string): void {\n  if (iframeCurrentAppName !== appName && !getPreventSetState()) {\n    setIframeCurrentAppName(appName)\n    defer(() => {\n      setIframeCurrentAppName(null)\n    })\n  }\n}\n\n// prevent set app name\nlet preventSetState = false\nexport function getPreventSetState(): boolean {\n  return preventSetState\n}\n\n/**\n * prevent set appName\n * usage:\n * removeDomScope(true)\n * -----> element scope point to base app <-----\n * removeDomScope(false)\n */\nexport function removeDomScope(force?: boolean): void {\n  if (force !== false) {\n    setCurrentAppName(null)\n    setIframeCurrentAppName(null)\n    if (force && !preventSetState) {\n      preventSetState = true\n      defer(() => {\n        preventSetState = false\n      })\n    }\n  } else {\n    preventSetState = false\n  }\n}\n\n// is safari browser\nexport function isSafari(): boolean {\n  return /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)\n}\n\n/**\n * Create pure elements\n */\nexport function pureCreateElement<K extends keyof MicroAppElementTagNameMap>(tagName: K, options?: ElementCreationOptions): MicroAppElementTagNameMap[K] {\n  const element = (window.rawDocument || document).createElement(tagName, options)\n  if (element.__MICRO_APP_NAME__) delete element.__MICRO_APP_NAME__\n  element.__PURE_ELEMENT__ = true\n  return element\n}\n\n// is invalid key of querySelector\nexport function isInvalidQuerySelectorKey(key: string): boolean {\n  if (__TEST__) return !key || /(^\\d)|([^\\w\\d-_$])/gi.test(key)\n  return !key || /(^\\d)|([^\\w\\d-_\\u4e00-\\u9fa5])/gi.test(key)\n}\n\n// unique element\nexport function isUniqueElement(key: string): boolean {\n  return (\n    /^body$/i.test(key) ||\n    /^head$/i.test(key) ||\n    /^html$/i.test(key) ||\n    /^title$/i.test(key) ||\n    /^:root$/i.test(key)\n  )\n}\n\nexport type RootContainer = HTMLElement & MicroAppElementInterface\n/**\n * get micro-app element\n * @param target app container\n */\nexport function getRootContainer(target: HTMLElement | ShadowRoot): RootContainer {\n  return (isShadowRoot(target) ? (target as ShadowRoot).host : target) as RootContainer\n}\n\n/**\n * trim start & end\n */\nexport function trim(str: string): string {\n  return str ? str.replace(/^\\s+|\\s+$/g, '') : ''\n}\n\nexport function isFireFox(): boolean {\n  return navigator.userAgent.indexOf('Firefox') > -1\n}\n\n/**\n * Transforms a queryString into object.\n * @param search - search string to parse\n * @returns a query object\n */\nexport function parseQuery(search: string): LocationQueryObject {\n  const result: LocationQueryObject = {}\n  const queryList = search.split('&')\n\n  // we will not decode the key/value to ensure that the values are consistent when update URL\n  for (const queryItem of queryList) {\n    const eqPos = queryItem.indexOf('=')\n    const key = eqPos < 0 ? queryItem : queryItem.slice(0, eqPos)\n    const value = eqPos < 0 ? null : queryItem.slice(eqPos + 1)\n\n    if (key in result) {\n      let currentValue = result[key]\n      if (!isArray(currentValue)) {\n        currentValue = result[key] = [currentValue]\n      }\n      currentValue.push(value)\n    } else {\n      result[key] = value\n    }\n  }\n\n  return result\n}\n\n/**\n * Transforms an object to query string\n * @param queryObject - query object to stringify\n * @returns query string without the leading `?`\n */\nexport function stringifyQuery(queryObject: LocationQueryObject): string {\n  let result = ''\n\n  for (const key in queryObject) {\n    const value = queryObject[key]\n    if (isNull(value)) {\n      result += (result.length ? '&' : '') + key\n    } else {\n      const valueList: LocationQueryValue[] = isArray(value) ? value : [value]\n\n      valueList.forEach(value => {\n        if (!isUndefined(value)) {\n          result += (result.length ? '&' : '') + key\n          if (!isNull(value)) result += '=' + value\n        }\n      })\n    }\n  }\n\n  return result\n}\n\n/**\n * Register or unregister callback/guard with Set\n */\nexport function useSetRecord<T>() {\n  const handlers: Set<T> = new Set()\n\n  function add(handler: T): () => boolean {\n    handlers.add(handler)\n    return (): boolean => {\n      if (handlers.has(handler)) return handlers.delete(handler)\n      return false\n    }\n  }\n\n  return {\n    add,\n    list: () => handlers,\n  }\n}\n\n/**\n * record data with Map\n */\nexport function useMapRecord<T>() {\n  const data: Map<PropertyKey, T> = new Map()\n\n  function add(key: PropertyKey, value: T): () => boolean {\n    data.set(key, value)\n    return (): boolean => {\n      if (data.has(key)) return data.delete(key)\n      return false\n    }\n  }\n\n  return {\n    add,\n    get: (key: PropertyKey) => data.get(key),\n    delete: (key: PropertyKey): boolean => {\n      if (data.has(key)) return data.delete(key)\n      return false\n    }\n  }\n}\n\nexport function getAttributes(element: Element): AttrsType {\n  const attr = element.attributes\n  const attrMap: AttrsType = new Map()\n  for (let i = 0; i < attr.length; i++) {\n    attrMap.set(attr[i].name, attr[i].value)\n  }\n  return attrMap\n}\n\n/**\n * if fiberTasks exist, wrap callback with promiseRequestIdle\n * if not, execute callback\n * @param fiberTasks fiber task list\n * @param callback action callback\n */\nexport function injectFiberTask(fiberTasks: fiberTasks, callback: CallableFunction): void {\n  if (fiberTasks) {\n    fiberTasks.push(() => promiseRequestIdle((resolve: PromiseConstructor['resolve']) => {\n      callback()\n      resolve()\n    }))\n  } else {\n    callback()\n  }\n}\n\n/**\n * serial exec fiber task of link, style, script\n * @param tasks task array or null\n */\nexport function serialExecFiberTasks(tasks: fiberTasks): Promise<void> | null {\n  return tasks?.reduce((pre, next) => pre.then(next), Promise.resolve()) || null\n}\n\n/**\n * inline script start with inline-xxx\n * @param address source address\n */\nexport function isInlineScript(address: string): boolean {\n  return address.startsWith('inline-')\n}\n\n/**\n * call function with try catch\n * @param fn target function\n * @param appName app.name\n * @param args arguments\n */\nexport function execMicroAppGlobalHook(\n  fn: Func | null,\n  appName: string,\n  hookName: string,\n  ...args: unknown[]\n): void {\n  try {\n    isFunction(fn) && fn(...args)\n  } catch (e) {\n    logError(`An error occurred in app ${appName} window.${hookName} \\n`, null, e)\n  }\n}\n\n/**\n * remove all childNode from target node\n * @param $dom target node\n */\nexport function clearDOM($dom: HTMLElement | ShadowRoot | Document): void {\n  while ($dom?.firstChild) {\n    $dom.removeChild($dom.firstChild)\n  }\n}\n\nexport function instanceOf<T extends new (...args: unknown[]) => unknown>(\n  instance: unknown,\n  constructor: T,\n): instance is T extends new (...args: unknown[]) => infer R ? R : boolean {\n  if (instance === null || instance === undefined) {\n    return false\n  } else if (!isFunction(constructor)) {\n    throw new TypeError(\"Right-hand side of 'instanceof' is not callable\")\n  }\n  let proto = Object.getPrototypeOf(instance)\n  while (proto) {\n    if (proto === constructor.prototype) {\n      return true\n    }\n    proto = Object.getPrototypeOf(proto)\n  }\n  return false\n}\n\n/**\n * Format event name\n * In with sandbox, child event and lifeCycles bind to microAppElement, there are two events with same name - mounted unmount, it should be handled specifically to prevent conflicts\n * Issue: https://github.com/jd-opensource/micro-app/issues/1161\n * @param type event name\n * @param appName app name\n */\nconst formatEventList = ['mounted', 'unmount']\nexport function formatEventType(type: string, appName: string): string {\n  return formatEventList.includes(type) ? `${type}-${appName}` : type\n}\n\n/**\n * Is the object empty\n * target maybe number, string, array ...\n */\nexport function isEmptyObject(target: unknown): boolean {\n  return isPlainObject(target) ? !Object.keys(target).length : true\n}\n","import type { lifeCyclesType, AppInterface } from '@micro-app/types'\nimport microApp from '../micro_app'\nimport {\n  logWarn,\n  isFunction,\n  removeDomScope,\n  getRootContainer,\n  assign,\n  formatEventType,\n} from '../libs/utils'\n\nfunction formatEventInfo (event: CustomEvent, element: HTMLElement): void {\n  Object.defineProperties(event, {\n    currentTarget: {\n      get () {\n        return element\n      }\n    },\n    target: {\n      get () {\n        return element\n      }\n    },\n  })\n}\n\ntype LifecycleEventName = keyof lifeCyclesType\n\n/**\n * dispatch lifeCycles event to base app\n * created, beforemount, mounted, unmount, error\n * @param element container\n * @param appName app.name\n * @param lifecycleName lifeCycle name\n * @param error param from error hook\n */\nexport default function dispatchLifecyclesEvent (\n  element: HTMLElement | ShadowRoot | null,\n  appName: string,\n  lifecycleName: LifecycleEventName,\n  error?: Error,\n): void {\n  if (!element) {\n    return logWarn(`element does not exist in lifecycle ${lifecycleName}`, appName)\n  }\n\n  element = getRootContainer(element)\n\n  // clear dom scope before dispatch lifeCycles event to base app, especially mounted & unmount\n  removeDomScope()\n\n  const detail = assign({\n    name: appName,\n    container: element,\n  }, error && {\n    error\n  })\n\n  const event = new CustomEvent(lifecycleName, {\n    detail,\n  })\n\n  formatEventInfo(event, element)\n  // global hooks\n  if (isFunction(microApp.options.lifeCycles?.[lifecycleName])) {\n    microApp.options.lifeCycles![lifecycleName]!(event, appName)\n  }\n\n  element.dispatchEvent(event)\n}\n\n/**\n * Dispatch custom event to micro app\n * @param app app\n * @param eventName event name ['mounted', 'unmount', 'appstate-change', 'statechange']\n * @param detail event detail\n */\nexport function dispatchCustomEventToMicroApp (\n  app: AppInterface,\n  eventName: string,\n  detail: Record<string, any> = {},\n): void {\n  const event = new CustomEvent(formatEventType(eventName, app.name), {\n    detail,\n  })\n\n  app.sandBox?.microAppWindow.dispatchEvent(event)\n}\n","import { isFunction, removeDomScope } from '../libs/utils'\nimport microApp from '../micro_app'\n\n/**\n * fetch source of html, js, css\n * @param url source path\n * @param appName app name\n * @param config fetch options\n */\nexport function fetchSource (url: string, appName: string | null = null, options = {}): Promise<string> {\n  /**\n   * When child navigate to new async page, click event will scope dom to child and then fetch new source\n   * this may cause error when fetch rewrite by baseApp\n   * e.g.\n   * baseApp: <script crossorigin src=\"https://sgm-static.jd.com/sgm-2.8.0.js\" name=\"SGMH5\" sid=\"6f88a6e4ba4b4ae5acef2ec22c075085\" appKey=\"jdb-adminb2b-pc\"></script>\n   */\n  removeDomScope()\n  if (isFunction(microApp.options.fetch)) {\n    return microApp.options.fetch(url, options, appName)\n  }\n  // Don’t use globalEnv.rawWindow.fetch, will cause sgm-2.8.0.js throw error in nest app\n  return window.fetch(url, options).then((res: Response) => {\n    return res.text()\n  })\n}\n","import { AppInterface, plugins } from '@micro-app/types'\nimport { fetchSource } from '../fetch'\nimport { isFunction, isPlainObject, logError, isTargetExtension } from '../../libs/utils'\nimport microApp from '../../micro_app'\n\nexport interface IHTMLLoader {\n  run (app: AppInterface, successCb: CallableFunction): void\n}\n\nexport class HTMLLoader implements IHTMLLoader {\n  private static instance: HTMLLoader;\n  public static getInstance (): HTMLLoader {\n    if (!this.instance) {\n      this.instance = new HTMLLoader()\n    }\n    return this.instance\n  }\n\n  /**\n   * run logic of load and format html\n   * @param successCb success callback\n   * @param errorCb error callback, type: (err: Error, meetFetchErr: boolean) => void\n   */\n  public run (app: AppInterface, successCb: CallableFunction): void {\n    const appName = app.name\n    const htmlUrl = app.ssrUrl || app.url\n    const isJsResource = isTargetExtension(htmlUrl, 'js')\n    const htmlPromise = isJsResource\n      ? Promise.resolve(`<micro-app-head><script src='${htmlUrl}'></script></micro-app-head><micro-app-body></micro-app-body>`)\n      : fetchSource(htmlUrl, appName, { cache: 'no-cache' })\n    htmlPromise.then((htmlStr: string) => {\n      if (!htmlStr) {\n        const msg = 'html is empty, please check in detail'\n        app.onerror(new Error(msg))\n        return logError(msg, appName)\n      }\n\n      htmlStr = this.formatHTML(htmlUrl, htmlStr, appName)\n\n      successCb(htmlStr, app)\n    }).catch((e) => {\n      logError(`Failed to fetch data from ${app.url}, micro-app stop rendering`, appName, e)\n      app.onLoadError(e)\n    })\n  }\n\n  private formatHTML (htmlUrl: string, htmlStr: string, appName: string) {\n    return this.processHtml(htmlUrl, htmlStr, appName, microApp.options.plugins)\n      .replace(/<head[^>]*>[\\s\\S]*?<\\/head>/i, (match) => {\n        return match\n          .replace(/<head/i, '<micro-app-head')\n          .replace(/<\\/head>/i, '</micro-app-head>')\n      })\n      .replace(/<body[^>]*>[\\s\\S]*?<\\/body>/i, (match) => {\n        return match\n          .replace(/<body/i, '<micro-app-body')\n          .replace(/<\\/body>/i, '</micro-app-body>')\n      })\n  }\n\n  private processHtml (url: string, code: string, appName: string, plugins: plugins | void): string {\n    if (!plugins) return code\n\n    const mergedPlugins: NonNullable<plugins['global']> = []\n    plugins.global && mergedPlugins.push(...plugins.global)\n    plugins.modules?.[appName] && mergedPlugins.push(...plugins.modules[appName])\n\n    if (mergedPlugins.length > 0) {\n      return mergedPlugins.reduce((preCode, plugin) => {\n        if (isPlainObject(plugin) && isFunction(plugin.processHtml)) {\n          return plugin.processHtml!(preCode, url)\n        }\n        return preCode\n      }, code)\n    }\n    return code\n  }\n}\n","/* eslint-disable no-useless-escape, no-cond-assign */\nimport type { AppInterface } from '@micro-app/types'\nimport { CompletionPath, getLinkFileDir, logError, trim, isFireFox } from '../libs/utils'\nimport microApp from '../micro_app'\n\n// common reg\nconst rootSelectorREG = /(^|\\s+)(html|:root)(?=[\\s>~[.#:]+|$)/\nconst bodySelectorREG = /(^|\\s+)((html[\\s>~]+body)|body)(?=[\\s>~[.#:]+|$)/\n\ntype parseErrorType = Error & { reason: string, filename?: string }\nfunction parseError (msg: string, linkPath?: string): void {\n  msg = linkPath ? `${linkPath} ${msg}` : msg\n  const err = new Error(msg) as parseErrorType\n  err.reason = msg\n  if (linkPath) {\n    err.filename = linkPath\n  }\n\n  throw err\n}\n\n/**\n * Reference https://github.com/reworkcss/css\n * CSSParser mainly deals with 3 scenes: styleRule, @, and comment\n * And scopecss deals with 2 scenes: selector & url\n * And can also disable scopecss with inline comments\n */\nclass CSSParser {\n  private cssText = '' // css content\n  private prefix = '' // prefix as micro-app[name=xxx]\n  private baseURI = '' // domain name\n  private linkPath = '' // link resource address, if it is the style converted from link, it will have linkPath\n  private result = '' // parsed cssText\n  private scopecssDisable = false // use block comments /* scopecss-disable */ to disable scopecss in your file, and use /* scopecss-enable */ to enable scopecss\n  private scopecssDisableSelectors: Array<string> = [] // disable or enable scopecss for specific selectors\n  private scopecssDisableNextLine = false // use block comments /* scopecss-disable-next-line */ to disable scopecss on a specific line\n\n  public exec (\n    cssText: string,\n    prefix: string,\n    baseURI: string,\n    linkPath?: string,\n  ): string {\n    this.cssText = cssText\n    this.prefix = prefix\n    this.baseURI = baseURI\n    this.linkPath = linkPath || ''\n    this.matchRules()\n    return isFireFox() ? decodeURIComponent(this.result) : this.result\n  }\n\n  public reset (): void {\n    this.cssText = this.prefix = this.baseURI = this.linkPath = this.result = ''\n    this.scopecssDisable = this.scopecssDisableNextLine = false\n    this.scopecssDisableSelectors = []\n  }\n\n  // core action for match rules\n  private matchRules (): void {\n    this.matchLeadingSpaces()\n    this.matchComments()\n    while (\n      this.cssText.length &&\n      this.cssText.charAt(0) !== '}' &&\n      (this.matchAtRule() || this.matchStyleRule())\n    ) {\n      this.matchComments()\n    }\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleRule\n  private matchStyleRule (): boolean | void {\n    const selectors = this.formatSelector(true)\n\n    // reset scopecssDisableNextLine\n    this.scopecssDisableNextLine = false\n\n    if (!selectors) return this.printError('selector missing', this.linkPath)\n\n    this.recordResult(selectors)\n\n    this.matchComments()\n\n    this.styleDeclarations()\n\n    this.matchLeadingSpaces()\n\n    return true\n  }\n\n  private formatSelector (skip: boolean): false | string {\n    const m = this.commonMatch(/^[^{]+/, skip)\n    if (!m) return false\n\n    /**\n     * NOTE:\n     *  1. :is(h1, h2, h3):has(+ h2, + h3, + h4) {}\n     *    should be ==> micro-app[name=xxx] :is(h1, h2, h3):has(+ h2, + h3, + h4) {}\n     *  2. :dir(ltr) {}\n     *    should be ==> micro-app[name=xxx] :dir(ltr) {}\n     *  3. body :not(div, .fancy) {}\n     *    should be ==> micro-app[name=xxx] micro-app-body :not(div, .fancy) {}\n     *  4. .a, .b, li:nth-child(3)\n     *    should be ==> micro-app[name=xxx] .a, micro-app[name=xxx] .b, micro-app[name=xxx] li:nth-child(3)\n     *  5. :is(.a, .b, .c) a {}\n     *    should be ==> micro-app[name=xxx] :is(.a, .b, .c) a {}\n     *  6. :where(.a, .b, .c) a {}\n     *    should be ==> micro-app[name=xxx] :where(.a, .b, .c) a {}\n     */\n    const attributeValues: {[key: string]: any} = {}\n    const matchRes = m[0].replace(/\\[([^\\]=]+)(?:=([^\\]]+))?\\]/g, (match, p1, p2) => {\n      const mock = `__mock_${p1}Value__`\n      attributeValues[mock] = p2\n      return match.replace(p2, mock)\n    })\n\n    return matchRes.replace(/(^|,[\\n\\s]*)([^,]+)/g, (_, separator, selector) => {\n      selector = trim(selector)\n      selector = selector.replace(/\\[[^\\]=]+(?:=([^\\]]+))?\\]/g, (match:string, p1: string) => {\n        if (attributeValues[p1]) {\n          return match.replace(p1, attributeValues[p1])\n        }\n        return match\n      })\n      if (selector && !(\n        this.scopecssDisableNextLine ||\n        (\n          this.scopecssDisable && (\n            !this.scopecssDisableSelectors.length ||\n            this.scopecssDisableSelectors.includes(selector)\n          )\n        ) ||\n        rootSelectorREG.test(selector)\n      )) {\n        if (bodySelectorREG.test(selector)) {\n          selector = selector.replace(bodySelectorREG, this.prefix + ' micro-app-body')\n        } else {\n          selector = this.prefix + ' ' + selector\n        }\n      }\n\n      return separator + selector\n    })\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n  private styleDeclarations (): boolean | void {\n    if (!this.matchOpenBrace()) return this.printError(\"Declaration missing '{'\", this.linkPath)\n\n    this.matchAllDeclarations()\n\n    if (!this.matchCloseBrace()) return this.printError(\"Declaration missing '}'\", this.linkPath)\n\n    return true\n  }\n\n  private matchAllDeclarations (nesting = 0): void {\n    let cssValue = (this.commonMatch(/^(?:url\\([\"']?(?:[^)\"'}]+)[\"']?\\)|[^{}/])*/, true) as RegExpExecArray)[0]\n\n    if (cssValue) {\n      if (\n        !this.scopecssDisableNextLine &&\n        (!this.scopecssDisable || this.scopecssDisableSelectors.length)\n      ) {\n        cssValue = cssValue.replace(/url\\(([\"']?)(.*?)\\1\\)/gm, (all, _, $1) => {\n          if (/^((data|blob):|#|%23)/.test($1) || /^(https?:)?\\/\\//.test($1)) {\n            return all\n          }\n\n          // ./a/b.png  ../a/b.png  a/b.png\n          if (/^((\\.\\.?\\/)|[^/])/.test($1) && this.linkPath) {\n            this.baseURI = getLinkFileDir(this.linkPath)\n          }\n\n          return `url(\"${CompletionPath($1, this.baseURI)}\")`\n        })\n      }\n\n      this.recordResult(cssValue)\n    }\n\n    // reset scopecssDisableNextLine\n    this.scopecssDisableNextLine = false\n\n    if (!this.cssText.length) return\n\n    // extract comments in declarations\n    if (this.cssText.charAt(0) === '/') {\n      if (this.cssText.charAt(1) === '*') {\n        this.matchComments()\n      } else {\n        this.commonMatch(/\\/+/)\n      }\n    } else if (this.cssText.charAt(0) === '{') {\n      this.matchOpenBrace()\n      nesting++\n    } else if (this.cssText.charAt(0) === '}') {\n      if (nesting < 1) return\n      this.matchCloseBrace()\n      nesting--\n    }\n\n    return this.matchAllDeclarations(nesting)\n  }\n\n  private matchAtRule (): boolean | void {\n    if (this.cssText[0] !== '@') return false\n    // reset scopecssDisableNextLine\n    this.scopecssDisableNextLine = false\n    return this.keyframesRule() ||\n      this.mediaRule() ||\n      this.customMediaRule() ||\n      this.supportsRule() ||\n      this.importRule() ||\n      this.charsetRule() ||\n      this.namespaceRule() ||\n      this.containerRule() ||\n      this.documentRule() ||\n      this.pageRule() ||\n      this.hostRule() ||\n      this.fontFaceRule() ||\n      this.layerRule()\n  }\n\n  // :global is CSS Modules rule, it will be converted to normal syntax\n  // private matchGlobalRule (): boolean | void {\n  //   if (this.cssText[0] !== ':') return false\n  //   // reset scopecssDisableNextLine\n  //   this.scopecssDisableNextLine = false\n\n  //   return this.globalRule()\n  // }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSKeyframesRule\n  private keyframesRule (): boolean | void {\n    if (!this.commonMatch(/^@([-\\w]+)?keyframes\\s*/)) return false\n\n    if (!this.commonMatch(/^[^{]+/)) return this.printError('@keyframes missing name', this.linkPath)\n\n    this.matchComments()\n\n    if (!this.matchOpenBrace()) return this.printError(\"@keyframes missing '{'\", this.linkPath)\n\n    this.matchComments()\n    while (this.keyframeRule()) {\n      this.matchComments()\n    }\n\n    if (!this.matchCloseBrace()) return this.printError(\"@keyframes missing '}'\", this.linkPath)\n\n    this.matchLeadingSpaces()\n\n    return true\n  }\n\n  private keyframeRule (): boolean {\n    let r; const valList = []\n\n    while (r = this.commonMatch(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/)) {\n      valList.push(r[1])\n      this.commonMatch(/^,\\s*/)\n    }\n\n    if (!valList.length) return false\n\n    this.styleDeclarations()\n\n    this.matchLeadingSpaces()\n\n    return true\n  }\n\n  // https://github.com/postcss/postcss-custom-media\n  private customMediaRule (): boolean {\n    if (!this.commonMatch(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/)) return false\n\n    this.matchLeadingSpaces()\n\n    return true\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSPageRule\n  private pageRule (): boolean | void {\n    if (!this.commonMatch(/^@page */)) return false\n\n    this.formatSelector(false)\n\n    // reset scopecssDisableNextLine\n    this.scopecssDisableNextLine = false\n\n    return this.commonHandlerForAtRuleWithSelfRule('page')\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSFontFaceRule\n  private fontFaceRule (): boolean | void {\n    if (!this.commonMatch(/^@font-face\\s*/)) return false\n\n    return this.commonHandlerForAtRuleWithSelfRule('font-face')\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/@layer\n  private layerRule (): boolean | void {\n    if (!this.commonMatch(/^@layer\\s*([^{;]+)/)) return false\n\n    if (!this.matchOpenBrace()) return !!this.commonMatch(/^[;]+/)\n\n    this.matchComments()\n\n    this.matchRules()\n\n    if (!this.matchCloseBrace()) return this.printError('@layer missing \\'}\\'', this.linkPath)\n\n    this.matchLeadingSpaces()\n\n    return true\n  }\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSMediaRule\n  private mediaRule = this.createMatcherForRuleWithChildRule(/^@media *([^{]+)/, '@media')\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSSupportsRule\n  private supportsRule = this.createMatcherForRuleWithChildRule(/^@supports *([^{]+)/, '@supports')\n  private documentRule = this.createMatcherForRuleWithChildRule(/^@([-\\w]+)?document *([^{]+)/, '@document')\n  private hostRule = this.createMatcherForRuleWithChildRule(/^@host\\s*/, '@host')\n  // :global is CSS Modules rule, it will be converted to normal syntax\n  // private globalRule = this.createMatcherForRuleWithChildRule(/^:global([^{]*)/, ':global')\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSImportRule\n  private importRule = this.createMatcherForNoneBraceAtRule('import')\n  // Removed in most browsers\n  private charsetRule = this.createMatcherForNoneBraceAtRule('charset')\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSNamespaceRule\n  private namespaceRule = this.createMatcherForNoneBraceAtRule('namespace')\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/@container\n  private containerRule = this.createMatcherForRuleWithChildRule(/^@container *([^{]+)/, '@container')\n\n  // common matcher for @media, @supports, @document, @host, :global, @container\n  private createMatcherForRuleWithChildRule (reg: RegExp, name: string): () => boolean | void {\n    return () => {\n      if (!this.commonMatch(reg)) return false\n\n      if (!this.matchOpenBrace()) return this.printError(`${name} missing '{'`, this.linkPath)\n\n      this.matchComments()\n\n      this.matchRules()\n\n      if (!this.matchCloseBrace()) return this.printError(`${name} missing '}'`, this.linkPath)\n\n      this.matchLeadingSpaces()\n\n      return true\n    }\n  }\n\n  // common matcher for @import, @charset, @namespace\n  private createMatcherForNoneBraceAtRule (name: string): () => boolean {\n    const reg = new RegExp('^@' + name + '\\\\s*([^;]+);')\n    return () => {\n      if (!this.commonMatch(reg)) return false\n      this.matchLeadingSpaces()\n      return true\n    }\n  }\n\n  // common handler for @font-face, @page\n  private commonHandlerForAtRuleWithSelfRule (name: string): boolean | void {\n    if (!this.matchOpenBrace()) return this.printError(`@${name} missing '{'`, this.linkPath)\n\n    this.matchAllDeclarations()\n\n    if (!this.matchCloseBrace()) return this.printError(`@${name} missing '}'`, this.linkPath)\n\n    this.matchLeadingSpaces()\n\n    return true\n  }\n\n  // match and slice comments\n  private matchComments (): void {\n    while (this.matchComment());\n  }\n\n  // css comment\n  private matchComment (): boolean | void {\n    if (this.cssText.charAt(0) !== '/' || this.cssText.charAt(1) !== '*') return false\n    // reset scopecssDisableNextLine\n    this.scopecssDisableNextLine = false\n\n    let i = 2\n    while (this.cssText.charAt(i) !== '' && (this.cssText.charAt(i) !== '*' || this.cssText.charAt(i + 1) !== '/')) ++i\n    i += 2\n\n    if (this.cssText.charAt(i - 1) === '') {\n      return this.printError('End of comment missing', this.linkPath)\n    }\n\n    // get comment content\n    let commentText = this.cssText.slice(2, i - 2)\n\n    this.recordResult(`/*${commentText}*/`)\n\n    commentText = trim(commentText.replace(/^\\s*!/, ''))\n\n    // set ignore config\n    if (commentText === 'scopecss-disable-next-line') {\n      this.scopecssDisableNextLine = true\n    } else if (/^scopecss-disable/.test(commentText)) {\n      if (commentText === 'scopecss-disable') {\n        this.scopecssDisable = true\n      } else {\n        this.scopecssDisable = true\n        const ignoreRules = commentText.replace('scopecss-disable', '').split(',')\n        ignoreRules.forEach((rule: string) => {\n          this.scopecssDisableSelectors.push(trim(rule))\n        })\n      }\n    } else if (commentText === 'scopecss-enable') {\n      this.scopecssDisable = false\n      this.scopecssDisableSelectors = []\n    }\n\n    this.cssText = this.cssText.slice(i)\n\n    this.matchLeadingSpaces()\n\n    return true\n  }\n\n  private commonMatch (reg: RegExp, skip = false): RegExpExecArray | null | void {\n    const matchArray = reg.exec(this.cssText)\n    if (!matchArray) return\n    const matchStr = matchArray[0]\n    this.cssText = this.cssText.slice(matchStr.length)\n    if (!skip) this.recordResult(matchStr)\n    return matchArray\n  }\n\n  private matchOpenBrace () {\n    return this.commonMatch(/^{\\s*/)\n  }\n\n  private matchCloseBrace () {\n    return this.commonMatch(/^}\\s*/)\n  }\n\n  // match and slice the leading spaces\n  private matchLeadingSpaces (): void {\n    this.commonMatch(/^\\s*/)\n  }\n\n  // splice string\n  private recordResult (strFragment: string): void {\n    // Firefox performance degradation when string contain special characters, see https://github.com/jd-opensource/micro-app/issues/256\n    if (isFireFox()) {\n      this.result += encodeURIComponent(strFragment)\n    } else {\n      this.result += strFragment\n    }\n  }\n\n  private printError (msg: string, linkPath?: string): void {\n    if (this.cssText.length) {\n      parseError(msg, linkPath)\n    }\n  }\n}\n\n/**\n * common method of bind CSS\n */\nfunction commonAction (\n  styleElement: HTMLStyleElement,\n  appName: string,\n  prefix: string,\n  baseURI: string,\n  linkPath?: string,\n) {\n  if (!styleElement.__MICRO_APP_HAS_SCOPED__) {\n    styleElement.__MICRO_APP_HAS_SCOPED__ = true\n    let result: string | null = null\n    try {\n      result = parser.exec(\n        styleElement.textContent!,\n        prefix,\n        baseURI,\n        linkPath,\n      )\n      parser.reset()\n    } catch (e) {\n      parser.reset()\n      logError('An error occurred while parsing CSS:\\n', appName, e)\n    }\n\n    if (result) styleElement.textContent = result\n  }\n}\n\nlet parser: CSSParser\n/**\n * scopedCSS\n * @param styleElement target style element\n * @param appName app name\n */\nexport default function scopedCSS (\n  styleElement: HTMLStyleElement,\n  app: AppInterface,\n  linkPath?: string,\n): HTMLStyleElement {\n  if (app.scopecss) {\n    const prefix = createPrefix(app.name)\n\n    if (!parser) parser = new CSSParser()\n\n    if (styleElement.textContent) {\n      commonAction(\n        styleElement,\n        app.name,\n        prefix,\n        app.url,\n        linkPath,\n      )\n    } else {\n      const observer = new MutationObserver(function () {\n        observer.disconnect()\n        // styled-component will be ignore\n        if (styleElement.textContent && !styleElement.hasAttribute('data-styled')) {\n          commonAction(\n            styleElement,\n            app.name,\n            prefix,\n            app.url,\n            linkPath,\n          )\n        }\n      })\n\n      observer.observe(styleElement, { childList: true })\n    }\n  }\n\n  return styleElement\n}\n\nexport function createPrefix (appName: string, reg = false): string {\n  const regCharacter = reg ? '\\\\' : ''\n  return `${microApp.tagName}${regCharacter}[name=${appName}${regCharacter}]`\n}\n","import { isFunction } from '../libs/utils'\n\nfunction eventHandler (event: Event, element: HTMLLinkElement | HTMLScriptElement): void {\n  Object.defineProperties(event, {\n    currentTarget: {\n      get () {\n        return element\n      }\n    },\n    srcElement: {\n      get () {\n        return element\n      }\n    },\n    target: {\n      get () {\n        return element\n      }\n    },\n  })\n}\n\nexport function dispatchOnLoadEvent (element: HTMLLinkElement | HTMLScriptElement): void {\n  const event = new CustomEvent('load')\n  eventHandler(event, element)\n  if (isFunction(element.onload)) {\n    element.onload!(event)\n  } else {\n    element.dispatchEvent(event)\n  }\n}\n\nexport function dispatchOnErrorEvent (element: HTMLLinkElement | HTMLScriptElement): void {\n  const event = new CustomEvent('error')\n  eventHandler(event, element)\n  if (isFunction(element.onerror)) {\n    element.onerror!(event)\n  } else {\n    element.dispatchEvent(event)\n  }\n}\n","import type { LinkSourceInfo, ScriptSourceInfo, SourceAddress } from '@micro-app/types'\nimport { isInlineScript } from '../libs/utils'\n\nexport interface SourceCenter<L = LinkSourceInfo, S = ScriptSourceInfo> {\n  link: {\n    setInfo (address: SourceAddress, info: L): void,\n    getInfo (address: SourceAddress): L | null,\n    hasInfo (address: SourceAddress): boolean,\n    deleteInfo (address: SourceAddress): boolean,\n  },\n  script: {\n    setInfo (address: SourceAddress, info: S): void,\n    getInfo (address: SourceAddress): S | null,\n    hasInfo (address: SourceAddress): boolean,\n    deleteInfo (address: SourceAddress): boolean,\n    deleteInlineInfo (addressList: Set<SourceAddress>): void,\n  }\n}\n\nexport type LinkListType = Map<SourceAddress, LinkSourceInfo>\nexport type ScriptListType = Map<SourceAddress, ScriptSourceInfo>\n\n/**\n * SourceCenter is a resource management center\n * All html, js, css will be recorded and processed here\n * NOTE:\n * 1. All resources are global and shared between apps\n * 2. Pay attention to the case of html with parameters\n * 3. The resource is first processed by the plugin\n */\nfunction createSourceCenter (): SourceCenter {\n  const linkList: LinkListType = new Map()\n  const scriptList: ScriptListType = new Map()\n\n  function createSourceHandler <P, T extends Map<SourceAddress, P>> (targetList: T): SourceCenter<P>['link'] | SourceCenter<LinkSourceInfo, P>['script'] {\n    return {\n      setInfo (address: SourceAddress, info: P): void {\n        targetList.set(address, info)\n      },\n      getInfo (address: SourceAddress): P | null {\n        return targetList.get(address) ?? null\n      },\n      hasInfo (address: SourceAddress): boolean {\n        return targetList.has(address)\n      },\n      deleteInfo (address: SourceAddress): boolean {\n        return targetList.delete(address)\n      }\n    }\n  }\n\n  return {\n    link: createSourceHandler<LinkSourceInfo, LinkListType>(linkList),\n    script: {\n      ...createSourceHandler<ScriptSourceInfo, ScriptListType>(scriptList),\n      deleteInlineInfo (addressList: Set<SourceAddress>): void {\n        addressList.forEach((address) => {\n          if (isInlineScript(address)) {\n            scriptList.delete(address)\n          }\n        })\n      }\n    },\n  }\n}\n\nexport default createSourceCenter()\n","export enum ObservedAttrName {\n  NAME = 'name',\n  URL = 'url',\n}\n\n// app status\nexport enum appStates {\n  CREATED = 'created',\n  LOADING = 'loading',\n  LOAD_FAILED = 'load_failed',\n  BEFORE_MOUNT = 'before_mount',\n  MOUNTING = 'mounting',\n  MOUNTED = 'mounted',\n  UNMOUNT = 'unmount',\n}\n\n// lifecycles\nexport enum lifeCycles {\n  CREATED = 'created',\n  BEFOREMOUNT = 'beforemount',\n  MOUNTED = 'mounted',\n  UNMOUNT = 'unmount',\n  ERROR = 'error',\n  // 👇 keep-alive only\n  BEFORESHOW = 'beforeshow',\n  AFTERSHOW = 'aftershow',\n  AFTERHIDDEN = 'afterhidden',\n}\n\n// global event of child app\nexport enum microGlobalEvent {\n  ONMOUNT = 'onmount',\n  ONUNMOUNT = 'onunmount',\n}\n\n// keep-alive status\nexport enum keepAliveStates {\n  KEEP_ALIVE_SHOW = 'keep_alive_show',\n  KEEP_ALIVE_HIDDEN = 'keep_alive_hidden',\n}\n\n// micro-app config\nexport enum MicroAppConfig {\n  DESTROY = 'destroy',\n  DESTORY = 'destory',\n  INLINE = 'inline',\n  DISABLESCOPECSS = 'disableScopecss',\n  DISABLESANDBOX = 'disableSandbox',\n  DISABLE_SCOPECSS = 'disable-scopecss',\n  DISABLE_SANDBOX = 'disable-sandbox',\n  DISABLE_MEMORY_ROUTER = 'disable-memory-router',\n  DISABLE_PATCH_REQUEST = 'disable-patch-request',\n  KEEP_ROUTER_STATE = 'keep-router-state',\n  KEEP_ALIVE = 'keep-alive',\n  CLEAR_DATA ='clear-data',\n  SSR = 'ssr',\n  FIBER = 'fiber',\n}\n\n/**\n * global key must be static key, they can not rewrite\n * e.g.\n * window.Promise = newValue\n * new Promise ==> still get old value, not newValue, because they are cached by top function\n * NOTE:\n * 1. Do not add fetch, XMLHttpRequest, EventSource\n */\nexport const GLOBAL_CACHED_KEY = 'window,self,globalThis,document,Document,Array,Object,String,Boolean,Math,Number,Symbol,Date,Function,Proxy,WeakMap,WeakSet,Set,Map,Reflect,Element,Node,RegExp,Error,TypeError,JSON,isNaN,parseFloat,parseInt,performance,console,decodeURI,encodeURI,decodeURIComponent,encodeURIComponent,navigator,undefined,location,history'\n\n// prefetch level\nexport const PREFETCH_LEVEL: number[] = [1, 2, 3]\n\n/**\n * memory router modes\n * NOTE:\n *  1. The only difference between native and native-scope is location.origin, in native-scope mode location.origin point to child app\n *  2. native mode equal to disable-memory-router\n*/\n// 临时注释，1.0版本放开，默认模式切换为state\n// // default mode, sync child app router info to history.state\n// export const DEFAULT_ROUTER_MODE = 'state'\n// // sync child app router info to browser url as search\n// export const ROUTER_MODE_SEARCH = 'search'\n\n// 临时放开，1.0版本去除\nexport const ROUTER_MODE_STATE = 'state'\nexport const DEFAULT_ROUTER_MODE = 'search'\n\n// render base on browser url, and location.origin location.href point to base app\nexport const ROUTER_MODE_NATIVE = 'native'\n// render base on browser url, but location.origin location.href point to child app\nexport const ROUTER_MODE_NATIVE_SCOPE = 'native-scope'\n// search mode, but child router info will not sync to browser url\nexport const ROUTER_MODE_PURE = 'pure'\nexport const ROUTER_MODE_LIST: string[] = [\n  DEFAULT_ROUTER_MODE,\n  ROUTER_MODE_STATE,\n  ROUTER_MODE_NATIVE,\n  ROUTER_MODE_NATIVE_SCOPE,\n  ROUTER_MODE_PURE,\n]\n\n// event bound to child app window\nconst BASE_SCOPE_WINDOW_EVENT = [\n  'popstate',\n  'hashchange',\n  'load',\n  'unload',\n  'unmount',\n  'appstate-change',\n  'statechange',\n  'mounted',\n  // 'beforeunload', // remove at 2024.5.30 by cangdu\n]\n\n// bind event of with sandbox\nexport const SCOPE_WINDOW_EVENT_OF_WITH = BASE_SCOPE_WINDOW_EVENT\n\n// bind event of iframe sandbox\nexport const SCOPE_WINDOW_EVENT_OF_IFRAME = BASE_SCOPE_WINDOW_EVENT.concat([\n  'unhandledrejection',\n  'message'\n])\n\n// on event bound to child app window\n// TODO: with和iframe处理方式不同，需修改\nconst BASE_SCOPE_WINDOW_ON_EVENT = [\n  'onpopstate',\n  'onhashchange',\n  'onload',\n  'onunload',\n  'onerror'\n  // 'onbeforeunload', // remove at 2024.5.30 by cangdu\n]\n\n// bind on event of with sandbox\nexport const SCOPE_WINDOW_ON_EVENT_OF_WITH = BASE_SCOPE_WINDOW_ON_EVENT\n\n// bind on event of iframe sandbox\nexport const SCOPE_WINDOW_ON_EVENT_OF_IFRAME = BASE_SCOPE_WINDOW_ON_EVENT.concat([\n  'onunhandledrejection',\n])\n\n// event bound to child app document\nexport const SCOPE_DOCUMENT_EVENT = [\n  'DOMContentLoaded',\n  'readystatechange',\n]\n\n// on event bound to child app document\nexport const SCOPE_DOCUMENT_ON_EVENT = [\n  'onreadystatechange',\n]\n\n// global key point to window\nexport const GLOBAL_KEY_TO_WINDOW: Array<PropertyKey> = [\n  'window',\n  'self',\n  'globalThis',\n]\n\nexport const RAW_GLOBAL_TARGET: Array<PropertyKey> = ['rawWindow', 'rawDocument']\n\nexport const HIJACK_LOCATION_KEYS = [\n  'host',\n  'hostname',\n  'port',\n  'protocol',\n  'origin',\n]\n","import type {\n  AppInterface,\n  LinkSourceInfo,\n  AttrsType,\n  fiberTasks,\n} from '@micro-app/types'\nimport { fetchSource } from './fetch'\nimport {\n  CompletionPath,\n  promiseStream,\n  pureCreateElement,\n  defer,\n  logError,\n  getAttributes,\n  injectFiberTask,\n  serialExecFiberTasks,\n} from '../libs/utils'\nimport scopedCSS, { createPrefix } from '../sandbox/scoped_css'\nimport {\n  dispatchOnLoadEvent,\n  dispatchOnErrorEvent,\n} from './load_event'\nimport sourceCenter from './source_center'\nimport globalEnv from '../libs/global_env'\n\n/**\n *\n * @param appName app.name\n * @param linkInfo linkInfo of current address\n */\nfunction getExistParseCode (\n  appName: string,\n  prefix: string,\n  linkInfo: LinkSourceInfo,\n): string | void {\n  const appSpace = linkInfo.appSpace\n  for (const item in appSpace) {\n    if (item !== appName) {\n      const appSpaceData = appSpace[item]\n      if (appSpaceData.parsedCode) {\n        return appSpaceData.parsedCode.replace(new RegExp(createPrefix(item, true), 'g'), prefix)\n      }\n    }\n  }\n}\n\n// transfer the attributes on the link to convertStyle\nfunction setConvertStyleAttr (convertStyle: HTMLStyleElement, attrs: AttrsType): void {\n  attrs.forEach((value, key) => {\n    if (key === 'rel') return\n    if (key === 'href') key = 'data-origin-href'\n    globalEnv.rawSetAttribute.call(convertStyle, key, value)\n  })\n}\n\n/**\n * Extract link elements\n * @param link link element\n * @param parent parent element of link\n * @param app app\n * @param microAppHead micro-app-head element\n * @param isDynamic dynamic insert\n */\nexport function extractLinkFromHtml (\n  link: HTMLLinkElement,\n  parent: Node | null,\n  app: AppInterface,\n  isDynamic = false,\n): any {\n  const rel = link.getAttribute('rel')\n  let href = link.getAttribute('href')\n  let replaceComment: Comment | null = null\n  if (rel === 'stylesheet' && href) {\n    href = CompletionPath(href, app.url)\n    let linkInfo = sourceCenter.link.getInfo(href)\n    const appSpaceData = {\n      attrs: getAttributes(link),\n    }\n    if (!linkInfo) {\n      linkInfo = {\n        code: '',\n        appSpace: {\n          [app.name]: appSpaceData,\n        }\n      }\n    } else {\n      linkInfo.appSpace[app.name] = linkInfo.appSpace[app.name] || appSpaceData\n    }\n\n    sourceCenter.link.setInfo(href, linkInfo)\n\n    if (!isDynamic) {\n      app.source.links.add(href)\n      replaceComment = document.createComment(`link element with href=${href} move to micro-app-head as style element`)\n      linkInfo.appSpace[app.name].placeholder = replaceComment\n    } else {\n      return { address: href, linkInfo }\n    }\n  } else if (rel && ['prefetch', 'preload', 'prerender', 'modulepreload', 'icon'].includes(rel)) {\n    // preload prefetch prerender ....\n    if (isDynamic) {\n      replaceComment = document.createComment(`link element with rel=${rel}${href ? ' & href=' + href : ''} removed by micro-app`)\n    } else {\n      parent?.removeChild(link)\n    }\n  } else if (href) {\n    // dns-prefetch preconnect modulepreload search ....\n    globalEnv.rawSetAttribute.call(link, 'href', CompletionPath(href, app.url))\n  }\n\n  if (isDynamic) {\n    return { replaceComment }\n  } else if (replaceComment) {\n    return parent?.replaceChild(replaceComment, link)\n  }\n}\n\n/**\n * Get link remote resources\n * @param wrapElement htmlDom\n * @param app app\n * @param microAppHead micro-app-head\n */\nexport function fetchLinksFromHtml (\n  wrapElement: HTMLElement,\n  app: AppInterface,\n  microAppHead: Element,\n  fiberStyleResult: Promise<void> | null,\n): void {\n  const styleList: Array<string> = Array.from(app.source.links)\n  const fetchLinkPromise: Array<Promise<string> | string> = styleList.map((address) => {\n    const linkInfo = sourceCenter.link.getInfo(address)!\n    return linkInfo.code ? linkInfo.code : fetchSource(address, app.name)\n  })\n\n  const fiberLinkTasks: fiberTasks = fiberStyleResult ? [] : null\n\n  promiseStream<string>(fetchLinkPromise, (res: { data: string, index: number }) => {\n    injectFiberTask(fiberLinkTasks, () => fetchLinkSuccess(\n      styleList[res.index],\n      res.data,\n      microAppHead,\n      app,\n    ))\n  }, (err: {error: Error, index: number}) => {\n    logError(err, app.name)\n  }, () => {\n    /**\n     * 1. If fiberStyleResult exist, fiberLinkTasks must exist\n     * 2. Download link source while processing style\n     * 3. Process style first, and then process link\n     */\n    if (fiberStyleResult) {\n      fiberStyleResult.then(() => {\n        fiberLinkTasks!.push(() => Promise.resolve(app.onLoad({ html: wrapElement })))\n        serialExecFiberTasks(fiberLinkTasks)\n      })\n    } else {\n      app.onLoad({ html: wrapElement })\n    }\n  })\n}\n\n/**\n * Fetch link succeeded, replace placeholder with style tag\n * NOTE:\n * 1. Only exec when init, no longer exec when remount\n * 2. Only handler html link element, not dynamic link or style\n * 3. The same prefix can reuse parsedCode\n * 4. Async exec with requestIdleCallback in prefetch or fiber\n * 5. appSpace[app.name].placeholder/attrs must exist\n * @param address resource address\n * @param code link source code\n * @param microAppHead micro-app-head\n * @param app app instance\n */\nexport function fetchLinkSuccess (\n  address: string,\n  code: string,\n  microAppHead: Element,\n  app: AppInterface,\n): void {\n  /**\n   * linkInfo must exist, but linkInfo.code not\n   * so we set code to linkInfo.code\n   */\n  const linkInfo = sourceCenter.link.getInfo(address)!\n  linkInfo.code = code\n  const appSpaceData = linkInfo.appSpace[app.name]\n  const placeholder = appSpaceData.placeholder!\n  /**\n   * When prefetch app is replaced by a new app in the processing phase, since the linkInfo is common, when the linkInfo of the prefetch app is processed, it may have already been processed.\n   * This causes placeholder to be possibly null\n   * e.g.\n   * 1. prefetch app.url different from <micro-app></micro-app>\n   * 2. prefetch param different from <micro-app></micro-app>\n   */\n  if (placeholder) {\n    const convertStyle = pureCreateElement('style')\n\n    handleConvertStyle(\n      app,\n      address,\n      convertStyle,\n      linkInfo,\n      appSpaceData.attrs,\n    )\n\n    if (placeholder.parentNode) {\n      placeholder.parentNode.replaceChild(convertStyle, placeholder)\n    } else {\n      microAppHead.appendChild(convertStyle)\n    }\n\n    // clear placeholder\n    appSpaceData.placeholder = null\n  }\n}\n\n/**\n * Get parsedCode, update convertStyle\n * Actions:\n * 1. get scope css (through scopedCSS or oldData)\n * 2. record parsedCode\n * 3. set parsedCode to convertStyle if need\n * @param app app instance\n * @param address resource address\n * @param convertStyle converted style\n * @param linkInfo linkInfo in sourceCenter\n * @param attrs attrs of link\n */\nexport function handleConvertStyle (\n  app: AppInterface,\n  address: string,\n  convertStyle: HTMLStyleElement,\n  linkInfo: LinkSourceInfo,\n  attrs: AttrsType,\n): void {\n  if (app.scopecss) {\n    const appSpaceData = linkInfo.appSpace[app.name]\n    appSpaceData.prefix = appSpaceData.prefix || createPrefix(app.name)\n    if (!appSpaceData.parsedCode) {\n      const existParsedCode = getExistParseCode(app.name, appSpaceData.prefix, linkInfo)\n      if (!existParsedCode) {\n        convertStyle.textContent = linkInfo.code\n        scopedCSS(convertStyle, app, address)\n      } else {\n        convertStyle.textContent = existParsedCode\n      }\n      appSpaceData.parsedCode = convertStyle.textContent\n    } else {\n      convertStyle.textContent = appSpaceData.parsedCode\n    }\n  } else {\n    convertStyle.textContent = linkInfo.code\n  }\n\n  setConvertStyleAttr(convertStyle, attrs)\n}\n\n/**\n * Handle css of dynamic link\n * @param address link address\n * @param app app\n * @param linkInfo linkInfo\n * @param originLink origin link element\n */\nexport function formatDynamicLink (\n  address: string,\n  app: AppInterface,\n  linkInfo: LinkSourceInfo,\n  originLink: HTMLLinkElement,\n): HTMLStyleElement {\n  const convertStyle = pureCreateElement('style')\n\n  const handleDynamicLink = () => {\n    handleConvertStyle(\n      app,\n      address,\n      convertStyle,\n      linkInfo,\n      linkInfo.appSpace[app.name].attrs,\n    )\n    dispatchOnLoadEvent(originLink)\n  }\n\n  if (linkInfo.code) {\n    defer(handleDynamicLink)\n  } else {\n    fetchSource(address, app.name).then((data: string) => {\n      linkInfo.code = data\n      handleDynamicLink()\n    }).catch((err) => {\n      logError(err, app.name)\n      dispatchOnErrorEvent(originLink)\n    })\n  }\n\n  return convertStyle\n}\n","/* eslint-disable node/no-callback-literal, no-void */\nimport type {\n  AppInterface,\n  ScriptSourceInfo,\n  plugins,\n  Func,\n  fiberTasks,\n  AttrsType,\n  microAppWindowType,\n} from '@micro-app/types'\nimport { fetchSource } from './fetch'\nimport {\n  CompletionPath,\n  promiseStream,\n  createNonceSrc,\n  pureCreateElement,\n  defer,\n  logError,\n  isUndefined,\n  isPlainObject,\n  isArray,\n  isFunction,\n  getAttributes,\n  injectFiberTask,\n  serialExecFiberTasks,\n  isInlineScript,\n  isString,\n} from '../libs/utils'\nimport {\n  dispatchOnLoadEvent,\n  dispatchOnErrorEvent,\n} from './load_event'\nimport microApp from '../micro_app'\nimport globalEnv from '../libs/global_env'\nimport { GLOBAL_CACHED_KEY } from '../constants'\nimport sourceCenter from './source_center'\n\nexport type moduleCallBack = Func & { moduleCount?: number, errorCount?: number }\n\nconst scriptTypes = ['text/javascript', 'text/ecmascript', 'application/javascript', 'application/ecmascript', 'module', 'systemjs-module', 'systemjs-importmap']\n\n// whether use type='module' script\nfunction isTypeModule (app: AppInterface, scriptInfo: ScriptSourceInfo): boolean {\n  return scriptInfo.appSpace[app.name].module && (!app.useSandbox || app.iframe)\n}\n\n// special script element\nfunction isSpecialScript (app: AppInterface, scriptInfo: ScriptSourceInfo): boolean {\n  const attrs = scriptInfo.appSpace[app.name].attrs\n  return attrs.has('id')\n}\n\n/**\n * whether to run js in inline mode\n * scene:\n * 1. inline config for app\n * 2. inline attr in script element\n * 3. module script\n * 4. script with special attr\n */\nfunction isInlineMode (app: AppInterface, scriptInfo: ScriptSourceInfo): boolean {\n  return (\n    app.inline ||\n    scriptInfo.appSpace[app.name].inline ||\n    isTypeModule(app, scriptInfo) ||\n    isSpecialScript(app, scriptInfo)\n  )\n}\n\n// TODO: iframe重新插入window前后不一致，通过iframe Function创建的函数无法复用\nfunction getEffectWindow (app: AppInterface): microAppWindowType {\n  return app.iframe ? app.sandBox.microAppWindow : globalEnv.rawWindow\n}\n\n// Convert string code to function\nfunction code2Function (app: AppInterface, code: string): Function {\n  const targetWindow = getEffectWindow(app)\n  return new targetWindow.Function(code)\n}\n\n/**\n * If the appSpace of the current js address has other app, try to reuse parsedFunction of other app\n * @param appName app.name\n * @param scriptInfo scriptInfo of current address\n * @param currentCode pure code of current address\n */\nfunction getExistParseResult (\n  app: AppInterface,\n  scriptInfo: ScriptSourceInfo,\n  currentCode: string,\n): Function | void {\n  const appSpace = scriptInfo.appSpace\n  for (const item in appSpace) {\n    if (item !== app.name) {\n      const appSpaceData = appSpace[item]\n      if (appSpaceData.parsedCode === currentCode && appSpaceData.parsedFunction) {\n        return appSpaceData.parsedFunction\n      }\n    }\n  }\n}\n\n/**\n * get parsedFunction from exist data or parsedCode\n * @returns parsedFunction\n */\nfunction getParsedFunction (\n  app: AppInterface,\n  scriptInfo: ScriptSourceInfo,\n  parsedCode: string,\n): Function {\n  return getExistParseResult(app, scriptInfo, parsedCode) || code2Function(app, parsedCode)\n}\n\n// Prevent randomly created strings from repeating\nfunction getUniqueNonceSrc (): string {\n  const nonceStr: string = createNonceSrc()\n  if (sourceCenter.script.hasInfo(nonceStr)) {\n    return getUniqueNonceSrc()\n  }\n  return nonceStr\n}\n\n// transfer the attributes on the script to convertScript\nfunction setConvertScriptAttr (convertScript: HTMLScriptElement, attrs: AttrsType): void {\n  attrs.forEach((value, key) => {\n    if ((key === 'type' && value === 'module') || key === 'defer' || key === 'async') return\n    if (key === 'src') key = 'data-origin-src'\n    globalEnv.rawSetAttribute.call(convertScript, key, value)\n  })\n}\n\n// wrap code in sandbox\nfunction isWrapInSandBox (app: AppInterface, scriptInfo: ScriptSourceInfo): boolean {\n  return app.useSandbox && !isTypeModule(app, scriptInfo)\n}\n\nfunction getSandboxType (app: AppInterface, scriptInfo: ScriptSourceInfo): 'with' | 'iframe' | 'disable' {\n  return isWrapInSandBox(app, scriptInfo) ? app.iframe ? 'iframe' : 'with' : 'disable'\n}\n\n/**\n * Extract script elements\n * @param script script element\n * @param parent parent element of script\n * @param app app\n * @param isDynamic dynamic insert\n */\nexport function extractScriptElement (\n  script: HTMLScriptElement,\n  parent: Node | null,\n  app: AppInterface,\n  isDynamic = false,\n): any {\n  let replaceComment: Comment | null = null\n  let src: string | null = script.getAttribute('src')\n  if (src) src = CompletionPath(src, app.url)\n  if (script.hasAttribute('exclude') || checkExcludeUrl(src, app.name)) {\n    replaceComment = document.createComment('script element with exclude attribute removed by micro-app')\n  } else if (\n    (\n      script.type &&\n      !scriptTypes.includes(script.type)\n    ) ||\n    script.hasAttribute('ignore') ||\n    checkIgnoreUrl(src, app.name)\n  ) {\n    // 配置为忽略的脚本，清空 rawDocument.currentScript，避免被忽略的脚本内获取 currentScript 出错\n    if (globalEnv.rawDocument?.currentScript) {\n      delete globalEnv.rawDocument.currentScript\n    }\n    return null\n  } else if (\n    (globalEnv.supportModuleScript && script.noModule) ||\n    (!globalEnv.supportModuleScript && script.type === 'module')\n  ) {\n    replaceComment = document.createComment(`${script.noModule ? 'noModule' : 'module'} script ignored by micro-app`)\n  } else if (src) { // remote script\n    let scriptInfo = sourceCenter.script.getInfo(src)\n    const appSpaceData = {\n      async: script.hasAttribute('async'),\n      defer: script.defer || script.type === 'module',\n      module: script.type === 'module',\n      inline: script.hasAttribute('inline'),\n      pure: script.hasAttribute('pure'),\n      attrs: getAttributes(script),\n    }\n    if (!scriptInfo) {\n      scriptInfo = {\n        code: '',\n        isExternal: true,\n        appSpace: {\n          [app.name]: appSpaceData,\n        }\n      }\n    } else {\n      /**\n       * Reuse when appSpace exists\n       * NOTE:\n       * 1. The same static script, appSpace must be the same (in fact, it may be different when url change)\n       * 2. The same dynamic script, appSpace may be the same, but we still reuse appSpace, which should pay attention\n       */\n      scriptInfo.appSpace[app.name] = scriptInfo.appSpace[app.name] || appSpaceData\n    }\n\n    sourceCenter.script.setInfo(src, scriptInfo)\n\n    if (!isDynamic) {\n      app.source.scripts.add(src)\n      replaceComment = document.createComment(`script with src='${src}' extract by micro-app`)\n    } else {\n      return { address: src, scriptInfo }\n    }\n  } else if (script.textContent) { // inline script\n    /**\n     * NOTE:\n     * 1. Each inline script is unique\n     * 2. Every dynamic created inline script will be re-executed\n     * ACTION:\n     * 1. Delete dynamic inline script info after exec\n     * 2. Delete static inline script info when destroy\n     */\n    const nonceStr: string = getUniqueNonceSrc()\n    const scriptInfo = {\n      code: script.textContent,\n      isExternal: false,\n      appSpace: {\n        [app.name]: {\n          async: false,\n          defer: script.type === 'module',\n          module: script.type === 'module',\n          inline: script.hasAttribute('inline'),\n          pure: script.hasAttribute('pure'),\n          attrs: getAttributes(script),\n        }\n      }\n    }\n    if (!isDynamic) {\n      app.source.scripts.add(nonceStr)\n      sourceCenter.script.setInfo(nonceStr, scriptInfo)\n      replaceComment = document.createComment('inline script extract by micro-app')\n    } else {\n      // Because each dynamic script is unique, it is not put into sourceCenter\n      return { address: nonceStr, scriptInfo }\n    }\n  } else if (!isDynamic) {\n    /**\n     * script with empty src or empty script.textContent remove in static html\n     * & not removed if it created by dynamic\n     */\n    replaceComment = document.createComment('script element removed by micro-app')\n  }\n\n  if (isDynamic) {\n    return { replaceComment }\n  } else {\n    return parent?.replaceChild(replaceComment!, script)\n  }\n}\n\n/**\n * get assets plugins\n * @param appName app name\n */\nexport function getAssetsPlugins (appName: string): plugins['global'] {\n  const globalPlugins = microApp.options.plugins?.global || []\n  const modulePlugins = microApp.options.plugins?.modules?.[appName] || []\n\n  return [...globalPlugins, ...modulePlugins]\n}\n\n/**\n * whether the address needs to be excluded\n * @param address css or js link\n * @param plugins microApp plugins\n */\nexport function checkExcludeUrl (address: string | null, appName: string): boolean {\n  if (!address) return false\n  const plugins = getAssetsPlugins(appName) || []\n  return plugins.some(plugin => {\n    if (!plugin.excludeChecker) return false\n    return plugin.excludeChecker(address)\n  })\n}\n\n/**\n * whether the address needs to be ignore\n * @param address css or js link\n * @param plugins microApp plugins\n */\nexport function checkIgnoreUrl (address: string | null, appName: string): boolean {\n  if (!address) return false\n  const plugins = getAssetsPlugins(appName) || []\n  return plugins.some(plugin => {\n    if (!plugin.ignoreChecker) return false\n    return plugin.ignoreChecker(address)\n  })\n}\n\n/**\n *  Get remote resources of script\n * @param wrapElement htmlDom\n * @param app app\n */\nexport function fetchScriptsFromHtml (\n  wrapElement: HTMLElement,\n  app: AppInterface,\n): void {\n  const scriptList: Array<string> = Array.from(app.source.scripts)\n  const fetchScriptPromise: Array<Promise<string> | string> = []\n  const fetchScriptPromiseInfo: Array<[string, ScriptSourceInfo]> = []\n  for (const address of scriptList) {\n    const scriptInfo = sourceCenter.script.getInfo(address)!\n    const appSpaceData = scriptInfo.appSpace[app.name]\n    if ((!appSpaceData.defer && !appSpaceData.async) || (app.isPrefetch && !app.isPrerender)) {\n      fetchScriptPromise.push(scriptInfo.code ? scriptInfo.code : fetchSource(address, app.name))\n      fetchScriptPromiseInfo.push([address, scriptInfo])\n    }\n  }\n\n  const fiberScriptTasks: fiberTasks = app.isPrefetch || app.fiber ? [] : null\n\n  if (fetchScriptPromise.length) {\n    promiseStream<string>(fetchScriptPromise, (res: {data: string, index: number}) => {\n      injectFiberTask(fiberScriptTasks, () => fetchScriptSuccess(\n        fetchScriptPromiseInfo[res.index][0],\n        fetchScriptPromiseInfo[res.index][1],\n        res.data,\n        app,\n      ))\n    }, (err: {error: Error, index: number}) => {\n      logError(err, app.name)\n    }, () => {\n      if (fiberScriptTasks) {\n        fiberScriptTasks.push(() => Promise.resolve(app.onLoad({ html: wrapElement })))\n        serialExecFiberTasks(fiberScriptTasks)\n      } else {\n        app.onLoad({ html: wrapElement })\n      }\n    })\n  } else {\n    app.onLoad({ html: wrapElement })\n  }\n}\n\n/**\n * fetch js succeeded, record the code value\n * @param address script address\n * @param scriptInfo resource script info\n * @param data code\n */\nexport function fetchScriptSuccess (\n  address: string,\n  scriptInfo: ScriptSourceInfo,\n  code: string,\n  app: AppInterface,\n): void {\n  // reset scriptInfo.code\n  scriptInfo.code = code\n\n  /**\n   * Pre parse script for prefetch, improve rendering performance\n   * NOTE:\n   * 1. if global parseResult exist, skip this step\n   * 2. if app is inline or script is esmodule, skip this step\n   * 3. if global parseResult not exist, the current script occupies the position, when js is reused, parseResult is reference\n   */\n  if (app.isPrefetch && app.prefetchLevel === 2) {\n    const appSpaceData = scriptInfo.appSpace[app.name]\n    /**\n     * When prefetch app is replaced by a new app in the processing phase, since the scriptInfo is common, when the scriptInfo of the prefetch app is processed, it may have already been processed.\n     * This causes parsedCode to already exist when preloading ends\n     * e.g.\n     * 1. prefetch app.url different from <micro-app></micro-app>\n     * 2. prefetch param different from <micro-app></micro-app>\n     */\n    if (!appSpaceData.parsedCode) {\n      appSpaceData.parsedCode = bindScope(address, app, code, scriptInfo)\n      appSpaceData.sandboxType = getSandboxType(app, scriptInfo)\n      if (!isInlineMode(app, scriptInfo)) {\n        try {\n          appSpaceData.parsedFunction = getParsedFunction(app, scriptInfo, appSpaceData.parsedCode)\n        } catch (err) {\n          logError('Something went wrong while handling preloaded resources', app.name, '\\n', err)\n        }\n      }\n    }\n  }\n}\n\n/**\n * Execute js in the mount lifecycle\n * @param app app\n * @param initHook callback for umd mode\n */\nexport function execScripts (\n  app: AppInterface,\n  initHook: moduleCallBack,\n): void {\n  const fiberScriptTasks: fiberTasks = app.fiber ? [] : null\n  const scriptList: Array<string> = Array.from(app.source.scripts)\n  const deferScriptPromise: Array<Promise<string>|string> = []\n  const deferScriptInfo: Array<[string, ScriptSourceInfo]> = []\n  for (const address of scriptList) {\n    const scriptInfo = sourceCenter.script.getInfo(address)!\n    const appSpaceData = scriptInfo.appSpace[app.name]\n    // Notice the second render\n    if (appSpaceData.defer || appSpaceData.async) {\n      // TODO: defer和module彻底分开，不要混在一起\n      if (scriptInfo.isExternal && !scriptInfo.code && !isTypeModule(app, scriptInfo)) {\n        deferScriptPromise.push(fetchSource(address, app.name))\n      } else {\n        deferScriptPromise.push(scriptInfo.code)\n      }\n      deferScriptInfo.push([address, scriptInfo])\n\n      isTypeModule(app, scriptInfo) && (initHook.moduleCount = initHook.moduleCount ? ++initHook.moduleCount : 1)\n    } else {\n      injectFiberTask(fiberScriptTasks, () => {\n        runScript(address, app, scriptInfo)\n        initHook(false)\n      })\n    }\n  }\n\n  if (deferScriptPromise.length) {\n    promiseStream<string>(deferScriptPromise, (res: {data: string, index: number}) => {\n      const scriptInfo = deferScriptInfo[res.index][1]\n      scriptInfo.code = scriptInfo.code || res.data\n    }, (err: {error: Error, index: number}) => {\n      initHook.errorCount = initHook.errorCount ? ++initHook.errorCount : 1\n      logError(err, app.name)\n    }, () => {\n      deferScriptInfo.forEach(([address, scriptInfo]) => {\n        if (isString(scriptInfo.code)) {\n          injectFiberTask(fiberScriptTasks, () => {\n            runScript(address, app, scriptInfo, initHook)\n            !isTypeModule(app, scriptInfo) && initHook(false)\n          })\n        }\n      })\n\n      /**\n       * Fiber wraps js in requestIdleCallback and executes it in sequence\n       * NOTE:\n       * 1. In order to ensure the execution order, wait for all js loaded and then execute\n       * 2. If js create a dynamic script, it may be errors in the execution order, because the subsequent js is wrapped in requestIdleCallback, even putting dynamic script in requestIdleCallback doesn't solve it\n       *\n       * BUG: NOTE.2 - execution order problem\n       */\n      if (fiberScriptTasks) {\n        fiberScriptTasks.push(() => Promise.resolve(initHook(\n          isUndefined(initHook.moduleCount) ||\n          initHook.errorCount === deferScriptPromise.length\n        )))\n        serialExecFiberTasks(fiberScriptTasks)\n      } else {\n        initHook(\n          isUndefined(initHook.moduleCount) ||\n          initHook.errorCount === deferScriptPromise.length\n        )\n      }\n    })\n  } else {\n    if (fiberScriptTasks) {\n      fiberScriptTasks.push(() => Promise.resolve(initHook(true)))\n      serialExecFiberTasks(fiberScriptTasks)\n    } else {\n      initHook(true)\n    }\n  }\n}\n\n/**\n * run code\n * @param address script address\n * @param app app\n * @param scriptInfo script info\n * @param callback callback of module script\n */\nexport function runScript (\n  address: string,\n  app: AppInterface,\n  scriptInfo: ScriptSourceInfo,\n  callback?: moduleCallBack,\n  replaceElement?: HTMLScriptElement,\n): void {\n  try {\n    actionsBeforeRunScript(app)\n    const appSpaceData = scriptInfo.appSpace[app.name]\n    const sandboxType = getSandboxType(app, scriptInfo)\n    /**\n     * NOTE:\n     * 1. plugins and wrapCode will only be executed once\n     * 2. if parsedCode not exist, parsedFunction is not exist\n     * 3. if parsedCode exist, parsedFunction does not necessarily exist\n     */\n    if (!appSpaceData.parsedCode || appSpaceData.sandboxType !== sandboxType) {\n      appSpaceData.parsedCode = bindScope(address, app, scriptInfo.code, scriptInfo)\n      appSpaceData.sandboxType = sandboxType\n      appSpaceData.parsedFunction = null\n    }\n\n    /**\n     * TODO: 优化逻辑\n     * 是否是内联模式应该由外部传入，这样自外而内更加统一，逻辑更加清晰\n     */\n    if (isInlineMode(app, scriptInfo)) {\n      const scriptElement = replaceElement || pureCreateElement('script')\n      runCode2InlineScript(\n        address,\n        appSpaceData.parsedCode,\n        isTypeModule(app, scriptInfo),\n        scriptElement,\n        appSpaceData.attrs,\n        callback,\n      )\n\n      /**\n       * TODO: 优化逻辑\n       * replaceElement不存在说明是初始化执行，需要主动插入script\n       * 但这里的逻辑不清晰，应该明确声明是什么环境下才需要主动插入，而不是用replaceElement间接判断\n       * replaceElement还有可能是注释类型(一定是在后台执行)，这里的判断都是间接判断，不够直观\n       */\n      if (!replaceElement) {\n        // TEST IGNORE\n        const parent = app.iframe ? app.sandBox?.microBody : app.querySelector('micro-app-body')\n        parent?.appendChild(scriptElement)\n      }\n    } else {\n      runParsedFunction(app, scriptInfo)\n    }\n  } catch (e) {\n    console.error(`[micro-app from ${replaceElement ? 'runDynamicScript' : 'runScript'}] app ${app.name}: `, e, address)\n    // throw error in with sandbox to parent app\n    throw e\n  }\n}\n\n/**\n * Get dynamically created remote script\n * @param address script address\n * @param app app instance\n * @param scriptInfo scriptInfo\n * @param originScript origin script element\n */\nexport function runDynamicRemoteScript (\n  address: string,\n  app: AppInterface,\n  scriptInfo: ScriptSourceInfo,\n  originScript: HTMLScriptElement,\n): HTMLScriptElement | Comment {\n  const replaceElement = isInlineMode(app, scriptInfo) ? pureCreateElement('script') : document.createComment(`dynamic script with src='${address}' extract by micro-app`)\n\n  const dispatchScriptOnLoadEvent = () => dispatchOnLoadEvent(originScript)\n\n  const runDynamicScript = () => {\n    const descriptor = Object.getOwnPropertyDescriptor(globalEnv.rawDocument, 'currentScript')\n    if (!descriptor || descriptor.configurable) {\n      Object.defineProperty(globalEnv.rawDocument, 'currentScript', {\n        value: originScript,\n        configurable: true,\n      })\n    }\n\n    runScript(address, app, scriptInfo, dispatchScriptOnLoadEvent, replaceElement as HTMLScriptElement)\n\n    !isTypeModule(app, scriptInfo) && dispatchScriptOnLoadEvent()\n  }\n\n  if (scriptInfo.code || isTypeModule(app, scriptInfo)) {\n    defer(runDynamicScript)\n  } else {\n    fetchSource(address, app.name).then((code: string) => {\n      scriptInfo.code = code\n      runDynamicScript()\n    }).catch((err) => {\n      logError(err, app.name)\n      dispatchOnErrorEvent(originScript)\n    })\n  }\n\n  return replaceElement\n}\n\n/**\n * Get dynamically created inline script\n * @param address script address\n * @param app app instance\n * @param scriptInfo scriptInfo\n */\nexport function runDynamicInlineScript (\n  address: string,\n  app: AppInterface,\n  scriptInfo: ScriptSourceInfo,\n): HTMLScriptElement | Comment {\n  const replaceElement = isInlineMode(app, scriptInfo) ? pureCreateElement('script') : document.createComment('dynamic inline script extract by micro-app')\n\n  runScript(address, app, scriptInfo, void 0, replaceElement as HTMLScriptElement)\n\n  return replaceElement\n}\n\n/**\n * common handle for inline script\n * @param address script address\n * @param code bound code\n * @param module type='module' of script\n * @param scriptElement target script element\n * @param attrs attributes of script element\n * @param callback callback of module script\n */\nfunction runCode2InlineScript (\n  address: string,\n  code: string,\n  module: boolean,\n  scriptElement: HTMLScriptElement,\n  attrs: AttrsType,\n  callback?: moduleCallBack,\n): void {\n  if (module) {\n    globalEnv.rawSetAttribute.call(scriptElement, 'type', 'module')\n    if (isInlineScript(address)) {\n      /**\n       * inline module script cannot convert to blob mode\n       * Issue: https://github.com/jd-opensource/micro-app/issues/805\n       */\n      scriptElement.textContent = code\n    } else {\n      scriptElement.src = address\n    }\n    if (callback) {\n      const onloadHandler = () => {\n        callback.moduleCount && callback.moduleCount--\n        callback(callback.moduleCount === 0)\n      }\n      /**\n       * NOTE:\n       *  1. module script will execute onload method only after it insert to document/iframe\n       *  2. we can't know when the inline module script onload, and we use defer to simulate, this maybe cause some problems\n       */\n      if (isInlineScript(address)) {\n        defer(onloadHandler)\n      } else {\n        scriptElement.onload = onloadHandler\n      }\n    }\n  } else {\n    scriptElement.textContent = code\n  }\n\n  setConvertScriptAttr(scriptElement, attrs)\n}\n\n// init & run code2Function\nfunction runParsedFunction (app: AppInterface, scriptInfo: ScriptSourceInfo) {\n  const appSpaceData = scriptInfo.appSpace[app.name]\n  if (!appSpaceData.parsedFunction) {\n    appSpaceData.parsedFunction = getParsedFunction(app, scriptInfo, appSpaceData.parsedCode!)\n  }\n  appSpaceData.parsedFunction.call(getEffectWindow(app))\n}\n\n/**\n * bind js scope\n * @param app app\n * @param code code\n * @param scriptInfo source script info\n */\nfunction bindScope (\n  address: string,\n  app: AppInterface,\n  code: string,\n  scriptInfo: ScriptSourceInfo,\n): string {\n  // TODO: 1、cache 2、esm code is null\n  if (isPlainObject(microApp.options.plugins)) {\n    code = usePlugins(address, code, app.name, microApp.options.plugins)\n  }\n\n  if (isWrapInSandBox(app, scriptInfo)) {\n    return app.iframe ? `(function(window,self,global,location){;${code}\\n${isInlineScript(address) ? '' : `//# sourceURL=${address}\\n`}}).call(window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyWindow,window.__MICRO_APP_SANDBOX__.proxyLocation);` : `;(function(proxyWindow){with(proxyWindow.__MICRO_APP_WINDOW__){(function(${GLOBAL_CACHED_KEY}){;${code}\\n${isInlineScript(address) ? '' : `//# sourceURL=${address}\\n`}}).call(proxyWindow,${GLOBAL_CACHED_KEY})}})(window.__MICRO_APP_PROXY_WINDOW__);`\n  }\n\n  return code\n}\n\n/**\n * actions before run script\n */\nfunction actionsBeforeRunScript (app: AppInterface): void {\n  setActiveProxyWindow(app)\n}\n\n/**\n * set active sandBox.proxyWindow to window.__MICRO_APP_PROXY_WINDOW__\n */\nfunction setActiveProxyWindow (app: AppInterface): void {\n  if (app.sandBox) {\n    globalEnv.rawWindow.__MICRO_APP_PROXY_WINDOW__ = app.sandBox.proxyWindow\n  }\n}\n\n/**\n * Call the plugin to process the file\n * @param address script address\n * @param code code\n * @param appName app name\n * @param plugins plugin list\n */\nfunction usePlugins (address: string, code: string, appName: string, plugins: plugins): string {\n  const newCode = processCode(plugins.global, code, address)\n\n  return processCode(plugins.modules?.[appName], newCode, address)\n}\n\nfunction processCode (configs: plugins['global'], code: string, address: string) {\n  if (!isArray(configs)) {\n    return code\n  }\n\n  return configs.reduce((preCode, config) => {\n    if (isPlainObject(config) && isFunction(config.loader)) {\n      return config.loader(preCode, address)\n    }\n\n    return preCode\n  }, code)\n}\n","import type { AppInterface, fiberTasks } from '@micro-app/types'\nimport {\n  logError,\n  CompletionPath,\n  injectFiberTask,\n  serialExecFiberTasks,\n  isLinkElement,\n  isScriptElement,\n  isStyleElement,\n  isImageElement,\n} from '../libs/utils'\nimport {\n  extractLinkFromHtml,\n  fetchLinksFromHtml,\n} from './links'\nimport {\n  extractScriptElement,\n  fetchScriptsFromHtml,\n  checkExcludeUrl,\n  checkIgnoreUrl,\n} from './scripts'\nimport scopedCSS from '../sandbox/scoped_css'\nimport globalEnv from '../libs/global_env'\n\n/**\n * Recursively process each child element\n * @param parent parent element\n * @param app app\n * @param microAppHead micro-app-head element\n */\nfunction flatChildren (\n  parent: HTMLElement,\n  app: AppInterface,\n  microAppHead: Element,\n  fiberStyleTasks: fiberTasks,\n): void {\n  const children = Array.from(parent.children)\n\n  children.length && children.forEach((child) => {\n    flatChildren(child as HTMLElement, app, microAppHead, fiberStyleTasks)\n  })\n\n  for (const dom of children) {\n    if (isLinkElement(dom)) {\n      if (dom.hasAttribute('exclude') || checkExcludeUrl(dom.getAttribute('href'), app.name)) {\n        parent.replaceChild(document.createComment('link element with exclude attribute ignored by micro-app'), dom)\n      } else if (!(dom.hasAttribute('ignore') || checkIgnoreUrl(dom.getAttribute('href'), app.name))) {\n        extractLinkFromHtml(dom, parent, app)\n      } else if (dom.hasAttribute('href')) {\n        globalEnv.rawSetAttribute.call(dom, 'href', CompletionPath(dom.getAttribute('href')!, app.url))\n      }\n    } else if (isStyleElement(dom)) {\n      if (dom.hasAttribute('exclude')) {\n        parent.replaceChild(document.createComment('style element with exclude attribute ignored by micro-app'), dom)\n      } else if (app.scopecss && !dom.hasAttribute('ignore')) {\n        injectFiberTask(fiberStyleTasks, () => scopedCSS(dom, app))\n      }\n    } else if (isScriptElement(dom)) {\n      extractScriptElement(dom, parent, app)\n    } else if (isImageElement(dom) && dom.hasAttribute('src')) {\n      globalEnv.rawSetAttribute.call(dom, 'src', CompletionPath(dom.getAttribute('src')!, app.url))\n    }\n    /**\n     * Don't remove meta and title, they have some special scenes\n     * e.g.\n     * document.querySelector('meta[name=\"viewport\"]') // for flexible\n     * document.querySelector('meta[name=\"baseurl\"]').baseurl // for api request\n     *\n     * Title point to main app title, child app title used to be compatible with some special scenes\n     */\n    // else if (dom instanceof HTMLMetaElement || dom instanceof HTMLTitleElement) {\n    //   parent.removeChild(dom)\n    // }\n  }\n}\n\n/**\n * Extract link and script, bind style scope\n * @param htmlStr html string\n * @param app app\n */\nexport function extractSourceDom (htmlStr: string, app: AppInterface): void {\n  const wrapElement = app.parseHtmlString(htmlStr)\n  const microAppHead = globalEnv.rawElementQuerySelector.call(wrapElement, 'micro-app-head')\n  const microAppBody = globalEnv.rawElementQuerySelector.call(wrapElement, 'micro-app-body')\n\n  if (!microAppHead || !microAppBody) {\n    const msg = `element ${microAppHead ? 'body' : 'head'} is missing`\n    app.onerror(new Error(msg))\n    return logError(msg, app.name)\n  }\n\n  const fiberStyleTasks: fiberTasks = app.isPrefetch || app.fiber ? [] : null\n\n  flatChildren(wrapElement, app, microAppHead, fiberStyleTasks)\n\n  /**\n   * Style and link are parallel, as it takes a lot of time for link to request resources. During this period, style processing can be performed to improve efficiency.\n   */\n  const fiberStyleResult = serialExecFiberTasks(fiberStyleTasks)\n\n  if (app.source.links.size) {\n    fetchLinksFromHtml(wrapElement, app, microAppHead, fiberStyleResult)\n  } else if (fiberStyleResult) {\n    fiberStyleResult.then(() => app.onLoad({ html: wrapElement }))\n  } else {\n    app.onLoad({ html: wrapElement })\n  }\n\n  if (app.source.scripts.size) {\n    fetchScriptsFromHtml(wrapElement, app)\n  } else {\n    app.onLoad({ html: wrapElement })\n  }\n}\n","/* eslint-disable no-cond-assign */\nimport { CallableFunctionForInteract, AppName } from '@micro-app/types'\nimport { logError, isFunction, isPlainObject, assign, defer } from '../libs/utils'\n\nexport default class EventCenter {\n  public eventList = new Map<string, {\n    data: Record<PropertyKey, unknown>,\n    tempData?: Record<PropertyKey, unknown> | null,\n    force?: boolean,\n    callbacks: Set<CallableFunctionForInteract>,\n  }>()\n\n  // whether the name is legal\n  private isLegalName (name: string): boolean {\n    if (!name) {\n      logError('event-center: Invalid name')\n      return false\n    }\n\n    return true\n  }\n\n  private queue: string[] = []\n  private recordStep: Record<string, {\n    nextStepList: Array<CallableFunction>,\n    dispatchDataEvent?: CallableFunction,\n  } | null> = {}\n\n  // add appName to queue\n  private enqueue (\n    name: AppName,\n    nextStep: CallableFunction,\n    dispatchDataEvent?: CallableFunction,\n  ): void {\n    // this.nextStepList.push(nextStep)\n    if (this.recordStep[name]) {\n      this.recordStep[name]!.nextStepList.push(nextStep)\n      dispatchDataEvent && (this.recordStep[name]!.dispatchDataEvent = dispatchDataEvent)\n    } else {\n      this.recordStep[name] = {\n        nextStepList: [nextStep],\n        dispatchDataEvent,\n      }\n    }\n    /**\n     * The micro task is executed async when the second render of child.\n     * We should ensure that the data changes are executed before binding the listening function\n     */\n    (!this.queue.includes(name) && this.queue.push(name) === 1) && defer(this.process)\n  }\n\n  // run task\n  private process = (): void => {\n    let name: string | void\n    const temRecordStep = this.recordStep\n    const queue = this.queue\n    this.recordStep = {}\n    this.queue = []\n    while (name = queue.shift()) {\n      const eventInfo = this.eventList.get(name)!\n      // clear tempData, force before exec nextStep\n      const tempData = eventInfo.tempData\n      const force = eventInfo.force\n      eventInfo.tempData = null\n      eventInfo.force = false\n      let resArr: unknown[]\n      if (force || !this.isEqual(eventInfo.data, tempData)) {\n        eventInfo.data = tempData || eventInfo.data\n        for (const f of eventInfo.callbacks) {\n          const res = f(eventInfo.data)\n          res && (resArr ??= []).push(res)\n        }\n\n        temRecordStep[name]!.dispatchDataEvent?.()\n\n        /**\n         * WARING:\n         * If data of other app is sent in nextStep, it may cause confusion of tempData and force\n         */\n        temRecordStep[name]!.nextStepList.forEach((nextStep) => nextStep(resArr))\n      }\n    }\n  }\n\n  /**\n   * In react, each setState will trigger setData, so we need a filter operation to avoid repeated trigger\n   */\n  private isEqual (\n    oldData: Record<PropertyKey, unknown>,\n    newData: Record<PropertyKey, unknown> | null | void,\n  ): boolean {\n    if (!newData || Object.keys(oldData).length !== Object.keys(newData).length) return false\n\n    for (const key in oldData) {\n      if (Object.prototype.hasOwnProperty.call(oldData, key)) {\n        if (oldData[key] !== newData[key]) return false\n      }\n    }\n\n    return true\n  }\n\n  /**\n   * add listener\n   * @param name event name\n   * @param f listener\n   * @param autoTrigger If there is cached data when first bind listener, whether it needs to trigger, default is false\n   */\n  public on (name: string, f: CallableFunctionForInteract, autoTrigger = false): void {\n    if (this.isLegalName(name)) {\n      if (!isFunction(f)) {\n        return logError('event-center: Invalid callback function')\n      }\n\n      let eventInfo = this.eventList.get(name)\n      if (!eventInfo) {\n        eventInfo = {\n          data: {},\n          callbacks: new Set(),\n        }\n        this.eventList.set(name, eventInfo)\n      } else if (\n        autoTrigger &&\n        Object.keys(eventInfo.data).length &&\n        (\n          !this.queue.includes(name) ||\n          this.isEqual(eventInfo.data, eventInfo.tempData)\n        )\n      ) {\n        // auto trigger when data not null\n        f(eventInfo.data)\n      }\n\n      eventInfo.callbacks.add(f)\n    }\n  }\n\n  // remove listener, but the data is not cleared\n  public off (\n    name: string,\n    f?: CallableFunctionForInteract,\n  ): void {\n    if (this.isLegalName(name)) {\n      const eventInfo = this.eventList.get(name)\n      if (eventInfo) {\n        if (isFunction(f)) {\n          eventInfo.callbacks.delete(f)\n        } else {\n          eventInfo.callbacks.clear()\n        }\n      }\n    }\n  }\n\n  /**\n   * clearData\n   */\n  public clearData (name: string): void {\n    if (this.isLegalName(name)) {\n      const eventInfo = this.eventList.get(name)\n      if (eventInfo) {\n        eventInfo.data = {}\n      }\n    }\n  }\n\n  // dispatch data\n  public dispatch (\n    name: string,\n    data: Record<PropertyKey, unknown>,\n    nextStep: CallableFunction,\n    force?: boolean,\n    dispatchDataEvent?: CallableFunction,\n  ): void {\n    if (this.isLegalName(name)) {\n      if (!isPlainObject(data)) {\n        return logError('event-center: data must be object')\n      }\n\n      let eventInfo = this.eventList.get(name)\n      if (eventInfo) {\n        eventInfo.tempData = assign({}, eventInfo.tempData || eventInfo.data, data)\n        !eventInfo.force && (eventInfo.force = !!force)\n      } else {\n        eventInfo = {\n          data: data,\n          callbacks: new Set(),\n        }\n        this.eventList.set(name, eventInfo)\n        /**\n         * When sent data to parent, eventInfo probably does not exist, because parent may listen to datachange\n         */\n        eventInfo.force = true\n      }\n      // add to queue, event eventInfo is null\n      this.enqueue(name, nextStep, dispatchDataEvent)\n    }\n  }\n\n  // get data\n  public getData (name: string): Record<PropertyKey, unknown> | null {\n    const eventInfo = this.eventList.get(name)\n    return eventInfo?.data ?? null\n  }\n}\n","import { CallableFunctionForInteract } from '@micro-app/types'\nimport EventCenter from './event_center'\nimport { appInstanceMap } from '../create_app'\nimport {\n  removeDomScope,\n  isString,\n  isFunction,\n  isPlainObject,\n  formatAppName,\n  logError,\n  getRootContainer,\n} from '../libs/utils'\n\nconst eventCenter = new EventCenter()\n\n/**\n * Format event name\n * @param appName app.name\n * @param fromBaseApp is from base app\n */\nfunction createEventName (appName: string, fromBaseApp: boolean): string {\n  if (!isString(appName) || !appName) return ''\n  return fromBaseApp ? `__${appName}_from_base_app__` : `__${appName}_from_micro_app__`\n}\n\n// Global data\nclass EventCenterForGlobal {\n  /**\n   * add listener of global data\n   * @param cb listener\n   * @param autoTrigger If there is cached data when first bind listener, whether it needs to trigger, default is false\n   */\n  addGlobalDataListener (cb: CallableFunctionForInteract, autoTrigger?: boolean): void {\n    const appName = (this as any).appName\n    // if appName exists, this is in sub app\n    if (appName) {\n      cb.__APP_NAME__ = appName\n      cb.__AUTO_TRIGGER__ = autoTrigger\n    }\n    eventCenter.on('global', cb, autoTrigger)\n  }\n\n  /**\n   * remove listener of global data\n   * @param cb listener\n   */\n  removeGlobalDataListener (cb: CallableFunctionForInteract): void {\n    isFunction(cb) && eventCenter.off('global', cb)\n  }\n\n  /**\n   * dispatch global data\n   * @param data data\n   */\n  setGlobalData (\n    data: Record<PropertyKey, unknown>,\n    nextStep?: CallableFunction,\n    force?: boolean,\n  ): void {\n    // clear dom scope before dispatch global data, apply to micro app\n    removeDomScope()\n\n    eventCenter.dispatch(\n      'global',\n      data,\n      (resArr: unknown[]) => isFunction(nextStep) && nextStep(resArr),\n      force,\n    )\n  }\n\n  forceSetGlobalData (\n    data: Record<PropertyKey, unknown>,\n    nextStep?: CallableFunction,\n  ): void {\n    this.setGlobalData(data, nextStep, true)\n  }\n\n  /**\n   * get global data\n   */\n  getGlobalData (): Record<PropertyKey, unknown> | null {\n    return eventCenter.getData('global')\n  }\n\n  /**\n   * clear global data\n   */\n  clearGlobalData (): void {\n    eventCenter.clearData('global')\n  }\n\n  /**\n   * clear all listener of global data\n   * if appName exists, only the specified functions is cleared\n   * if appName not exists, only clear the base app functions\n   */\n  clearGlobalDataListener (): void {\n    const appName = (this as any).appName\n    const eventInfo = eventCenter.eventList.get('global')\n    if (eventInfo) {\n      for (const cb of eventInfo.callbacks) {\n        if (\n          (appName && appName === cb.__APP_NAME__) ||\n          !(appName || cb.__APP_NAME__)\n        ) {\n          eventInfo.callbacks.delete(cb)\n        }\n      }\n    }\n  }\n}\n\n// Event center for base app\nexport class EventCenterForBaseApp extends EventCenterForGlobal {\n  /**\n   * add listener\n   * @param appName app.name\n   * @param cb listener\n   * @param autoTrigger If there is cached data when first bind listener, whether it needs to trigger, default is false\n   */\n  addDataListener (appName: string, cb: CallableFunction, autoTrigger?: boolean): void {\n    eventCenter.on(createEventName(formatAppName(appName), false), cb, autoTrigger)\n  }\n\n  /**\n   * remove listener\n   * @param appName app.name\n   * @param cb listener\n   */\n  removeDataListener (appName: string, cb: CallableFunction): void {\n    isFunction(cb) && eventCenter.off(createEventName(formatAppName(appName), false), cb)\n  }\n\n  /**\n   * get data from micro app or base app\n   * @param appName app.name\n   * @param fromBaseApp whether get data from base app, default is false\n   */\n  getData (appName: string, fromBaseApp = false): Record<PropertyKey, unknown> | null {\n    return eventCenter.getData(createEventName(formatAppName(appName), fromBaseApp))\n  }\n\n  /**\n   * Dispatch data to the specified micro app\n   * @param appName app.name\n   * @param data data\n   */\n  setData (\n    appName: string,\n    data: Record<PropertyKey, unknown>,\n    nextStep?: CallableFunction,\n    force?: boolean,\n  ): void {\n    eventCenter.dispatch(\n      createEventName(formatAppName(appName), true),\n      data,\n      (resArr: unknown[]) => isFunction(nextStep) && nextStep(resArr),\n      force,\n    )\n  }\n\n  forceSetData (\n    appName: string,\n    data: Record<PropertyKey, unknown>,\n    nextStep?: CallableFunction,\n  ): void {\n    this.setData(appName, data, nextStep, true)\n  }\n\n  /**\n   * clear data from base app\n   * @param appName app.name\n   * @param fromBaseApp whether clear data from child app, default is true\n   */\n  clearData (appName: string, fromBaseApp = true): void {\n    eventCenter.clearData(createEventName(formatAppName(appName), fromBaseApp))\n  }\n\n  /**\n   * clear all listener for specified micro app\n   * @param appName app.name\n   */\n  clearDataListener (appName: string): void {\n    eventCenter.off(createEventName(formatAppName(appName), false))\n  }\n}\n\n// Event center for sub app\nexport class EventCenterForMicroApp extends EventCenterForGlobal {\n  appName: string\n  umdDataListeners?: {\n    global: Set<CallableFunctionForInteract>,\n    normal: Set<CallableFunctionForInteract>,\n  }\n\n  constructor (appName: string) {\n    super()\n    this.appName = formatAppName(appName)\n    !this.appName && logError(`Invalid appName ${appName}`)\n  }\n\n  /**\n   * add listener, monitor the data sent by the base app\n   * @param cb listener\n   * @param autoTrigger If there is cached data when first bind listener, whether it needs to trigger, default is false\n   */\n  addDataListener (cb: CallableFunctionForInteract, autoTrigger?: boolean): void {\n    cb.__AUTO_TRIGGER__ = autoTrigger\n    eventCenter.on(createEventName(this.appName, true), cb, autoTrigger)\n  }\n\n  /**\n   * remove listener\n   * @param cb listener\n   */\n  removeDataListener (cb: CallableFunctionForInteract): void {\n    isFunction(cb) && eventCenter.off(createEventName(this.appName, true), cb)\n  }\n\n  /**\n   * get data from base app\n   */\n  getData (fromBaseApp = true): Record<PropertyKey, unknown> | null {\n    return eventCenter.getData(createEventName(this.appName, fromBaseApp))\n  }\n\n  /**\n   * dispatch data to base app\n   * @param data data\n   */\n  dispatch (data: Record<PropertyKey, unknown>, nextStep?: CallableFunction, force?: boolean): void {\n    removeDomScope()\n\n    eventCenter.dispatch(\n      createEventName(this.appName, false),\n      data,\n      (resArr: unknown[]) => isFunction(nextStep) && nextStep(resArr),\n      force,\n      () => {\n        const app = appInstanceMap.get(this.appName)\n        if (app?.container && isPlainObject(data)) {\n          const event = new CustomEvent('datachange', {\n            detail: {\n              data: eventCenter.getData(createEventName(this.appName, false))\n            }\n          })\n\n          getRootContainer(app.container).dispatchEvent(event)\n        }\n      })\n  }\n\n  forceDispatch (data: Record<PropertyKey, unknown>, nextStep?: CallableFunction): void {\n    this.dispatch(data, nextStep, true)\n  }\n\n  /**\n   * clear data from child app\n   * @param fromBaseApp whether clear data from base app, default is false\n   */\n  clearData (fromBaseApp = false): void {\n    eventCenter.clearData(createEventName(this.appName, fromBaseApp))\n  }\n\n  /**\n   * clear all listeners\n   */\n  clearDataListener (): void {\n    eventCenter.off(createEventName(this.appName, true))\n  }\n}\n\n/**\n * Record UMD function before exec umdHookMount\n * NOTE: record maybe call twice when unmount prerender, keep-alive app manually with umd mode\n * @param microAppEventCenter instance of EventCenterForMicroApp\n */\nexport function recordDataCenterSnapshot (microAppEventCenter: EventCenterForMicroApp): void {\n  if (microAppEventCenter) {\n    microAppEventCenter.umdDataListeners = {\n      global: new Set(microAppEventCenter.umdDataListeners?.global),\n      normal: new Set(microAppEventCenter.umdDataListeners?.normal),\n    }\n\n    const globalEventInfo = eventCenter.eventList.get('global')\n    if (globalEventInfo) {\n      for (const cb of globalEventInfo.callbacks) {\n        if (microAppEventCenter.appName === cb.__APP_NAME__) {\n          microAppEventCenter.umdDataListeners.global.add(cb)\n        }\n      }\n    }\n\n    const subAppEventInfo = eventCenter.eventList.get(createEventName(microAppEventCenter.appName, true))\n    if (subAppEventInfo) {\n      for (const cb of subAppEventInfo.callbacks) {\n        microAppEventCenter.umdDataListeners.normal.add(cb)\n      }\n    }\n  }\n}\n\n/**\n * Rebind the UMD function of the record before remount\n * @param microAppEventCenter instance of EventCenterForMicroApp\n */\nexport function rebuildDataCenterSnapshot (microAppEventCenter: EventCenterForMicroApp): void {\n  // in withSandbox preRender mode with module script, umdDataListeners maybe undefined\n  if (microAppEventCenter?.umdDataListeners) {\n    for (const cb of microAppEventCenter.umdDataListeners.global) {\n      microAppEventCenter.addGlobalDataListener(cb, cb.__AUTO_TRIGGER__)\n    }\n\n    for (const cb of microAppEventCenter.umdDataListeners.normal) {\n      microAppEventCenter.addDataListener(cb, cb.__AUTO_TRIGGER__)\n    }\n\n    resetDataCenterSnapshot(microAppEventCenter)\n  }\n}\n\n/**\n * delete umdDataListeners from microAppEventCenter\n * @param microAppEventCenter instance of EventCenterForMicroApp\n */\nexport function resetDataCenterSnapshot (microAppEventCenter: EventCenterForMicroApp): void {\n  delete microAppEventCenter?.umdDataListeners\n}\n","import { appInstanceMap } from './create_app'\nimport { AppInterface } from '@micro-app/types'\n\nexport interface IAppManager {\n  get(appName: string): AppInterface | void\n  set(appName: string, app: AppInterface): void\n  getAll(): AppInterface[]\n  clear(): void\n}\n\n// 管理 app 的单例\nexport class AppManager implements IAppManager {\n  private static instance: AppManager;\n  // TODO: appInstanceMap 由 AppManager 来创建，不再由 create_app 管理\n  private appInstanceMap = appInstanceMap;\n\n  public static getInstance (): AppManager {\n    if (!this.instance) {\n      this.instance = new AppManager()\n    }\n    return this.instance\n  }\n\n  public get (appName: string): AppInterface | void {\n    return this.appInstanceMap.get(appName)\n  }\n\n  public set (appName: string, app: AppInterface): void {\n    this.appInstanceMap.set(appName, app)\n  }\n\n  public getAll (): AppInterface[] {\n    return Array.from(this.appInstanceMap.values())\n  }\n\n  public clear (): void {\n    this.appInstanceMap.clear()\n  }\n}\n","import { AppManager } from '../app_manager'\nimport { getRootContainer } from '../libs/utils'\n\nfunction unmountNestedApp (): void {\n  releaseUnmountOfNestedApp()\n\n  AppManager.getInstance().getAll().forEach(app => {\n    // @ts-ignore\n    app.container && getRootContainer(app.container).disconnectedCallback()\n  })\n\n  !window.__MICRO_APP_UMD_MODE__ && AppManager.getInstance().clear()\n}\n\n// release listener\nfunction releaseUnmountOfNestedApp (): void {\n  if (window.__MICRO_APP_ENVIRONMENT__) {\n    window.removeEventListener('unmount', unmountNestedApp, false)\n  }\n}\n\n// if micro-app run in micro application, delete all next generation application when unmount event received\n// unmount event will auto release by sandbox\nexport function initEnvOfNestedApp (): void {\n  if (window.__MICRO_APP_ENVIRONMENT__) {\n    releaseUnmountOfNestedApp()\n    window.addEventListener('unmount', unmountNestedApp, false)\n  }\n}\n","/* eslint-disable no-return-assign */\nimport {\n  isBoundFunction,\n  isConstructor,\n  rawDefineProperty,\n  isBoolean,\n  isFunction,\n} from '../libs/utils'\n\nfunction isBoundedFunction (value: CallableFunction & {__MICRO_APP_IS_BOUND_FUNCTION__: boolean}): boolean {\n  if (isBoolean(value.__MICRO_APP_IS_BOUND_FUNCTION__)) return value.__MICRO_APP_IS_BOUND_FUNCTION__\n  return value.__MICRO_APP_IS_BOUND_FUNCTION__ = isBoundFunction(value)\n}\n\nfunction isConstructorFunction (value: FunctionConstructor & {__MICRO_APP_IS_CONSTRUCTOR__: boolean}) {\n  if (isBoolean(value.__MICRO_APP_IS_CONSTRUCTOR__)) return value.__MICRO_APP_IS_CONSTRUCTOR__\n  return value.__MICRO_APP_IS_CONSTRUCTOR__ = isConstructor(value)\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport default function bindFunctionToRawTarget<T = Window, B = unknown> (value: any, rawTarget: T, key = 'WINDOW'): B {\n  /**\n   * In safari, nest app like: A -> B -> C\n   * if B is iframe sandbox, and C is with sandbox, same property of document in C is abnormal\n   * e.g:\n   *  document.all:\n   *    - typeof document.all ==> 'function'\n   *    - document.all.bind ==> undefined\n   */\n  if (isFunction(value) && !isConstructorFunction(value) && !isBoundedFunction(value) && value.bind) {\n    const cacheKey = `__MICRO_APP_BOUND_${key}_FUNCTION__`\n    if (value[cacheKey]) return value[cacheKey]\n\n    const bindRawObjectValue = value.bind(rawTarget)\n\n    for (const key in value) {\n      bindRawObjectValue[key] = value[key]\n    }\n\n    if (value.hasOwnProperty('prototype')) {\n      rawDefineProperty(bindRawObjectValue, 'prototype', {\n        value: value.prototype,\n        configurable: true,\n        enumerable: false,\n        writable: true,\n      })\n    }\n\n    return value[cacheKey] = bindRawObjectValue\n  }\n\n  return value\n}\n","import type {\n  BaseSandboxType,\n  AppInterface,\n} from '@micro-app/types'\nimport globalEnv from '../libs/global_env'\nimport {\n  defer,\n  isNode,\n  rawDefineProperties,\n  isMicroAppBody,\n  getPreventSetState,\n  throttleDeferForIframeAppName,\n  isAnchorElement,\n} from '../libs/utils'\nimport {\n  appInstanceMap,\n  isIframeSandbox,\n} from '../create_app'\nimport microApp from '../micro_app'\nimport { AppManager } from '../app_manager'\n\nexport class BaseSandbox implements BaseSandboxType {\n  constructor (appName: string, url: string) {\n    this.appName = appName\n    this.url = url\n    this.injectReactHMRProperty()\n  }\n\n  // keys that can only assigned to rawWindow\n  public rawWindowScopeKeyList: PropertyKey[] = [\n    'location',\n  ]\n\n  // keys that can escape to rawWindow\n  public staticEscapeProperties: PropertyKey[] = [\n    'System',\n    '__cjsWrapper',\n  ]\n\n  // keys that scoped in child app\n  public staticScopeProperties: PropertyKey[] = [\n    'webpackJsonp',\n    'webpackHotUpdate',\n    'Vue',\n    // TODO: 是否可以和constants/SCOPE_WINDOW_ON_EVENT合并\n    'onpopstate',\n    'onhashchange',\n  ]\n\n  public appName: string\n  public url: string\n  // Properties that can only get and set in microAppWindow, will not escape to rawWindow\n  public scopeProperties: PropertyKey[] = Array.from(this.staticScopeProperties)\n  // Properties that can be escape to rawWindow\n  public escapeProperties: PropertyKey[] = []\n  // Properties newly added to microAppWindow\n  public injectedKeys = new Set<PropertyKey>()\n  // Properties escape to rawWindow, cleared when unmount\n  public escapeKeys = new Set<PropertyKey>()\n  // Promise used to mark whether the sandbox is initialized\n  public sandboxReady!: Promise<void>\n  // reset mount, unmount when stop in default mode\n  public clearHijackUmdHooks!: () => void\n\n  // adapter for react\n  private injectReactHMRProperty (): void {\n    if (__DEV__) {\n      // react child in non-react env\n      this.staticEscapeProperties.push('__REACT_ERROR_OVERLAY_GLOBAL_HOOK__')\n      // in react parent\n      if (globalEnv.rawWindow.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__) {\n        this.staticScopeProperties = this.staticScopeProperties.concat([\n          '__REACT_ERROR_OVERLAY_GLOBAL_HOOK__',\n          '__reactRefreshInjected',\n        ])\n      }\n    }\n  }\n}\n\n/**\n * TODO:\n *  1、将class Adapter去掉，改为CustomWindow，或者让CustomWindow继承Adapter\n *  2、with沙箱中的常量放入CustomWindow，虽然和iframe沙箱不一致，但更合理\n * 修改时机：在iframe沙箱支持插件后再修改\n */\nexport class CustomWindow {}\n\n// Fix conflict of babel-polyfill@6.x\nexport function fixBabelPolyfill6 (): void {\n  if (globalEnv.rawWindow._babelPolyfill) globalEnv.rawWindow._babelPolyfill = false\n}\n\n/**\n * Fix error of hot reload when parent&child created by create-react-app in development environment\n * Issue: https://github.com/jd-opensource/micro-app/issues/382\n */\nexport function fixReactHMRConflict (app: AppInterface): void {\n  if (__DEV__) {\n    const rawReactErrorHook = globalEnv.rawWindow.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__\n    const childReactErrorHook = app.sandBox?.proxyWindow.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__\n    if (rawReactErrorHook && childReactErrorHook) {\n      globalEnv.rawWindow.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__ = childReactErrorHook\n      defer(() => {\n        globalEnv.rawWindow.__REACT_ERROR_OVERLAY_GLOBAL_HOOK__ = rawReactErrorHook\n      })\n    }\n  }\n}\n\n/**\n * update dom tree of target dom\n * @param container target dom\n * @param appName app name\n */\nexport function patchElementTree (\n  container: Node,\n  appName: string,\n): void {\n  const children = Array.from(container.childNodes)\n\n  children.length && children.forEach((child) => {\n    patchElementTree(child, appName)\n  })\n\n  updateElementInfo(container, appName)\n}\n\n/**\n * rewrite baseURI, ownerDocument, __MICRO_APP_NAME__ of target node\n * @param node target node\n * @param appName app name\n * @returns target node\n */\nexport function updateElementInfo <T> (node: T, appName: string | null): T {\n  if (\n    appName &&\n    isNode(node) &&\n    node.__MICRO_APP_NAME__ !== appName &&\n    !node.__PURE_ELEMENT__ &&\n    !getPreventSetState()\n  ) {\n    /**\n     * TODO:\n     *  1. 测试baseURI和ownerDocument在with沙箱中是否正确\n     *    经过验证with沙箱不能重写ownerDocument，否则react点击事件会触发两次\n    */\n    const props: {[kye:string]:any} = {\n      __MICRO_APP_NAME__: {\n        configurable: true,\n        enumerable: true,\n        writable: true,\n        value: appName,\n      },\n    }\n    if (isAnchorElement(node)) {\n      // a 标签\n      const microApp = AppManager.getInstance().get(appName)\n      if (microApp) {\n        props.href = {\n          get() {\n            return this.getAttribute('href')\n          },\n          set(value: string) {\n            if (value === undefined) {\n              return\n            }\n            this.setAttribute('href', value)\n          },\n        }\n      }\n    }\n    rawDefineProperties(node, props)\n\n    /**\n     * In FireFox, iframe Node.prototype will point to native Node.prototype after insert to document\n     *\n     * Performance:\n     *  iframe element.__proto__ === browser HTMLElement.prototype // Chrome: false, FireFox: true\n     *  iframe element.__proto__ === iframe HTMLElement.prototype // Chrome: true, FireFox: false\n     *\n     * NOTE:\n     *  1. Node.prototype.baseURI\n     *  2. Node.prototype.ownerDocument\n     *  3. Node.prototype.parentNode\n     *  4. Node.prototype.getRootNode\n     *  5. Node.prototype.cloneNode\n     *  6. Element.prototype.innerHTML\n     *  7. Image\n     */\n    if (isIframeSandbox(appName)) {\n      const proxyWindow = appInstanceMap.get(appName)?.sandBox?.proxyWindow\n      if (proxyWindow) {\n        rawDefineProperties(node, {\n          baseURI: {\n            configurable: true,\n            enumerable: true,\n            get: () => proxyWindow.location.href,\n          },\n          ownerDocument: {\n            configurable: true,\n            enumerable: true,\n            get: () => node !== proxyWindow.document ? proxyWindow.document : null,\n          },\n          parentNode: getIframeParentNodeDesc(\n            appName,\n            globalEnv.rawParentNodeDesc,\n          ),\n          getRootNode: {\n            configurable: true,\n            enumerable: true,\n            writable: true,\n            value: function getRootNode (): Node {\n              return proxyWindow.document\n            }\n          },\n        })\n      }\n    }\n  }\n\n  return node\n}\n\n/**\n * get Descriptor of Node.prototype.parentNode for iframe\n * @param appName app name\n * @param parentNode parentNode Descriptor of iframe or browser\n */\nexport function getIframeParentNodeDesc (\n  appName: string,\n  parentNodeDesc: PropertyDescriptor,\n): PropertyDescriptor {\n  return {\n    configurable: true,\n    enumerable: true,\n    get (this: Node) {\n      throttleDeferForIframeAppName(appName)\n      const result: ParentNode = parentNodeDesc.get?.call(this)\n      /**\n       * If parentNode is <micro-app-body>, return rawDocument.body\n       * Scenes:\n       *  1. element-ui@2/lib/utils/vue-popper.js\n       *    if (this.popperElm.parentNode === document.body) ...\n       * e.g.:\n       *  1. element-ui@2.x el-dropdown\n       * WARNING:\n       *  Will it cause other problems ?\n       *  e.g. target.parentNode.remove(target)\n       */\n      if (isMicroAppBody(result) && appInstanceMap.get(appName)?.container) {\n        return microApp.options.getRootElementParentNode?.(this, appName) || globalEnv.rawDocument.body\n      }\n      return result\n    }\n  }\n}\n","/* eslint-disable no-cond-assign */\nimport type {\n  CommonEffectHook,\n  MicroEventListener,\n  WithSandBoxInterface,\n  microAppWindowType,\n} from '@micro-app/types'\nimport microApp from '../../micro_app'\nimport globalEnv from '../../libs/global_env'\nimport bindFunctionToRawTarget from '../bind_function'\nimport {\n  throttleDeferForSetAppName,\n  isFunction,\n  rawDefineProperties,\n} from '../../libs/utils'\nimport {\n  appInstanceMap,\n} from '../../create_app'\nimport {\n  updateElementInfo,\n} from '../adapter'\n\n/**\n * create proxyDocument and MicroDocument, rewrite document of child app\n * @param appName app name\n * @param microAppWindow Proxy target\n * @returns EffectHook\n */\nexport function patchDocument (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: WithSandBoxInterface,\n): CommonEffectHook {\n  const { proxyDocument, documentEffect } = createProxyDocument(appName, sandbox)\n  const MicroDocument = createMicroDocument(appName, proxyDocument)\n  rawDefineProperties(microAppWindow, {\n    document: {\n      configurable: false,\n      enumerable: true,\n      get () {\n        // return globalEnv.rawDocument\n        return proxyDocument\n      },\n    },\n    Document: {\n      configurable: false,\n      enumerable: false,\n      get () {\n        // return globalEnv.rawRootDocument\n        return MicroDocument\n      },\n    }\n  })\n\n  return documentEffect\n}\n\n/**\n * Create new document and Document\n */\nfunction createProxyDocument (\n  appName: string,\n  sandbox: WithSandBoxInterface,\n): {\n    proxyDocument: Document,\n    documentEffect: CommonEffectHook,\n  } {\n  const eventListenerMap = new Map<string, Set<MicroEventListener>>()\n  const sstEventListenerMap = new Map<string, Set<MicroEventListener>>()\n  let onClickHandler: unknown = null\n  let sstOnClickHandler: unknown = null\n  const {\n    rawDocument,\n    rawCreateElement,\n    rawCreateElementNS,\n    rawAddEventListener,\n    rawRemoveEventListener,\n  } = globalEnv\n\n  function createElement (\n    tagName: string,\n    options?: ElementCreationOptions,\n  ): HTMLElement {\n    const element = rawCreateElement.call(rawDocument, tagName, options)\n    return updateElementInfo(element, appName)\n  }\n\n  function createElementNS (\n    namespaceURI: string,\n    name: string,\n    options?: string | ElementCreationOptions,\n  ): HTMLElement {\n    const element = rawCreateElementNS.call(rawDocument, namespaceURI, name, options)\n    return updateElementInfo(element, appName)\n  }\n\n  /**\n   * TODO:\n   *  1. listener 是否需要绑定proxyDocument，否则函数中的this指向原生window\n   *  2. 相似代码提取为公共方法(with, iframe)\n   *  3. 如果this不指向proxyDocument 和 rawDocument，则需要特殊处理\n   */\n  function addEventListener (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions\n  ): void {\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList) {\n      listenerList.add(listener)\n    } else {\n      eventListenerMap.set(type, new Set([listener]))\n    }\n    listener && (listener.__MICRO_APP_MARK_OPTIONS__ = options)\n    rawAddEventListener.call(rawDocument, type, listener, options)\n  }\n\n  function removeEventListener (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList?.size && listenerList.has(listener)) {\n      listenerList.delete(listener)\n    }\n    rawRemoveEventListener.call(rawDocument, type, listener, options)\n  }\n\n  // reset snapshot data\n  const reset = (): void => {\n    sstEventListenerMap.clear()\n    sstOnClickHandler = null\n  }\n\n  /**\n   * NOTE:\n   *  1. about timer(events & properties should record & rebuild at all modes, exclude default mode)\n   *  2. record maybe call twice when unmount prerender, keep-alive app manually with umd mode\n   * 4 modes: default-mode、umd-mode、prerender、keep-alive\n   * Solution:\n   *  1. default-mode(normal): clear events & timers, not record & rebuild anything\n   *  2. umd-mode(normal): not clear timers, record & rebuild events\n   *  3. prerender/keep-alive(default, umd): not clear timers, record & rebuild events\n   */\n  const record = (): void => {\n    /**\n     * record onclick handler\n     * onClickHandler maybe set again after prerender/keep-alive app hidden\n     */\n    sstOnClickHandler = onClickHandler || sstOnClickHandler\n\n    // record document event\n    eventListenerMap.forEach((listenerList, type) => {\n      if (listenerList.size) {\n        const cacheList = sstEventListenerMap.get(type) || []\n        sstEventListenerMap.set(type, new Set([...cacheList, ...listenerList]))\n      }\n    })\n  }\n\n  // rebuild event and timer before remount app\n  const rebuild = (): void => {\n    // rebuild onclick event\n    if (sstOnClickHandler && !onClickHandler) proxyDocument.onclick = sstOnClickHandler\n\n    // rebuild document event\n    sstEventListenerMap.forEach((listenerList, type) => {\n      for (const listener of listenerList) {\n        proxyDocument.addEventListener(type, listener, listener?.__MICRO_APP_MARK_OPTIONS__)\n      }\n    })\n\n    reset()\n  }\n\n  // release all event listener & interval & timeout when unmount app\n  const release = (): void => {\n    // Clear the function bound by micro app through document.onclick\n    if (isFunction(onClickHandler)) {\n      rawRemoveEventListener.call(rawDocument, 'click', onClickHandler)\n    }\n    onClickHandler = null\n\n    // Clear document binding event\n    if (eventListenerMap.size) {\n      eventListenerMap.forEach((listenerList, type) => {\n        for (const listener of listenerList) {\n          rawRemoveEventListener.call(rawDocument, type, listener)\n        }\n      })\n      eventListenerMap.clear()\n    }\n  }\n\n  const genProxyDocumentProps = () => {\n    // microApp framework built-in Proxy\n    const builtInProxyProps = new Map([\n      ['onclick', (value: unknown) => {\n        if (isFunction(onClickHandler)) {\n          rawRemoveEventListener.call(rawDocument, 'click', onClickHandler, false)\n        }\n        // TODO: listener 是否需要绑定proxyDocument，否则函数中的this指向原生window\n        if (isFunction(value)) {\n          rawAddEventListener.call(rawDocument, 'click', value, false)\n        }\n        onClickHandler = value\n      }]\n    ])\n    // external custom proxy\n    const customProxyDocumentProps = microApp.options?.customProxyDocumentProps || new Map()\n    // External has higher priority than built-in\n    const mergedProxyDocumentProps = new Map([\n      ...builtInProxyProps,\n      ...customProxyDocumentProps,\n    ])\n    return mergedProxyDocumentProps\n  }\n\n  const mergedProxyDocumentProps = genProxyDocumentProps()\n\n  const proxyDocument = new Proxy(rawDocument, {\n    get: (target: Document, key: PropertyKey): unknown => {\n      throttleDeferForSetAppName(appName)\n      // TODO: 转换成数据形式，类似iframe的方式\n      if (key === 'createElement') return createElement\n      if (key === 'createElementNS') return createElementNS\n      if (key === Symbol.toStringTag) return 'ProxyDocument'\n      if (key === 'defaultView') return sandbox.proxyWindow\n      if (key === 'onclick') return onClickHandler\n      if (key === 'addEventListener') return addEventListener\n      if (key === 'removeEventListener') return removeEventListener\n      if (key === 'microAppElement') return appInstanceMap.get(appName)?.container\n      if (key === '__MICRO_APP_NAME__') return appName\n      return bindFunctionToRawTarget<Document>(Reflect.get(target, key), rawDocument, 'DOCUMENT')\n    },\n    set: (target: Document, key: PropertyKey, value: unknown): boolean => {\n      if (mergedProxyDocumentProps.has(key)) {\n        const proxyCallback = mergedProxyDocumentProps.get(key)\n        proxyCallback(value)\n      } else if (key !== 'microAppElement') {\n        /**\n         * 1. Fix TypeError: Illegal invocation when set document.title\n         * 2. If the set method returns false, and the assignment happened in strict-mode code, a TypeError will be thrown.\n         */\n        Reflect.set(target, key, value)\n      }\n      return true\n    }\n  })\n\n  return {\n    proxyDocument,\n    documentEffect: {\n      reset,\n      record,\n      rebuild,\n      release,\n    }\n  }\n}\n\n/**\n * create proto Document\n * @param appName app name\n * @param proxyDocument proxy(document)\n * @returns Document\n */\nfunction createMicroDocument (appName: string, proxyDocument: Document): Function {\n  const { rawDocument, rawRootDocument } = globalEnv\n\n  class MicroDocument {\n    static [Symbol.hasInstance] (target: unknown) {\n      let proto = target\n      while (proto) {\n        proto = Object.getPrototypeOf(proto)\n        if (proto === MicroDocument.prototype) {\n          return true\n        }\n      }\n      return (\n        target === proxyDocument ||\n        target instanceof rawRootDocument\n      )\n    }\n  }\n\n  /**\n   * TIP:\n   * 1. child class __proto__, which represents the inherit of the constructor, always points to the parent class\n   * 2. child class prototype.__proto__, which represents the inherit of methods, always points to parent class prototype\n   * e.g.\n   * class B extends A {}\n   * B.__proto__ === A // true\n   * B.prototype.__proto__ === A.prototype // true\n   */\n  Object.setPrototypeOf(MicroDocument, rawRootDocument)\n  // Object.create(rawRootDocument.prototype) will cause MicroDocument and proxyDocument methods not same when exec Document.prototype.xxx = xxx in child app\n  Object.setPrototypeOf(MicroDocument.prototype, new Proxy(rawRootDocument.prototype, {\n    get (target: Document, key: PropertyKey): unknown {\n      throttleDeferForSetAppName(appName)\n      return bindFunctionToRawTarget<Document>(Reflect.get(target, key), rawDocument, 'DOCUMENT')\n    },\n    set (target: Document, key: PropertyKey, value: unknown): boolean {\n      Reflect.set(target, key, value)\n      return true\n    }\n  }))\n\n  return MicroDocument\n}\n","import type {\n  microAppWindowType,\n  CommonEffectHook,\n  MicroEventListener,\n  timeInfo,\n  WithSandBoxInterface,\n} from '@micro-app/types'\nimport globalEnv from '../../libs/global_env'\nimport bindFunctionToRawTarget from '../bind_function'\nimport {\n  SCOPE_WINDOW_EVENT_OF_WITH,\n  SCOPE_WINDOW_ON_EVENT_OF_WITH,\n  RAW_GLOBAL_TARGET,\n} from '../../constants'\nimport {\n  isString,\n  includes,\n  unique,\n  throttleDeferForSetAppName,\n  rawDefineProperty,\n  rawHasOwnProperty,\n  removeDomScope,\n  getRootContainer,\n  formatEventType,\n} from '../../libs/utils'\nimport {\n  appInstanceMap,\n} from '../../create_app'\n\n/**\n * patch window of child app\n * @param appName app name\n * @param microAppWindow microWindow of child app\n * @param sandbox WithSandBox\n * @returns EffectHook\n */\nexport function patchWindow (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: WithSandBoxInterface,\n): CommonEffectHook {\n  patchWindowProperty(microAppWindow)\n  createProxyWindow(appName, microAppWindow, sandbox)\n  return patchWindowEffect(microAppWindow, appName)\n}\n\n/**\n * rewrite special properties of window\n * @param appName app name\n * @param microAppWindow child app microWindow\n */\nfunction patchWindowProperty (\n  microAppWindow: microAppWindowType,\n):void {\n  const rawWindow = globalEnv.rawWindow\n  Object.getOwnPropertyNames(rawWindow)\n    .filter((key: string) => {\n      return /^on/.test(key) && !SCOPE_WINDOW_ON_EVENT_OF_WITH.includes(key)\n    })\n    .forEach((eventName: string) => {\n      const { enumerable, writable, set } = Object.getOwnPropertyDescriptor(rawWindow, eventName) || {\n        enumerable: true,\n        writable: true,\n      }\n      rawDefineProperty(microAppWindow, eventName, {\n        enumerable,\n        configurable: true,\n        get: () => rawWindow[eventName],\n        set: writable ?? !!set\n          ? (value) => { rawWindow[eventName] = value }\n          : undefined,\n      })\n    })\n}\n\n/**\n * create proxyWindow with Proxy(microAppWindow)\n * @param appName app name\n * @param microAppWindow micro app window\n * @param sandbox WithSandBox\n */\nfunction createProxyWindow (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: WithSandBoxInterface,\n): void {\n  const rawWindow = globalEnv.rawWindow\n  const descriptorTargetMap = new Map<PropertyKey, 'target' | 'rawWindow'>()\n\n  const proxyWindow = new Proxy(microAppWindow, {\n    get: (target: microAppWindowType, key: PropertyKey): unknown => {\n      throttleDeferForSetAppName(appName)\n      if (\n        Reflect.has(target, key) ||\n        (isString(key) && /^__MICRO_APP_/.test(key)) ||\n        includes(sandbox.scopeProperties, key)\n      ) {\n        if (includes(RAW_GLOBAL_TARGET, key)) removeDomScope()\n        return Reflect.get(target, key)\n      }\n\n      return bindFunctionToRawTarget(Reflect.get(rawWindow, key), rawWindow)\n    },\n    set: (target: microAppWindowType, key: PropertyKey, value: unknown): boolean => {\n      if (includes(sandbox.rawWindowScopeKeyList, key)) {\n        Reflect.set(rawWindow, key, value)\n      } else if (\n        // target.hasOwnProperty has been rewritten\n        !rawHasOwnProperty.call(target, key) &&\n        rawHasOwnProperty.call(rawWindow, key) &&\n        !includes(sandbox.scopeProperties, key)\n      ) {\n        const descriptor = Object.getOwnPropertyDescriptor(rawWindow, key)\n        const { configurable, enumerable, writable, set } = descriptor!\n        // set value because it can be set\n        rawDefineProperty(target, key, {\n          value,\n          configurable,\n          enumerable,\n          writable: writable ?? !!set,\n        })\n\n        sandbox.injectedKeys.add(key)\n      } else {\n        // all scopeProperties will add to injectedKeys, use for key in window (Proxy.has)\n        if (!Reflect.has(target, key) || includes(sandbox.scopeProperties, key)) {\n          sandbox.injectedKeys.add(key)\n        }\n        Reflect.set(target, key, value)\n      }\n\n      if (\n        (\n          includes(sandbox.escapeProperties, key) ||\n          (\n            // TODO: staticEscapeProperties 合并到 escapeProperties\n            includes(sandbox.staticEscapeProperties, key) &&\n            !Reflect.has(rawWindow, key)\n          )\n        ) &&\n        !includes(sandbox.scopeProperties, key)\n      ) {\n        !Reflect.has(rawWindow, key) && sandbox.escapeKeys.add(key)\n        Reflect.set(rawWindow, key, value)\n      }\n\n      return true\n    },\n    has: (target: microAppWindowType, key: PropertyKey): boolean => {\n      /**\n       * Some keywords, such as Vue, need to meet two conditions at the same time:\n       * 1. window.Vue --> undefined\n       * 2. 'Vue' in window --> false\n       * Issue https://github.com/jd-opensource/micro-app/issues/686\n       */\n      if (includes(sandbox.scopeProperties, key)) {\n        if (sandbox.injectedKeys.has(key)) {\n          return Reflect.has(target, key) // true\n        }\n        return !!target[key] // false\n      }\n      return Reflect.has(target, key) || Reflect.has(rawWindow, key)\n    },\n    // Object.getOwnPropertyDescriptor(window, key)\n    getOwnPropertyDescriptor: (target: microAppWindowType, key: PropertyKey): PropertyDescriptor|undefined => {\n      if (rawHasOwnProperty.call(target, key)) {\n        descriptorTargetMap.set(key, 'target')\n        return Object.getOwnPropertyDescriptor(target, key)\n      }\n\n      if (rawHasOwnProperty.call(rawWindow, key)) {\n        descriptorTargetMap.set(key, 'rawWindow')\n        const descriptor = Object.getOwnPropertyDescriptor(rawWindow, key)\n        if (descriptor && !descriptor.configurable) {\n          descriptor.configurable = true\n        }\n        return descriptor\n      }\n\n      return undefined\n    },\n    // Object.defineProperty(window, key, Descriptor)\n    defineProperty: (target: microAppWindowType, key: PropertyKey, value: PropertyDescriptor): boolean => {\n      const from = descriptorTargetMap.get(key)\n      if (from === 'rawWindow') {\n        return Reflect.defineProperty(rawWindow, key, value)\n      }\n      return Reflect.defineProperty(target, key, value)\n    },\n    // Object.getOwnPropertyNames(window)\n    ownKeys: (target: microAppWindowType): Array<string | symbol> => {\n      return unique(Reflect.ownKeys(rawWindow).concat(Reflect.ownKeys(target)))\n    },\n    deleteProperty: (target: microAppWindowType, key: PropertyKey): boolean => {\n      if (rawHasOwnProperty.call(target, key)) {\n        sandbox.injectedKeys.has(key) && sandbox.injectedKeys.delete(key)\n        sandbox.escapeKeys.has(key) && Reflect.deleteProperty(rawWindow, key)\n        return Reflect.deleteProperty(target, key)\n      }\n      return true\n    },\n  })\n\n  sandbox.proxyWindow = proxyWindow\n}\n\n/**\n * Rewrite side-effect events\n * @param microAppWindow micro window\n */\nfunction patchWindowEffect (microAppWindow: microAppWindowType, appName: string): CommonEffectHook {\n  const eventListenerMap = new Map<string, Set<MicroEventListener>>()\n  const sstEventListenerMap = new Map<string, Set<MicroEventListener>>()\n  const intervalIdMap = new Map<number, timeInfo>()\n  const timeoutIdMap = new Map<number, timeInfo>()\n  const {\n    rawWindow,\n    rawAddEventListener,\n    rawRemoveEventListener,\n    rawDispatchEvent,\n    rawSetInterval,\n    rawSetTimeout,\n    rawClearInterval,\n    rawClearTimeout,\n  } = globalEnv\n\n  /**\n   * All events will bind to microAppElement or rawWindow\n   * Some special events, such as popstate、load、unmount、appstate-change、statechange..., bind to microAppElement, others bind to rawWindow\n   * NOTE:\n   *  1、At first, microAppWindow = new EventTarget(), but it can not compatible with iOS 14 or below, so microAppElement was used instead. (2024.1.22)\n   * @param type event name\n   * @returns microAppElement/rawWindow\n   */\n  function getEventTarget (type: string): EventTarget {\n    if (SCOPE_WINDOW_EVENT_OF_WITH.includes(type) && appInstanceMap.get(appName)?.container) {\n      return getRootContainer(appInstanceMap.get(appName)!.container!)\n    }\n    return rawWindow\n  }\n\n  /**\n   * listener may be null, e.g test-passive\n   * TODO:\n   *  1. listener 是否需要绑定microAppWindow，否则函数中的this指向原生window\n   *  2. 如果this不指向proxyWindow 或 microAppWindow，应该要做处理\n   *  window.addEventListener.call(非window, type, listener, options)\n   */\n  microAppWindow.addEventListener = function (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    type = formatEventType(type, appName)\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList) {\n      listenerList.add(listener)\n    } else {\n      eventListenerMap.set(type, new Set([listener]))\n    }\n    listener && (listener.__MICRO_APP_MARK_OPTIONS__ = options)\n    rawAddEventListener.call(getEventTarget(type), type, listener, options)\n  }\n\n  microAppWindow.removeEventListener = function (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    type = formatEventType(type, appName)\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList?.size && listenerList.has(listener)) {\n      listenerList.delete(listener)\n    }\n    rawRemoveEventListener.call(getEventTarget(type), type, listener, options)\n  }\n\n  microAppWindow.dispatchEvent = function (event: Event): boolean {\n    return rawDispatchEvent.call(getEventTarget(event?.type), event)\n  }\n\n  microAppWindow.setInterval = function (\n    handler: TimerHandler,\n    timeout?: number,\n    ...args: any[]\n  ): number {\n    const intervalId = rawSetInterval.call(rawWindow, handler, timeout, ...args)\n    intervalIdMap.set(intervalId, { handler, timeout, args })\n    return intervalId\n  }\n\n  microAppWindow.setTimeout = function (\n    handler: TimerHandler,\n    timeout?: number,\n    ...args: any[]\n  ): number {\n    const timeoutId = rawSetTimeout.call(rawWindow, handler, timeout, ...args)\n    timeoutIdMap.set(timeoutId, { handler, timeout, args })\n    return timeoutId\n  }\n\n  microAppWindow.clearInterval = function (intervalId: number) {\n    intervalIdMap.delete(intervalId)\n    rawClearInterval.call(rawWindow, intervalId)\n  }\n\n  microAppWindow.clearTimeout = function (timeoutId: number) {\n    timeoutIdMap.delete(timeoutId)\n    rawClearTimeout.call(rawWindow, timeoutId)\n  }\n\n  // reset snapshot data\n  const reset = (): void => {\n    sstEventListenerMap.clear()\n  }\n\n  /**\n   * NOTE:\n   *  1. about timer(events & properties should record & rebuild at all modes, exclude default mode)\n   *  2. record maybe call twice when unmount prerender, keep-alive app manually with umd mode\n   * 4 modes: default-mode、umd-mode、prerender、keep-alive\n   * Solution:\n   *  1. default-mode(normal): clear events & timers, not record & rebuild anything\n   *  2. umd-mode(normal): not clear timers, record & rebuild events\n   *  3. prerender/keep-alive(default, umd): not clear timers, record & rebuild events\n   */\n  const record = (): void => {\n    // record window event\n    eventListenerMap.forEach((listenerList, type) => {\n      if (listenerList.size) {\n        const cacheList = sstEventListenerMap.get(type) || []\n        sstEventListenerMap.set(type, new Set([...cacheList, ...listenerList]))\n      }\n    })\n  }\n\n  // rebuild event and timer before remount app\n  const rebuild = (): void => {\n    // rebuild window event\n    sstEventListenerMap.forEach((listenerList, type) => {\n      for (const listener of listenerList) {\n        microAppWindow.addEventListener(type, listener, listener?.__MICRO_APP_MARK_OPTIONS__)\n      }\n    })\n\n    reset()\n  }\n\n  // release all event listener & interval & timeout when unmount app\n  const release = (clearTimer: boolean): void => {\n    // Clear window binding events\n    if (eventListenerMap.size) {\n      eventListenerMap.forEach((listenerList, type) => {\n        for (const listener of listenerList) {\n          rawRemoveEventListener.call(getEventTarget(type), type, listener)\n        }\n      })\n      eventListenerMap.clear()\n    }\n\n    // default mode(not keep-alive or isPrerender)\n    if (clearTimer) {\n      intervalIdMap.forEach((_, intervalId: number) => {\n        rawClearInterval.call(rawWindow, intervalId)\n      })\n\n      timeoutIdMap.forEach((_, timeoutId: number) => {\n        rawClearTimeout.call(rawWindow, timeoutId)\n      })\n\n      intervalIdMap.clear()\n      timeoutIdMap.clear()\n    }\n  }\n\n  return {\n    reset,\n    record,\n    rebuild,\n    release,\n  }\n}\n","import type {\n  MicroLocation,\n  MicroState,\n  MicroRouterInfoState,\n  LocationQuery,\n  HandleMicroPathResult,\n} from '@micro-app/types'\nimport globalEnv from '../../libs/global_env'\nimport {\n  assign,\n  parseQuery,\n  stringifyQuery,\n  isString,\n  isUndefined,\n  isPlainObject,\n  createURL,\n  isEmptyObject,\n} from '../../libs/utils'\nimport {\n  appInstanceMap,\n} from '../../create_app'\nimport {\n  ROUTER_MODE_LIST,\n  DEFAULT_ROUTER_MODE,\n  ROUTER_MODE_STATE,\n  ROUTER_MODE_NATIVE,\n  ROUTER_MODE_NATIVE_SCOPE,\n  ROUTER_MODE_PURE,\n} from '../../constants'\nimport microApp from '../../micro_app'\n\n// set micro app state to origin state\nexport function setMicroState (\n  appName: string,\n  microState?: MicroState,\n  targetLocation?: MicroLocation,\n): MicroState {\n  // TODO: 验证native模式下修改state nextjs路由是否正常\n  const rawState = globalEnv.rawWindow.history.state\n  const additionalState: Record<'__MICRO_APP_STATE__', Record<string, MicroRouterInfoState>> = {\n    __MICRO_APP_STATE__: assign({}, rawState?.__MICRO_APP_STATE__, {\n      [appName]: {\n        fullPath: targetLocation ? targetLocation.pathname + targetLocation.search + targetLocation.hash : null,\n        state: microState ?? null,\n        mode: getRouterMode(appName),\n      }\n    }),\n  }\n\n  // create new state object\n  return assign({}, rawState, additionalState)\n}\n\n// delete micro app state form origin state\nexport function removeMicroState (appName: string, rawState: MicroState): MicroState {\n  if (isPlainObject(rawState?.__MICRO_APP_STATE__)) {\n    if (!isUndefined(rawState.__MICRO_APP_STATE__[appName])) {\n      delete rawState.__MICRO_APP_STATE__[appName]\n    }\n    if (!Object.keys(rawState.__MICRO_APP_STATE__).length) {\n      delete rawState.__MICRO_APP_STATE__\n    }\n  }\n\n  return !isEmptyObject(rawState) ? assign({}, rawState) : null\n}\n\n// get micro app state form origin state\nexport function getMicroState (appName: string): MicroState {\n  const rawState = globalEnv.rawWindow.history.state\n  return rawState?.__MICRO_APP_STATE__?.[appName]?.state || null\n}\n\n// get micro app router info state form origin state\nexport function getMicroRouterInfoState (appName: string): MicroRouterInfoState | null {\n  const rawState = globalEnv.rawWindow.history.state\n  return rawState?.__MICRO_APP_STATE__?.[appName] || null\n}\n\nconst ENC_AD_RE = /&/g // %M1\nconst ENC_EQ_RE = /=/g // %M2\nconst DEC_AD_RE = /%M1/g // &\nconst DEC_EQ_RE = /%M2/g // =\n\n// encode path with special symbol\nexport function encodeMicroPath (path: string): string {\n  return encodeURIComponent(commonDecode(path).replace(ENC_AD_RE, '%M1').replace(ENC_EQ_RE, '%M2'))\n}\n\n// decode path\nexport function decodeMicroPath (path: string): string {\n  return commonDecode(path).replace(DEC_AD_RE, '&').replace(DEC_EQ_RE, '=')\n}\n\n// Recursively resolve address\nfunction commonDecode (path: string): string {\n  try {\n    const decPath = decodeURIComponent(path)\n    if (path === decPath || DEC_AD_RE.test(decPath) || DEC_EQ_RE.test(decPath)) return decPath\n    return commonDecode(decPath)\n  } catch {\n    return path\n  }\n}\n\n// Format the query parameter key to prevent conflicts with the original parameters\nfunction formatQueryAppName (appName: string) {\n  // return `app-${appName}`\n  return appName\n}\n\n/**\n * Get app fullPath from browser url\n * @param appName app.name\n */\nexport function getMicroPathFromURL (appName: string): string | null {\n  const rawLocation = globalEnv.rawWindow.location\n  const rawState = globalEnv.rawWindow.history.state\n  if (isRouterModeSearch(appName)) {\n    const queryObject = getQueryObjectFromURL(rawLocation.search, rawLocation.hash)\n    const microPath = queryObject.hashQuery?.[formatQueryAppName(appName)] || queryObject.searchQuery?.[formatQueryAppName(appName)]\n    return isString(microPath) ? decodeMicroPath(microPath) : null\n  }\n  /**\n   * Get fullPath from __MICRO_APP_STATE__\n   * NOTE:\n   *  1. state mode: all base on __MICRO_APP_STATE__\n   *  2. pure mode: navigate by location.xxx may contain one-time information in __MICRO_APP_STATE__\n   *  3. native mode: vue-router@4 will exec replaceState with history.state before pushState, like:\n   *    history.replaceState(\n   *      assign({}, history.state, {...}),\n   *      title,\n   *      history.state.current, <---\n   *    )\n   *    when base app jump to another page from child page, it will replace child path with base app path\n   *   e.g: base-home --> child-home --> child-about(will replace with child-home before jump to base-home) --> base-home, when go back, it will back to child-home not child-about\n   *   So we take the fullPath as standard\n   */\n  // 问题：1、同一个页面多个子应用，一个修改后... --- native模式不支持多个子应用同时渲染，多个子应用推荐使用其它模式\n  // if (isRouterModeCustom(appName)) {\n  //   return rawLocation.pathname + rawLocation.search + rawLocation.hash\n  // }\n  // return rawState?.__MICRO_APP_STATE__?.[appName]?.fullPath || null\n  return rawState?.__MICRO_APP_STATE__?.[appName]?.fullPath || (isRouterModeCustom(appName) ? rawLocation.pathname + rawLocation.search + rawLocation.hash : null)\n}\n\n/**\n * Attach child app fullPath to browser url\n * @param appName app.name\n * @param targetLocation location of child app or rawLocation of window\n */\nexport function setMicroPathToURL (appName: string, targetLocation: MicroLocation): HandleMicroPathResult {\n  const rawLocation = globalEnv.rawWindow.location\n  let targetFullPath = targetLocation.pathname + targetLocation.search + targetLocation.hash\n  let isAttach2Hash = false\n  if (isRouterModeSearch(appName)) {\n    let { pathname, search, hash } = rawLocation\n    const queryObject = getQueryObjectFromURL(search, hash)\n    const encodedMicroPath = encodeMicroPath(targetFullPath)\n\n    /**\n     * Is parent is hash router\n     * In fact, this is not true. It just means that the parameter is added to the hash\n     */\n    // If hash exists and search does not exist, it is considered as a hash route\n    if (hash && !search) {\n      isAttach2Hash = true\n      // TODO: 这里和下面的if判断可以简化一下\n      if (queryObject.hashQuery) {\n        queryObject.hashQuery[formatQueryAppName(appName)] = encodedMicroPath\n      } else {\n        queryObject.hashQuery = {\n          [formatQueryAppName(appName)]: encodedMicroPath\n        }\n      }\n      const baseHash = hash.includes('?') ? hash.slice(0, hash.indexOf('?') + 1) : hash + '?'\n      hash = baseHash + stringifyQuery(queryObject.hashQuery)\n    } else {\n      if (queryObject.searchQuery) {\n        queryObject.searchQuery[formatQueryAppName(appName)] = encodedMicroPath\n      } else {\n        queryObject.searchQuery = {\n          [formatQueryAppName(appName)]: encodedMicroPath\n        }\n      }\n      search = '?' + stringifyQuery(queryObject.searchQuery)\n    }\n\n    return {\n      fullPath: pathname + search + hash,\n      isAttach2Hash,\n    }\n  }\n\n  if (isRouterModeState(appName) || isRouterModePure(appName)) {\n    targetFullPath = rawLocation.pathname + rawLocation.search + rawLocation.hash\n  }\n\n  return {\n    fullPath: targetFullPath,\n    isAttach2Hash,\n  }\n}\n\n/**\n * Delete child app fullPath from browser url\n * @param appName app.name\n */\nexport function removeMicroPathFromURL (appName: string): HandleMicroPathResult {\n  let { pathname, search, hash } = globalEnv.rawWindow.location\n  let isAttach2Hash = false\n\n  if (isRouterModeSearch(appName)) {\n    const queryObject = getQueryObjectFromURL(search, hash)\n    if (queryObject.hashQuery?.[formatQueryAppName(appName)]) {\n      isAttach2Hash = true\n      delete queryObject.hashQuery?.[formatQueryAppName(appName)]\n      const hashQueryStr = stringifyQuery(queryObject.hashQuery)\n      hash = hash.slice(0, hash.indexOf('?') + Number(Boolean(hashQueryStr))) + hashQueryStr\n    } else if (queryObject.searchQuery?.[formatQueryAppName(appName)]) {\n      delete queryObject.searchQuery?.[formatQueryAppName(appName)]\n      const searchQueryStr = stringifyQuery(queryObject.searchQuery)\n      search = searchQueryStr ? '?' + searchQueryStr : ''\n    }\n  }\n\n  return {\n    fullPath: pathname + search + hash,\n    isAttach2Hash,\n  }\n}\n\n/**\n * Format search, hash to object\n */\nfunction getQueryObjectFromURL (search: string, hash: string): LocationQuery {\n  const queryObject: LocationQuery = {}\n\n  if (search !== '' && search !== '?') {\n    queryObject.searchQuery = parseQuery(search.slice(1))\n  }\n\n  if (hash.includes('?')) {\n    queryObject.hashQuery = parseQuery(hash.slice(hash.indexOf('?') + 1))\n  }\n\n  return queryObject\n}\n\n/**\n * get microApp path from browser URL without hash\n */\nexport function getNoHashMicroPathFromURL (appName: string, baseUrl: string): string {\n  const microPath = getMicroPathFromURL(appName)\n  if (!microPath) return ''\n  const formatLocation = createURL(microPath, baseUrl)\n  return formatLocation.origin + formatLocation.pathname + formatLocation.search\n}\n\n/**\n * Effect app is an app that can perform route navigation\n * NOTE: Invalid app action\n * 1. prevent update browser url, dispatch popStateEvent, reload browser\n * 2. It can update path with pushState/replaceState\n * 3. Can not update path outside (with router api)\n * 3. Can not update path by location\n */\nexport function isEffectiveApp (appName: string): boolean {\n  const app = appInstanceMap.get(appName)\n  /**\n   * !!(app && !app.isPrefetch && !app.isHidden())\n   * NOTE: 隐藏的keep-alive应用暂时不作为无效应用，原因如下\n   * 1、隐藏后才执行去除浏览器上的微应用的路由信息的操作，导致微应用的路由信息无法去除\n   * 2、如果保持隐藏应用内部正常跳转，阻止同步路由信息到浏览器，这样理论上是好的，但是对于location跳转改如何处理？location跳转是基于修改浏览器地址后发送popstate事件实现的，所以应该是在隐藏后不支持通过location进行跳转\n   */\n  return !!(app && !app.isPrefetch)\n}\n\n/**\n * get router mode of app\n * NOTE: app maybe undefined\n */\nfunction getRouterMode (appName: string): string | undefined {\n  return appInstanceMap.get(appName)?.routerMode\n}\n\n// router mode is search\nexport function isRouterModeSearch (appName: string): boolean {\n  return getRouterMode(appName) === DEFAULT_ROUTER_MODE\n}\n\n// router mode is state\nexport function isRouterModeState (appName: string): boolean {\n  return getRouterMode(appName) === ROUTER_MODE_STATE\n}\n\n// router mode is history\nexport function isRouterModeNative (appName: string): boolean {\n  return getRouterMode(appName) === ROUTER_MODE_NATIVE\n}\n\n// router mode is disable\nexport function isRouterModeNativeScope (appName: string): boolean {\n  return getRouterMode(appName) === ROUTER_MODE_NATIVE_SCOPE\n}\n\n// router mode is pure\nexport function isRouterModePure (appName: string): boolean {\n  return getRouterMode(appName) === ROUTER_MODE_PURE\n}\n\n/**\n * router mode is history or disable\n */\nexport function isRouterModeCustom (appName: string): boolean {\n  return isRouterModeNative(appName) || isRouterModeNativeScope(appName)\n}\n\n/**\n * get memory router mode of child app\n * NOTE:\n *  1. if microAppElement exists, it means the app render by the micro-app element\n *  2. if microAppElement not exists, it means it is prerender app\n * @param mode native config\n * @param inlineDisableMemoryRouter disable-memory-router set by micro-app element or prerender\n * @returns router mode\n */\nexport function initRouterMode (\n  mode: string | null | void,\n  inlineDisableMemoryRouter?: boolean,\n): string {\n  /**\n   * compatible with disable-memory-router in older versions\n   * if disable-memory-router is true, router-mode will be disable\n   * Priority:\n   *  inline disable-memory-router > inline router-mode > global disable-memory-router > global router-mode\n   */\n  const routerMode = (\n    (inlineDisableMemoryRouter && ROUTER_MODE_NATIVE) ||\n    mode ||\n    (microApp.options['disable-memory-router'] && ROUTER_MODE_NATIVE) ||\n    microApp.options['router-mode'] ||\n    DEFAULT_ROUTER_MODE\n  )\n  return ROUTER_MODE_LIST.includes(routerMode) ? routerMode : DEFAULT_ROUTER_MODE\n}\n","import type {\n  MicroLocation,\n  PopStateListener,\n  MicroPopStateEvent,\n  microAppWindowType,\n} from '@micro-app/types'\nimport {\n  appInstanceMap,\n  isIframeSandbox,\n} from '../../create_app'\nimport {\n  getActiveApps,\n} from '../../micro_app'\nimport {\n  getMicroPathFromURL,\n  getMicroState,\n  getMicroRouterInfoState,\n  isEffectiveApp,\n  isRouterModeCustom,\n} from './core'\nimport {\n  updateMicroLocation,\n} from './location'\nimport {\n  removeDomScope,\n  isFunction,\n  macro,\n  getRootContainer,\n} from '../../libs/utils'\nimport globalEnv from '../../libs/global_env'\n\n/**\n * dispatch PopStateEvent & HashChangeEvent to child app\n * each child app will listen for popstate event when sandbox start\n * and release it when sandbox stop\n * @param appName app name\n * @returns release callback\n */\nexport function addHistoryListener (appName: string): CallableFunction {\n  const rawWindow = globalEnv.rawWindow\n  // handle popstate event and distribute to child app\n  const popStateHandler: PopStateListener = (e: MicroPopStateEvent): void => {\n    /**\n     * 1. unmount app & hidden keep-alive app will not receive popstate event\n     * 2. filter out onlyForBrowser\n     */\n    if (\n      getActiveApps({\n        excludeHiddenApp: true,\n        excludePreRender: true,\n      }).includes(appName) &&\n      !e.onlyForBrowser\n    ) {\n      /**\n       * base app may respond to popstateEvent async(lazy load page & browser back/forward), but child app will respond to popstateEvent immediately(vue2, react), this will cause some problems\n       * 2 solutions:\n       *  1. child app respond to popstateEvent async -- router-event-delay\n       *  2. child app will not respond to popstateEvent in some scenarios (history.state===null || history.state?__MICRO_APP_STATE__[appName])\n       * NOTE 1:\n       *  1. browser back/forward\n       *  2. location.hash/search/pathname = xxx\n       *  3. <a href=\"/#/xxx\">, <a href=\"/xxx\">\n       *  4. history.back/go/forward\n       *  5. history.pushState/replaceState\n       *\n       * NOTE2:\n       *  1、react16 hash mode navigate by location.hash = xxx, history.state is always null, but react16 respond to popstateEvent sync\n       *  2、multiple child apps may has problems\n       */\n      if (\n        !isRouterModeCustom(appName) ||\n        !globalEnv.rawWindow.history.state ||\n        getMicroRouterInfoState(appName)\n      ) {\n        const container = appInstanceMap.get(appName)?.container\n        macro(\n          () => updateMicroLocationWithEvent(appName, getMicroPathFromURL(appName)),\n          (container && getRootContainer(container))?.getRouterEventDelay() ?? 0\n        )\n      }\n    }\n  }\n\n  rawWindow.addEventListener('popstate', popStateHandler)\n\n  return () => {\n    rawWindow.removeEventListener('popstate', popStateHandler)\n  }\n}\n\n/**\n * Effect: use to trigger child app jump\n * Actions:\n *  1. update microLocation with target path\n *  2. dispatch popStateEvent & hashChangeEvent\n * @param appName app name\n * @param targetFullPath target path of child app\n */\nexport function updateMicroLocationWithEvent (\n  appName: string,\n  targetFullPath: string | null,\n): void {\n  const app = appInstanceMap.get(appName)\n  if (app?.sandBox) {\n    const proxyWindow = app.sandBox.proxyWindow\n    const microAppWindow = app.sandBox.microAppWindow\n    let isHashChange = false\n    // for hashChangeEvent\n    const oldHref = proxyWindow.location.href\n    // Do not attach micro state to url when targetFullPath is empty\n    if (targetFullPath) {\n      const oldHash = proxyWindow.location.hash\n      updateMicroLocation(appName, targetFullPath, microAppWindow.location as MicroLocation)\n      isHashChange = proxyWindow.location.hash !== oldHash\n    }\n\n    // dispatch formatted popStateEvent to child\n    dispatchPopStateEventToMicroApp(appName, proxyWindow, microAppWindow)\n\n    // dispatch formatted hashChangeEvent to child when hash change\n    if (isHashChange) dispatchHashChangeEventToMicroApp(appName, proxyWindow, microAppWindow, oldHref)\n\n    // clear element scope before trigger event of next app\n    removeDomScope()\n  }\n}\n\n/**\n * dispatch formatted popstate event to microApp\n * @param appName app name\n * @param proxyWindow sandbox window\n * @param eventState history.state\n */\nexport function dispatchPopStateEventToMicroApp (\n  appName: string,\n  proxyWindow: WindowProxy,\n  microAppWindow: microAppWindowType,\n): void {\n  /**\n   * TODO: test\n   * angular14 takes e.type as type judgment\n   * when e.type is popstate-appName popstate event will be invalid\n   * Object.defineProperty(newPopStateEvent, 'type', {\n   *    value: 'popstate',\n   *    writable: true,\n   *    configurable: true,\n   *    enumerable: true,\n   * })\n   */\n  /**\n   * create PopStateEvent named popstate-appName with sub app state\n   * TODO: feeling like there's something wrong, check carefully\n   *  In native mode, getMicroState(appName) return rawWindow.history.state when use microApp.router.push/replace or other scenes when state.__MICRO_APP_STATE__[appName] is null\n   */\n  const newPopStateEvent = new PopStateEvent(\n    'popstate',\n    { state: getMicroState(appName) }\n  )\n\n  microAppWindow.dispatchEvent(newPopStateEvent)\n\n  if (!isIframeSandbox(appName)) {\n    // call function window.onpopstate if it exists\n    isFunction(proxyWindow.onpopstate) && proxyWindow.onpopstate(newPopStateEvent)\n  }\n}\n\n/**\n * dispatch formatted hashchange event to microApp\n * @param appName app name\n * @param proxyWindow sandbox window\n * @param oldHref old href\n */\nexport function dispatchHashChangeEventToMicroApp (\n  appName: string,\n  proxyWindow: WindowProxy,\n  microAppWindow: microAppWindowType,\n  oldHref: string,\n): void {\n  const newHashChangeEvent = new HashChangeEvent(\n    'hashchange',\n    {\n      newURL: proxyWindow.location.href,\n      oldURL: oldHref,\n    }\n  )\n\n  microAppWindow.dispatchEvent(newHashChangeEvent)\n\n  if (!isIframeSandbox(appName)) {\n    // call function window.onhashchange if it exists\n    isFunction(proxyWindow.onhashchange) && proxyWindow.onhashchange(newHashChangeEvent)\n  }\n}\n\n/**\n * dispatch native PopStateEvent, simulate location behavior\n * @param onlyForBrowser only dispatch PopStateEvent to browser\n */\nfunction dispatchNativePopStateEvent (onlyForBrowser: boolean): void {\n  const event = new PopStateEvent('popstate', { state: null }) as MicroPopStateEvent\n  if (onlyForBrowser) event.onlyForBrowser = true\n  globalEnv.rawWindow.dispatchEvent(event)\n}\n\n/**\n * dispatch hashchange event to browser\n * @param oldHref old href of rawWindow.location\n */\nfunction dispatchNativeHashChangeEvent (oldHref: string): void {\n  const newHashChangeEvent = new HashChangeEvent(\n    'hashchange',\n    {\n      newURL: globalEnv.rawWindow.location.href,\n      oldURL: oldHref,\n    }\n  )\n\n  globalEnv.rawWindow.dispatchEvent(newHashChangeEvent)\n}\n\n/**\n * dispatch popstate & hashchange event to browser\n * @param appName app.name\n * @param onlyForBrowser only dispatch event to browser\n * @param oldHref old href of rawWindow.location\n */\nexport function dispatchNativeEvent (\n  appName: string,\n  onlyForBrowser: boolean,\n  oldHref?: string,\n): void {\n  // clear element scope before dispatch global event\n  removeDomScope()\n  if (isEffectiveApp(appName)) {\n    dispatchNativePopStateEvent(onlyForBrowser)\n    if (oldHref) {\n      dispatchNativeHashChangeEvent(oldHref)\n    }\n  }\n}\n","/* eslint-disable no-void */\nimport type {\n  MicroState,\n  MicroLocation,\n  MicroHistory,\n  HistoryProxyValue,\n  HandleMicroPathResult,\n} from '@micro-app/types'\nimport globalEnv from '../../libs/global_env'\nimport bindFunctionToRawTarget from '../bind_function'\nimport {\n  isString,\n  createURL,\n  isPlainObject,\n  isURL,\n  assign,\n  removeDomScope,\n  isUndefined,\n  isNull,\n} from '../../libs/utils'\nimport {\n  setMicroPathToURL,\n  setMicroState,\n  getMicroState,\n  getMicroRouterInfoState,\n  getMicroPathFromURL,\n  isEffectiveApp,\n  isRouterModePure,\n  isRouterModeSearch,\n  isRouterModeState,\n  isRouterModeCustom,\n} from './core'\nimport {\n  dispatchNativeEvent,\n} from './event'\nimport {\n  updateMicroLocation,\n} from './location'\nimport {\n  getActiveApps,\n} from '../../micro_app'\nimport {\n  appInstanceMap,\n  isIframeSandbox,\n} from '../../create_app'\n\n/**\n * create proxyHistory for microApp\n * MDN https://developer.mozilla.org/en-US/docs/Web/API/History\n * @param appName app name\n * @param microLocation microApp location(with: proxyLocation iframe: iframeWindow.location)\n */\nexport function createMicroHistory (appName: string, microLocation: MicroLocation): MicroHistory {\n  const rawHistory = globalEnv.rawWindow.history\n  function getMicroHistoryMethod (methodName: string): CallableFunction {\n    return function (...rests: any[]): void {\n      // TODO: 测试iframe的URL兼容isURL的情况\n      rests[2] = isUndefined(rests[2]) || isNull(rests[2]) || ('' + rests[2] === '') ? microLocation.href : '' + rests[2]\n      const targetLocation = createURL(rests[2], microLocation.href)\n      const targetFullPath = targetLocation.pathname + targetLocation.search + targetLocation.hash\n      if (!isRouterModePure(appName)) {\n        navigateWithNativeEvent(\n          appName,\n          methodName,\n          setMicroPathToURL(appName, targetLocation),\n          true,\n          setMicroState(appName, rests[0], targetLocation),\n          rests[1],\n        )\n      }\n      if (targetFullPath !== microLocation.fullPath) {\n        updateMicroLocation(appName, targetFullPath, microLocation)\n      }\n      appInstanceMap.get(appName)?.sandBox.updateIframeBase?.()\n    }\n  }\n\n  const originalHistory = {\n    pushState: getMicroHistoryMethod('pushState'),\n    replaceState: getMicroHistoryMethod('replaceState'),\n  }\n\n  if (isIframeSandbox(appName)) {\n    return assign({\n      go (delta?: number) {\n        return rawHistory.go(delta)\n      }\n    }, originalHistory) as MicroHistory\n  }\n\n  return new Proxy(rawHistory, {\n    get (target: History, key: PropertyKey): HistoryProxyValue {\n      if (key === 'pushState' || key === 'replaceState') {\n        return originalHistory[key]\n      } else if (key === 'state') {\n        return getMicroState(appName)\n      }\n      return bindFunctionToRawTarget<History, HistoryProxyValue>(Reflect.get(target, key), target, 'HISTORY')\n    },\n    set (target: History, key: PropertyKey, value: unknown): boolean {\n      if (key === 'pushState' || key === 'replaceState') {\n        originalHistory[key] = value as CallableFunction\n      } else {\n        Reflect.set(target, key, value)\n      }\n      /**\n       * If the set() method returns false, and the assignment happened in strict-mode code, a TypeError will be thrown.\n       * e.g. history.state = {}\n       * TypeError: 'set' on proxy: trap returned false for property 'state'\n       */\n      return true\n    }\n  })\n}\n\n/**\n * navigate to new path base on native method of history\n * @param appName app.name\n * @param methodName pushState/replaceState\n * @param fullPath full path\n * @param state history.state, default is null\n * @param title history.title, default is ''\n */\nexport function nativeHistoryNavigate (\n  appName: string,\n  methodName: string,\n  fullPath: string,\n  state: unknown = null,\n  title: unknown = '',\n): void {\n  if (isEffectiveApp(appName)) {\n    const method = methodName === 'pushState' ? globalEnv.rawPushState : globalEnv.rawReplaceState\n    method.call(globalEnv.rawWindow.history, state, title, fullPath)\n  }\n}\n\n/**\n * Navigate to new path, and dispatch native popStateEvent/hashChangeEvent to browser\n * Use scenes:\n * 1. mount/unmount through attachRouteToBrowserURL with limited popstateEvent\n * 2. proxyHistory.pushState/replaceState with limited popstateEvent\n * 3. api microApp.router.push/replace\n * 4. proxyLocation.hash = xxx\n * NOTE:\n *  1. hidden keep-alive app can jump internally, but will not synchronize to browser\n * @param appName app.name\n * @param methodName pushState/replaceState\n * @param result result of add/remove microApp path on browser url\n * @param onlyForBrowser only dispatch event to browser\n * @param state history.state, not required\n * @param title history.title, not required\n */\nexport function navigateWithNativeEvent (\n  appName: string,\n  methodName: string,\n  result: HandleMicroPathResult,\n  onlyForBrowser: boolean,\n  state?: unknown,\n  title?: string,\n): void {\n  if (isEffectiveApp(appName)) {\n    const rawLocation = globalEnv.rawWindow.location\n    const oldFullPath = rawLocation.pathname + rawLocation.search + rawLocation.hash\n    // oldHref use for hashChangeEvent of base app\n    const oldHref = result.isAttach2Hash && oldFullPath !== result.fullPath ? rawLocation.href : null\n    // navigate with native history method\n    nativeHistoryNavigate(appName, methodName, result.fullPath, state, title)\n    // just search mode will dispatch native event\n    if (oldFullPath !== result.fullPath && isRouterModeSearch(appName)) {\n      dispatchNativeEvent(appName, onlyForBrowser, oldHref)\n    }\n  }\n}\n\n/**\n * update browser url when mount/unmount/hidden/show/attachToURL/attachAllToURL\n * just attach microRoute info to browser, dispatch event to base app(exclude child)\n * @param appName app.name\n * @param result result of add/remove microApp path on browser url\n * @param state history.state\n */\nexport function attachRouteToBrowserURL (\n  appName: string,\n  result: HandleMicroPathResult,\n  state: MicroState,\n): void {\n  navigateWithNativeEvent(appName, 'replaceState', result, true, state)\n}\n\n/**\n * When path is same, keep the __MICRO_APP_STATE__ in history.state\n * Fix bug of missing __MICRO_APP_STATE__ when base app is next.js or angular\n * @param method history.pushState/replaceState\n */\nfunction reWriteHistoryMethod (method: History['pushState' | 'replaceState']): CallableFunction {\n  const rawWindow = globalEnv.rawWindow\n  return function (...rests: [data: any, unused: string, url?: string]): void {\n    if (\n      rawWindow.history.state?.__MICRO_APP_STATE__ &&\n      (!isPlainObject(rests[0]) || !rests[0].__MICRO_APP_STATE__) &&\n      (isString(rests[2]) || isURL(rests[2]))\n    ) {\n      const currentHref = rawWindow.location.href\n      const targetLocation = createURL(rests[2], currentHref)\n      if (targetLocation.href === currentHref) {\n        rests[0] = assign({}, rests[0], {\n          __MICRO_APP_STATE__: rawWindow.history.state.__MICRO_APP_STATE__,\n        })\n      }\n    }\n\n    method.apply(rawWindow.history, rests)\n    /**\n     * Attach child router info to browser url when base app navigate with pushState/replaceState\n     * NOTE:\n     * 1. Exec after apply pushState/replaceState\n     * 2. Unable to catch when base app navigate with location\n     * 3. When in nest app, rawPushState/rawReplaceState has been modified by parent\n     */\n    getActiveApps({\n      excludeHiddenApp: true,\n      excludePreRender: true,\n    }).forEach(appName => {\n      if ((isRouterModeSearch(appName) || isRouterModeState(appName)) && !getMicroPathFromURL(appName)) {\n        const app = appInstanceMap.get(appName)!\n        attachRouteToBrowserURL(\n          appName,\n          setMicroPathToURL(appName, app.sandBox.proxyWindow.location),\n          setMicroState(appName, getMicroState(appName), app.sandBox.proxyWindow.location),\n        )\n      }\n\n      if (isRouterModeCustom(appName) && !getMicroRouterInfoState(appName)) {\n        nativeHistoryNavigate(\n          appName,\n          'replaceState',\n          rawWindow.location.href,\n          setMicroState(appName)\n        )\n      }\n\n      // if (isRouterModeCustom(appName) || isRouterModeSearch(appName)) {\n      /**\n         * history.pushState/replaceState后主动触发子应用响应\n         * 问题：子应用的卸载可能是异步的，而跳转的地址不一定在基础路径中，太快响应pushState可能会导致url地址被子应用改变或者子应用404，Promise太快卸载时出问题、setTimeout太慢keep-alive二次渲染后出问题\n         *  1、history.pushState/replaceState执行后，子应用以异步的形式被主应用卸载，Promise响应时子应用还在，导致子应用跳转404后者浏览器url被子应用修改，产生异常\n         *  2、keep-alive应用二次渲染时，由于setTimeout响应过慢，子应用在渲染后才接受到popstate事件，响应新的url，从而导致状态丢失\n         *  3、同一个页面多个子应用，修改地址响应\n         *  4、vue3跳转前会执行一次replace，有没有影响？\n         */\n\n      // }\n    })\n\n    // fix bug for nest app\n    removeDomScope()\n  }\n}\n\n/**\n * rewrite history.pushState/replaceState\n * used to fix the problem that the __MICRO_APP_STATE__ maybe missing when mainApp navigate to same path\n * e.g: when nextjs, angular receive popstate event, they will use history.replaceState to update browser url with a new state object\n */\nexport function patchHistory (): void {\n  const rawWindow = globalEnv.rawWindow\n  rawWindow.history.pushState = reWriteHistoryMethod(\n    globalEnv.rawPushState,\n  )\n  rawWindow.history.replaceState = reWriteHistoryMethod(\n    globalEnv.rawReplaceState,\n  )\n}\n\nexport function releasePatchHistory (): void {\n  const rawWindow = globalEnv.rawWindow\n  rawWindow.history.pushState = globalEnv.rawPushState\n  rawWindow.history.replaceState = globalEnv.rawReplaceState\n}\n","import type {\n  Func,\n  Router,\n  RouterTarget,\n  navigationMethod,\n  MicroLocation,\n  RouterGuard,\n  GuardLocation,\n  AccurateGuard,\n  SetDefaultPageOptions,\n  AttachAllToURLParam,\n  AppInterface,\n} from '@micro-app/types'\nimport {\n  encodeMicroPath,\n  decodeMicroPath,\n  setMicroPathToURL,\n  setMicroState,\n  getMicroState,\n  getMicroPathFromURL,\n  isRouterModeSearch,\n  isRouterModePure,\n  isRouterModeState,\n} from './core'\nimport {\n  logError,\n  logWarn,\n  formatAppName,\n  createURL,\n  isFunction,\n  isPlainObject,\n  useSetRecord,\n  useMapRecord,\n  requestIdleCallback,\n  isString,\n  noopFalse,\n  removeDomScope,\n  isObject,\n} from '../../libs/utils'\nimport { appInstanceMap } from '../../create_app'\nimport { getActiveApps } from '../../micro_app'\nimport globalEnv from '../../libs/global_env'\nimport { navigateWithNativeEvent, attachRouteToBrowserURL } from './history'\nimport bindFunctionToRawTarget from '../bind_function'\nimport { updateMicroLocationWithEvent } from './event'\n\nexport interface RouterApi {\n  router: Router,\n  executeNavigationGuard: (appName: string, to: GuardLocation, from: GuardLocation) => void\n  clearRouterWhenUnmount: (appName: string) => void\n}\n\nexport interface CreteBaseRouter {\n  setBaseAppRouter (baseRouter: unknown): void\n  getBaseAppRouter(): unknown\n}\n\nexport interface CreateDefaultPage {\n  setDefaultPage(options: SetDefaultPageOptions): () => boolean\n  removeDefaultPage(appName: string): boolean\n  getDefaultPage(key: PropertyKey): string | void\n}\n\nfunction createRouterApi (): RouterApi {\n  /**\n   * common handler for router.push/router.replace method\n   * @param appName app name\n   * @param methodName replaceState/pushState\n   * @param targetLocation target location\n   * @param state to.state\n   */\n  function navigateWithRawHistory (\n    appName: string,\n    methodName: string,\n    targetLocation: MicroLocation,\n    state: unknown,\n  ): void {\n    navigateWithNativeEvent(\n      appName,\n      methodName,\n      setMicroPathToURL(\n        appName,\n        targetLocation,\n      ),\n      false,\n      setMicroState(\n        appName,\n        state ?? null,\n        targetLocation,\n      ),\n    )\n    // clear element scope after navigate\n    removeDomScope()\n  }\n\n  /**\n   * navigation handler\n   * @param appName app.name\n   * @param app app instance\n   * @param to router target options\n   * @param replace use router.replace?\n   */\n  function handleNavigate (\n    appName: string,\n    app: AppInterface,\n    to: RouterTarget,\n    replace: boolean,\n  ): void {\n    const microLocation = app.sandBox!.proxyWindow.location as MicroLocation\n    const targetLocation = createURL(to.path, microLocation.href)\n    // Only get path data, even if the origin is different from microApp\n    const currentFullPath = microLocation.pathname + microLocation.search + microLocation.hash\n    const targetFullPath = targetLocation.pathname + targetLocation.search + targetLocation.hash\n    if (currentFullPath !== targetFullPath || getMicroPathFromURL(appName) !== targetFullPath) {\n      // pure mode will not call history.pushState/replaceState\n      if (!isRouterModePure(appName)) {\n        const methodName = (replace && to.replace !== false) || to.replace === true ? 'replaceState' : 'pushState'\n        navigateWithRawHistory(appName, methodName, targetLocation, to.state)\n      }\n      // only search mode will dispatch PopStateEvent to browser\n      if (!isRouterModeSearch(appName)) {\n        updateMicroLocationWithEvent(appName, targetFullPath)\n      }\n    }\n  }\n\n  /**\n   * create method of router.push/replace\n   * NOTE:\n   * 1. The same fullPath will be blocked\n   * 2. name & path is required\n   * 3. path is fullPath except for the domain (the domain can be taken, but not valid)\n   * @param replace use router.replace?\n   */\n  function createNavigationMethod (replace: boolean): navigationMethod {\n    return function (to: RouterTarget): Promise<void> {\n      return new Promise((resolve, reject) => {\n        const appName = formatAppName(to.name)\n        if (appName && isString(to.path)) {\n          /**\n           * active apps, exclude prerender app or hidden keep-alive app\n           * NOTE:\n           *  1. prerender app or hidden keep-alive app clear and record popstate event, so we cannot control app jump through the API\n           *  2. disable memory-router\n           */\n          /**\n           * TODO:\n           *  1、子应用开始渲染但是还没渲染完成，调用跳转改如何处理\n           *  2、iframe的沙箱还没初始化时执行跳转报错，如何处理。。。\n           *  3、hidden app、预渲染 app 是否支持跳转 --- 支持（这里还涉及子应用内部跳转的支持）\n           */\n          if (getActiveApps({ excludeHiddenApp: true, excludePreRender: true }).includes(appName)) {\n            const app = appInstanceMap.get(appName)!\n            resolve(app.sandBox.sandboxReady.then(() => handleNavigate(appName, app, to, replace)))\n          } else {\n            reject(logError('导航失败，请确保子应用渲染后再调用此方法'))\n          }\n\n          // const rawLocation = globalEnv.rawWindow.location\n          // const targetLocation = createURL(to.path, rawLocation.origin)\n          // const targetFullPath = targetLocation.pathname + targetLocation.search + targetLocation.hash\n          // if (getMicroPathFromURL(appName) !== targetFullPath) {\n          //   navigateWithRawHistory(\n          //     appName,\n          //     to.replace === false ? 'pushState' : 'replaceState',\n          //     targetLocation,\n          //     to.state,\n          //   )\n          // }\n        } else {\n          reject(logError(`navigation failed, name & path are required when use router.${replace ? 'replace' : 'push'}`))\n        }\n      })\n    }\n  }\n\n  // create method of router.go/back/forward\n  function createRawHistoryMethod (methodName: string): Func {\n    return function (...rests: unknown[]): void {\n      return globalEnv.rawWindow.history[methodName](...rests)\n    }\n  }\n\n  const beforeGuards = useSetRecord<RouterGuard>()\n  const afterGuards = useSetRecord<RouterGuard>()\n\n  /**\n   * run all of beforeEach/afterEach guards\n   * NOTE:\n   * 1. Modify browser url first, and then run guards,\n   *    consistent with the browser forward & back button\n   * 2. Prevent the element binding\n   * @param appName app name\n   * @param to target location\n   * @param from old location\n   * @param guards guards list\n   */\n  function runGuards (\n    appName: string,\n    to: GuardLocation,\n    from: GuardLocation,\n    guards: Set<RouterGuard>,\n  ) {\n    // clear element scope before execute function of parent\n    removeDomScope()\n    for (const guard of guards) {\n      if (isFunction(guard)) {\n        guard(to, from, appName)\n      } else if (isPlainObject(guard) && isFunction((guard as AccurateGuard)[appName])) {\n        guard[appName](to, from)\n      }\n    }\n  }\n\n  /**\n   * global hook for router\n   * update router information base on microLocation\n   * @param appName app name\n   * @param microLocation location of microApp\n   */\n  function executeNavigationGuard (\n    appName: string,\n    to: GuardLocation,\n    from: GuardLocation,\n  ): void {\n    router.current.set(appName, to)\n\n    runGuards(appName, to, from, beforeGuards.list())\n\n    requestIdleCallback(() => {\n      runGuards(appName, to, from, afterGuards.list())\n    })\n  }\n\n  function clearRouterWhenUnmount (appName: string): void {\n    router.current.delete(appName)\n  }\n\n  /**\n   * NOTE:\n   * 1. app not exits\n   * 2. sandbox is disabled\n   * 3. router mode is custom\n   */\n  function commonHandlerForAttachToURL (appName: string): void {\n    if (isRouterModeSearch(appName) || isRouterModeState(appName)) {\n      const app = appInstanceMap.get(appName)!\n      attachRouteToBrowserURL(\n        appName,\n        setMicroPathToURL(appName, app.sandBox.proxyWindow.location as MicroLocation),\n        setMicroState(appName, getMicroState(appName), app.sandBox.proxyWindow.location as MicroLocation),\n      )\n    }\n  }\n\n  /**\n   * Attach specified active app router info to browser url\n   * @param appName app name\n   */\n  function attachToURL (appName: string): void {\n    appName = formatAppName(appName)\n    if (appName && getActiveApps().includes(appName)) {\n      commonHandlerForAttachToURL(appName)\n    }\n  }\n\n  /**\n   * Attach all active app router info to browser url\n   * @param includeHiddenApp include hidden keep-alive app\n   * @param includePreRender include preRender app\n   */\n  function attachAllToURL ({\n    includeHiddenApp = false,\n    includePreRender = false,\n  }: AttachAllToURLParam): void {\n    getActiveApps({\n      excludeHiddenApp: !includeHiddenApp,\n      excludePreRender: !includePreRender,\n    }).forEach(appName => commonHandlerForAttachToURL(appName))\n  }\n\n  function createDefaultPageApi (): CreateDefaultPage {\n    // defaultPage data\n    const defaultPageRecord = useMapRecord<string>()\n\n    /**\n     * defaultPage only effect when mount, and has lower priority than query on browser url\n     * SetDefaultPageOptions {\n     *   @param name app name\n     *   @param path page path\n     * }\n     */\n    function setDefaultPage (options: SetDefaultPageOptions): () => boolean {\n      const appName = formatAppName(options.name)\n      if (!appName || !options.path) {\n        if (__DEV__) {\n          if (!appName) {\n            logWarn(`setDefaultPage: invalid appName \"${appName}\"`)\n          } else {\n            logWarn('setDefaultPage: path is required')\n          }\n        }\n        return noopFalse\n      }\n\n      return defaultPageRecord.add(appName, options.path)\n    }\n\n    function removeDefaultPage (appName: string): boolean {\n      appName = formatAppName(appName)\n      if (!appName) return false\n\n      return defaultPageRecord.delete(appName)\n    }\n\n    return {\n      setDefaultPage,\n      removeDefaultPage,\n      getDefaultPage: defaultPageRecord.get,\n    }\n  }\n\n  function createBaseRouterApi (): CreteBaseRouter {\n    /**\n     * Record base app router, let child app control base app navigation\n     */\n    let baseRouterProxy: unknown = null\n    function setBaseAppRouter (baseRouter: unknown): void {\n      if (isObject(baseRouter)) {\n        baseRouterProxy = new Proxy(baseRouter, {\n          get (target: History, key: PropertyKey): unknown {\n            removeDomScope()\n            return bindFunctionToRawTarget(Reflect.get(target, key), target, 'BASEROUTER')\n          },\n          set (target: History, key: PropertyKey, value: unknown): boolean {\n            Reflect.set(target, key, value)\n            return true\n          }\n        })\n      } else if (__DEV__) {\n        logWarn('setBaseAppRouter: Invalid base router')\n      }\n    }\n\n    return {\n      setBaseAppRouter,\n      getBaseAppRouter: () => baseRouterProxy,\n    }\n  }\n\n  // Router API for developer\n  const router: Router = {\n    current: new Map<string, MicroLocation>(),\n    encode: encodeMicroPath,\n    decode: decodeMicroPath,\n    push: createNavigationMethod(false),\n    replace: createNavigationMethod(true),\n    go: createRawHistoryMethod('go'),\n    back: createRawHistoryMethod('back'),\n    forward: createRawHistoryMethod('forward'),\n    beforeEach: beforeGuards.add,\n    afterEach: afterGuards.add,\n    attachToURL,\n    attachAllToURL,\n    ...createDefaultPageApi(),\n    ...createBaseRouterApi(),\n  }\n\n  return {\n    router,\n    executeNavigationGuard,\n    clearRouterWhenUnmount,\n  }\n}\n\nexport const {\n  router,\n  executeNavigationGuard,\n  clearRouterWhenUnmount,\n} = createRouterApi()\n","/* eslint-disable no-void */\nimport type {\n  MicroLocation,\n  GuardLocation,\n  microAppWindowType,\n} from '@micro-app/types'\nimport globalEnv from '../../libs/global_env'\nimport bindFunctionToRawTarget from '../bind_function'\nimport {\n  assign as oAssign,\n  createURL,\n  rawDefineProperty,\n} from '../../libs/utils'\nimport {\n  setMicroPathToURL,\n  isEffectiveApp,\n  setMicroState,\n  getMicroState,\n  isRouterModeCustom,\n  isRouterModeNative,\n  isRouterModeSearch,\n  isRouterModePure,\n} from './core'\nimport {\n  dispatchNativeEvent,\n  updateMicroLocationWithEvent,\n} from './event'\nimport {\n  executeNavigationGuard,\n} from './api'\nimport {\n  nativeHistoryNavigate,\n  navigateWithNativeEvent,\n} from './history'\nimport {\n  appInstanceMap,\n  isIframeSandbox,\n} from '../../create_app'\nimport {\n  HIJACK_LOCATION_KEYS,\n} from '../../constants'\n\n// origin is readonly, so we ignore when updateMicroLocation\nconst locationKeys: ReadonlyArray<keyof MicroLocation> = ['href', 'pathname', 'search', 'hash', 'host', 'hostname', 'port', 'protocol', 'search']\n// origin, fullPath is necessary for guardLocation\nconst guardLocationKeys: ReadonlyArray<keyof MicroLocation> = [...locationKeys, 'origin', 'fullPath']\n\n/**\n * Create location for microApp, each microApp has only one location object, it is a reference type\n * MDN https://developer.mozilla.org/en-US/docs/Web/API/Location\n * @param appName app name\n * @param url app url\n * @param microAppWindow iframeWindow, iframe only\n * @param childStaticLocation real child location info, iframe only\n * @param browserHost host of browser, iframe only\n * @param childHost host of child app, iframe only\n */\nexport function createMicroLocation (\n  appName: string,\n  url: string,\n  microAppWindow?: microAppWindowType,\n  childStaticLocation?: MicroLocation,\n  browserHost?: string,\n  childHost?: string,\n): MicroLocation {\n  const rawWindow = globalEnv.rawWindow\n  const rawLocation = rawWindow.location\n  const isIframe = !!microAppWindow\n  /**\n   * withLocation is microLocation for with sandbox\n   * it is globally unique for child app\n   */\n  const withLocation = createURL(url)\n\n  /**\n   * In iframe, jump through raw iframeLocation will cause microAppWindow.location reset\n   * So we get location dynamically\n   */\n  function getTarget (): MicroLocation {\n    return isIframe ? microAppWindow.location : withLocation\n  }\n\n  /**\n   * Common handler for href, assign, replace\n   * It is mainly used to deal with special scenes about hash\n   * @param value target path\n   * @param methodName pushState/replaceState\n   * @returns origin value or formatted value\n   */\n  function commonHandler (value: string | URL, methodName: string): string | URL | void {\n    const targetLocation = createURL(value, proxyLocation.href)\n    // Even if the origin is the same, developers still have the possibility of want to jump to a new page\n    if (targetLocation.origin === proxyLocation.origin) {\n      const setMicroPathResult = setMicroPathToURL(appName, targetLocation)\n      // if disable memory-router, navigate directly through rawLocation\n      if (!isRouterModeCustom(appName)) {\n        methodName = isRouterModePure(appName) ? 'replaceState' : methodName\n        /**\n         * change hash with location.href will not trigger the browser reload\n         * so we use pushState & reload to imitate href behavior\n         * NOTE:\n         *    1. if child app only change hash, it will not reload browser\n         *    2. if address is same and has hash, it will not add route stack\n         */\n        if (\n          targetLocation.pathname === proxyLocation.pathname &&\n          targetLocation.search === proxyLocation.search\n        ) {\n          let oldHref = null\n          // NOTE: if pathname & search is same, it should record router info to history.state in pure mode\n          if (targetLocation.hash !== proxyLocation.hash || isRouterModePure(appName)) {\n            // search mode only\n            if (setMicroPathResult.isAttach2Hash) {\n              oldHref = rawLocation.href\n            }\n            // if router mode is pure and targetLocation.hash exist, it will not call nativeHistoryNavigate\n            if (!isRouterModePure(appName) || !targetLocation.hash) {\n              nativeHistoryNavigate(\n                appName,\n                methodName,\n                setMicroPathResult.fullPath,\n                !isRouterModeSearch(appName) ? setMicroState(appName, null, targetLocation) : null,\n              )\n            }\n          }\n\n          if (targetLocation.hash) {\n            if (isRouterModeSearch(appName)) {\n              dispatchNativeEvent(appName, false, oldHref)\n            } else {\n              updateMicroLocationWithEvent(appName, targetLocation.pathname + targetLocation.search + targetLocation.hash)\n            }\n          } else {\n            reload()\n          }\n          return void 0\n        }\n\n        // when pathname or search change, simulate behavior of browser (reload) manually\n        // TODO: state模式下pushState会带上上一个页面的state，会不会有问题，尤其是vue3，应不应该将主应用的state设置为null\n        nativeHistoryNavigate(\n          appName,\n          methodName,\n          setMicroPathResult.fullPath,\n          !isRouterModeSearch(appName) ? setMicroState(appName, null, targetLocation) : null,\n        )\n        reload()\n        return void 0\n      }\n\n      return setMicroPathResult.fullPath\n    }\n\n    return value\n  }\n\n  /**\n   * common handler for location.pathname & location.search\n   * @param targetPath target fullPath\n   * @param key pathname/search\n   */\n  function handleForPathNameAndSearch (targetPath: string, key: keyof Location): void {\n    const targetLocation = createURL(targetPath, url)\n    // When the browser url has a hash value, the same pathname/search will not refresh browser\n    if (targetLocation[key] === proxyLocation[key] && proxyLocation.hash) {\n      // The href has not changed, not need to dispatch hashchange event\n      dispatchNativeEvent(appName, false)\n    } else {\n      /**\n       * When the value is the same, no new route stack will be added\n       * Special scenes such as:\n       * pathname: /path ==> /path#hash, /path ==> /path?query\n       * search: ?query ==> ?query#hash\n       */\n      nativeHistoryNavigate(\n        appName,\n        (\n          targetLocation[key] === proxyLocation[key] || isRouterModePure(appName)\n        )\n          ? 'replaceState'\n          : 'pushState',\n        setMicroPathToURL(appName, targetLocation).fullPath,\n        !isRouterModeSearch(appName) ? setMicroState(appName, null, targetLocation) : null,\n      )\n      reload()\n    }\n  }\n\n  const createLocationMethod = (locationMethodName: string) => {\n    return function (value: string | URL) {\n      if (isEffectiveApp(appName)) {\n        const targetPath = commonHandler(value, locationMethodName === 'assign' ? 'pushState' : 'replaceState')\n        if (targetPath) {\n          // Same as href, complete targetPath with browser origin in vite env\n          rawLocation[locationMethodName](createURL(targetPath, rawLocation.origin).href)\n        }\n      }\n    }\n  }\n\n  const assign = createLocationMethod('assign')\n  const replace = createLocationMethod('replace')\n  const reload = (forcedReload?: boolean): void => rawLocation.reload(forcedReload)\n\n  rawDefineProperty(getTarget(), 'fullPath', {\n    enumerable: true,\n    configurable: true,\n    get: () => proxyLocation.pathname + proxyLocation.search + proxyLocation.hash,\n  })\n\n  /**\n   * location.assign/replace is readonly, cannot be proxy, so we use empty object as proxy target\n   */\n  const proxyLocation = new Proxy({} as Location, {\n    get: (_: Location, key: string): unknown => {\n      const target = getTarget()\n\n      if (key === 'assign') return assign\n      if (key === 'replace') return replace\n      if (key === 'reload') return reload\n      if (key === 'self') return target\n      if (key === 'fullPath') return target.fullPath\n\n      /**\n       * Special keys: host, hostname, port, protocol, origin, href\n       * NOTE:\n       *  1. In native mode this keys point to browser, in other mode this keys point to child app origin\n       *  2. In iframe sandbox, iframe.src is base app address, so origin points to the browser by default, we need to replace it with child app origin\n       *  3. In other modes, origin points to child app\n       */\n      if (HIJACK_LOCATION_KEYS.includes(key)) {\n        if (isRouterModeNative(appName)) {\n          return rawLocation[key]\n        }\n        if (isIframe) {\n          return childStaticLocation![key]\n        }\n      }\n\n      if (key === 'href') {\n        if (isRouterModeNative(appName)) {\n          return target[key].replace(target.origin, rawLocation.origin)\n        }\n        if (isIframe) {\n          // target may be deleted\n          return target[key].replace(browserHost!, childHost!)\n        }\n      }\n\n      return bindFunctionToRawTarget<Location>(Reflect.get(target, key), target, 'LOCATION')\n    },\n    set: (_: Location, key: string, value: string): boolean => {\n      if (isEffectiveApp(appName)) {\n        const target = getTarget()\n        if (key === 'href') {\n          /**\n           * In vite, targetPath without origin will be completed with child origin\n           * So we use browser origin to complete targetPath to avoid this problem\n           * NOTE:\n           *  1. history mode & value is childOrigin + path ==> jump to browserOrigin + path\n           *  2. disable mode & value is childOrigin + path ==> jump to childOrigin + path\n           *  3. search mode & value is browserOrigin + path ==> jump to browserOrigin + path\n           */\n          const targetPath = commonHandler(value, 'pushState')\n          if (targetPath) {\n            rawLocation.href = createURL(targetPath, rawLocation.origin).href\n          }\n        } else if (key === 'pathname') {\n          if (isRouterModeCustom(appName)) {\n            rawLocation.pathname = value\n          } else {\n            const targetPath = ('/' + value).replace(/^\\/+/, '/') + proxyLocation.search + proxyLocation.hash\n            handleForPathNameAndSearch(targetPath, 'pathname')\n          }\n        } else if (key === 'search') {\n          if (isRouterModeCustom(appName)) {\n            rawLocation.search = value\n          } else {\n            const targetPath = proxyLocation.pathname + ('?' + value).replace(/^\\?+/, '?') + proxyLocation.hash\n            handleForPathNameAndSearch(targetPath, 'search')\n          }\n        } else if (key === 'hash') {\n          if (isRouterModeCustom(appName)) {\n            rawLocation.hash = value\n          } else {\n            const targetPath = proxyLocation.pathname + proxyLocation.search + ('#' + value).replace(/^#+/, '#')\n            const targetLocation = createURL(targetPath, url)\n            // The same hash will not trigger popStateEvent\n            if (targetLocation.hash !== proxyLocation.hash) {\n              if (!isRouterModePure(appName)) {\n                navigateWithNativeEvent(\n                  appName,\n                  'pushState',\n                  setMicroPathToURL(appName, targetLocation),\n                  false,\n                  setMicroState(appName, null, targetLocation),\n                )\n              }\n              if (!isRouterModeSearch(appName)) {\n                updateMicroLocationWithEvent(appName, targetLocation.pathname + targetLocation.search + targetLocation.hash)\n              }\n            }\n          }\n        } else {\n          Reflect.set(target, key, value)\n        }\n      }\n      return true\n    },\n  })\n\n  return proxyLocation as MicroLocation\n}\n\n/**\n * create guardLocation by microLocation, used for router guard\n */\nexport function createGuardLocation (appName: string, microLocation: MicroLocation): GuardLocation {\n  const guardLocation = oAssign({ name: appName }, microLocation) as GuardLocation\n  // The prototype values on the URL needs to be manually transferred\n  for (const key of guardLocationKeys) guardLocation[key] = microLocation[key]\n  return guardLocation\n}\n\n// for updateBrowserURLWithLocation when initial\nexport function autoTriggerNavigationGuard (appName: string, microLocation: MicroLocation): void {\n  executeNavigationGuard(appName, createGuardLocation(appName, microLocation), createGuardLocation(appName, microLocation))\n}\n\n/**\n * The following scenes will trigger location update:\n * 1. pushState/replaceState\n * 2. popStateEvent\n * 3. query on browser url when init sub app\n * 4. set defaultPage when when init sub app\n * NOTE:\n * 1. update browser URL first, and then update microLocation\n * 2. the same fullPath will not trigger router guards\n * @param appName app name\n * @param path target path\n * @param base base url\n * @param microLocation micro app location\n * @param type auto prevent\n */\nexport function updateMicroLocation (\n  appName: string,\n  targetFullPath: string,\n  microLocation: MicroLocation,\n  type?: string,\n): void {\n  // record old values of microLocation to `from`\n  const from = createGuardLocation(appName, microLocation)\n  // if is iframeSandbox, microLocation muse be rawLocation of iframe, not proxyLocation\n  const newLocation = createURL(targetFullPath, microLocation.href)\n  if (isIframeSandbox(appName)) {\n    const microAppWindow = appInstanceMap.get(appName)!.sandBox.microAppWindow\n    microAppWindow.rawReplaceState?.call(microAppWindow.history, getMicroState(appName), '', newLocation.href)\n  } else {\n    let targetHref = newLocation.href\n    if (microLocation.self.origin !== newLocation.origin) {\n      targetHref = targetHref.replace(newLocation.origin, microLocation.self.origin)\n    }\n    microLocation.self.href = targetHref\n  }\n\n  /**\n   * The native mode also base of history.state, and the modification of the browser url cannot be controlled. It is very likely that the browser url and __MICRO_APP_STATE__ are different.\n   * Especially during init of child or forward and backward of browser, because vue-router@4 will actively modify the browser URL, the above situation often occurs\n   * To solve this problem, after child app is initialized and responds to the popstateEvent, it is determined whether __MICRO_APP_STATE__ and the browser url are different. If they are different, the browser url will updated to the address of __MICRO_APP_STATE__\n   * NOTE:\n   *  1. If __MICRO_APP_STATE__ is different from the URL, then the operation of updating the URL is correct, otherwise there will be a problem of inconsistency between the URL and the rendered page\n   *  2. When there are multiple child app in native mode, if one of them changes the URL address, the other one will not change __MICRO_APP_STATE__, and refresh browser will cause problems\n   */\n  const rawLocation = globalEnv.rawWindow.location\n  if (\n    isRouterModeCustom(appName) &&\n    (targetFullPath !== rawLocation.pathname + rawLocation.search + rawLocation.hash) &&\n    type !== 'prevent'\n  ) {\n    nativeHistoryNavigate(appName, 'replaceState', targetFullPath, globalEnv.rawWindow.history.state)\n  }\n\n  // update latest values of microLocation to `to`\n  const to = createGuardLocation(appName, microLocation)\n  // The hook called only when fullPath changed\n  if (type === 'auto' || (from.fullPath !== to.fullPath && type !== 'prevent')) {\n    executeNavigationGuard(appName, to, from)\n  }\n}\n","import type {\n  MicroRouter,\n  MicroLocation,\n} from '@micro-app/types'\nimport globalEnv from '../../libs/global_env'\nimport {\n  getMicroPathFromURL,\n  setMicroPathToURL,\n  removeMicroPathFromURL,\n  removeMicroState,\n  setMicroState,\n  isRouterModeCustom,\n  isRouterModePure,\n} from './core'\nimport {\n  createMicroLocation,\n  updateMicroLocation,\n  autoTriggerNavigationGuard,\n} from './location'\nimport {\n  createMicroHistory,\n  attachRouteToBrowserURL,\n} from './history'\nimport {\n  createURL,\n} from '../../libs/utils'\nimport {\n  clearRouterWhenUnmount,\n} from './api'\nexport {\n  router,\n} from './api'\nexport {\n  addHistoryListener,\n} from './event'\nexport {\n  getNoHashMicroPathFromURL,\n  initRouterMode,\n  isRouterModeCustom,\n  isRouterModeSearch,\n} from './core'\nexport {\n  patchHistory,\n  releasePatchHistory,\n} from './history'\n\n/**\n * The router system has two operations: read and write\n * Read through location and write through history & location\n * @param appName app name\n * @param url app url\n * @returns MicroRouter\n */\nexport function createMicroRouter (appName: string, url: string): MicroRouter {\n  const microLocation = createMicroLocation(appName, url)\n  return {\n    microLocation,\n    microHistory: createMicroHistory(appName, microLocation),\n  }\n}\n\n/**\n * When the sandbox executes start, or the hidden keep-alive application is re-rendered, the location is updated according to the browser url or attach router info to browser url\n * @param appName app.name\n * @param microLocation MicroLocation for sandbox\n * @param defaultPage default page\n */\nexport function initRouteStateWithURL (\n  appName: string,\n  microLocation: MicroLocation,\n  defaultPage?: string,\n): void {\n  const microPath = getMicroPathFromURL(appName)\n  if (microPath) {\n    updateMicroLocation(appName, microPath, microLocation, 'auto')\n    if (isRouterModePure(appName)) {\n      removePathFromBrowser(appName)\n    }\n  } else {\n    updateBrowserURLWithLocation(appName, microLocation, defaultPage)\n  }\n}\n\n/**\n * initialize browser information according to microLocation\n * Scenes:\n *  1. sandbox.start\n *  2. reshow of keep-alive app\n */\nexport function updateBrowserURLWithLocation (\n  appName: string,\n  microLocation: MicroLocation,\n  defaultPage?: string,\n): void {\n  // update microLocation with defaultPage\n  if (defaultPage) updateMicroLocation(appName, defaultPage, microLocation, 'prevent')\n  if (!isRouterModePure(appName)) {\n    // attach microApp route info to browser URL\n    attachRouteToBrowserURL(\n      appName,\n      setMicroPathToURL(appName, microLocation),\n      setMicroState(appName, null, microLocation),\n    )\n  }\n  // trigger guards after change browser URL\n  autoTriggerNavigationGuard(appName, microLocation)\n}\n\n/**\n * In any case, microPath & microState will be removed from browser, but location will be initialized only when keep-router-state is false\n * @param appName app name\n * @param url app url\n * @param microLocation location of microApp\n * @param keepRouteState keep-router-state is only used to control whether to clear the location of microApp, default is false\n */\nexport function clearRouteStateFromURL (\n  appName: string,\n  url: string,\n  microLocation: MicroLocation,\n  keepRouteState: boolean,\n): void {\n  // TODO: keep-router-state 功能太弱，是否可以增加优先级，或者去掉\n  if (!keepRouteState && !isRouterModeCustom(appName)) {\n    const { pathname, search, hash } = createURL(url)\n    updateMicroLocation(appName, pathname + search + hash, microLocation, 'prevent')\n  }\n  if (!isRouterModePure(appName)) {\n    removePathFromBrowser(appName)\n  }\n\n  clearRouterWhenUnmount(appName)\n}\n\n/**\n * remove microState from history.state and remove microPath from browserURL\n * called on sandbox.stop or hidden of keep-alive app\n */\nexport function removePathFromBrowser (appName: string): void {\n  attachRouteToBrowserURL(\n    appName,\n    removeMicroPathFromURL(appName),\n    removeMicroState(appName, globalEnv.rawWindow.history.state),\n  )\n}\n","import globalEnv from '../libs/global_env'\nimport {\n  isFunction,\n  isUndefined,\n  isString,\n  createURL,\n  isURL,\n  removeDomScope,\n  isConstructor,\n} from '../libs/utils'\n\n/**\n * https://developer.mozilla.org/en-US/docs/Web/API/fetch\n * Promise<Response> fetch(input[, init])\n * input: string/Request\n * init?: object\n * @param url app url\n * @param target proxy target\n */\nexport function createMicroFetch (url: string, target?: Window['fetch']): Window['fetch'] {\n  const rawFetch = !isUndefined(target) ? target : globalEnv.rawWindow.fetch\n  if (!isFunction(rawFetch)) return rawFetch\n  return function microFetch (\n    input: RequestInfo | URL | string,\n    init?: RequestInit,\n    ...rests: unknown[]\n  ): Promise<Response> {\n    if (isString(input) || isURL(input)) {\n      input = createURL(input, url).toString()\n    }\n    /**\n     * When fetch rewrite by baseApp, domScope still active when exec rawWindow.fetch\n     * If baseApp operate dom in fetch, it will cause error\n     * The same for XMLHttpRequest, EventSource\n     */\n    removeDomScope()\n    return rawFetch.call(globalEnv.rawWindow, input, init, ...rests)\n  }\n}\n\n/**\n * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\n * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\n * @param url app url\n * @param target proxy target\n */\nexport function createMicroXMLHttpRequest (url: string, target?: XMLHttpRequest): any {\n  const rawXMLHttpRequest = !isUndefined(target) ? target : globalEnv.rawWindow.XMLHttpRequest\n  if (!isConstructor(rawXMLHttpRequest)) return rawXMLHttpRequest\n  return class MicroXMLHttpRequest extends rawXMLHttpRequest {\n    open (method: string, reqUrl: string, ...rests: unknown[]): void {\n      if ((isString(reqUrl) && !/^f(ile|tp):\\/\\//.test(reqUrl)) || isURL(reqUrl)) {\n        reqUrl = createURL(reqUrl, url).toString()\n      }\n      removeDomScope()\n      super.open(method, reqUrl, ...rests)\n    }\n  }\n}\n\nexport interface EventSourceInstance {\n  close(): void;\n}\n\nexport interface EventSourceApi {\n  createMicroEventSource(appName: string, url: string, target?: EventSource): any\n  clearMicroEventSource (appName: string): void\n}\n\nexport function useMicroEventSource (): EventSourceApi {\n  let eventSourceMap: Map<string, Set<EventSourceInstance>>\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/EventSource\n   * pc = new EventSource(url[, configuration])\n   * url: string/Request\n   * configuration?: object\n   * @param url app url\n   * @param target proxy target\n   */\n  function createMicroEventSource (appName: string, url: string, target?: EventSource): any {\n    const rawEventSource = !isUndefined(target) ? target : globalEnv.rawWindow.EventSource\n    if (!isConstructor(rawEventSource)) return rawEventSource\n    return class MicroEventSource extends rawEventSource {\n      constructor (\n        eventSourceUrl: string | URL,\n        eventSourceInitDict?: EventSourceInit,\n        ...rests: unknown[]\n      ) {\n        if (isString(eventSourceUrl) || isURL(eventSourceUrl)) {\n          eventSourceUrl = createURL(eventSourceUrl, url).toString()\n        }\n        removeDomScope()\n        super(eventSourceUrl, eventSourceInitDict, ...rests)\n\n        if (eventSourceMap) {\n          const eventSourceList = eventSourceMap.get(appName)\n          if (eventSourceList) {\n            eventSourceList.add(this)\n          } else {\n            eventSourceMap.set(appName, new Set([this]))\n          }\n        } else {\n          eventSourceMap = new Map([[appName, new Set([this])]])\n        }\n      }\n\n      close (): void {\n        super.close()\n        eventSourceMap.get(appName)?.delete(this)\n      }\n    }\n  }\n\n  function clearMicroEventSource (appName: string): void {\n    const eventSourceList = eventSourceMap?.get(appName)\n    if (eventSourceList?.size) {\n      eventSourceList.forEach(item => {\n        item.close()\n      })\n      eventSourceList.clear()\n    }\n  }\n\n  return {\n    createMicroEventSource,\n    clearMicroEventSource,\n  }\n}\n","import type {\n  Func,\n  microAppWindowType,\n  WithSandBoxInterface,\n  plugins,\n  MicroLocation,\n  SandBoxStartParams,\n  SandBoxStopParams,\n  CommonEffectHook,\n  releaseGlobalEffectParams,\n} from '@micro-app/types'\nimport globalEnv from '../../libs/global_env'\nimport microApp from '../../micro_app'\nimport {\n  EventCenterForMicroApp,\n  rebuildDataCenterSnapshot,\n  recordDataCenterSnapshot,\n  resetDataCenterSnapshot,\n} from '../../interact'\nimport {\n  initEnvOfNestedApp,\n} from '../../libs/nest_app'\nimport {\n  GLOBAL_KEY_TO_WINDOW\n} from '../../constants'\nimport {\n  getEffectivePath,\n  isArray,\n  isPlainObject,\n  removeDomScope,\n  throttleDeferForSetAppName,\n  rawDefineProperty,\n  rawDefineProperties,\n  rawHasOwnProperty,\n  pureCreateElement,\n  assign,\n  isFunction,\n} from '../../libs/utils'\nimport {\n  patchDocument,\n} from './document'\nimport {\n  patchWindow,\n} from './window'\nimport {\n  patchElementAndDocument,\n  releasePatchElementAndDocument,\n} from '../../source/patch'\nimport {\n  router,\n  createMicroRouter,\n  initRouteStateWithURL,\n  clearRouteStateFromURL,\n  addHistoryListener,\n  removePathFromBrowser,\n  updateBrowserURLWithLocation,\n  patchHistory,\n  releasePatchHistory,\n  isRouterModeCustom,\n} from '../router'\nimport {\n  BaseSandbox,\n  CustomWindow,\n  fixBabelPolyfill6,\n  patchElementTree,\n} from '../adapter'\nimport {\n  createMicroFetch,\n  useMicroEventSource,\n  createMicroXMLHttpRequest,\n} from '../request'\n\n// TODO: 放到global.d.ts\nexport type MicroAppWindowDataType = {\n  __MICRO_APP_ENVIRONMENT__: boolean,\n  __MICRO_APP_NAME__: string,\n  __MICRO_APP_URL__: string,\n  __MICRO_APP_PUBLIC_PATH__: string,\n  __MICRO_APP_BASE_URL__: string,\n  __MICRO_APP_BASE_ROUTE__: string,\n  __MICRO_APP_UMD_MODE__: boolean,\n  __MICRO_APP_PRE_RENDER__: boolean\n  __MICRO_APP_STATE__: string\n  microApp: EventCenterForMicroApp,\n  rawWindow: Window,\n  rawDocument: Document,\n  removeDomScope: () => void,\n}\n\nexport type MicroAppWindowType = Window & MicroAppWindowDataType\nexport type proxyWindow = WindowProxy & MicroAppWindowDataType\n\nconst { createMicroEventSource, clearMicroEventSource } = useMicroEventSource()\n\nexport default class WithSandBox extends BaseSandbox implements WithSandBoxInterface {\n  static activeCount = 0 // number of active sandbox\n  private active = false\n  private windowEffect!: CommonEffectHook\n  private documentEffect!: CommonEffectHook\n  private removeHistoryListener!: CallableFunction\n  public proxyWindow!: proxyWindow // Proxy\n  public microAppWindow = new CustomWindow() as MicroAppWindowType // Proxy target\n\n  constructor (appName: string, url: string) {\n    super(appName, url)\n    this.patchWith((resolve: CallableFunction) => {\n      // get scopeProperties and escapeProperties from plugins\n      this.getSpecialProperties(appName)\n      // create location, history for child app\n      this.patchRouter(appName, url, this.microAppWindow)\n      // patch window of child app\n      this.windowEffect = patchWindow(appName, this.microAppWindow, this)\n      // patch document of child app\n      this.documentEffect = patchDocument(appName, this.microAppWindow, this)\n      // properties associated with the native window\n      this.setMappingPropertiesWithRawDescriptor(this.microAppWindow)\n      // inject global properties\n      this.initStaticGlobalKeys(appName, url, this.microAppWindow)\n      resolve()\n    })\n  }\n\n  /**\n   * open sandbox and perform some initial actions\n   * @param umdMode is umd mode\n   * @param baseroute base route for child\n   * @param defaultPage default page when mount child base on virtual router\n   * @param disablePatchRequest prevent patchRequestApi\n   */\n  public start ({\n    umdMode,\n    baseroute,\n    defaultPage,\n    disablePatchRequest,\n  }: SandBoxStartParams): void {\n    if (this.active) return\n    this.active = true\n\n    /* --- memory router part --- start */\n    // update microLocation, attach route info to browser url\n    this.initRouteState(defaultPage)\n\n    // unique listener of popstate event for sub app\n    this.removeHistoryListener = addHistoryListener(\n      this.microAppWindow.__MICRO_APP_NAME__,\n    )\n\n    if (isRouterModeCustom(this.microAppWindow.__MICRO_APP_NAME__)) {\n      this.microAppWindow.__MICRO_APP_BASE_ROUTE__ = this.microAppWindow.__MICRO_APP_BASE_URL__ = baseroute\n    }\n    /* --- memory router part --- end */\n\n    /**\n     * Target: Ensure default mode action exactly same to first time when render again\n     * 1. The following globalKey maybe modified when render, reset them when render again in default mode\n     * 2. Umd mode will not delete any keys during sandBox.stop, ignore umd mode\n     * 3. When sandbox.start called for the first time, it must be the default mode\n     */\n    if (!umdMode) {\n      this.initGlobalKeysWhenStart(\n        this.microAppWindow.__MICRO_APP_NAME__,\n        this.microAppWindow.__MICRO_APP_URL__,\n        this.microAppWindow,\n        disablePatchRequest,\n      )\n    }\n\n    if (++globalEnv.activeSandbox === 1) {\n      patchElementAndDocument()\n      patchHistory()\n    }\n\n    if (++WithSandBox.activeCount === 1) {\n      // effectDocumentEvent()\n      initEnvOfNestedApp()\n    }\n\n    fixBabelPolyfill6()\n  }\n\n  /**\n   * close sandbox and perform some clean up actions\n   * @param umdMode is umd mode\n   * @param keepRouteState prevent reset route\n   * @param destroy completely destroy, delete cache resources\n   * @param clearData clear data from base app\n   */\n  public stop ({\n    umdMode,\n    keepRouteState,\n    destroy,\n    clearData,\n  }: SandBoxStopParams): void {\n    if (!this.active) return\n    this.recordAndReleaseEffect({ umdMode, clearData, destroy }, !umdMode || destroy)\n\n    /* --- memory router part --- start */\n    // rest url and state of browser\n    this.clearRouteState(keepRouteState)\n\n    // release listener of popstate for child app\n    this.removeHistoryListener?.()\n    /* --- memory router part --- end */\n\n    /**\n     * NOTE:\n     *  1. injectedKeys and escapeKeys must be placed at the back\n     *  2. if key in initial microAppWindow, and then rewrite, this key will be delete from microAppWindow when stop, and lost when restart\n     *  3. umd mode will not delete global keys\n     *  4. mount & unmount hook should delete in default mode when stop\n     */\n    if (!umdMode || destroy) {\n      clearMicroEventSource(this.microAppWindow.__MICRO_APP_NAME__)\n\n      this.injectedKeys.forEach((key: PropertyKey) => {\n        Reflect.deleteProperty(this.microAppWindow, key)\n      })\n      this.injectedKeys.clear()\n\n      this.escapeKeys.forEach((key: PropertyKey) => {\n        Reflect.deleteProperty(globalEnv.rawWindow, key)\n      })\n      this.escapeKeys.clear()\n\n      this.clearHijackUmdHooks()\n    }\n\n    if (--globalEnv.activeSandbox === 0) {\n      releasePatchElementAndDocument()\n      releasePatchHistory()\n    }\n\n    if (--WithSandBox.activeCount === 0) {\n      // releaseEffectDocumentEvent()\n    }\n\n    this.active = false\n  }\n\n  /**\n   * inject global properties to microAppWindow\n   * TODO: 设置为只读变量\n   * @param appName app name\n   * @param url app url\n   * @param microAppWindow micro window\n   */\n  private initStaticGlobalKeys (\n    appName: string,\n    url: string,\n    microAppWindow: microAppWindowType,\n  ): void {\n    microAppWindow.__MICRO_APP_ENVIRONMENT__ = true\n    microAppWindow.__MICRO_APP_NAME__ = appName\n    microAppWindow.__MICRO_APP_URL__ = url\n    microAppWindow.__MICRO_APP_PUBLIC_PATH__ = getEffectivePath(url)\n    microAppWindow.__MICRO_APP_BASE_ROUTE__ = ''\n    microAppWindow.__MICRO_APP_WINDOW__ = microAppWindow\n    microAppWindow.__MICRO_APP_PRE_RENDER__ = false\n    microAppWindow.__MICRO_APP_UMD_MODE__ = false\n    microAppWindow.__MICRO_APP_PROXY_WINDOW__ = this.proxyWindow\n    microAppWindow.__MICRO_APP_SANDBOX__ = this\n    microAppWindow.__MICRO_APP_SANDBOX_TYPE__ = 'with'\n    microAppWindow.rawWindow = globalEnv.rawWindow\n    microAppWindow.rawDocument = globalEnv.rawDocument\n    microAppWindow.microApp = assign(new EventCenterForMicroApp(appName), {\n      removeDomScope,\n      pureCreateElement,\n      location: microAppWindow.location,\n      router,\n    })\n  }\n\n  /**\n   * Record global effect and then release (effect: global event, timeout, data listener)\n   * Scenes:\n   * 1. unmount of default/umd app\n   * 2. hidden keep-alive app\n   * 3. after init prerender app\n   * @param options {\n   *  @param clearData clear data from base app\n   *  @param isPrerender is prerender app\n   *  @param keepAlive is keep-alive app\n   * }\n   * @param preventRecord prevent record effect events\n   */\n  public recordAndReleaseEffect (\n    options: releaseGlobalEffectParams,\n    preventRecord = false,\n  ): void {\n    if (preventRecord) {\n      this.resetEffectSnapshot()\n    } else {\n      this.recordEffectSnapshot()\n    }\n    this.releaseGlobalEffect(options)\n  }\n\n  /**\n   * reset effect snapshot data in default mode or destroy\n   * Scenes:\n   *  1. unmount hidden keep-alive app manually\n   *  2. unmount prerender app manually\n   */\n  public resetEffectSnapshot (): void {\n    this.windowEffect.reset()\n    this.documentEffect.reset()\n    resetDataCenterSnapshot(this.microAppWindow.microApp)\n  }\n\n  /**\n   * record umd snapshot before the first execution of umdHookMount\n   * Scenes:\n   * 1. exec umdMountHook in umd mode\n   * 2. hidden keep-alive app\n   * 3. after init prerender app\n   */\n  public recordEffectSnapshot (): void {\n    this.windowEffect.record()\n    this.documentEffect.record()\n    recordDataCenterSnapshot(this.microAppWindow.microApp)\n  }\n\n  // rebuild umd snapshot before remount umd app\n  public rebuildEffectSnapshot (): void {\n    this.windowEffect.rebuild()\n    this.documentEffect.rebuild()\n    rebuildDataCenterSnapshot(this.microAppWindow.microApp)\n  }\n\n  /**\n   * clear global event, timeout, data listener\n   * Scenes:\n   * 1. unmount of default/umd app\n   * 2. hidden keep-alive app\n   * 3. after init prerender app\n   * @param umdMode is umd mode\n   * @param clearData clear data from base app\n   * @param isPrerender is prerender app\n   * @param keepAlive is keep-alive app\n   * @param destroy completely destroy\n   */\n  public releaseGlobalEffect ({\n    umdMode = false,\n    clearData = false,\n    isPrerender = false,\n    keepAlive = false,\n    destroy = false,\n  }: releaseGlobalEffectParams): void {\n    // default mode(not keep-alive or isPrerender)\n    this.windowEffect.release((!umdMode && !keepAlive && !isPrerender) || destroy)\n    this.documentEffect.release()\n    this.microAppWindow.microApp?.clearDataListener()\n    this.microAppWindow.microApp?.clearGlobalDataListener()\n    if (clearData) {\n      microApp.clearData(this.microAppWindow.__MICRO_APP_NAME__)\n      this.microAppWindow.microApp?.clearData()\n    }\n  }\n\n  /**\n   * get scopeProperties and escapeProperties from plugins & adapter\n   * @param appName app name\n   */\n  private getSpecialProperties (appName: string): void {\n    if (isPlainObject(microApp.options.plugins)) {\n      this.commonActionForSpecialProperties(microApp.options.plugins.global)\n      this.commonActionForSpecialProperties(microApp.options.plugins.modules?.[appName])\n    }\n  }\n\n  // common action for global plugins and module plugins\n  private commonActionForSpecialProperties (plugins: plugins['global']) {\n    if (isArray(plugins)) {\n      for (const plugin of plugins) {\n        if (isPlainObject(plugin)) {\n          if (isArray(plugin.scopeProperties)) {\n            this.scopeProperties = this.scopeProperties.concat(plugin.scopeProperties)\n          }\n          if (isArray(plugin.escapeProperties)) {\n            this.escapeProperties = this.escapeProperties.concat(plugin.escapeProperties)\n          }\n        }\n      }\n    }\n  }\n\n  // set __MICRO_APP_PRE_RENDER__ state\n  public setPreRenderState (state: boolean): void {\n    this.microAppWindow.__MICRO_APP_PRE_RENDER__ = state\n  }\n\n  public markUmdMode (state: boolean): void {\n    this.microAppWindow.__MICRO_APP_UMD_MODE__ = state\n  }\n\n  private patchWith (cb: CallableFunction): void {\n    this.sandboxReady = new Promise<void>((resolve) => cb(resolve))\n  }\n\n  // properties associated with the native window\n  private setMappingPropertiesWithRawDescriptor (microAppWindow: microAppWindowType): void {\n    let topValue: Window, parentValue: Window\n    const rawWindow = globalEnv.rawWindow\n    if (rawWindow === rawWindow.parent) { // not in iframe\n      topValue = parentValue = this.proxyWindow\n    } else { // in iframe\n      topValue = rawWindow.top\n      parentValue = rawWindow.parent\n    }\n\n    rawDefineProperties(microAppWindow, {\n      top: this.createDescriptorForMicroAppWindow('top', topValue),\n      parent: this.createDescriptorForMicroAppWindow('parent', parentValue),\n    })\n\n    GLOBAL_KEY_TO_WINDOW.forEach((key: PropertyKey) => {\n      rawDefineProperty(\n        microAppWindow,\n        key,\n        this.createDescriptorForMicroAppWindow(key, this.proxyWindow)\n      )\n    })\n  }\n\n  private createDescriptorForMicroAppWindow (key: PropertyKey, value: unknown): PropertyDescriptor {\n    const { configurable = true, enumerable = true, writable, set } = Object.getOwnPropertyDescriptor(globalEnv.rawWindow, key) || { writable: true }\n    const descriptor: PropertyDescriptor = {\n      value,\n      configurable,\n      enumerable,\n      writable: writable ?? !!set\n    }\n\n    return descriptor\n  }\n\n  /**\n   * init global properties of microAppWindow when exec sandBox.start\n   * @param microAppWindow micro window\n   * @param appName app name\n   * @param url app url\n   * @param disablePatchRequest prevent rewrite request method of child app\n   */\n  private initGlobalKeysWhenStart (\n    appName: string,\n    url: string,\n    microAppWindow: microAppWindowType,\n    disablePatchRequest: boolean,\n  ): void {\n    microAppWindow.hasOwnProperty = (key: PropertyKey) => rawHasOwnProperty.call(microAppWindow, key) || rawHasOwnProperty.call(globalEnv.rawWindow, key)\n    this.setHijackProperty(appName, microAppWindow)\n    if (!disablePatchRequest) this.patchRequestApi(appName, url, microAppWindow)\n    this.setScopeProperties(microAppWindow)\n  }\n\n  // set hijack Properties to microAppWindow\n  private setHijackProperty (appName: string, microAppWindow: microAppWindowType): void {\n    let modifiedEval: unknown, modifiedImage: unknown\n    rawDefineProperties(microAppWindow, {\n      eval: {\n        configurable: true,\n        enumerable: false,\n        get () {\n          throttleDeferForSetAppName(appName)\n          return modifiedEval || globalEnv.rawWindow.eval\n        },\n        set: (value) => {\n          modifiedEval = value\n        },\n      },\n      Image: {\n        configurable: true,\n        enumerable: false,\n        get () {\n          throttleDeferForSetAppName(appName)\n          return modifiedImage || globalEnv.ImageProxy\n        },\n        set: (value) => {\n          modifiedImage = value\n        },\n      },\n    })\n  }\n\n  // rewrite fetch, XMLHttpRequest, EventSource\n  private patchRequestApi (appName: string, url: string, microAppWindow: microAppWindowType): void {\n    let microFetch = createMicroFetch(url)\n    let microXMLHttpRequest = createMicroXMLHttpRequest(url)\n    let microEventSource = createMicroEventSource(appName, url)\n\n    rawDefineProperties(microAppWindow, {\n      fetch: {\n        configurable: true,\n        enumerable: true,\n        get () {\n          return microFetch\n        },\n        set (value) {\n          microFetch = createMicroFetch(url, value)\n        },\n      },\n      XMLHttpRequest: {\n        configurable: true,\n        enumerable: true,\n        get () {\n          return microXMLHttpRequest\n        },\n        set (value) {\n          microXMLHttpRequest = createMicroXMLHttpRequest(url, value)\n        },\n      },\n      EventSource: {\n        configurable: true,\n        enumerable: true,\n        get () {\n          return microEventSource\n        },\n        set (value) {\n          microEventSource = createMicroEventSource(appName, url, value)\n        },\n      },\n    })\n  }\n\n  /**\n   * Init scope keys to microAppWindow, prevent fall to rawWindow from with(microAppWindow)\n   * like: if (!xxx) {}\n   * NOTE:\n   * 1. Symbol.unscopables cannot affect undefined keys\n   * 2. Doesn't use for window.xxx because it fall to proxyWindow\n   */\n  setScopeProperties (microAppWindow: microAppWindowType): void {\n    this.scopeProperties.forEach((key: PropertyKey) => {\n      Reflect.set(microAppWindow, key, microAppWindow[key])\n    })\n  }\n\n  // set location & history for memory router\n  private patchRouter (appName: string, url: string, microAppWindow: microAppWindowType): void {\n    const { microLocation, microHistory } = createMicroRouter(appName, url)\n    rawDefineProperties(microAppWindow, {\n      location: {\n        configurable: false,\n        enumerable: true,\n        get () {\n          return microLocation\n        },\n        set: (value) => {\n          globalEnv.rawWindow.location = value\n        },\n      },\n      history: {\n        configurable: true,\n        enumerable: true,\n        get () {\n          return microHistory\n        },\n      },\n    })\n  }\n\n  private initRouteState (defaultPage: string): void {\n    initRouteStateWithURL(\n      this.microAppWindow.__MICRO_APP_NAME__,\n      this.microAppWindow.location as MicroLocation,\n      defaultPage,\n    )\n  }\n\n  private clearRouteState (keepRouteState: boolean): void {\n    clearRouteStateFromURL(\n      this.microAppWindow.__MICRO_APP_NAME__,\n      this.microAppWindow.__MICRO_APP_URL__,\n      this.microAppWindow.location as MicroLocation,\n      keepRouteState,\n    )\n  }\n\n  public setRouteInfoForKeepAliveApp (): void {\n    updateBrowserURLWithLocation(\n      this.microAppWindow.__MICRO_APP_NAME__,\n      this.microAppWindow.location as MicroLocation,\n    )\n  }\n\n  public removeRouteInfoForKeepAliveApp (): void {\n    removePathFromBrowser(this.microAppWindow.__MICRO_APP_NAME__)\n  }\n\n  /**\n   * Format all html elements when init\n   * @param container micro app container\n   */\n  public patchStaticElement (container: Element | ShadowRoot): void {\n    patchElementTree(container, this.microAppWindow.__MICRO_APP_NAME__)\n  }\n\n  /**\n   * action before exec scripts when mount\n   * Actions:\n   * 1. patch static elements from html\n   * 2. hijack umd hooks -- mount, unmount, micro-app-appName\n   * @param container micro app container\n   */\n  public actionsBeforeExecScripts (container: Element | ShadowRoot, handleUmdHooks: Func): void {\n    this.patchStaticElement(container)\n    this.clearHijackUmdHooks = this.hijackUmdHooks(this.appName, this.microAppWindow, handleUmdHooks)\n  }\n\n  // hijack mount, unmount, micro-app-appName hook to microAppWindow\n  private hijackUmdHooks (\n    appName: string,\n    microAppWindow: microAppWindowType,\n    handleUmdHooks: Func,\n  ): () => void {\n    let mount: Func | null, unmount: Func | null, microAppLibrary: Record<string, unknown> | null\n    rawDefineProperties(microAppWindow, {\n      mount: {\n        configurable: true,\n        get: () => mount,\n        set: (value) => {\n          if (this.active && isFunction(value) && !mount) {\n            handleUmdHooks(mount = value, unmount)\n          }\n        }\n      },\n      unmount: {\n        configurable: true,\n        get: () => unmount,\n        set: (value) => {\n          if (this.active && isFunction(value) && !unmount) {\n            handleUmdHooks(mount, unmount = value)\n          }\n        }\n      },\n      [`micro-app-${appName}`]: {\n        configurable: true,\n        get: () => microAppLibrary,\n        set: (value) => {\n          if (this.active && isPlainObject(value) && !microAppLibrary) {\n            microAppLibrary = value\n            handleUmdHooks(microAppLibrary.mount, microAppLibrary.unmount)\n          }\n        }\n      }\n    })\n\n    return () => {\n      mount = unmount = microAppLibrary = null\n    }\n  }\n\n  public setStaticAppState (state: string): void {\n    this.microAppWindow.__MICRO_APP_STATE__ = state\n  }\n}\n","import type {\n  microAppWindowType,\n  MicroLocation,\n} from '@micro-app/types'\nimport {\n  createMicroLocation,\n  updateMicroLocation,\n} from '../router/location'\nimport {\n  createMicroHistory,\n} from '../router/history'\nimport {\n  assign,\n  createURL,\n  rawDefineProperties,\n} from '../../libs/utils'\nimport globalEnv from '../../libs/global_env'\n\nexport function patchRouter (\n  appName: string,\n  url: string,\n  microAppWindow: microAppWindowType,\n  browserHost: string,\n): MicroLocation {\n  const rawHistory = globalEnv.rawWindow.history\n  const childStaticLocation = createURL(url)\n  const childHost = childStaticLocation.protocol + '//' + childStaticLocation.host\n  const childFullPath = childStaticLocation.pathname + childStaticLocation.search + childStaticLocation.hash\n\n  // rewrite microAppWindow.history\n  const microHistory = microAppWindow.history\n  // save history.replaceState, it will be used in updateMicroLocation\n  microAppWindow.rawReplaceState = microHistory.replaceState\n  // rewrite microAppWindow.history\n  assign(microHistory, createMicroHistory(appName, microAppWindow.location))\n  // scrollRestoration proxy to rawHistory\n  rawDefineProperties(microHistory, {\n    scrollRestoration: {\n      configurable: true,\n      enumerable: true,\n      get () {\n        return rawHistory.scrollRestoration\n      },\n      set (value: string) {\n        rawHistory.scrollRestoration = value\n      }\n    }\n  })\n\n  /**\n   * Init microLocation before exec sandbox.start\n   * NOTE:\n   *  1. exec updateMicroLocation after patch microHistory\n   *  2. sandbox.start will sync microLocation info to browser url\n   */\n  updateMicroLocation(\n    appName,\n    childFullPath,\n    microAppWindow.location,\n    'prevent'\n  )\n\n  // create proxyLocation\n  return createMicroLocation(\n    appName,\n    url,\n    microAppWindow,\n    childStaticLocation,\n    browserHost,\n    childHost,\n  )\n}\n","\nexport const UN_PROXY_INSTANCEOF_KEYS = [\n  'Array'\n]\n\nexport const escape2RawWindowKeys = [\n  'getComputedStyle',\n  // FIX ISSUE: https://github.com/jd-opensource/micro-app/issues/1292\n  'DOMParser',\n  'visualViewport',\n  'matchMedia',\n  'ResizeObserver',\n  'IntersectionObserver',\n]\n\nexport const escape2RawWindowRegExpKeys = [\n  /animationFrame$/i,\n  /mutationObserver$/i,\n  /height$|width$/i,\n  /offset$/i,\n  /selection$/i,\n  /^range/i,\n  /^screen/i,\n  /^scroll/i,\n  /X$|Y$/,\n]\n\nexport const uniqueDocumentElement = [\n  'body',\n  'head',\n  'html',\n  'title',\n]\n\nexport const hijackMicroLocationKeys = [\n  'host',\n  'hostname',\n  'port',\n  'protocol',\n  'origin',\n]\n\n// hijack InstanceOf of iframe class\nexport const hijackInstanceOfWindowRegExpKeys = [\n  /^((HTML|SVG)\\w*|MathML)?Element$/,\n  /^(Node|Text|Attr|Comment|EventTarget|CharacterData|NamedNodeMap|ShadowRoot)$/,\n  /^Document(Type|Fragment)?$/,\n  /^(?!PopState).*Event$/,\n  /^DataTransfer/\n]\n\n// proxy to shadowRoot or rawDocument (property)\nexport const proxy2RawDocOrShadowKeys = [\n  'childElementCount',\n  'children',\n  'firstElementChild',\n  'firstChild',\n  'lastElementChild',\n  'activeElement', // not for Element, just for document/shadowRoot\n  'fullscreenElement', // not for Element, just for document/shadowRoot\n  'pictureInPictureElement', // not for Element, just for document/shadowRoot\n  'pointerLockElement', // not for Element, just for document/shadowRoot\n  'styleSheets', // not for Element, just for document/shadowRoot\n]\n\n// proxy to shadowRoot or rawDocument (method)\nexport const proxy2RawDocOrShadowMethods = [\n  'append',\n  'contains',\n  'replaceChildren',\n  'createRange', // not for Element, just for document/shadowRoot\n  'getSelection', // not for Element, just for document/shadowRoot\n  'elementFromPoint', // not for Element, just for document/shadowRoot\n  'elementsFromPoint', // not for Element, just for document/shadowRoot\n  'getAnimations', // not for Element, just for document/shadowRoot\n]\n\n// proxy to rawDocument (property)\nexport const proxy2RawDocumentKeys = [\n  'characterSet',\n  'compatMode',\n  'contentType',\n  'designMode',\n  'dir',\n  'doctype',\n  'embeds',\n  'fullscreenEnabled',\n  'hidden',\n  'implementation',\n  'lastModified',\n  'pictureInPictureEnabled',\n  'plugins',\n  'readyState',\n  'referrer',\n  'visibilityState',\n  'fonts',\n]\n\n// proxy to rawDocument (method)\nexport const proxy2RawDocumentMethods = [\n  'execCommand',\n  'createRange',\n  'exitFullscreen',\n  'exitPictureInPicture',\n  'getElementsByTagNameNS',\n  'hasFocus',\n  'prepend',\n]\n","\nimport { appInstanceMap } from '../create_app'\nimport { CompletionPath, getCurrentAppName } from '../libs/utils'\n\ninterface WorkerOptions {\n  name?: string;\n  type?: 'classic' | 'module';\n  credentials?: 'omit' | 'same-origin' | 'include';\n}\n\nconst EXCLUDE_URL_PROTOCOLS = [\n  'blob:'\n]\n\ninterface WorkerInstance extends EventTarget {\n  postMessage(message: any, transfer?: Transferable[]): void;\n  terminate(): void;\n}\ninterface Worker {\n  new(url: string | URL, options?: WorkerOptions): WorkerInstance;\n}\n\n// 重写 Worker 构造函数的类型\nconst originalWorker = window.Worker\n\nfunction isSameOrigin(url: string | URL): boolean {\n  try {\n    // 检查 URL 是否与当前页面在同一个源\n    const parsedUrl = url instanceof URL ? url : new URL(url as string)\n    if (EXCLUDE_URL_PROTOCOLS.includes(parsedUrl.protocol)) {\n      return true\n    }\n    return (\n      parsedUrl.protocol === window.location.protocol &&\n      parsedUrl.hostname === window.location.hostname &&\n      parsedUrl.port === window.location.port\n    )\n  } catch (error) {\n    return false\n  }\n}\n\nfunction urlFromScript(script: string) {\n  let blob\n  try {\n    blob = new Blob([script], {\n      type: 'application/javascript'\n    })\n  } catch (e) {\n    const BlobBuilder =\n      // @ts-ignore\n      window.BlobBuilder ||\n      // @ts-ignore\n      window.WebKitBlobBuilder ||\n      // @ts-ignore\n      window.MozBlobBuilder ||\n      // @ts-ignore\n      window.MSBlobBuilder\n    const blobBuilder = new BlobBuilder()\n    blobBuilder.append(script)\n    blob = blobBuilder.getBlob('application/javascript')\n  }\n\n  const URL = window.URL || window.webkitURL\n  return URL.createObjectURL(blob)\n}\n\n// @ts-ignore\nconst WorkerProxy = new Proxy<Worker>(originalWorker, {\n  construct(Target, args): WorkerInstance {\n    let [scriptURL, options] = args\n    options = options || {}\n    const appName = getCurrentAppName()\n    let url = scriptURL\n    if (appName) {\n      const app = appInstanceMap.get(appName)\n      url = CompletionPath(scriptURL, app!.url)\n    }\n\n    if (url && !isSameOrigin(url)) {\n      // 如果 scriptURL 是跨域的，使用 Blob URL 加载并执行 worker\n      const script = `import \"${scriptURL}\";`\n      const workerPath = urlFromScript(script)\n      options.type = 'module'\n      return new Target(workerPath, options) as WorkerInstance\n    } else {\n      // 如果 scriptURL 是同源的，直接使用原生的 Worker 构造函数\n      return new Target(scriptURL, options) as WorkerInstance\n    }\n  },\n})\n\nexport default WorkerProxy\n","import type {\n  microAppWindowType,\n  MicroEventListener,\n  CommonEffectHook,\n} from '@micro-app/types'\nimport type IframeSandbox from './index'\nimport globalEnv from '../../libs/global_env'\nimport bindFunctionToRawTarget from '../bind_function'\nimport {\n  rawDefineProperty,\n  isFunction,\n  logWarn,\n  includes,\n  instanceOf,\n  isConstructor,\n} from '../../libs/utils'\nimport {\n  GLOBAL_KEY_TO_WINDOW,\n  SCOPE_WINDOW_EVENT_OF_IFRAME,\n  SCOPE_WINDOW_ON_EVENT_OF_IFRAME,\n} from '../../constants'\nimport {\n  UN_PROXY_INSTANCEOF_KEYS,\n  escape2RawWindowKeys,\n  escape2RawWindowRegExpKeys,\n} from './special_key'\nimport WorkerProxy from '../../proxies/worker'\n\n/**\n * patch window of child app\n * @param appName app name\n * @param microAppWindow microWindow of child app\n * @param sandbox WithSandBox\n * @returns EffectHook\n */\nexport function patchWindow (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: IframeSandbox,\n): CommonEffectHook {\n  patchWindowProperty(appName, microAppWindow, sandbox)\n  createProxyWindow(microAppWindow, sandbox)\n  return patchWindowEffect(microAppWindow)\n}\n/**\n * rewrite special properties of window\n * @param appName app name\n * @param microAppWindow child app microWindow\n */\nfunction patchWindowProperty (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: IframeSandbox,\n):void {\n  const rawWindow = globalEnv.rawWindow\n\n  escape2RawWindowKeys.forEach((key: string) => {\n    microAppWindow[key] = bindFunctionToRawTarget(rawWindow[key], rawWindow)\n  })\n\n  Object.getOwnPropertyNames(microAppWindow)\n    .filter((key: string) => {\n      escape2RawWindowRegExpKeys.some((reg: RegExp) => {\n        if (reg.test(key) && key in microAppWindow.parent) {\n          if (isFunction(rawWindow[key])) {\n            microAppWindow[key] = bindFunctionToRawTarget(rawWindow[key], rawWindow)\n          } else {\n            const { configurable, enumerable } = Object.getOwnPropertyDescriptor(microAppWindow, key) || {\n              configurable: true,\n              enumerable: true,\n            }\n            if (configurable) {\n              rawDefineProperty(microAppWindow, key, {\n                configurable,\n                enumerable,\n                get: () => rawWindow[key],\n                set: (value) => { rawWindow[key] = value },\n              })\n            }\n          }\n          return true\n        }\n        return false\n      })\n\n      /**\n       * In FireFox, iframe Element.prototype will point to native Element.prototype after insert to document\n       * Rewrite all constructor's Symbol.hasInstance of iframeWindow\n       * NOTE:\n       *  1. native event instanceof iframe window.Event\n       *  2. native node instanceof iframe window.Node\n       *  3. native element instanceof iframe window.Element\n       *  4. native url instanceof iframe window.URL\n       *  ...\n       */\n      if (isConstructor(microAppWindow[key]) && key in rawWindow && !UN_PROXY_INSTANCEOF_KEYS.includes(key)) {\n        rawDefineProperty(microAppWindow[key], Symbol.hasInstance, {\n          configurable: true,\n          enumerable: false,\n          value (target: unknown): boolean {\n            return instanceOf(target, rawWindow[key]) || instanceOf(target, microAppWindow[key])\n          },\n        })\n      }\n\n      return /^on/.test(key) && !SCOPE_WINDOW_ON_EVENT_OF_IFRAME.includes(key)\n    })\n    .forEach((eventName: string) => {\n      const { enumerable, writable, set } = Object.getOwnPropertyDescriptor(microAppWindow, eventName) || {\n        enumerable: true,\n        writable: true,\n      }\n      try {\n        rawDefineProperty(microAppWindow, eventName, {\n          enumerable,\n          configurable: true,\n          get: () => rawWindow[eventName],\n          set: writable ?? !!set\n            ? (value) => { rawWindow[eventName] = isFunction(value) ? value.bind(microAppWindow) : value }\n            : undefined,\n        })\n      } catch (e) {\n        logWarn(e, appName)\n      }\n    })\n\n  /**\n   * In esmodule(vite) proxyWindow will not take effect,\n   * escapeProperties should define to microAppWindow\n   */\n  sandbox.escapeProperties.forEach((key: PropertyKey) => {\n    let rawValue = microAppWindow[key]\n    rawDefineProperty(microAppWindow, key, {\n      enumerable: true,\n      configurable: true,\n      get () {\n        return rawValue ?? bindFunctionToRawTarget(rawWindow[key], rawWindow)\n      },\n      set (value: unknown) {\n        rawValue = value\n      }\n    })\n  })\n}\n\n/**\n * create proxyWindow with Proxy(microAppWindow)\n * @param microAppWindow micro app window\n * @param sandbox IframeSandbox\n */\nfunction createProxyWindow (\n  microAppWindow: microAppWindowType,\n  sandbox: IframeSandbox,\n): void {\n  const rawWindow = globalEnv.rawWindow\n  const customProperties = new Set<PropertyKey>()\n\n  Object.defineProperty(microAppWindow, 'Worker', {\n    value: WorkerProxy,\n    configurable: true,\n    writable: true,\n  })\n\n  /**\n   * proxyWindow will only take effect in certain scenes, such as window.key\n   * e.g:\n   *  1. window.key in normal app --> fall into proxyWindow\n   *  2. window.key in module app(vite), fall into microAppWindow(iframeWindow)\n   *  3. if (key)... --> fall into microAppWindow(iframeWindow)\n   */\n  const proxyWindow = new Proxy(microAppWindow, {\n    get: (target: microAppWindowType, key: PropertyKey): unknown => {\n      if (key === 'Worker') {\n        return WorkerProxy\n      }\n      if (key === 'location') {\n        return sandbox.proxyLocation\n      }\n\n      if (includes(GLOBAL_KEY_TO_WINDOW, key)) {\n        return proxyWindow\n      }\n\n      if (customProperties.has(key)) {\n        return Reflect.get(target, key)\n      }\n\n      /**\n       * Same as proxyWindow, escapeProperties will only take effect in certain scenes\n       * e.g:\n       *  1. window.key in normal app --> fall into proxyWindow, escapeProperties will effect\n       *  2. window.key in module app(vite), fall into microAppWindow(iframeWindow), escapeProperties will not take effect\n       *  3. if (key)... --> fall into microAppWindow(iframeWindow), escapeProperties will not take effect\n       */\n      if (includes(sandbox.escapeProperties, key) && !Reflect.get(target, key)) {\n        return bindFunctionToRawTarget(Reflect.get(rawWindow, key), rawWindow)\n      }\n\n      return bindFunctionToRawTarget(Reflect.get(target, key), target)\n    },\n    set: (target: microAppWindowType, key: PropertyKey, value: unknown): boolean => {\n      if (key === 'location') {\n        return Reflect.set(rawWindow, key, value)\n      }\n\n      if (!Reflect.has(target, key)) {\n        customProperties.add(key)\n      }\n\n      // sandbox.escapeProperties will not set to rawWindow from rc.9\n      Reflect.set(target, key, value)\n\n      return true\n    },\n    has: (target: microAppWindowType, key: PropertyKey) => key in target,\n    deleteProperty: (target: microAppWindowType, key: PropertyKey): boolean => {\n      if (Reflect.has(target, key)) {\n        return Reflect.deleteProperty(target, key)\n      }\n      return true\n    },\n  })\n\n  sandbox.proxyWindow = proxyWindow\n}\n\nfunction patchWindowEffect (microAppWindow: microAppWindowType): CommonEffectHook {\n  const { rawWindow, rawAddEventListener, rawRemoveEventListener, rawDispatchEvent } = globalEnv\n  const eventListenerMap = new Map<string, Set<MicroEventListener>>()\n  const sstEventListenerMap = new Map<string, Set<MicroEventListener>>()\n\n  function getEventTarget (type: string): Window {\n    /**\n     * TODO: SCOPE_WINDOW_EVENT_OF_IFRAME的事件非常少，有可能导致问题\n     *  1、一些未知的需要绑定到iframe的事件被错误的绑定到原生window上\n     */\n    return SCOPE_WINDOW_EVENT_OF_IFRAME.includes(type) ? microAppWindow : rawWindow\n  }\n\n  // TODO: listener 是否需要绑定microAppWindow，否则函数中的this指向原生window\n  microAppWindow.addEventListener = function (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList) {\n      listenerList.add(listener)\n    } else {\n      eventListenerMap.set(type, new Set([listener]))\n    }\n    listener && (listener.__MICRO_APP_MARK_OPTIONS__ = options)\n    rawAddEventListener.call(getEventTarget(type), type, listener, options)\n  }\n\n  microAppWindow.removeEventListener = function (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList?.size && listenerList.has(listener)) {\n      listenerList.delete(listener)\n    }\n    rawRemoveEventListener.call(getEventTarget(type), type, listener, options)\n  }\n\n  microAppWindow.dispatchEvent = function (event: Event): boolean {\n    return rawDispatchEvent.call(getEventTarget(event?.type), event)\n  }\n\n  const reset = (): void => {\n    sstEventListenerMap.clear()\n  }\n\n  /**\n   * NOTE:\n   *  1. about timer(events & properties should record & rebuild at all modes, exclude default mode)\n   *  2. record maybe call twice when unmount prerender, keep-alive app manually with umd mode\n   * 4 modes: default-mode、umd-mode、prerender、keep-alive\n   * Solution:\n   *  1. default-mode(normal): clear events & timers, not record & rebuild anything\n   *  2. umd-mode(normal): not clear timers, record & rebuild events\n   *  3. prerender/keep-alive(default, umd): not clear timers, record & rebuild events\n   *\n   * TODO: 现在的 清除、记录和恢复操作分散的太零散，sandbox、create_app中都有分散，将代码再优化一下，集中处理\n   */\n  const record = (): void => {\n    // record window event\n    eventListenerMap.forEach((listenerList, type) => {\n      if (listenerList.size) {\n        const cacheList = sstEventListenerMap.get(type) || []\n        sstEventListenerMap.set(type, new Set([...cacheList, ...listenerList]))\n      }\n    })\n  }\n\n  // rebuild event and timer before remount app\n  const rebuild = (): void => {\n    // rebuild window event\n    sstEventListenerMap.forEach((listenerList, type) => {\n      for (const listener of listenerList) {\n        microAppWindow.addEventListener(type, listener, listener?.__MICRO_APP_MARK_OPTIONS__)\n      }\n    })\n\n    reset()\n  }\n\n  const release = (): void => {\n    // Clear window binding events\n    if (eventListenerMap.size) {\n      eventListenerMap.forEach((listenerList, type) => {\n        for (const listener of listenerList) {\n          rawRemoveEventListener.call(getEventTarget(type), type, listener)\n        }\n      })\n      eventListenerMap.clear()\n    }\n  }\n\n  return {\n    reset,\n    record,\n    rebuild,\n    release,\n  }\n}\n","import type {\n  microAppWindowType,\n  MicroEventListener,\n  CommonEffectHook,\n} from '@micro-app/types'\nimport type IframeSandbox from './index'\nimport {\n  rawDefineProperty,\n  rawDefineProperties,\n  isFunction,\n  logWarn,\n  isUniqueElement,\n  isInvalidQuerySelectorKey,\n  throttleDeferForIframeAppName,\n  isWebComponentElement,\n} from '../../libs/utils'\nimport globalEnv from '../../libs/global_env'\nimport bindFunctionToRawTarget from '../bind_function'\nimport {\n  uniqueDocumentElement,\n  proxy2RawDocOrShadowKeys,\n  proxy2RawDocOrShadowMethods,\n  proxy2RawDocumentKeys,\n  proxy2RawDocumentMethods,\n} from './special_key'\nimport {\n  SCOPE_DOCUMENT_EVENT,\n  SCOPE_DOCUMENT_ON_EVENT,\n} from '../../constants'\nimport {\n  updateElementInfo,\n} from '../adapter'\nimport {\n  appInstanceMap,\n} from '../../create_app'\n\n/**\n * TODO: 1、shadowDOM 2、结构优化\n *\n * patch document of child app\n * @param appName app name\n * @param microAppWindow microWindow of child app\n * @param sandbox IframeSandbox\n * @returns EffectHook\n */\nexport function patchDocument (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: IframeSandbox,\n): CommonEffectHook {\n  patchDocumentPrototype(appName, microAppWindow)\n  patchDocumentProperty(appName, microAppWindow, sandbox)\n\n  return patchDocumentEffect(appName, microAppWindow)\n}\n\nfunction patchDocumentPrototype (appName: string, microAppWindow: microAppWindowType): void {\n  const rawDocument = globalEnv.rawDocument\n  const microRootDocument = microAppWindow.Document\n  const microDocument = microAppWindow.document\n  const rawMicroCreateElement = microRootDocument.prototype.createElement\n  const rawMicroCreateElementNS = microRootDocument.prototype.createElementNS\n  const rawMicroCreateTextNode = microRootDocument.prototype.createTextNode\n  const rawMicroCreateDocumentFragment = microRootDocument.prototype.createDocumentFragment\n  const rawMicroCreateComment = microRootDocument.prototype.createComment\n  const rawMicroQuerySelector = microRootDocument.prototype.querySelector\n  const rawMicroQuerySelectorAll = microRootDocument.prototype.querySelectorAll\n  const rawMicroGetElementById = microRootDocument.prototype.getElementById\n  const rawMicroGetElementsByClassName = microRootDocument.prototype.getElementsByClassName\n  const rawMicroGetElementsByTagName = microRootDocument.prototype.getElementsByTagName\n  const rawMicroGetElementsByName = microRootDocument.prototype.getElementsByName\n  const rawMicroElementFromPoint = microRootDocument.prototype.elementFromPoint\n  const rawMicroCaretRangeFromPoint = microRootDocument.prototype.caretRangeFromPoint\n\n  microRootDocument.prototype.caretRangeFromPoint = function caretRangeFromPoint (\n    x: number,\n    y: number,\n  ): Range {\n    // 这里this指向document才可以获取到子应用的document实例，range才可以被成功生成\n    const element = rawMicroElementFromPoint.call(rawDocument, x, y)\n    const range = rawMicroCaretRangeFromPoint.call(rawDocument, x, y)\n    updateElementInfo(element, appName)\n    return range\n  }\n\n  microRootDocument.prototype.createElement = function createElement (\n    tagName: string,\n    options?: ElementCreationOptions,\n  ): HTMLElement {\n    let element = rawMicroCreateElement.call(this, tagName, options)\n    if (isWebComponentElement(element)) {\n      element = rawMicroCreateElement.call(rawDocument, tagName, options)\n    }\n    return updateElementInfo(element, appName)\n  }\n\n  microRootDocument.prototype.createElementNS = function createElementNS (\n    namespaceURI: string,\n    name: string,\n    options?: string | ElementCreationOptions,\n  ): HTMLElement {\n    const element = rawMicroCreateElementNS.call(this, namespaceURI, name, options)\n    return updateElementInfo(element, appName)\n  }\n\n  microRootDocument.prototype.createTextNode = function createTextNode (data: string): Text {\n    const element = rawMicroCreateTextNode.call(this, data)\n    return updateElementInfo<Text>(element, appName)\n  }\n\n  microRootDocument.prototype.createDocumentFragment = function createDocumentFragment (): DocumentFragment {\n    const element = rawMicroCreateDocumentFragment.call(this)\n    return updateElementInfo(element, appName)\n  }\n\n  microRootDocument.prototype.createComment = function createComment (data: string): Comment {\n    const element = rawMicroCreateComment.call(this, data)\n    return updateElementInfo<Comment>(element, appName)\n  }\n\n  function getBindTarget (target: Document): Document {\n    /**\n     * handler for:\n     *  1. document.getElementsByTagName('head')[0].querySelector('script')\n     *  2. document.querySelector('body').querySelectorAll('script')\n     *  ...\n     */\n    throttleDeferForIframeAppName(appName)\n    // DOMParser.document !== microDocument\n    return microDocument === target ? rawDocument : target\n  }\n\n  // query element👇\n  function querySelector (this: Document, selectors: string): any {\n    const _this = getBindTarget(this)\n    if (\n      !selectors ||\n      isUniqueElement(selectors) ||\n      rawDocument !== _this\n    ) {\n      return rawMicroQuerySelector.call(_this, selectors)\n    }\n\n    /**\n     * The child app cannot query the base element inside iframe\n     * Same for querySelectorAll\n     *\n     * Scenes:\n     *  1. vue-router@4.x --> createWebHistory(base?: string)\n     *    const baseEl = document.querySelector('base')\n     *    base = (baseEl && baseEl.getAttribute('href')) || '/'\n     *\n     * Issue: https://github.com/jd-opensource/micro-app/issues/1335\n     */\n    const result = appInstanceMap.get(appName)?.querySelector(selectors)\n    return result || selectors === 'base' ? result : rawMicroQuerySelector.call(microDocument, selectors)\n  }\n\n  function querySelectorAll (this: Document, selectors: string): any {\n    const _this = getBindTarget(this)\n    if (\n      !selectors ||\n      isUniqueElement(selectors) ||\n      rawDocument !== _this\n    ) {\n      return rawMicroQuerySelectorAll.call(_this, selectors)\n    }\n\n    const result = appInstanceMap.get(appName)?.querySelectorAll(selectors) ?? []\n    return result.length || selectors === 'base' ? result : rawMicroQuerySelectorAll.call(microDocument, selectors)\n  }\n\n  microRootDocument.prototype.querySelector = querySelector\n  microRootDocument.prototype.querySelectorAll = querySelectorAll\n\n  microRootDocument.prototype.getElementById = function getElementById (key: string): HTMLElement | null {\n    const _this = getBindTarget(this)\n    if (isInvalidQuerySelectorKey(key)) {\n      return rawMicroGetElementById.call(_this, key)\n    }\n\n    try {\n      return querySelector.call(this, `#${key}`)\n    } catch {\n      return rawMicroGetElementById.call(_this, key)\n    }\n  }\n\n  microRootDocument.prototype.getElementsByClassName = function getElementsByClassName (key: string): HTMLCollectionOf<Element> {\n    const _this = getBindTarget(this)\n    if (isInvalidQuerySelectorKey(key)) {\n      return rawMicroGetElementsByClassName.call(_this, key)\n    }\n\n    try {\n      return querySelectorAll.call(this, `.${key}`)\n    } catch {\n      return rawMicroGetElementsByClassName.call(_this, key)\n    }\n  }\n\n  microRootDocument.prototype.getElementsByTagName = function getElementsByTagName (key: string): HTMLCollectionOf<Element> {\n    const _this = getBindTarget(this)\n    if (\n      isUniqueElement(key) ||\n      isInvalidQuerySelectorKey(key)\n    ) {\n      return rawMicroGetElementsByTagName.call(_this, key)\n    // just script, not base\n    } else if (/^script$/i.test(key)) {\n      return rawMicroGetElementsByTagName.call(microDocument, key)\n    }\n\n    try {\n      return querySelectorAll.call(this, key)\n    } catch {\n      return rawMicroGetElementsByTagName.call(_this, key)\n    }\n  }\n\n  microRootDocument.prototype.getElementsByName = function getElementsByName (key: string): NodeListOf<HTMLElement> {\n    const _this = getBindTarget(this)\n    if (isInvalidQuerySelectorKey(key)) {\n      return rawMicroGetElementsByName.call(_this, key)\n    }\n\n    try {\n      return querySelectorAll.call(this, `[name=${key}]`)\n    } catch {\n      return rawMicroGetElementsByName.call(_this, key)\n    }\n  }\n}\n\nfunction patchDocumentProperty (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: IframeSandbox,\n): void {\n  const rawDocument = globalEnv.rawDocument\n  const microRootDocument = microAppWindow.Document\n  const microDocument = microAppWindow.document\n\n  const getCommonDescriptor = (key: PropertyKey, getter: () => unknown): PropertyDescriptor => {\n    const { enumerable } = Object.getOwnPropertyDescriptor(microRootDocument.prototype, key) || {\n      enumerable: true,\n    }\n    return {\n      configurable: true,\n      enumerable,\n      get: getter,\n    }\n  }\n\n  const createDescriptors = (): PropertyDescriptorMap => {\n    const result: PropertyDescriptorMap = {}\n    const descList: Array<[string, () => unknown]> = [\n      // if disable-memory-router or router-mode='disable', href point to base app\n      ['documentURI', () => sandbox.proxyLocation.href],\n      ['URL', () => sandbox.proxyLocation.href],\n      ['documentElement', () => rawDocument.documentElement],\n      ['scrollingElement', () => rawDocument.scrollingElement],\n      ['forms', () => microRootDocument.prototype.querySelectorAll.call(microDocument, 'form')],\n      ['images', () => microRootDocument.prototype.querySelectorAll.call(microDocument, 'img')],\n      ['links', () => microRootDocument.prototype.querySelectorAll.call(microDocument, 'a')],\n      // unique keys of micro-app\n      ['microAppElement', () => appInstanceMap.get(appName)?.container],\n      ['__MICRO_APP_NAME__', () => appName],\n    ]\n\n    descList.forEach((desc) => {\n      result[desc[0]] = getCommonDescriptor(desc[0], desc[1])\n    })\n\n    // TODO: shadowDOM\n    proxy2RawDocOrShadowKeys.forEach((key) => {\n      result[key] = getCommonDescriptor(key, () => rawDocument[key])\n    })\n\n    // TODO: shadowDOM\n    proxy2RawDocOrShadowMethods.forEach((key) => {\n      result[key] = getCommonDescriptor(key, () => bindFunctionToRawTarget<Document>(rawDocument[key], rawDocument, 'DOCUMENT'))\n    })\n\n    proxy2RawDocumentKeys.forEach((key) => {\n      result[key] = getCommonDescriptor(key, () => rawDocument[key])\n    })\n\n    proxy2RawDocumentMethods.forEach((key) => {\n      result[key] = getCommonDescriptor(key, () => bindFunctionToRawTarget<Document>(rawDocument[key], rawDocument, 'DOCUMENT'))\n    })\n\n    return result\n  }\n\n  rawDefineProperties(microRootDocument.prototype, createDescriptors())\n\n  // head, body, html, title\n  uniqueDocumentElement.forEach((tagName: string) => {\n    rawDefineProperty(microDocument, tagName, {\n      enumerable: true,\n      configurable: true,\n      get: () => {\n        throttleDeferForIframeAppName(appName)\n        return rawDocument[tagName]\n      },\n      set: (value: unknown) => { rawDocument[tagName] = value },\n    })\n  })\n}\n\nfunction patchDocumentEffect (appName: string, microAppWindow: microAppWindowType): CommonEffectHook {\n  const { rawDocument, rawAddEventListener, rawRemoveEventListener, rawDispatchEvent } = globalEnv\n  const eventListenerMap = new Map<string, Set<MicroEventListener>>()\n  const sstEventListenerMap = new Map<string, Set<MicroEventListener>>()\n  let onClickHandler: unknown = null\n  let sstOnClickHandler: unknown = null\n  const microRootDocument = microAppWindow.Document\n  const microDocument = microAppWindow.document\n\n  function getEventTarget (type: string, bindTarget: Document): Document {\n    return SCOPE_DOCUMENT_EVENT.includes(type) ? bindTarget : rawDocument\n  }\n\n  microRootDocument.prototype.addEventListener = function (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    const handler = isFunction(listener) ? (listener.__MICRO_APP_BOUND_FUNCTION__ = listener.__MICRO_APP_BOUND_FUNCTION__ || listener.bind(this)) : listener\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList) {\n      listenerList.add(listener)\n    } else {\n      eventListenerMap.set(type, new Set([listener]))\n    }\n    listener && (listener.__MICRO_APP_MARK_OPTIONS__ = options)\n    rawAddEventListener.call(getEventTarget(type, this), type, handler, options)\n  }\n\n  microRootDocument.prototype.removeEventListener = function (\n    type: string,\n    listener: MicroEventListener,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    const listenerList = eventListenerMap.get(type)\n    if (listenerList?.size && listenerList.has(listener)) {\n      listenerList.delete(listener)\n    }\n    const handler = listener?.__MICRO_APP_BOUND_FUNCTION__ || listener\n    rawRemoveEventListener.call(getEventTarget(type, this), type, handler, options)\n  }\n\n  microRootDocument.prototype.dispatchEvent = function (event: Event): boolean {\n    return rawDispatchEvent.call(getEventTarget(event?.type, this), event)\n  }\n\n  // 重新定义microRootDocument.prototype 上的on开头方法\n  function createSetterHandler (eventName: string): (value: unknown) => void {\n    if (eventName === 'onclick') {\n      return (value: unknown): void => {\n        if (isFunction(onClickHandler)) {\n          rawRemoveEventListener.call(rawDocument, 'click', onClickHandler, false)\n        }\n        if (isFunction(value)) {\n          onClickHandler = value.bind(microDocument)\n          rawAddEventListener.call(rawDocument, 'click', onClickHandler, false)\n        } else {\n          onClickHandler = value\n        }\n      }\n    }\n    return (value: unknown) => { rawDocument[eventName] = isFunction(value) ? value.bind(microDocument) : value }\n  }\n\n  /**\n   * TODO:\n   * 1、直接代理到原生document是否正确\n   * 2、shadowDOM\n   */\n  Object.getOwnPropertyNames(microRootDocument.prototype)\n    .filter((key: string) => /^on/.test(key) && !SCOPE_DOCUMENT_ON_EVENT.includes(key))\n    .forEach((eventName: string) => {\n      const { enumerable, writable, set } = Object.getOwnPropertyDescriptor(microRootDocument.prototype, eventName) || {\n        enumerable: true,\n        writable: true,\n      }\n\n      try {\n        rawDefineProperty(microRootDocument.prototype, eventName, {\n          enumerable,\n          configurable: true,\n          get: () => {\n            if (eventName === 'onclick') return onClickHandler\n            return rawDocument[eventName]\n          },\n          set: writable ?? !!set ? createSetterHandler(eventName) : undefined,\n        })\n      } catch (e) {\n        logWarn(e, appName)\n      }\n    })\n\n  const reset = (): void => {\n    sstEventListenerMap.clear()\n    sstOnClickHandler = null\n  }\n\n  /**\n   * record event\n   * NOTE:\n   *  1.record maybe call twice when unmount prerender, keep-alive app manually with umd mode\n   * Scenes:\n   *  1. exec umdMountHook in umd mode\n   *  2. hidden keep-alive app\n   *  3. after init prerender app\n   */\n  const record = (): void => {\n    /**\n     * record onclick handler\n     * onClickHandler maybe set again after prerender/keep-alive app hidden\n     */\n    sstOnClickHandler = onClickHandler || sstOnClickHandler\n\n    // record document event\n    eventListenerMap.forEach((listenerList, type) => {\n      if (listenerList.size) {\n        const cacheList = sstEventListenerMap.get(type) || []\n        sstEventListenerMap.set(type, new Set([...cacheList, ...listenerList]))\n      }\n    })\n  }\n\n  // rebuild event and timer before remount app\n  const rebuild = (): void => {\n    // rebuild onclick event\n    if (sstOnClickHandler && !onClickHandler) microDocument.onclick = sstOnClickHandler\n\n    sstEventListenerMap.forEach((listenerList, type) => {\n      for (const listener of listenerList) {\n        microDocument.addEventListener(type, listener, listener?.__MICRO_APP_MARK_OPTIONS__)\n      }\n    })\n\n    reset()\n  }\n\n  const release = (): void => {\n    // Clear the function bound by micro app through document.onclick\n    if (isFunction(onClickHandler)) {\n      rawRemoveEventListener.call(rawDocument, 'click', onClickHandler)\n    }\n    onClickHandler = null\n\n    // Clear document binding event\n    if (eventListenerMap.size) {\n      eventListenerMap.forEach((listenerList, type) => {\n        for (const listener of listenerList) {\n          rawRemoveEventListener.call(\n            getEventTarget(type, microDocument),\n            type,\n            listener?.__MICRO_APP_BOUND_FUNCTION__ || listener,\n          )\n        }\n      })\n      eventListenerMap.clear()\n    }\n  }\n\n  return {\n    reset,\n    record,\n    rebuild,\n    release,\n  }\n}\n","import type {\n  microAppWindowType,\n} from '@micro-app/types'\nimport type IframeSandbox from './index'\nimport globalEnv from '../../libs/global_env'\nimport {\n  rawDefineProperty,\n  CompletionPath,\n  isScriptElement,\n  isBaseElement,\n  isElement,\n  isNode,\n  isDocumentFragment,\n  isFunction,\n  isBrowser,\n} from '../../libs/utils'\nimport {\n  updateElementInfo,\n  getIframeParentNodeDesc,\n} from '../adapter'\nimport microApp from '../../micro_app'\n\n/**\n * patch Element & Node of child app\n * @param appName app name\n * @param url app url\n * @param microAppWindow microWindow of child app\n * @param sandbox IframeSandbox\n */\nexport function patchElement (\n  appName: string,\n  url: string,\n  microAppWindow: microAppWindowType,\n  sandbox: IframeSandbox,\n): void {\n  patchIframeNode(appName, microAppWindow, sandbox)\n  patchIframeAttribute(url, microAppWindow)\n}\n\n/**\n * patch iframe Node/Element\n *\n */\nfunction patchIframeNode (\n  appName: string,\n  microAppWindow: microAppWindowType,\n  sandbox: IframeSandbox,\n): void {\n  const rawRootElement = globalEnv.rawRootElement // native root Element\n  const rawRootNode = globalEnv.rawRootNode\n  const rawDocument = globalEnv.rawDocument\n  const microDocument = microAppWindow.document\n  const microRootNode = microAppWindow.Node\n  const microRootElement = microAppWindow.Element\n  const microDocumentFragment = microAppWindow.DocumentFragment\n  // const rawMicroGetRootNode = microRootNode.prototype.getRootNode\n  const rawMicroAppendChild = microRootNode.prototype.appendChild\n  const rawMicroInsertBefore = microRootNode.prototype.insertBefore\n  const rawMicroReplaceChild = microRootNode.prototype.replaceChild\n  const rawMicroRemoveChild = microRootNode.prototype.removeChild\n  const rawMicroAppend = microRootElement.prototype.append\n  const rawMicroPrepend = microRootElement.prototype.prepend\n  const rawMicroFragmentAppend = microDocumentFragment.prototype.append\n  const rawMicroFragmentPrepend = microDocumentFragment.prototype.prepend\n  const rawMicroInsertAdjacentElement = microRootElement.prototype.insertAdjacentElement\n  const rawMicroCloneNode = microRootNode.prototype.cloneNode\n  const rawInnerHTMLDesc = Object.getOwnPropertyDescriptor(microRootElement.prototype, 'innerHTML')!\n  const rawParentNodeDesc = Object.getOwnPropertyDescriptor(microRootNode.prototype, 'parentNode')!\n  const rawOwnerDocumentDesc = Object.getOwnPropertyDescriptor(microRootNode.prototype, 'ownerDocument')!\n\n  const isPureNode = (target: unknown): boolean | void => {\n    return (isScriptElement(target) || isBaseElement(target)) && target.__PURE_ELEMENT__\n  }\n\n  const getRawTarget = (parent: Node): Node => {\n    if (parent === sandbox.microHead) {\n      return rawDocument.head\n    } else if (parent === sandbox.microBody) {\n      return rawDocument.body\n    }\n\n    return parent\n  }\n\n  microRootNode.prototype.appendChild = function appendChild <T extends Node> (node: T): T {\n    updateElementInfo(node, appName)\n    if (isPureNode(node)) {\n      return rawMicroAppendChild.call(this, node)\n    }\n    return rawRootNode.prototype.appendChild.call(getRawTarget(this), node)\n  }\n\n  microRootNode.prototype.insertBefore = function insertBefore <T extends Node> (node: T, child: Node | null): T {\n    updateElementInfo(node, appName)\n    if (isPureNode(node)) {\n      return rawMicroInsertBefore.call(this, node, child)\n    }\n    return rawRootNode.prototype.insertBefore.call(getRawTarget(this), node, child)\n  }\n\n  microRootNode.prototype.replaceChild = function replaceChild <T extends Node> (node: Node, child: T): T {\n    updateElementInfo(node, appName)\n    if (isPureNode(node)) {\n      return rawMicroReplaceChild.call(this, node, child)\n    }\n    return rawRootNode.prototype.replaceChild.call(getRawTarget(this), node, child)\n  }\n\n  microRootNode.prototype.removeChild = function removeChild<T extends Node> (oldChild: T): T {\n    if (isPureNode(oldChild) || this.contains(oldChild)) {\n      return rawMicroRemoveChild.call(this, oldChild)\n    }\n    return rawRootNode.prototype.removeChild.call(getRawTarget(this), oldChild)\n  }\n\n  microDocumentFragment.prototype.append = microRootElement.prototype.append = function append (...nodes: (Node | string)[]): void {\n    let i = 0; let hasPureNode = false\n    while (i < nodes.length) {\n      nodes[i] = isNode(nodes[i]) ? nodes[i] : microDocument.createTextNode(nodes[i])\n      if (isPureNode(nodes[i])) hasPureNode = true\n      i++\n    }\n    if (hasPureNode) {\n      return (isDocumentFragment(this) ? rawMicroFragmentAppend : rawMicroAppend).call(this, ...nodes)\n    }\n    return rawRootElement.prototype.append.call(getRawTarget(this), ...nodes)\n  }\n\n  microDocumentFragment.prototype.prepend = microRootElement.prototype.prepend = function prepend (...nodes: (Node | string)[]): void {\n    let i = 0; let hasPureNode = false\n    while (i < nodes.length) {\n      nodes[i] = isNode(nodes[i]) ? nodes[i] : microDocument.createTextNode(nodes[i])\n      if (isPureNode(nodes[i])) hasPureNode = true\n      i++\n    }\n    if (hasPureNode) {\n      return (isDocumentFragment(this) ? rawMicroFragmentPrepend : rawMicroPrepend).call(this, ...nodes)\n    }\n    return rawRootElement.prototype.prepend.call(getRawTarget(this), ...nodes)\n  }\n\n  /**\n   * The insertAdjacentElement method of the Element interface inserts a given element node at a given position relative to the element it is invoked upon.\n   * Scenes:\n   *  1. vite4 development env for style\n   */\n  microRootElement.prototype.insertAdjacentElement = function insertAdjacentElement (where: InsertPosition, element: Element): Element | null {\n    updateElementInfo(element, appName)\n    if (isPureNode(element)) {\n      return rawMicroInsertAdjacentElement.call(this, where, element)\n    }\n    return rawRootElement.prototype.insertAdjacentElement.call(getRawTarget(this), where, element)\n  }\n\n  /**\n   * Specific prototype properties:\n   * 1. baseURI\n   * 2. ownerDocument\n   * 3. parentNode\n   * 4. innerHTML\n   */\n  rawDefineProperty(microRootNode.prototype, 'baseURI', {\n    configurable: true,\n    enumerable: true,\n    get () {\n      return sandbox.proxyWindow.location.href\n    },\n  })\n\n  rawDefineProperty(microRootNode.prototype, 'ownerDocument', {\n    configurable: true,\n    enumerable: true,\n    get () {\n      return this.__PURE_ELEMENT__ || this === microDocument\n        ? rawOwnerDocumentDesc.get?.call(this)\n        : microDocument\n    },\n  })\n\n  // patch parentNode\n  rawDefineProperty(microRootNode.prototype, 'parentNode', getIframeParentNodeDesc(\n    appName,\n    rawParentNodeDesc,\n  ))\n\n  microRootNode.prototype.getRootNode = function getRootNode (): Node {\n    return microDocument\n    // TODO: any case return document?\n    // const rootNode = rawMicroGetRootNode.call(this, options)\n    // if (rootNode === appInstanceMap.get(appName)?.container) return microDocument\n    // return rootNode\n  }\n\n  // patch cloneNode\n  microRootNode.prototype.cloneNode = function cloneNode (deep?: boolean): Node {\n    const clonedNode = rawMicroCloneNode.call(this, deep)\n    return updateElementInfo(clonedNode, appName)\n  }\n\n  rawDefineProperty(microRootElement.prototype, 'innerHTML', {\n    configurable: true,\n    enumerable: true,\n    get () {\n      return rawInnerHTMLDesc.get?.call(this)\n    },\n    set (code: string) {\n      rawInnerHTMLDesc.set?.call(this, code)\n      Array.from(this.children).forEach((child) => {\n        if (isElement(child)) {\n          updateElementInfo(child, appName)\n        }\n      })\n    }\n  })\n\n  // Adapt to new image(...) scene\n  const ImageProxy = new Proxy(microAppWindow.Image, {\n    construct (Target, args): HTMLImageElement {\n      const elementImage = new Target(...args)\n      updateElementInfo(elementImage, appName)\n      return elementImage\n    },\n  })\n\n  rawDefineProperty(microAppWindow, 'Image', {\n    configurable: true,\n    writable: true,\n    value: ImageProxy,\n  })\n}\n\nfunction patchIframeAttribute (url: string, microAppWindow: microAppWindowType): void {\n  const microRootElement = microAppWindow.Element\n  const rawMicroSetAttribute = microRootElement.prototype.setAttribute\n\n  microRootElement.prototype.setAttribute = function setAttribute (key: string, value: any): void {\n    if (\n      /^micro-app(-\\S+)?/i.test(this.tagName) &&\n      key === 'data' &&\n      this.setAttribute !== microRootElement.prototype.setAttribute\n    ) {\n      this.setAttribute(key, value)\n    } else {\n      if (\n        ((key === 'src' || key === 'srcset') && /^(img|script|video|audio|source|embed)$/i.test(this.tagName)) ||\n        (key === 'href' && /^(link|image)$/i.test(this.tagName)) ||\n        // If it is the anchor tag,eg. <a href=\"#xxx\"/>, the path will not be completed\n        (key === 'href' && /^(a)$/i.test(this.tagName) && !/^#/.test(value))\n      ) {\n        let _url = url\n        if (isBrowser && key === 'href' && /^a$/i.test(this.tagName) && isFunction(microApp.options.excludeAssetFilter) && microApp.options.excludeAssetFilter(value)) {\n          _url = document.baseURI\n        }\n        value = CompletionPath(value, _url)\n      }\n      rawMicroSetAttribute.call(this, key, value)\n    }\n  }\n\n  const protoAttrList: Array<[HTMLElement, string]> = [\n    [microAppWindow.HTMLImageElement.prototype, 'src'],\n    [microAppWindow.HTMLScriptElement.prototype, 'src'],\n    [microAppWindow.HTMLLinkElement.prototype, 'href'],\n    [microAppWindow.SVGImageElement.prototype, 'href'],\n  ]\n\n  /**\n   * element.setAttribute does not trigger this actions:\n   *  1. img.src = xxx\n   *  2. script.src = xxx\n   *  3. link.href = xxx\n   */\n  protoAttrList.forEach(([target, attr]) => {\n    const { enumerable, configurable, get, set } = Object.getOwnPropertyDescriptor(target, attr) || {\n      enumerable: true,\n      configurable: true,\n    }\n\n    rawDefineProperty(target, attr, {\n      enumerable,\n      configurable,\n      get: function () {\n        return get?.call(this)\n      },\n      set: function (value) {\n        set?.call(this, CompletionPath(value, url))\n      },\n    })\n  })\n}\n","import type {\n  Func,\n  microAppWindowType,\n  MicroLocation,\n  SandBoxStartParams,\n  CommonEffectHook,\n  SandBoxStopParams,\n  releaseGlobalEffectParams,\n  plugins,\n} from '@micro-app/types'\nimport globalEnv from '../../libs/global_env'\nimport microApp from '../../micro_app'\nimport {\n  getEffectivePath,\n  removeDomScope,\n  pureCreateElement,\n  assign,\n  clearDOM,\n  isPlainObject,\n  isArray,\n  defer,\n  createURL,\n  rawDefineProperties,\n  isFunction,\n} from '../../libs/utils'\nimport {\n  EventCenterForMicroApp,\n  rebuildDataCenterSnapshot,\n  recordDataCenterSnapshot,\n  resetDataCenterSnapshot,\n} from '../../interact'\nimport {\n  patchRouter,\n} from './router'\nimport {\n  router,\n  initRouteStateWithURL,\n  clearRouteStateFromURL,\n  addHistoryListener,\n  removePathFromBrowser,\n  updateBrowserURLWithLocation,\n  patchHistory,\n  releasePatchHistory,\n  isRouterModeCustom,\n} from '../router'\nimport {\n  patchElementAndDocument,\n  releasePatchElementAndDocument,\n} from '../../source/patch'\nimport {\n  patchWindow,\n} from './window'\nimport {\n  patchDocument,\n} from './document'\nimport {\n  patchElement,\n} from './element'\nimport {\n  patchElementTree\n} from '../adapter'\n\nexport default class IframeSandbox {\n  static activeCount = 0 // number of active sandbox\n  private active = false\n  private windowEffect!: CommonEffectHook\n  private documentEffect!: CommonEffectHook\n  private removeHistoryListener!: CallableFunction\n  // Properties that can be escape to rawWindow\n  public escapeProperties: PropertyKey[] = []\n  public deleteIframeElement: () => void\n  public iframe!: HTMLIFrameElement | null\n  // Promise used to mark whether the sandbox is initialized\n  public sandboxReady!: Promise<void>\n  public proxyWindow: WindowProxy & microAppWindowType\n  public microAppWindow: microAppWindowType\n  public proxyLocation!: MicroLocation\n  public baseElement!: HTMLBaseElement\n  public microHead!: HTMLHeadElement\n  public microBody!: HTMLBodyElement\n  // TODO: 放到 super中定义，super(appName, url)，with沙箱也需要简化\n  public appName: string\n  public url: string\n  // reset mount, unmount when stop in default mode\n  public clearHijackUmdHooks!: () => void\n\n  constructor (appName: string, url: string) {\n    this.appName = appName\n    this.url = url\n    const rawLocation = globalEnv.rawWindow.location\n    const browserHost = rawLocation.protocol + '//' + rawLocation.host\n\n    this.deleteIframeElement = this.createIframeElement(appName, browserHost + rawLocation.pathname)\n    this.microAppWindow = this.iframe!.contentWindow\n\n    this.patchIframe(this.microAppWindow, (resolve: CallableFunction) => {\n      // create new html to iframe\n      this.createIframeTemplate(this.microAppWindow)\n      // get escapeProperties from plugins\n      this.getSpecialProperties(appName)\n      // patch location & history of child app\n      this.proxyLocation = patchRouter(appName, url, this.microAppWindow, browserHost)\n      // patch window of child app\n      this.windowEffect = patchWindow(appName, this.microAppWindow, this)\n      // patch document of child app\n      this.documentEffect = patchDocument(appName, this.microAppWindow, this)\n      // patch Node & Element of child app\n      patchElement(appName, url, this.microAppWindow, this)\n      /**\n       * create static properties\n       * NOTE:\n       *  1. execute as early as possible\n       *  2. run after patchRouter & createProxyWindow\n       */\n      this.initStaticGlobalKeys(appName, url, this.microAppWindow)\n      resolve()\n    })\n  }\n\n  /**\n   * create iframe for sandbox\n   * @param appName app name\n   * @param browserPath browser origin\n   * @returns release callback\n   */\n  createIframeElement (\n    appName: string,\n    browserPath: string,\n  ): () => void {\n    this.iframe = pureCreateElement('iframe')\n\n    const iframeAttrs: Record<string, string> = {\n      id: appName,\n      src: microApp.options.iframeSrc || browserPath,\n      style: 'display: none',\n      'powered-by': 'micro-app',\n    }\n\n    Object.keys(iframeAttrs).forEach((key) => this.iframe!.setAttribute(key, iframeAttrs[key]))\n\n    // effect action during construct\n    globalEnv.rawDocument.body.appendChild(this.iframe)\n\n    /**\n     * If dom operated async when unmount, premature deletion of iframe will cause unexpected problems\n     * e.g.\n     *  1. antd: notification.destroy()\n     * WARNING:\n     *  If async operation time is too long, defer cannot avoid the problem\n     * TODO: more test\n     */\n    return () => defer(() => {\n      // default mode or destroy, iframe will be deleted when unmount\n      this.iframe?.parentNode?.removeChild(this.iframe)\n      this.iframe = null\n    })\n  }\n\n  public start ({\n    baseroute,\n    defaultPage,\n    disablePatchRequest,\n  }: SandBoxStartParams): void {\n    if (this.active) return\n    this.active = true\n    /* --- memory router part --- start */\n    /**\n     * Sync router info to iframe when exec sandbox.start with disable or enable memory-router\n     * e.g.:\n     *  vue-router@4.x get target path by remove the base section from rawLocation.pathname\n     *  code: window.location.pathname.slice(base.length) || '/'; (base is baseroute)\n     * NOTE:\n     *  1. iframe router and browser router are separated, we should update iframe router manually\n     *  2. withSandbox location is browser location when disable memory-router, so no need to do anything\n     */\n    this.initRouteState(defaultPage)\n\n    // unique listener of popstate event for child app\n    this.removeHistoryListener = addHistoryListener(\n      this.microAppWindow.__MICRO_APP_NAME__,\n    )\n\n    if (isRouterModeCustom(this.microAppWindow.__MICRO_APP_NAME__)) {\n      this.microAppWindow.__MICRO_APP_BASE_ROUTE__ = this.microAppWindow.__MICRO_APP_BASE_URL__ = baseroute\n    }\n    /* --- memory router part --- end */\n\n    /**\n     * create base element to iframe\n     * WARNING: This will also affect a, image, link and script\n     */\n    if (!disablePatchRequest) {\n      this.createIframeBase()\n    }\n\n    if (++globalEnv.activeSandbox === 1) {\n      patchElementAndDocument()\n      patchHistory()\n    }\n\n    if (++IframeSandbox.activeCount === 1) {\n      // TODO: 多层嵌套兼容\n    }\n  }\n\n  public stop ({\n    umdMode,\n    keepRouteState,\n    destroy,\n    clearData,\n  }: SandBoxStopParams): void {\n    // sandbox.stop may exec before sandbox.start, e.g: iframe sandbox + default mode + remount\n    if (!this.active) return\n\n    this.recordAndReleaseEffect({ clearData }, !umdMode || destroy)\n\n    /* --- memory router part --- start */\n    // if keep-route-state is true, preserve microLocation state\n    this.clearRouteState(keepRouteState)\n\n    // release listener of popstate for child app\n    this.removeHistoryListener?.()\n    /* --- memory router part --- end */\n\n    if (!umdMode || destroy) {\n      this.deleteIframeElement()\n\n      this.clearHijackUmdHooks()\n    }\n\n    if (--globalEnv.activeSandbox === 0) {\n      releasePatchElementAndDocument()\n      releasePatchHistory()\n    }\n\n    if (--IframeSandbox.activeCount === 0) {\n      // TODO: Is there anything to do?\n    }\n\n    this.active = false\n  }\n\n  /**\n   * create static properties\n   * NOTE:\n   *  1. execute as early as possible\n   *  2. run after patchRouter & createProxyWindow\n   * TODO: 设置为只读变量\n   */\n  private initStaticGlobalKeys (\n    appName: string,\n    url: string,\n    microAppWindow: microAppWindowType,\n  ): void {\n    microAppWindow.__MICRO_APP_ENVIRONMENT__ = true\n    microAppWindow.__MICRO_APP_NAME__ = appName\n    microAppWindow.__MICRO_APP_URL__ = url\n    microAppWindow.__MICRO_APP_PUBLIC_PATH__ = getEffectivePath(url)\n    microAppWindow.__MICRO_APP_BASE_ROUTE__ = ''\n    microAppWindow.__MICRO_APP_WINDOW__ = microAppWindow\n    microAppWindow.__MICRO_APP_PRE_RENDER__ = false\n    microAppWindow.__MICRO_APP_UMD_MODE__ = false\n    microAppWindow.__MICRO_APP_PROXY_WINDOW__ = this.proxyWindow\n    microAppWindow.__MICRO_APP_SANDBOX__ = this\n    microAppWindow.__MICRO_APP_SANDBOX_TYPE__ = 'iframe'\n    microAppWindow.rawWindow = globalEnv.rawWindow\n    microAppWindow.rawDocument = globalEnv.rawDocument\n    microAppWindow.microApp = assign(new EventCenterForMicroApp(appName), {\n      removeDomScope,\n      pureCreateElement,\n      location: this.proxyLocation,\n      router,\n    })\n  }\n\n  /**\n   * Record global effect and then release (effect: global event, timeout, data listener)\n   * Scenes:\n   * 1. unmount of default/umd app\n   * 2. hidden keep-alive app\n   * 3. after init prerender app\n   * @param options {\n   *  @param clearData clear data from base app\n   *  @param isPrerender is prerender app\n   *  @param keepAlive is keep-alive app\n   * }\n   * @param preventRecord prevent record effect events (default or destroy)\n   */\n  public recordAndReleaseEffect (\n    options: releaseGlobalEffectParams,\n    preventRecord = false,\n  ): void {\n    if (preventRecord) {\n      this.resetEffectSnapshot()\n    } else {\n      this.recordEffectSnapshot()\n    }\n    this.releaseGlobalEffect(options)\n  }\n\n  /**\n   * reset effect snapshot data in default mode or destroy\n   * Scenes:\n   *  1. unmount hidden keep-alive app manually\n   *  2. unmount prerender app manually\n   */\n  public resetEffectSnapshot (): void {\n    this.windowEffect?.reset()\n    this.documentEffect?.reset()\n    resetDataCenterSnapshot(this.microAppWindow.microApp)\n  }\n\n  /**\n   * record umd snapshot before the first execution of umdHookMount\n   * Scenes:\n   * 1. exec umdMountHook in umd mode\n   * 2. hidden keep-alive app\n   * 3. after init prerender app\n   */\n  public recordEffectSnapshot (): void {\n    this.windowEffect?.record()\n    this.documentEffect?.record()\n    recordDataCenterSnapshot(this.microAppWindow.microApp)\n  }\n\n  // rebuild umd snapshot before remount umd app\n  public rebuildEffectSnapshot (): void {\n    this.windowEffect?.rebuild()\n    this.documentEffect?.rebuild()\n    rebuildDataCenterSnapshot(this.microAppWindow.microApp)\n  }\n\n  /**\n   * clear global event, timeout, data listener\n   * Scenes:\n   * 1. unmount of normal/umd app\n   * 2. hidden keep-alive app\n   * 3. after init prerender app\n   * @param clearData clear data from base app\n   * @param isPrerender is prerender app\n   * @param keepAlive is keep-alive app\n   */\n  public releaseGlobalEffect ({ clearData = false }: releaseGlobalEffectParams): void {\n    this.windowEffect?.release()\n    this.documentEffect?.release()\n    this.microAppWindow.microApp?.clearDataListener()\n    this.microAppWindow.microApp?.clearGlobalDataListener()\n    if (clearData) {\n      microApp.clearData(this.microAppWindow.__MICRO_APP_NAME__)\n      this.microAppWindow.microApp?.clearData()\n    }\n  }\n\n  // set __MICRO_APP_PRE_RENDER__ state\n  public setPreRenderState (state: boolean): void {\n    this.microAppWindow.__MICRO_APP_PRE_RENDER__ = state\n  }\n\n  // record umdMode\n  public markUmdMode (state: boolean): void {\n    this.microAppWindow.__MICRO_APP_UMD_MODE__ = state\n  }\n\n  // TODO: RESTRUCTURE\n  private patchIframe (microAppWindow: microAppWindowType, cb: CallableFunction): void {\n    const oldMicroDocument = microAppWindow.document\n    this.sandboxReady = new Promise<void>((resolve) => {\n      (function iframeLocationReady () {\n        setTimeout(() => {\n          try {\n            /**\n             * NOTE:\n             *  1. In browser, iframe document will be recreated after iframe initial\n             *  2. In jest, iframe document is always the same\n             */\n            if (microAppWindow.document === oldMicroDocument && !__TEST__) {\n              iframeLocationReady()\n            } else {\n              /**\n               * NOTE:\n               *  1. microAppWindow will not be recreated\n               *  2. the properties of microAppWindow may be recreated, such as document\n               *  3. the variables added to microAppWindow may be cleared\n               */\n              microAppWindow.stop()\n              cb(resolve)\n            }\n          } catch (e) {\n            iframeLocationReady()\n          }\n        }, 0)\n      })()\n    })\n  }\n\n  // TODO: RESTRUCTURE\n  private createIframeTemplate (microAppWindow: microAppWindowType): void {\n    const microDocument = microAppWindow.document\n    clearDOM(microDocument)\n    const html = microDocument.createElement('html')\n    html.innerHTML = '<head></head><body></body>'\n    microDocument.appendChild(html)\n\n    // 记录iframe原生body\n    this.microBody = microDocument.body\n    this.microHead = microDocument.head\n  }\n\n  /**\n   * baseElement will complete the relative address of element according to the URL\n   * e.g: a image link script fetch ajax EventSource\n   */\n  private createIframeBase (): void {\n    this.baseElement = pureCreateElement('base')\n    this.updateIframeBase()\n    this.microHead.appendChild(this.baseElement)\n  }\n\n  // Update the base.href when initial and each redirect\n  public updateIframeBase = (): void => {\n    // origin must be child app origin\n    this.baseElement?.setAttribute('href', createURL(this.url).origin + this.proxyLocation.pathname)\n  }\n\n  /**\n   * get escapeProperties from plugins & adapter\n   * @param appName app name\n   */\n  private getSpecialProperties (appName: string): void {\n    if (isPlainObject(microApp.options.plugins)) {\n      this.commonActionForSpecialProperties(microApp.options.plugins.global)\n      this.commonActionForSpecialProperties(microApp.options.plugins.modules?.[appName])\n    }\n  }\n\n  // common action for global plugins and module plugins\n  private commonActionForSpecialProperties (plugins: plugins['global']) {\n    if (isArray(plugins)) {\n      for (const plugin of plugins) {\n        if (isPlainObject(plugin)) {\n          if (isArray(plugin.escapeProperties)) {\n            this.escapeProperties = this.escapeProperties.concat(plugin.escapeProperties)\n          }\n        }\n      }\n    }\n  }\n\n  private initRouteState (defaultPage: string): void {\n    initRouteStateWithURL(\n      this.microAppWindow.__MICRO_APP_NAME__,\n      this.microAppWindow.location as MicroLocation,\n      defaultPage,\n    )\n  }\n\n  private clearRouteState (keepRouteState: boolean): void {\n    clearRouteStateFromURL(\n      this.microAppWindow.__MICRO_APP_NAME__,\n      this.microAppWindow.__MICRO_APP_URL__,\n      this.microAppWindow.location as MicroLocation,\n      keepRouteState,\n    )\n  }\n\n  public setRouteInfoForKeepAliveApp (): void {\n    updateBrowserURLWithLocation(\n      this.microAppWindow.__MICRO_APP_NAME__,\n      this.microAppWindow.location as MicroLocation,\n    )\n  }\n\n  public removeRouteInfoForKeepAliveApp (): void {\n    removePathFromBrowser(this.microAppWindow.__MICRO_APP_NAME__)\n  }\n\n  /**\n   * Format all html elements when init\n   * @param container micro app container\n   */\n  public patchStaticElement (container: Element | ShadowRoot): void {\n    patchElementTree(container, this.microAppWindow.__MICRO_APP_NAME__)\n  }\n\n  /**\n   * action before exec scripts when mount\n   * Actions:\n   * 1. patch static elements from html\n   * 2. hijack umd hooks -- mount, unmount, micro-app-appName\n   * @param container micro app container\n   */\n  public actionsBeforeExecScripts (container: Element | ShadowRoot, handleUmdHooks: Func): void {\n    this.patchStaticElement(container)\n    this.clearHijackUmdHooks = this.hijackUmdHooks(this.appName, this.microAppWindow, handleUmdHooks)\n  }\n\n  // hijack mount, unmount, micro-app-appName hook to microAppWindow\n  private hijackUmdHooks (\n    appName: string,\n    microAppWindow: microAppWindowType,\n    handleUmdHooks: Func,\n  ): () => void {\n    let mount: Func | null, unmount: Func | null, microAppLibrary: Record<string, unknown> | null\n    rawDefineProperties(microAppWindow, {\n      mount: {\n        configurable: true,\n        get: () => mount,\n        set: (value) => {\n          if (this.active && isFunction(value) && !mount) {\n            handleUmdHooks(mount = value, unmount)\n          }\n        }\n      },\n      unmount: {\n        configurable: true,\n        get: () => unmount,\n        set: (value) => {\n          if (this.active && isFunction(value) && !unmount) {\n            handleUmdHooks(mount, unmount = value)\n          }\n        }\n      },\n      [`micro-app-${appName}`]: {\n        configurable: true,\n        get: () => microAppLibrary,\n        set: (value) => {\n          if (this.active && isPlainObject(value) && !microAppLibrary) {\n            microAppLibrary = value\n            handleUmdHooks(microAppLibrary.mount, microAppLibrary.unmount)\n          }\n        }\n      }\n    })\n\n    return () => {\n      mount = unmount = microAppLibrary = null\n    }\n  }\n\n  public setStaticAppState (state: string): void {\n    this.microAppWindow.__MICRO_APP_STATE__ = state\n  }\n}\n","import type {\n  Func,\n  AppInterface,\n  sourceType,\n  WithSandBoxInterface,\n  MountParam,\n  UnmountParam,\n  OnLoadParam,\n} from '@micro-app/types'\nimport { HTMLLoader } from './source/loader/html'\nimport { extractSourceDom } from './source/index'\nimport { execScripts } from './source/scripts'\nimport WithSandBox from './sandbox/with'\nimport IframeSandbox from './sandbox/iframe'\nimport { router, isRouterModeSearch } from './sandbox/router'\nimport {\n  appStates,\n  lifeCycles,\n  keepAliveStates,\n  microGlobalEvent,\n  DEFAULT_ROUTER_MODE,\n} from './constants'\nimport {\n  isFunction,\n  isPromise,\n  logError,\n  getRootContainer,\n  execMicroAppGlobalHook,\n  pureCreateElement,\n  isDivElement,\n  removeDomScope,\n} from './libs/utils'\nimport dispatchLifecyclesEvent, {\n  dispatchCustomEventToMicroApp,\n} from './interact/lifecycles_event'\nimport globalEnv from './libs/global_env'\nimport microApp from './micro_app'\nimport sourceCenter from './source/source_center'\n\n// micro app instances\nexport const appInstanceMap = new Map<string, AppInterface>()\n\n// params of CreateApp\nexport interface CreateAppParam {\n  name: string\n  url: string\n  scopecss: boolean\n  useSandbox: boolean\n  inline?: boolean\n  iframe?: boolean\n  container?: HTMLElement | ShadowRoot\n  ssrUrl?: string\n  isPrefetch?: boolean\n  prefetchLevel?: number\n  routerMode?: string\n}\n\nexport default class CreateApp implements AppInterface {\n  private state: string = appStates.CREATED\n  private keepAliveState: string | null = null\n  private loadSourceLevel: -1|0|1|2 = 0\n  private umdHookMount: Func | null = null\n  private umdHookUnmount: Func | null = null\n  private preRenderEvents?: CallableFunction[] | null\n  public umdMode = false\n  public source: sourceType\n  // TODO: 类型优化，加上iframe沙箱\n  public sandBox: WithSandBoxInterface | IframeSandbox | null = null\n  public name: string\n  public url: string\n  public container: HTMLElement | ShadowRoot | null\n  public scopecss: boolean\n  public useSandbox: boolean\n  public inline: boolean\n  public iframe: boolean\n  public ssrUrl: string\n  public isPrefetch: boolean\n  public isPrerender: boolean\n  public prefetchLevel?: number\n  public fiber = false\n  public routerMode: string\n\n  constructor ({\n    name,\n    url,\n    container,\n    scopecss,\n    useSandbox,\n    inline,\n    iframe,\n    ssrUrl,\n    isPrefetch,\n    prefetchLevel,\n    routerMode,\n  }: CreateAppParam) {\n    appInstanceMap.set(name, this)\n    // init actions\n    this.name = name\n    this.url = url\n    this.useSandbox = useSandbox\n    this.scopecss = this.useSandbox && scopecss\n    // exec before getInlineModeState\n    this.iframe = iframe ?? false\n    this.inline = this.getInlineModeState(inline)\n    /**\n     * NOTE:\n     *  1. Navigate after micro-app created, before mount\n     */\n    this.routerMode = routerMode || DEFAULT_ROUTER_MODE\n\n    // not exist when prefetch 👇\n    this.container = container ?? null\n    this.ssrUrl = ssrUrl ?? ''\n\n    // exist only prefetch 👇\n    this.isPrefetch = isPrefetch ?? false\n    this.isPrerender = prefetchLevel === 3\n    this.prefetchLevel = prefetchLevel\n\n    this.source = { html: null, links: new Set(), scripts: new Set() }\n    this.loadSourceCode()\n    this.createSandbox()\n  }\n\n  // Load resources\n  public loadSourceCode (): void {\n    this.setAppState(appStates.LOADING)\n    HTMLLoader.getInstance().run(this, extractSourceDom)\n  }\n\n  /**\n   * When resource is loaded, mount app if it is not prefetch or unmount\n   * defaultPage disablePatchRequest routerMode baseroute is only for prerender app\n   */\n  public onLoad ({\n    html,\n    // below params is only for prerender app\n    defaultPage,\n    routerMode,\n    baseroute,\n    disablePatchRequest,\n  }: OnLoadParam): void {\n    if (++this.loadSourceLevel === 2) {\n      this.source.html = html\n      if (this.isUnmounted()) return\n      if (!this.isPrefetch) {\n        getRootContainer(this.container!).mount(this)\n      } else if (this.isPrerender) {\n        /**\n         * PreRender is an option of prefetch, it will render app during prefetch\n         * Limit:\n         * 1. fiber forced on\n         * 2. only virtual router support\n         *\n         * NOTE: (Don't update browser url, dispatch popstateEvent, reload window, dispatch lifecycle event)\n         * 1. pushState/replaceState in child can update microLocation, but will not attach router info to browser url\n         * 2. prevent dispatch popstate/hashchange event to browser\n         * 3. all navigation actions of location are invalid (In the future, we can consider update microLocation without trigger browser reload)\n         * 4. lifecycle event will not trigger when prerender\n         *\n         * Special scenes\n         * 1. unmount prerender app when loading\n         * 2. unmount prerender app when exec js\n         * 2. unmount prerender app after exec js\n         */\n        const container = pureCreateElement('div')\n        container.setAttribute('prerender', 'true')\n        this.sandBox?.setPreRenderState(true)\n        this.mount({\n          container,\n          inline: this.inline,\n          fiber: true,\n          defaultPage: defaultPage || '',\n          disablePatchRequest: disablePatchRequest ?? false,\n          routerMode: routerMode!,\n          baseroute: baseroute || '',\n        })\n      }\n    }\n  }\n\n  /**\n   * Error loading HTML\n   * @param e Error\n   */\n  public onLoadError (e: Error): void {\n    this.loadSourceLevel = -1\n\n    if (!this.isUnmounted()) {\n      this.onerror(e)\n      this.setAppState(appStates.LOAD_FAILED)\n    }\n  }\n\n  /**\n   * mount app\n   * @param container app container\n   * @param inline run js in inline mode\n   * @param routerMode virtual router mode\n   * @param defaultPage default page of virtual router\n   * @param baseroute route prefix, default is ''\n   * @param disablePatchRequest prevent rewrite request method of child app\n   * @param fiber run js in fiber mode\n   */\n  public mount ({\n    container,\n    inline,\n    routerMode,\n    defaultPage,\n    baseroute,\n    disablePatchRequest,\n    fiber,\n  }: MountParam): void {\n    if (this.loadSourceLevel !== 2) {\n      /**\n       * container cannot be null when load end\n       * NOTE:\n       *  1. render prefetch app before load end\n       *  2. unmount prefetch app and mount again before load end\n       */\n      this.container = container\n      // mount before prerender exec mount (loading source), set isPrerender to false\n      this.isPrerender = false\n\n      // dispatch state event to micro app\n      // TODO: statechange 还是 state-change，保持一致\n      dispatchCustomEventToMicroApp(this, 'statechange', {\n        appState: appStates.LOADING\n      })\n\n      // reset app state to LOADING\n      return this.setAppState(appStates.LOADING)\n    }\n\n    this.createSandbox()\n\n    // place outside of nextAction, as nextAction may execute async\n    this.setAppState(appStates.BEFORE_MOUNT)\n\n    const nextAction = () => {\n      /**\n       * Special scenes:\n       * 1. mount before prerender exec mount (loading source)\n       * 2. mount when prerender js executing\n       * 3. mount after prerender js exec end\n       * 4. mount after prerender unmounted\n       *\n       * TODO: test shadowDOM\n       */\n      if (\n        this.isPrerender &&\n        isDivElement(this.container) &&\n        this.container.hasAttribute('prerender')\n      ) {\n        /**\n         * current this.container is <div prerender='true'></div>\n         * set this.container to <micro-app></micro-app>\n         * NOTE:\n         *  1. must exec before this.sandBox.rebuildEffectSnapshot\n         *  2. must exec before this.preRenderEvents?.forEach((cb) => cb())\n         */\n        this.container = this.cloneContainer(container, this.container, false)\n        /**\n         * rebuild effect event of window, document, data center\n         * explain:\n         * 1. rebuild before exec mount, do nothing\n         * 2. rebuild when js executing, recovery recorded effect event, because prerender fiber mode\n         * 3. rebuild after js exec end, normal recovery effect event\n         */\n        this.sandBox?.rebuildEffectSnapshot()\n        this.preRenderEvents?.forEach((cb) => cb())\n        // reset isPrerender config\n        this.isPrerender = false\n        this.preRenderEvents = null\n        // attach router info to browser url\n        router.attachToURL(this.name)\n        this.sandBox?.setPreRenderState(false)\n      } else {\n        this.container = container\n        this.inline = this.getInlineModeState(inline)\n        this.fiber = fiber\n        this.routerMode = routerMode\n\n        const dispatchBeforeMount = () => {\n          dispatchLifecyclesEvent(\n            this.container,\n            this.name,\n            lifeCycles.BEFOREMOUNT,\n          )\n        }\n\n        if (this.isPrerender) {\n          (this.preRenderEvents ??= []).push(dispatchBeforeMount)\n        } else {\n          dispatchBeforeMount()\n        }\n\n        this.setAppState(appStates.MOUNTING)\n\n        // dispatch state event to micro app\n        dispatchCustomEventToMicroApp(this, 'statechange', {\n          appState: appStates.MOUNTING\n        })\n\n        // TODO: 兼容shadowRoot的场景\n        this.cloneContainer(this.container, this.source.html, !this.umdMode)\n\n        this.sandBox?.start({\n          umdMode: this.umdMode,\n          baseroute,\n          defaultPage,\n          disablePatchRequest,\n        })\n\n        if (!this.umdMode) {\n          // patch element info of html\n          this.sandBox?.actionsBeforeExecScripts(this.container, (mount, unmount) => {\n            if (!this.umdMode && !this.isUnmounted()) {\n              this.umdHookMount = isFunction(mount) ? mount : null\n              // umdHookUnmount can works in default mode, register by window.unmount\n              this.umdHookUnmount = isFunction(unmount) ? unmount : null\n              // if mount & unmount is function, the sub app is umd mode\n              if (isFunction(this.umdHookMount) && isFunction(this.umdHookUnmount)) {\n                this.sandBox?.markUmdMode(this.umdMode = true)\n                try {\n                  // if appState is mounted, it means that isFinished is true and this.handleMounted has already been executed, just exec this.umdHookMount\n                  if (this.getAppState() === appStates.MOUNTED) {\n                    this.umdHookMount(microApp.getData(this.name, true))\n                  } else {\n                    this.handleMounted(this.umdHookMount(microApp.getData(this.name, true)))\n                  }\n                } catch (e) {\n                  logError('An error occurred when mount \\n', this.name, e)\n                }\n              }\n            }\n          })\n\n          // if all js are executed, param isFinished will be true\n          execScripts(this, (isFinished: boolean) => {\n            if (!this.umdMode && isFinished === true) {\n              this.handleMounted()\n            }\n          })\n        } else {\n          this.sandBox?.rebuildEffectSnapshot()\n          try {\n            this.handleMounted(this.umdHookMount!(microApp.getData(this.name, true)))\n          } catch (e) {\n            logError('An error occurred when mount \\n', this.name, e)\n          }\n        }\n      }\n    }\n\n    /**\n     * Initialization of sandbox is async, especially iframe sandbox are macro tasks\n     * when child apps switch quickly, we need to pay attention to the following points:\n     * NOTE:\n     *  1. unmount app before exec nextAction (especially: iframe sandbox + default mode + remount)\n     *     this.container is null, this.sandBox will not start\n     *  2. remount app of note 1\n     *  3. unmount app during exec js\n     */\n    // TODO: 可优化？\n    this.sandBox ? this.sandBox.sandboxReady.then(() => !this.isUnmounted() && nextAction()) : nextAction()\n  }\n\n  /**\n   * handle for promise umdHookMount\n   * @param umdHookMountResult result of umdHookMount\n   */\n  private handleMounted (umdHookMountResult?: unknown): void {\n    const dispatchAction = () => {\n      const nextAction = () => this.actionsAfterMounted()\n      if (isPromise(umdHookMountResult)) {\n        umdHookMountResult\n          .then(nextAction)\n          .catch((e) => {\n            logError('An error occurred in window.mount \\n', this.name, e)\n            nextAction()\n          })\n      } else {\n        nextAction()\n      }\n    }\n\n    if (this.isPrerender) {\n      this.preRenderEvents?.push(dispatchAction)\n      this.sandBox?.recordAndReleaseEffect({ isPrerender: true })\n    } else {\n      dispatchAction()\n    }\n  }\n\n  /**\n   * dispatch mounted event when app run finished\n   */\n  private actionsAfterMounted (): void {\n    if (!this.isUnmounted()) {\n      this.setAppState(appStates.MOUNTED)\n      // call window.onmount of child app\n      execMicroAppGlobalHook(\n        this.getMicroAppGlobalHook(microGlobalEvent.ONMOUNT),\n        this.name,\n        microGlobalEvent.ONMOUNT,\n        microApp.getData(this.name, true)\n      )\n\n      // dispatch state event to micro app\n      dispatchCustomEventToMicroApp(this, 'statechange', {\n        appState: appStates.MOUNTED\n      })\n\n      // dispatch mounted event to micro app\n      dispatchCustomEventToMicroApp(this, 'mounted')\n\n      // dispatch event mounted to parent\n      dispatchLifecyclesEvent(\n        this.container,\n        this.name,\n        lifeCycles.MOUNTED,\n      )\n\n      /**\n       * Hidden Keep-alive app during resource loading, render normally to ensure their liveliness (running in the background) characteristics.\n       * Actions:\n       *  1. Record & release all global events after mount\n       */\n      if (this.isHidden()) {\n        this.sandBox?.recordAndReleaseEffect({ keepAlive: true })\n      }\n    }\n    /**\n     * TODO: 这里增加一个处理，如果渲染完成时已经卸载，则进行一些操作\n     * 如果是默认模式：删除所有事件和定时器\n     * 如果是umd模式：重新记录和清空事件\n     * 补充：非必需，优先级低\n     */\n  }\n\n  /**\n   * unmount app\n   * NOTE:\n   *  1. do not add any params on account of unmountApp\n   *  2. this.container maybe null: Initialization of sandbox is async, child app may unmount before exec nextAction of mount\n   *  3. unmount app when loading files (this.container is not null)\n   * @param destroy completely destroy, delete cache resources\n   * @param clearData clear data of dateCenter\n   * @param keepRouteState keep route state when unmount, default is false\n   * @param unmountcb callback of unmount\n   */\n  public unmount ({\n    destroy,\n    clearData,\n    keepRouteState,\n    unmountcb,\n  }: UnmountParam): void {\n    destroy = destroy || this.state === appStates.LOAD_FAILED\n\n    this.setAppState(appStates.UNMOUNT)\n\n    try {\n      this.handleUnmounted(\n        destroy,\n        clearData,\n        keepRouteState,\n        unmountcb,\n        this.umdHookUnmount?.(microApp.getData(this.name, true)),\n      )\n    } catch (e) {\n      logError('An error occurred when unmount \\n', this.name, e)\n    }\n  }\n\n  /**\n   * handle for promise umdHookUnmount\n   * @param destroy completely destroy, delete cache resources\n   * @param clearData clear data of dateCenter\n   * @param keepRouteState keep route state when unmount, default is false\n   * @param unmountcb callback of unmount\n   * @param umdHookUnmountResult result of umdHookUnmount\n   */\n  private handleUnmounted (\n    destroy: boolean,\n    clearData: boolean,\n    keepRouteState: boolean,\n    unmountcb?: CallableFunction,\n    umdHookUnmountResult?: unknown,\n  ): void {\n    // dispatch state event to micro app\n    dispatchCustomEventToMicroApp(this, 'statechange', {\n      appState: appStates.UNMOUNT\n    })\n\n    // dispatch unmount event to micro app\n    dispatchCustomEventToMicroApp(this, 'unmount')\n\n    // call window.onunmount of child app\n    execMicroAppGlobalHook(\n      this.getMicroAppGlobalHook(microGlobalEvent.ONUNMOUNT),\n      this.name,\n      microGlobalEvent.ONUNMOUNT,\n    )\n\n    const nextAction = () => this.actionsAfterUnmounted({\n      destroy,\n      clearData,\n      keepRouteState,\n      unmountcb,\n    })\n\n    if (isPromise(umdHookUnmountResult)) {\n      // async window.unmount will cause appName bind error in nest app\n      removeDomScope()\n      umdHookUnmountResult\n        .then(nextAction)\n        .catch((e) => {\n          logError('An error occurred in window.unmount \\n', this.name, e)\n          nextAction()\n        })\n    } else {\n      nextAction()\n    }\n  }\n\n  /**\n   * actions for unmount app\n   * @param destroy completely destroy, delete cache resources\n   * @param clearData clear data of dateCenter\n   * @param keepRouteState keep route state when unmount, default is false\n   * @param unmountcb callback of unmount\n   */\n  private actionsAfterUnmounted ({\n    destroy,\n    clearData,\n    keepRouteState,\n    unmountcb,\n  }: UnmountParam): void {\n    if (this.umdMode && this.container && !destroy) {\n      this.cloneContainer(this.source.html, this.container as HTMLElement, false)\n    }\n\n    /**\n     * this.container maybe contains micro-app element, stop sandbox should exec after cloneContainer\n     * NOTE:\n     * 1. if destroy is true, clear route state\n     * 2. umd mode and keep-alive will not clear EventSource\n     */\n    this.sandBox?.stop({\n      umdMode: this.umdMode,\n      keepRouteState: keepRouteState && !destroy,\n      destroy,\n      clearData: clearData || destroy,\n    })\n\n    // dispatch unmount event to base app\n    dispatchLifecyclesEvent(\n      this.container,\n      this.name,\n      lifeCycles.UNMOUNT,\n    )\n\n    this.clearOptions(destroy)\n\n    unmountcb?.()\n  }\n\n  private clearOptions (destroy: boolean): void {\n    this.isPrerender = false\n    this.preRenderEvents = null\n    this.setKeepAliveState(null)\n    if (this.container) {\n      this.container.innerHTML = ''\n      this.container = null\n    } else if (!this.umdMode) {\n      /**\n       * this.container is null means sandBox.start has not exec, so sandBox.stop won't exec either\n       * we should remove iframeElement in default mode manually\n       */\n      this.sandBox?.deleteIframeElement?.()\n    }\n    // in iframe sandbox & default mode, delete the sandbox & iframeElement\n    /**\n     * TODO:\n     *  1. with沙箱与iframe沙箱保持一致：with沙箱默认模式下删除 或者 iframe沙箱umd模式下保留\n     *  2. 接1.0，this.sandBox置空，还需要注意后续app.sandBox相关操作，比如 scripts.ts --> app.iframe ? app.sandBox!.microBody : app.querySelector('micro-app-body')，如果是fiber或者预加载，会存在卸载后js还在处理的情况\n     */\n    if (this.iframe && !this.umdMode) this.sandBox = null\n    if (destroy) this.actionsForCompletelyDestroy()\n    removeDomScope()\n  }\n\n  // actions for completely destroy\n  public actionsForCompletelyDestroy (): void {\n    this.sandBox?.deleteIframeElement?.()\n    sourceCenter.script.deleteInlineInfo(this.source.scripts)\n    appInstanceMap.delete(this.name)\n  }\n\n  // hidden app when disconnectedCallback called with keep-alive\n  public hiddenKeepAliveApp (callback?: CallableFunction): void {\n    this.setKeepAliveState(keepAliveStates.KEEP_ALIVE_HIDDEN)\n    /**\n     * afterhidden事件需要提前发送，原因如下：\n     *  1. 此时发送this.container还指向micro-app元素，而不是临时div元素\n     *  2. 沙箱执行recordAndReleaseEffect后会将appstate-change方法也清空，之后再发送子应用也接受不到了\n     *  3. 对于this.loadSourceLevel !== 2的情况，unmount是同步执行的，所以也会出现2的问题\n     * TODO: 有可能导致的问题\n     *  1. 在基座接受到afterhidden方法后立即执行unmount，彻底destroy应用时，因为unmount时同步执行，所以this.container为null后才执行cloneContainer\n     */\n    dispatchCustomEventToMicroApp(this, 'appstate-change', {\n      appState: 'afterhidden',\n    })\n\n    // dispatch afterHidden event to base app\n    dispatchLifecyclesEvent(\n      this.container,\n      this.name,\n      lifeCycles.AFTERHIDDEN,\n    )\n\n    if (isRouterModeSearch(this.name)) {\n      // called after lifeCyclesEvent\n      this.sandBox?.removeRouteInfoForKeepAliveApp()\n    }\n\n    /**\n     * Hidden app before the resources are loaded, then unmount the app\n     */\n    if (this.loadSourceLevel !== 2) {\n      getRootContainer(this.container!).unmount()\n    } else {\n      this.container = this.cloneContainer(\n        pureCreateElement('div'),\n        this.container,\n        false,\n      )\n\n      this.sandBox?.recordAndReleaseEffect({ keepAlive: true })\n    }\n\n    callback?.()\n  }\n\n  // show app when connectedCallback called with keep-alive\n  public showKeepAliveApp (container: HTMLElement | ShadowRoot): void {\n    /**\n     * NOTE:\n     *  1. this.container must set to container(micro-app element) before exec rebuildEffectSnapshot\n     *    ISSUE: https://github.com/jd-opensource/micro-app/issues/1115\n     *  2. rebuildEffectSnapshot must exec before dispatch beforeshow event\n     */\n    const oldContainer = this.container\n    this.container = container\n    this.sandBox?.rebuildEffectSnapshot()\n\n    // dispatch beforeShow event to micro-app\n    dispatchCustomEventToMicroApp(this, 'appstate-change', {\n      appState: 'beforeshow',\n    })\n\n    // dispatch beforeShow event to base app\n    dispatchLifecyclesEvent(\n      container,\n      this.name,\n      lifeCycles.BEFORESHOW,\n    )\n\n    this.setKeepAliveState(keepAliveStates.KEEP_ALIVE_SHOW)\n\n    this.cloneContainer(\n      this.container,\n      oldContainer,\n      false,\n    )\n\n    /**\n     * TODO:\n     *  问题：当路由模式为custom时，keep-alive应用在重新展示，是否需要根据子应用location信息更新浏览器地址？\n     *  暂时不这么做，因为无法确定二次展示时新旧地址是否相同，是否带有特殊信息\n     */\n    if (isRouterModeSearch(this.name)) {\n      // called before lifeCyclesEvent\n      this.sandBox?.setRouteInfoForKeepAliveApp()\n    }\n\n    // dispatch afterShow event to micro-app\n    dispatchCustomEventToMicroApp(this, 'appstate-change', {\n      appState: 'aftershow',\n    })\n\n    // dispatch afterShow event to base app\n    dispatchLifecyclesEvent(\n      this.container,\n      this.name,\n      lifeCycles.AFTERSHOW,\n    )\n  }\n\n  /**\n   * app rendering error\n   * @param e Error\n   */\n  public onerror (e: Error): void {\n    // dispatch state event to micro app\n    dispatchCustomEventToMicroApp(this, 'statechange', {\n      appState: appStates.LOAD_FAILED\n    })\n\n    dispatchLifecyclesEvent(\n      this.container,\n      this.name,\n      lifeCycles.ERROR,\n      e,\n    )\n  }\n\n  /**\n   * Parse htmlString to DOM\n   * NOTE: iframe sandbox will use DOMParser of iframeWindow, with sandbox will use DOMParser of base app\n   * @param htmlString DOMString\n   * @returns parsed DOM\n   */\n  public parseHtmlString (htmlString: string): HTMLElement {\n    const DOMParser = this.sandBox?.proxyWindow\n      ? this.sandBox.proxyWindow.DOMParser\n      : globalEnv.rawWindow.DOMParser\n    return (new DOMParser()).parseFromString(htmlString, 'text/html').body\n  }\n\n  /**\n   * clone origin elements to target\n   * @param target Accept cloned elements\n   * @param origin Cloned element\n   * @param deep deep clone or transfer dom\n   */\n  private cloneContainer <T extends HTMLElement | ShadowRoot | null> (\n    target: T,\n    origin: T,\n    deep: boolean,\n  ): T {\n    // 在基座接受到afterhidden方法后立即执行unmount，彻底destroy应用时，因为unmount时同步执行，所以this.container为null后才执行cloneContainer\n    if (origin && target) {\n      target.innerHTML = ''\n      Array.from(deep ? this.parseHtmlString(origin.innerHTML).childNodes : origin.childNodes).forEach((node) => {\n        target.appendChild(node)\n      })\n    }\n    return target\n  }\n\n  /**\n   * Scene:\n   *  1. create app\n   *  2. remount of default mode with iframe sandbox\n   *    In default mode with iframe sandbox, unmount app will delete iframeElement & sandBox, and create sandBox when mount again, used to solve the problem that module script cannot be execute when append it again\n   */\n  private createSandbox (): void {\n    if (this.useSandbox && !this.sandBox) {\n      this.sandBox = this.iframe ? new IframeSandbox(this.name, this.url) : new WithSandBox(this.name, this.url)\n    }\n  }\n\n  // set app state\n  public setAppState (state: string): void {\n    this.state = state\n\n    // set window.__MICRO_APP_STATE__\n    this.sandBox?.setStaticAppState(state)\n  }\n\n  // get app state\n  public getAppState (): string {\n    return this.state\n  }\n\n  // set keep-alive state\n  private setKeepAliveState (state: string | null): void {\n    this.keepAliveState = state\n  }\n\n  // get keep-alive state\n  public getKeepAliveState (): string | null {\n    return this.keepAliveState\n  }\n\n  // is app unmounted\n  public isUnmounted (): boolean {\n    return appStates.UNMOUNT === this.state\n  }\n\n  // is app already hidden\n  public isHidden (): boolean {\n    return keepAliveStates.KEEP_ALIVE_HIDDEN === this.keepAliveState\n  }\n\n  private getMicroAppGlobalHook (eventName: string): Func | null {\n    const listener = (this.sandBox?.proxyWindow as Record<string, any>)?.[eventName]\n    return isFunction(listener) ? listener : null\n  }\n\n  public querySelector (selectors: string): Node | null {\n    return this.container ? globalEnv.rawElementQuerySelector.call(this.container, selectors) : null\n  }\n\n  public querySelectorAll (selectors: string): NodeListOf<Node> {\n    return this.container ? globalEnv.rawElementQuerySelectorAll.call(this.container, selectors) : []\n  }\n\n  /**\n   * NOTE:\n   * 1. If the iframe sandbox no longer enforces the use of inline mode in the future, the way getElementsByTagName retrieves the script from the iframe by default needs to be changed, because in non inline mode, the script in the iframe may be empty\n   * @param inline inline mode config\n   */\n  private getInlineModeState (inline?: boolean): boolean {\n    return (this.iframe || inline) ?? false\n  }\n}\n\n// iframe route mode\nexport function isIframeSandbox (appName: string): boolean {\n  return appInstanceMap.get(appName)?.iframe ?? false\n}\n","import type {\n  Func,\n  AppInterface,\n} from '@micro-app/types'\nimport {\n  appInstanceMap,\n  isIframeSandbox,\n} from '../create_app'\nimport {\n  CompletionPath,\n  getCurrentAppName,\n  pureCreateElement,\n  removeDomScope,\n  isInvalidQuerySelectorKey,\n  isUniqueElement,\n  isProxyDocument,\n  isFunction,\n  isElement,\n  isNode,\n  rawDefineProperty,\n  rawDefineProperties,\n  isLinkElement,\n  isStyleElement,\n  isScriptElement,\n  isIFrameElement,\n  isMicroAppBody,\n  isMicroAppHead,\n  isNull,\n  getIframeCurrentAppName,\n  isDocumentFragment,\n  isDocumentShadowRoot,\n  isImageElement,\n  isVideoElement,\n  isAudioElement,\n} from '../libs/utils'\nimport scopedCSS from '../sandbox/scoped_css'\nimport {\n  extractLinkFromHtml,\n  formatDynamicLink,\n} from './links'\nimport {\n  extractScriptElement,\n  runDynamicInlineScript,\n  runDynamicRemoteScript,\n  checkExcludeUrl,\n  checkIgnoreUrl,\n} from './scripts'\nimport {\n  fixReactHMRConflict,\n  updateElementInfo,\n} from '../sandbox/adapter'\nimport microApp from '../micro_app'\nimport globalEnv from '../libs/global_env'\n\n// Record element and map element\nconst dynamicElementInMicroAppMap = new WeakMap<Node, Element | Comment>()\n\n// Get the map element\nfunction getMappingNode(node: Node): Node {\n  return dynamicElementInMicroAppMap.get(node) ?? node\n}\n\n/**\n * Process the new node and format the style, link and script element\n * @param child new node\n * @param app app\n */\nfunction handleNewNode(child: Node, app: AppInterface): Node {\n  if (dynamicElementInMicroAppMap.has(child)) {\n    return dynamicElementInMicroAppMap.get(child)!\n  } else if (isStyleElement(child)) {\n    if (child.hasAttribute('exclude')) {\n      const replaceComment = document.createComment('style element with exclude attribute ignored by micro-app')\n      dynamicElementInMicroAppMap.set(child, replaceComment)\n      return replaceComment\n    } else if (app.scopecss && !child.hasAttribute('ignore')) {\n      return scopedCSS(child, app)\n    }\n    return child\n  } else if (isLinkElement(child)) {\n    if (child.hasAttribute('exclude') || checkExcludeUrl(child.getAttribute('href'), app.name)) {\n      const linkReplaceComment = document.createComment('link element with exclude attribute ignored by micro-app')\n      dynamicElementInMicroAppMap.set(child, linkReplaceComment)\n      return linkReplaceComment\n    } else if (\n      child.hasAttribute('ignore') ||\n      checkIgnoreUrl(child.getAttribute('href'), app.name) ||\n      (\n        child.href &&\n        isFunction(microApp.options.excludeAssetFilter) &&\n        microApp.options.excludeAssetFilter(child.href)\n      )\n    ) {\n      return child\n    }\n\n    const { address, linkInfo, replaceComment } = extractLinkFromHtml(\n      child,\n      null,\n      app,\n      true,\n    )\n\n    if (address && linkInfo) {\n      const replaceStyle = formatDynamicLink(address, app, linkInfo, child)\n      dynamicElementInMicroAppMap.set(child, replaceStyle)\n      return replaceStyle\n    } else if (replaceComment) {\n      dynamicElementInMicroAppMap.set(child, replaceComment)\n      return replaceComment\n    }\n\n    return child\n  } else if (isScriptElement(child)) {\n    if (\n      child.src &&\n      isFunction(microApp.options.excludeAssetFilter) &&\n      microApp.options.excludeAssetFilter(child.src)\n    ) {\n      return child\n    }\n\n    const { replaceComment, address, scriptInfo } = extractScriptElement(\n      child,\n      null,\n      app,\n      true,\n    ) || {}\n\n    if (address && scriptInfo) {\n      // remote script or inline script\n      const replaceElement: HTMLScriptElement | Comment = scriptInfo.isExternal ? runDynamicRemoteScript(address, app, scriptInfo, child) : runDynamicInlineScript(address, app, scriptInfo)\n      dynamicElementInMicroAppMap.set(child, replaceElement)\n      return replaceElement\n    } else if (replaceComment) {\n      dynamicElementInMicroAppMap.set(child, replaceComment)\n      return replaceComment\n    }\n\n    return child\n  }\n\n  return child\n}\n\n/**\n * Handle the elements inserted into head and body, and execute normally in other cases\n * @param app app\n * @param method raw method\n * @param parent parent node\n * @param targetNode target node\n * @param passiveNode second param of insertBefore and replaceChild\n */\nfunction invokePrototypeMethod(\n  app: AppInterface,\n  rawMethod: Func,\n  parent: Node,\n  targetNode: Node,\n  passiveNode?: Node | null,\n): any {\n  const hijackParent = getHijackParent(parent, targetNode, app)\n  if (hijackParent) {\n    /**\n     * If parentNode is <micro-app-body>, return rawDocument.body\n     * Scenes:\n     *  1. element-ui@2/lib/utils/vue-popper.js\n     *    if (this.popperElm.parentNode === document.body) ...\n     * WARNING:\n     *  1. When operate child from parentNode async, may have been unmount\n     *    e.g. target.parentNode.remove(target)\n     * ISSUE:\n     *  1. https://github.com/jd-opensource/micro-app/issues/739\n     *    Solution: Return the true value when node not in document\n     */\n    if (\n      !isIframeSandbox(app.name) &&\n      isMicroAppBody(hijackParent) &&\n      rawMethod !== globalEnv.rawRemoveChild\n    ) {\n      const descriptor = Object.getOwnPropertyDescriptor(targetNode, 'parentNode')\n      if ((!descriptor || descriptor.configurable) && !targetNode.__MICRO_APP_HAS_DPN__) {\n        rawDefineProperties(targetNode, {\n          parentNode: {\n            configurable: true,\n            get() {\n              const result: ParentNode = globalEnv.rawParentNodeDesc.get.call(this)\n              if (isMicroAppBody(result) && app.container) {\n                // TODO: remove getRootElementParentNode\n                return microApp.options.getRootElementParentNode?.(this, app.name) || document.body\n              }\n              return result\n            },\n          },\n          __MICRO_APP_HAS_DPN__: {\n            configurable: true,\n            get: () => true,\n          }\n        })\n      }\n    }\n\n    if (\n      __DEV__ &&\n      isIFrameElement(targetNode) &&\n      rawMethod === globalEnv.rawAppendChild\n    ) {\n      fixReactHMRConflict(app)\n    }\n\n    /**\n     * 1. If passiveNode exists, it must be insertBefore or replaceChild\n     * 2. When removeChild, targetNode may not be in microAppHead or head\n     * NOTE:\n     *  1. If passiveNode not in hijackParent, insertBefore replaceChild will be degraded to appendChild\n     *    E.g: document.head.replaceChild(targetNode, document.scripts[0])\n     *  2. If passiveNode not in hijackParent but in parent and method is insertBefore, try insert it into the position corresponding to hijackParent\n     *    E.g: document.head.insertBefore(targetNode, document.head.childNodes[0])\n     *    ISSUE: https://github.com/jd-opensource/micro-app/issues/1071\n     */\n    if (passiveNode && !hijackParent.contains(passiveNode)) {\n      if (rawMethod === globalEnv.rawInsertBefore && parent.contains(passiveNode)) {\n        const indexOfParent = Array.from(parent.childNodes).indexOf(passiveNode as ChildNode)\n        if (hijackParent.childNodes[indexOfParent]) {\n          return invokeRawMethod(rawMethod, hijackParent, targetNode, hijackParent.childNodes[indexOfParent], app)\n        }\n      }\n      return globalEnv.rawAppendChild.call(hijackParent, targetNode)\n    } else if (rawMethod === globalEnv.rawRemoveChild && !hijackParent.contains(targetNode)) {\n      if (parent.contains(targetNode)) {\n        return rawMethod.call(targetNode.parentElement, targetNode)\n      }\n      return targetNode\n    }\n\n    return invokeRawMethod(rawMethod, hijackParent, targetNode, passiveNode, app)\n  }\n\n  return invokeRawMethod(rawMethod, parent, targetNode, passiveNode, app)\n}\n\n// head/body map to micro-app-head/micro-app-body\nfunction getHijackParent(\n  parent: Node,\n  targetNode: Node,\n  app: AppInterface,\n): HTMLElement | null | undefined {\n  if (app) {\n    if (parent === document.head) {\n      if (app.iframe && isScriptElement(targetNode)) {\n        return app.sandBox.microHead\n      }\n      return app.querySelector<HTMLElement>('micro-app-head')\n    }\n    if (parent === document.body || parent === document.body.parentNode) {\n      if (app.iframe && isScriptElement(targetNode)) {\n        return app.sandBox.microBody\n      }\n      return app.querySelector<HTMLElement>('micro-app-body')\n    }\n    if (app.iframe && isScriptElement(targetNode)) {\n      return app.sandBox.microBody\n    }\n  }\n  return null\n}\n\nfunction invokeRawMethod(\n  rawMethod: Func,\n  parent: Node,\n  targetNode: Node,\n  passiveNode?: Node | null,\n  app?: AppInterface,\n) {\n  if (isPendMethod(rawMethod)) {\n    /**\n     * In iframe sandbox, script will pend to iframe.body, so we should reset rawMethod, because:\n     * Element.prototype.append === DocumentFragment.prototype.append ==> false\n     * Element.prototype.prepend === DocumentFragment.prototype.prepend ==> false\n     */\n    if (app?.iframe && isScriptElement(targetNode)) {\n      if (rawMethod === globalEnv.rawFragmentAppend) {\n        rawMethod = globalEnv.rawAppend\n      } else if (rawMethod === globalEnv.rawFragmentPrepend) {\n        rawMethod = globalEnv.rawPrepend\n      }\n    }\n    return rawMethod.call(parent, targetNode)\n  }\n\n  return rawMethod.call(parent, targetNode, passiveNode)\n}\n\nfunction isPendMethod(method: CallableFunction) {\n  return (\n    method === globalEnv.rawAppend ||\n    method === globalEnv.rawPrepend ||\n    method === globalEnv.rawFragmentAppend ||\n    method === globalEnv.rawFragmentPrepend\n  )\n}\n\n/**\n * Attempt to complete the static resource address again before insert the node\n * @param app app instance\n * @param newChild target node\n */\nfunction completePathDynamic(app: AppInterface, newChild: Node): void {\n  if (isElement(newChild)) {\n    if (/^(img|script)$/i.test(newChild.tagName)) {\n      if (newChild.hasAttribute('src')) {\n        globalEnv.rawSetAttribute.call(newChild, 'src', CompletionPath(newChild.getAttribute('src')!, app.url))\n      }\n      if (newChild.hasAttribute('srcset')) {\n        globalEnv.rawSetAttribute.call(newChild, 'srcset', CompletionPath(newChild.getAttribute('srcset')!, app.url))\n      }\n    } else if ((/^(link|image)$/i.test(newChild.tagName) && newChild.hasAttribute('href')) ||\n          // If it is the anchor tag,eg. <a href=\"#xxx\"/>, the path will not be completed\n          (/^(a)$/i.test(newChild.tagName) && newChild.hasAttribute('href') && !/^#/.test(newChild.getAttribute('href') || ''))\n    ) {\n      globalEnv.rawSetAttribute.call(newChild, 'href', CompletionPath(newChild.getAttribute('href')!, app.url))\n    }\n  }\n}\n\n/**\n * method of handle new node\n * @param parent parent node\n * @param newChild new node\n * @param passiveNode passive node\n * @param rawMethod method\n */\nfunction commonElementHandler(\n  parent: Node,\n  newChild: Node,\n  passiveNode: Node | null,\n  rawMethod: Func,\n) {\n  const currentAppName = getCurrentAppName()\n  if (\n    isNode(newChild) &&\n    !newChild.__PURE_ELEMENT__ &&\n    (\n      newChild.__MICRO_APP_NAME__ ||\n      currentAppName\n    )\n  ) {\n    updateElementInfo(newChild, newChild.__MICRO_APP_NAME__ || currentAppName)\n    const app = appInstanceMap.get(newChild.__MICRO_APP_NAME__!)\n    if (app?.container) {\n      if (isStyleElement(newChild)) {\n        parent.getRootNode() instanceof ShadowRoot && newChild.setAttribute('ignore', 'true')\n      }\n      completePathDynamic(app, newChild)\n      return invokePrototypeMethod(\n        app,\n        rawMethod,\n        parent,\n        handleNewNode(newChild, app),\n        passiveNode && getMappingNode(passiveNode),\n      )\n    }\n  }\n\n  return invokeRawMethod(rawMethod, parent, newChild, passiveNode)\n}\n\n/**\n * Rewrite element prototype method\n */\nexport function patchElementAndDocument(): void {\n  patchDocument()\n\n  const rawRootElement = globalEnv.rawRootElement\n  const rawRootNode = globalEnv.rawRootNode\n  const rawDocumentFragment = globalEnv.rawDocumentFragment\n\n  // prototype methods of add element👇\n  rawRootNode.prototype.appendChild = function appendChild<T extends Node>(newChild: T): T {\n    return commonElementHandler(this, newChild, null, globalEnv.rawAppendChild)\n  }\n\n  rawRootNode.prototype.insertBefore = function insertBefore<T extends Node>(newChild: T, refChild: Node | null): T {\n    return commonElementHandler(this, newChild, refChild, globalEnv.rawInsertBefore)\n  }\n\n  rawRootNode.prototype.replaceChild = function replaceChild<T extends Node>(newChild: Node, oldChild: T): T {\n    return commonElementHandler(this, newChild, oldChild, globalEnv.rawReplaceChild)\n  }\n\n  // prototype methods of delete element👇\n  rawRootNode.prototype.removeChild = function removeChild<T extends Node>(oldChild: T): T {\n    if (oldChild?.__MICRO_APP_NAME__) {\n      const app = appInstanceMap.get(oldChild.__MICRO_APP_NAME__)\n      if (app?.container) {\n        return invokePrototypeMethod(\n          app,\n          globalEnv.rawRemoveChild,\n          this,\n          getMappingNode(oldChild),\n        )\n      }\n      try {\n        return globalEnv.rawRemoveChild.call(this, oldChild) as T\n      } catch {\n        return (oldChild?.parentNode && globalEnv.rawRemoveChild.call(oldChild.parentNode, oldChild)) as T\n      }\n    }\n\n    return globalEnv.rawRemoveChild.call(this, oldChild) as T\n  }\n\n  rawDocumentFragment.prototype.append = rawRootElement.prototype.append = function append(...nodes: (Node | string)[]): void {\n    let i = 0\n    while (i < nodes.length) {\n      let node = nodes[i]\n      node = isNode(node) ? node : globalEnv.rawCreateTextNode.call(globalEnv.rawDocument, node)\n      commonElementHandler(\n        this,\n        markElement(node as Node),\n        null,\n        isDocumentFragment(this) ? globalEnv.rawFragmentAppend : globalEnv.rawAppend,\n      )\n      i++\n    }\n  }\n\n  rawDocumentFragment.prototype.prepend = rawRootElement.prototype.prepend = function prepend(...nodes: (Node | string)[]): void {\n    let i = nodes.length\n    let target = globalEnv.rawPrepend\n    if (isDocumentFragment(this) || isDocumentShadowRoot(this)) {\n      target = globalEnv.rawFragmentPrepend\n    }\n\n    while (i > 0) {\n      let node = nodes[i - 1]\n      node = isNode(node) ? node : globalEnv.rawCreateTextNode.call(globalEnv.rawDocument, node)\n      commonElementHandler(\n        this,\n        markElement(node as Node),\n        null,\n        target,\n      )\n      i--\n    }\n  }\n\n  /**\n   * The insertAdjacentElement method of the Element interface inserts a given element node at a given position relative to the element it is invoked upon.\n   * NOTE:\n   *  1. parameter 2 of insertAdjacentElement must type 'Element'\n   */\n  rawRootElement.prototype.insertAdjacentElement = function (where: InsertPosition, element: Element): Element | null {\n    if (element?.__MICRO_APP_NAME__ && isElement(element)) {\n      const app = appInstanceMap.get(element.__MICRO_APP_NAME__)\n      if (app?.container) {\n        const processedEle = handleNewNode(element, app) as Element\n        if (!isElement(processedEle)) return element\n        const realParent = getHijackParent(this, processedEle, app) ?? this\n        return globalEnv.rawInsertAdjacentElement.call(realParent, where, processedEle)\n      }\n    }\n    return globalEnv.rawInsertAdjacentElement.call(this, where, element)\n  }\n\n  /**\n   * document.body(head).querySelector(querySelectorAll) hijack to microAppBody(microAppHead).querySelector(querySelectorAll)\n   * NOTE:\n   *  1. May cause some problems!\n   *  2. Add config options?\n   */\n  function getElementQueryTarget(targetNode: Node): Node | null {\n    const currentAppName = getIframeCurrentAppName() || getCurrentAppName()\n    if ((targetNode === document.body || targetNode === document.head) && currentAppName) {\n      const app = appInstanceMap.get(currentAppName)\n      if (app?.container) {\n        if (targetNode === document.body) {\n          return app.querySelector<HTMLElement>('micro-app-body')\n        } else if (targetNode === document.head) {\n          return app.querySelector<HTMLElement>('micro-app-head')\n        }\n      }\n    }\n    return targetNode\n  }\n\n  /**\n   * In iframe sandbox, script will render to iframe instead of micro-app-body\n   * So when query elements, we need to search both micro-app and iframe\n   * @param isEmpty get empty result\n   * @param targetNode targetNode element\n   * @param result origin result\n   * @param selectors selectors\n   * @param methodName querySelector or querySelectorAll\n   */\n  function getElementQueryResult<T>(\n    isEmpty: boolean,\n    targetNode: Node,\n    result: T,\n    selectors: string,\n    methodName: string,\n  ): T {\n    if (isEmpty) {\n      const currentAppName = getIframeCurrentAppName() || getCurrentAppName()\n      if (currentAppName && isIframeSandbox(currentAppName)) {\n        const app = appInstanceMap.get(currentAppName)!\n        if (isMicroAppHead(targetNode)) {\n          return app.sandBox.microHead[methodName](selectors)\n        }\n        if (isMicroAppBody(targetNode)) {\n          return app.sandBox.microBody[methodName](selectors)\n        }\n      }\n    }\n    return result\n  }\n\n  rawRootElement.prototype.querySelector = function querySelector(selectors: string): Node | null {\n    const _this = getElementQueryTarget(this) ?? this\n    const result = globalEnv.rawElementQuerySelector.call(_this, selectors)\n    return getElementQueryResult<Node | null>(\n      isNull(result) && _this !== this,\n      _this,\n      result,\n      selectors,\n      'querySelector',\n    )\n  }\n\n  rawRootElement.prototype.querySelectorAll = function querySelectorAll(selectors: string): NodeListOf<Node> {\n    const _this = getElementQueryTarget(this) ?? this\n    const result = globalEnv.rawElementQuerySelectorAll.call(_this, selectors)\n    return getElementQueryResult<NodeListOf<Node>>(\n      !result.length && _this !== this,\n      _this,\n      result,\n      selectors,\n      'querySelectorAll',\n    )\n  }\n\n  // rewrite setAttribute, complete resource address\n  rawRootElement.prototype.setAttribute = function setAttribute(key: string, value: any): void {\n    if (\n      /^micro-app(-\\S+)?/i.test(this.tagName) &&\n      key === 'data' &&\n      this.setAttribute !== rawRootElement.prototype.setAttribute\n    ) {\n      this.setAttribute(key, value)\n    } else {\n      const appName = this.__MICRO_APP_NAME__ || getCurrentAppName()\n      if (\n        appName &&\n        appInstanceMap.has(appName) &&\n        (\n          ((key === 'src' || key === 'srcset') && /^(img|script|video|audio|source|embed)$/i.test(this.tagName)) ||\n          (key === 'href' && /^(link|image)$/i.test(this.tagName)) ||\n          // If it is the anchor tag,eg. <a href=\"#xxx\"/>, the path will not be completed\n          (key === 'href' && /^(a)$/i.test(this.tagName) && !/^#/.test(value))\n        )\n\n      ) {\n        const app = appInstanceMap.get(appName)\n        value = CompletionPath(value, app!.url)\n      }\n      globalEnv.rawSetAttribute.call(this, key, value)\n      if (isImageElement(this) || isVideoElement(this) || isAudioElement(this)) {\n        let includeCrossOrigin = false\n        if (microApp?.options?.includeCrossOrigin && isFunction(microApp.options.includeCrossOrigin)) {\n          includeCrossOrigin = microApp.options.includeCrossOrigin(value)\n        }\n        // @ts-ignore\n        includeCrossOrigin && (node.crossOrigin = 'anonymous')\n      }\n    }\n  }\n\n  /**\n   * TODO: 兼容直接通过img.src等操作设置的资源\n   * NOTE:\n   *  1. 卸载时恢复原始值\n   *  2. 循环嵌套的情况\n   *  3. 放在global_env中统一处理\n   *  4. 是否和completePathDynamic的作用重复？\n   */\n  // const protoAttrList: Array<[HTMLElement, string]> = [\n  //   [HTMLImageElement.prototype, 'src'],\n  //   [HTMLScriptElement.prototype, 'src'],\n  //   [HTMLLinkElement.prototype, 'href'],\n  // ]\n\n  // protoAttrList.forEach(([target, attr]) => {\n  //   const { enumerable, configurable, get, set } = Object.getOwnPropertyDescriptor(target, attr) || {\n  //     enumerable: true,\n  //     configurable: true,\n  //   }\n\n  //   rawDefineProperty(target, attr, {\n  //     enumerable,\n  //     configurable,\n  //     get: function () {\n  //       return get?.call(this)\n  //     },\n  //     set: function (value) {\n  //       const currentAppName = this.__MICRO_APP_NAME__ || getCurrentAppName()\n  //       if (currentAppName && appInstanceMap.has(currentAppName)) {\n  //         const app = appInstanceMap.get(currentAppName)\n  //         value = CompletionPath(value, app!.url)\n  //       }\n  //       set?.call(this, value)\n  //     },\n  //   })\n  // })\n\n  rawDefineProperty(rawRootNode.prototype, 'parentNode', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      /**\n       * hijack parentNode of html for with sandbox\n       * Scenes:\n       *  1. element-ui@2/lib/utils/popper.js\n       *    // root is child app window, so root.document is proxyDocument or microDocument\n       *    if (element.parentNode === root.document) ...\n      */\n      const currentAppName = getIframeCurrentAppName() || getCurrentAppName()\n      if (currentAppName && this === globalEnv.rawDocument.firstElementChild) {\n        const microDocument = appInstanceMap.get(currentAppName)?.sandBox?.proxyWindow?.document\n        if (microDocument) return microDocument\n      }\n      // NOTE: run after hijack html.parentNode\n      const result = globalEnv.rawParentNodeDesc.get.call(this)\n      /**\n       * If parentNode is <micro-app-body>, return rawDocument.body\n       * Scenes:\n       *  1. element-ui@2/lib/utils/vue-popper.js\n       *    if (this.popperElm.parentNode === document.body) ...\n       * WARNING:\n       *  Will it cause other problems ?\n       *  e.g. target.parentNode.remove(target)\n       * BUG:\n       *  1. vue2 umdMode, throw error when render again (<div id='app'></div> will be deleted when render again ) -- Abandon this way at 2023.2.28 before v1.0.0-beta.0, it will cause vue2 throw error when render again\n       */\n      // if (isMicroAppBody(result) && appInstanceMap.get(this.__MICRO_APP_NAME__)?.container) {\n      //   return document.body\n      // }\n      return result\n    },\n  })\n\n  rawDefineProperty(rawRootElement.prototype, 'innerHTML', {\n    configurable: true,\n    enumerable: true,\n    get() {\n      return globalEnv.rawInnerHTMLDesc.get.call(this)\n    },\n    set(code: string) {\n      globalEnv.rawInnerHTMLDesc.set.call(this, code)\n      const currentAppName = this.__MICRO_APP_NAME__ || getIframeCurrentAppName() || getCurrentAppName()\n      Array.from(this.children).forEach((child) => {\n        if (isElement(child) && currentAppName) {\n          updateElementInfo(child, currentAppName)\n        }\n      })\n    }\n  })\n\n  // patch cloneNode\n  rawRootNode.prototype.cloneNode = function cloneNode(deep?: boolean): Node {\n    const clonedNode = globalEnv.rawCloneNode.call(this, deep)\n    return updateElementInfo(clonedNode, this.__MICRO_APP_NAME__)\n  }\n}\n\n/**\n * Mark the newly created element in the micro application\n * @param element new element\n */\nfunction markElement<T extends Node>(element: T): T {\n  return updateElementInfo(element, getCurrentAppName())\n}\n\n// methods of document\nfunction patchDocument() {\n  const rawDocument = globalEnv.rawDocument\n  const rawRootDocument = globalEnv.rawRootDocument\n\n  function getBindTarget(target: Document): Document {\n    return isProxyDocument(target) ? rawDocument : target\n  }\n\n  // create element 👇\n  rawRootDocument.prototype.createElement = function createElement(\n    tagName: string,\n    options?: ElementCreationOptions,\n  ): HTMLElement {\n    const element = globalEnv.rawCreateElement.call(getBindTarget(this), tagName, options)\n    return markElement(element)\n  }\n\n  rawRootDocument.prototype.createElementNS = function createElementNS(\n    namespaceURI: string,\n    name: string,\n    options?: string | ElementCreationOptions,\n  ): any {\n    const element = globalEnv.rawCreateElementNS.call(getBindTarget(this), namespaceURI, name, options)\n    return markElement(element)\n  }\n\n  // TODO: 放开\n  // rawRootDocument.prototype.createTextNode = function createTextNode (data: string): Text {\n  //   const element = globalEnv.rawCreateTextNode.call(getBindTarget(this), data)\n  //   return markElement(element)\n  // }\n\n  rawRootDocument.prototype.createDocumentFragment = function createDocumentFragment(): DocumentFragment {\n    const element = globalEnv.rawCreateDocumentFragment.call(getBindTarget(this))\n    return markElement(element)\n  }\n\n  rawRootDocument.prototype.createComment = function createComment(data: string): Comment {\n    const element = globalEnv.rawCreateComment.call(getBindTarget(this), data)\n    return markElement(element)\n  }\n\n  // query element👇\n  function querySelector(this: Document, selectors: string): any {\n    const _this = getBindTarget(this)\n    const currentAppName = getCurrentAppName()\n    if (\n      !currentAppName ||\n      !selectors ||\n      isUniqueElement(selectors) ||\n      // ISSUE: https://github.com/jd-opensource/micro-app/issues/56\n      rawDocument !== _this\n    ) {\n      return globalEnv.rawQuerySelector.call(_this, selectors)\n    }\n\n    return appInstanceMap.get(currentAppName)?.querySelector(selectors) ?? null\n  }\n\n  function querySelectorAll(this: Document, selectors: string): any {\n    const _this = getBindTarget(this)\n    const currentAppName = getCurrentAppName()\n    if (\n      !currentAppName ||\n      !selectors ||\n      isUniqueElement(selectors) ||\n      rawDocument !== _this\n    ) {\n      return globalEnv.rawQuerySelectorAll.call(_this, selectors)\n    }\n\n    return appInstanceMap.get(currentAppName)?.querySelectorAll(selectors) ?? []\n  }\n\n  rawRootDocument.prototype.querySelector = querySelector\n  rawRootDocument.prototype.querySelectorAll = querySelectorAll\n\n  rawRootDocument.prototype.getElementById = function getElementById(this: Document, key: string): HTMLElement | null {\n    const _this = getBindTarget(this)\n    if (!getCurrentAppName() || isInvalidQuerySelectorKey(key)) {\n      return globalEnv.rawGetElementById.call(_this, key)\n    }\n\n    try {\n      return querySelector.call(_this, `#${key}`)\n    } catch {\n      return globalEnv.rawGetElementById.call(_this, key)\n    }\n  }\n\n  rawRootDocument.prototype.getElementsByClassName = function getElementsByClassName(this: Document, key: string): HTMLCollectionOf<Element> {\n    const _this = getBindTarget(this)\n    if (!getCurrentAppName() || isInvalidQuerySelectorKey(key)) {\n      return globalEnv.rawGetElementsByClassName.call(_this, key)\n    }\n\n    try {\n      return querySelectorAll.call(_this, `.${key}`)\n    } catch {\n      return globalEnv.rawGetElementsByClassName.call(_this, key)\n    }\n  }\n\n  rawRootDocument.prototype.getElementsByTagName = function getElementsByTagName(this: Document, key: string): HTMLCollectionOf<Element> {\n    const _this = getBindTarget(this)\n    const currentAppName = getCurrentAppName()\n    if (\n      !currentAppName ||\n      isUniqueElement(key) ||\n      isInvalidQuerySelectorKey(key) ||\n      (!appInstanceMap.get(currentAppName)?.inline && /^script$/i.test(key))\n    ) {\n      return globalEnv.rawGetElementsByTagName.call(_this, key)\n    }\n\n    try {\n      return querySelectorAll.call(_this, key)\n    } catch {\n      return globalEnv.rawGetElementsByTagName.call(_this, key)\n    }\n  }\n\n  rawRootDocument.prototype.getElementsByName = function getElementsByName(this: Document, key: string): NodeListOf<HTMLElement> {\n    const _this = getBindTarget(this)\n    if (!getCurrentAppName() || isInvalidQuerySelectorKey(key)) {\n      return globalEnv.rawGetElementsByName.call(_this, key)\n    }\n\n    try {\n      return querySelectorAll.call(_this, `[name=${key}]`)\n    } catch {\n      return globalEnv.rawGetElementsByName.call(_this, key)\n    }\n  }\n}\n\nfunction releasePatchDocument(): void {\n  const rawRootDocument = globalEnv.rawRootDocument\n  rawRootDocument.prototype.createElement = globalEnv.rawCreateElement\n  rawRootDocument.prototype.createElementNS = globalEnv.rawCreateElementNS\n  rawRootDocument.prototype.createDocumentFragment = globalEnv.rawCreateDocumentFragment\n  rawRootDocument.prototype.querySelector = globalEnv.rawQuerySelector\n  rawRootDocument.prototype.querySelectorAll = globalEnv.rawQuerySelectorAll\n  rawRootDocument.prototype.getElementById = globalEnv.rawGetElementById\n  rawRootDocument.prototype.getElementsByClassName = globalEnv.rawGetElementsByClassName\n  rawRootDocument.prototype.getElementsByTagName = globalEnv.rawGetElementsByTagName\n  rawRootDocument.prototype.getElementsByName = globalEnv.rawGetElementsByName\n}\n\n// release patch\nexport function releasePatchElementAndDocument(): void {\n  removeDomScope()\n  releasePatchDocument()\n\n  const rawRootElement = globalEnv.rawRootElement\n  const rawRootNode = globalEnv.rawRootNode\n  rawRootNode.prototype.appendChild = globalEnv.rawAppendChild\n  rawRootNode.prototype.insertBefore = globalEnv.rawInsertBefore\n  rawRootNode.prototype.replaceChild = globalEnv.rawReplaceChild\n  rawRootNode.prototype.removeChild = globalEnv.rawRemoveChild\n  rawRootNode.prototype.cloneNode = globalEnv.rawCloneNode\n  rawRootElement.prototype.append = globalEnv.rawAppend\n  rawRootElement.prototype.prepend = globalEnv.rawPrepend\n  rawRootElement.prototype.querySelector = globalEnv.rawElementQuerySelector\n  rawRootElement.prototype.querySelectorAll = globalEnv.rawElementQuerySelectorAll\n  rawRootElement.prototype.setAttribute = globalEnv.rawSetAttribute\n  rawDefineProperty(rawRootNode.prototype, 'parentNode', globalEnv.rawParentNodeDesc)\n  rawDefineProperty(rawRootElement.prototype, 'innerHTML', globalEnv.rawInnerHTMLDesc)\n}\n\n// Set the style of micro-app-head and micro-app-body\nlet hasRejectMicroAppStyle = false\nexport function rejectMicroAppStyle(): void {\n  if (!hasRejectMicroAppStyle) {\n    hasRejectMicroAppStyle = true\n    const style = pureCreateElement('style')\n    globalEnv.rawSetAttribute.call(style, 'type', 'text/css')\n    style.textContent = `\\n${microApp.tagName}, micro-app-body { display: block; } \\nmicro-app-head { display: none; }`\n    globalEnv.rawDocument.head.appendChild(style)\n  }\n}\n","import type {\n  RequestIdleCallbackInfo,\n  RequestIdleCallbackOptions,\n} from '@micro-app/types'\nimport {\n  isSupportModuleScript,\n  isBrowser,\n  getCurrentAppName,\n  assign,\n} from './utils'\nimport {\n  rejectMicroAppStyle,\n} from '../source/patch'\nimport {\n  updateElementInfo,\n} from '../sandbox/adapter'\n\ndeclare global {\n  interface Node {\n    __MICRO_APP_NAME__?: string | null\n    __PURE_ELEMENT__?: boolean\n    __MICRO_APP_HAS_DPN__?: boolean\n    data?: unknown\n    rawParentNode?: ParentNode | null\n  }\n\n  interface HTMLStyleElement {\n    __MICRO_APP_HAS_SCOPED__?: boolean\n  }\n\n  interface Window {\n    requestIdleCallback (\n      callback: (info: RequestIdleCallbackInfo) => void,\n      opts?: RequestIdleCallbackOptions,\n    ): number\n    _babelPolyfill: boolean\n    __MICRO_APP_ENVIRONMENT__?: boolean\n    __MICRO_APP_UMD_MODE__?: boolean\n    __MICRO_APP_BASE_APPLICATION__?: boolean\n    __REACT_ERROR_OVERLAY_GLOBAL_HOOK__: boolean\n    rawLocation: Location\n    rawWindow: any\n    rawDocument: any\n  }\n}\n\nconst globalEnv: Record<string, any> = {\n  // active sandbox count\n  activeSandbox: 0,\n}\n\n/**\n * Note loop nesting\n * Only prototype or unique values can be put here\n */\nexport function initGlobalEnv (): void {\n  if (isBrowser) {\n    const rawWindow = window.rawWindow || Function('return window')()\n    const rawDocument = window.rawDocument || Function('return document')()\n    const rawRootDocument = rawWindow.Document || Function('return Document')()\n    const rawRootElement = rawWindow.Element\n    const rawRootNode = rawWindow.Node\n    const rawRootEventTarget = rawWindow.EventTarget\n    const rawDocumentFragment = rawWindow.DocumentFragment\n\n    // save patch raw methods, pay attention to this binding\n    const rawAppendChild = rawRootNode.prototype.appendChild\n    const rawInsertBefore = rawRootNode.prototype.insertBefore\n    const rawReplaceChild = rawRootNode.prototype.replaceChild\n    const rawRemoveChild = rawRootNode.prototype.removeChild\n    const rawSetAttribute = rawRootElement.prototype.setAttribute\n    const rawAppend = rawRootElement.prototype.append\n    const rawPrepend = rawRootElement.prototype.prepend\n    const rawFragmentAppend = rawDocumentFragment.prototype.append\n    const rawFragmentPrepend = rawDocumentFragment.prototype.prepend\n    const rawCloneNode = rawRootNode.prototype.cloneNode\n    const rawElementQuerySelector = rawRootElement.prototype.querySelector\n    const rawElementQuerySelectorAll = rawRootElement.prototype.querySelectorAll\n    const rawInsertAdjacentElement = rawRootElement.prototype.insertAdjacentElement\n    const rawInnerHTMLDesc = Object.getOwnPropertyDescriptor(rawRootElement.prototype, 'innerHTML')\n    const rawParentNodeDesc = Object.getOwnPropertyDescriptor(rawRootNode.prototype, 'parentNode')\n\n    // Document proto methods\n    const rawCreateElement = rawRootDocument.prototype.createElement\n    const rawCreateElementNS = rawRootDocument.prototype.createElementNS\n    const rawCreateTextNode = rawRootDocument.prototype.createTextNode\n    const rawCreateDocumentFragment = rawRootDocument.prototype.createDocumentFragment\n    const rawCreateComment = rawRootDocument.prototype.createComment\n    const rawQuerySelector = rawRootDocument.prototype.querySelector\n    const rawQuerySelectorAll = rawRootDocument.prototype.querySelectorAll\n    const rawGetElementById = rawRootDocument.prototype.getElementById\n    const rawGetElementsByClassName = rawRootDocument.prototype.getElementsByClassName\n    const rawGetElementsByTagName = rawRootDocument.prototype.getElementsByTagName\n    const rawGetElementsByName = rawRootDocument.prototype.getElementsByName\n\n    // TODO: 将ImageProxy移出去\n    const ImageProxy = new Proxy(rawWindow.Image, {\n      construct (Target, args): HTMLImageElement {\n        return updateElementInfo(new Target(...args), getCurrentAppName())\n      },\n    })\n\n    /**\n     * save effect raw methods\n     * pay attention to this binding, especially setInterval, setTimeout, clearInterval, clearTimeout\n     */\n    const rawSetInterval = rawWindow.setInterval\n    const rawSetTimeout = rawWindow.setTimeout\n    const rawClearInterval = rawWindow.clearInterval\n    const rawClearTimeout = rawWindow.clearTimeout\n    const rawPushState = rawWindow.history.pushState\n    const rawReplaceState = rawWindow.history.replaceState\n    const rawAddEventListener = rawRootEventTarget.prototype.addEventListener\n    const rawRemoveEventListener = rawRootEventTarget.prototype.removeEventListener\n    const rawDispatchEvent = rawRootEventTarget.prototype.dispatchEvent\n\n    // mark current application as base application\n    window.__MICRO_APP_BASE_APPLICATION__ = true\n\n    assign(globalEnv, {\n      supportModuleScript: isSupportModuleScript(),\n\n      // common global vars\n      rawWindow,\n      rawDocument,\n      rawRootDocument,\n      rawRootElement,\n      rawRootNode,\n      rawDocumentFragment,\n\n      // source/patch\n      rawSetAttribute,\n      rawAppendChild,\n      rawInsertBefore,\n      rawReplaceChild,\n      rawRemoveChild,\n      rawAppend,\n      rawPrepend,\n      rawFragmentAppend,\n      rawFragmentPrepend,\n      rawCloneNode,\n      rawElementQuerySelector,\n      rawElementQuerySelectorAll,\n      rawInsertAdjacentElement,\n      rawInnerHTMLDesc,\n      rawParentNodeDesc,\n\n      rawCreateElement,\n      rawCreateElementNS,\n      rawCreateDocumentFragment,\n      rawCreateTextNode,\n      rawCreateComment,\n      rawQuerySelector,\n      rawQuerySelectorAll,\n      rawGetElementById,\n      rawGetElementsByClassName,\n      rawGetElementsByTagName,\n      rawGetElementsByName,\n      ImageProxy,\n\n      // sandbox/effect\n      rawSetInterval,\n      rawSetTimeout,\n      rawClearInterval,\n      rawClearTimeout,\n      rawPushState,\n      rawReplaceState,\n      rawAddEventListener,\n      rawRemoveEventListener,\n      rawDispatchEvent,\n\n      // iframe\n    })\n\n    // global effect\n    rejectMicroAppStyle()\n  }\n}\n\nexport default globalEnv\n","/* eslint-disable no-new */\nimport type {\n  AttrType,\n  MicroAppElementInterface,\n  AppInterface,\n  OptionsType,\n  NormalKey,\n} from '@micro-app/types'\nimport microApp from './micro_app'\nimport dispatchLifecyclesEvent from './interact/lifecycles_event'\nimport globalEnv from './libs/global_env'\nimport {\n  defer,\n  formatAppName,\n  formatAppURL,\n  version,\n  logError,\n  logWarn,\n  isString,\n  isFunction,\n  CompletionPath,\n  createURL,\n  isPlainObject,\n  getEffectivePath,\n} from './libs/utils'\nimport {\n  ObservedAttrName,\n  lifeCycles,\n  appStates,\n} from './constants'\nimport CreateApp, {\n  appInstanceMap,\n} from './create_app'\nimport {\n  router,\n  getNoHashMicroPathFromURL,\n  initRouterMode,\n} from './sandbox/router'\n\n/**\n * define element\n * @param tagName element name\n*/\nexport function defineElement (tagName: string): void {\n  class MicroAppElement extends HTMLElement implements MicroAppElementInterface {\n    static get observedAttributes (): string[] {\n      return ['name', 'url']\n    }\n\n    private isWaiting = false\n    private cacheData: Record<PropertyKey, unknown> | null = null\n    private connectedCount = 0\n    private connectStateMap: Map<number, boolean> = new Map()\n    public appName = '' // app name\n    public appUrl = '' // app url\n    public ssrUrl = '' // html path in ssr mode\n    public version = version\n\n    // 👇 Configuration\n    // name: app name\n    // url: html address\n    // shadowDom: use shadowDOM, default is false\n    // destroy: whether delete cache resources when unmount, default is false\n    // inline: whether js runs in inline script mode, default is false\n    // disableScopecss: whether disable css scoped, default is false\n    // disableSandbox: whether disable sandbox, default is false\n    // baseRoute: route prefix, default is ''\n    // keep-alive: open keep-alive mode\n\n    public connectedCallback (): void {\n      /**\n       * In FireFox, iframe Node.prototype will point to native Node.prototype after insert to document\n       * If <micro-app>.prototype is not MicroAppElement.prototype, we should reset it\n       */\n      if (Object.getPrototypeOf(this) !== MicroAppElement.prototype) {\n        Object.setPrototypeOf(this, MicroAppElement.prototype)\n      }\n      const cacheCount = ++this.connectedCount\n      this.connectStateMap.set(cacheCount, true)\n      /**\n       * In some special scenes, such as vue's keep-alive, the micro-app will be inserted and deleted twice in an instant\n       * So we execute the mount method async and record connectState to prevent repeated rendering\n       */\n      const effectiveApp = this.appName && this.appUrl\n      defer(() => {\n        if (this.connectStateMap.get(cacheCount)) {\n          dispatchLifecyclesEvent(\n            this,\n            this.appName,\n            lifeCycles.CREATED,\n          )\n          /**\n           * If insert micro-app element without name or url, and set them in next action like angular,\n           * handleConnected will be executed twice, causing the app render repeatedly,\n           * so we only execute handleConnected() if url and name exist when connectedCallback\n           */\n          effectiveApp && this.handleConnected()\n        }\n      })\n    }\n\n    public disconnectedCallback (): void {\n      this.connectStateMap.set(this.connectedCount, false)\n      this.handleDisconnected()\n    }\n\n    /**\n     * Re render app from the command line\n     * MicroAppElement.reload(destroy)\n     */\n    public reload (destroy?: boolean): Promise<boolean> {\n      return new Promise((resolve) => {\n        const handleAfterReload = () => {\n          this.removeEventListener(lifeCycles.MOUNTED, handleAfterReload)\n          this.removeEventListener(lifeCycles.AFTERSHOW, handleAfterReload)\n          resolve(true)\n        }\n        this.addEventListener(lifeCycles.MOUNTED, handleAfterReload)\n        this.addEventListener(lifeCycles.AFTERSHOW, handleAfterReload)\n        this.handleDisconnected(destroy, () => {\n          this.handleConnected()\n        })\n      })\n    }\n\n    /**\n     * common action for unmount\n     * @param destroy reload param\n     */\n    private handleDisconnected (destroy = false, callback?: CallableFunction): void {\n      const app = appInstanceMap.get(this.appName)\n      if (app && !app.isUnmounted() && !app.isHidden()) {\n        // keep-alive\n        if (this.getKeepAliveModeResult() && !destroy) {\n          this.handleHiddenKeepAliveApp(callback)\n        } else {\n          this.unmount(destroy, callback)\n        }\n      }\n    }\n\n    public attributeChangedCallback (attr: ObservedAttrName, _oldVal: string, newVal: string): void {\n      if (\n        this.legalAttribute(attr, newVal) &&\n        this[attr === ObservedAttrName.NAME ? 'appName' : 'appUrl'] !== newVal\n      ) {\n        if (\n          attr === ObservedAttrName.URL && (\n            !this.appUrl ||\n            !this.connectStateMap.get(this.connectedCount)\n          )\n        ) {\n          newVal = formatAppURL(newVal, this.appName)\n          if (!newVal) {\n            return logError(`Invalid attribute url ${newVal}`, this.appName)\n          }\n          this.appUrl = newVal\n          this.handleInitialNameAndUrl()\n        } else if (\n          attr === ObservedAttrName.NAME && (\n            !this.appName ||\n            !this.connectStateMap.get(this.connectedCount)\n          )\n        ) {\n          const formatNewName = formatAppName(newVal)\n\n          if (!formatNewName) {\n            return logError(`Invalid attribute name ${newVal}`, this.appName)\n          }\n\n          if (this.cacheData) {\n            microApp.setData(formatNewName, this.cacheData)\n            this.cacheData = null\n          }\n\n          this.appName = formatNewName\n          if (formatNewName !== newVal) {\n            this.setAttribute('name', this.appName)\n          }\n          this.handleInitialNameAndUrl()\n        } else if (!this.isWaiting) {\n          this.isWaiting = true\n          defer(this.handleAttributeUpdate)\n        }\n      }\n    }\n\n    // handle for connectedCallback run before attributeChangedCallback\n    private handleInitialNameAndUrl (): void {\n      this.connectStateMap.get(this.connectedCount) && this.handleConnected()\n    }\n\n    /**\n     * first mount of this app\n     */\n    private handleConnected (): void {\n      if (!this.appName || !this.appUrl) return\n\n      if (this.getDisposeResult('shadowDOM') && !this.shadowRoot && isFunction(this.attachShadow)) {\n        this.attachShadow({ mode: 'open' })\n      }\n\n      this.updateSsrUrl(this.appUrl)\n      if (appInstanceMap.has(this.appName)) {\n        const oldApp = appInstanceMap.get(this.appName)!\n        const oldAppUrl = oldApp.ssrUrl || oldApp.url\n        const targetUrl = this.ssrUrl || this.appUrl\n        /**\n         * NOTE:\n         * 1. keep-alive don't care about ssrUrl\n         * 2. Even if the keep-alive app is pushed into the background, it is still active and cannot be replaced. Otherwise, it is difficult for developers to troubleshoot in case of conflict and  will leave developers at a loss\n         * 3. When scopecss, useSandbox of prefetch app different from target app, delete prefetch app and create new one\n         */\n        if (\n          oldApp.isHidden() &&\n          oldApp.url === this.appUrl\n        ) {\n          this.handleShowKeepAliveApp(oldApp)\n        } else if (\n          oldAppUrl === targetUrl && (\n            oldApp.isUnmounted() ||\n            (\n              oldApp.isPrefetch &&\n              this.sameCoreOptions(oldApp)\n            )\n          )\n        ) {\n          this.handleMount(oldApp)\n        } else if (oldApp.isPrefetch || oldApp.isUnmounted()) {\n          if (__DEV__ && this.sameCoreOptions(oldApp)) {\n            /**\n             * url is different & old app is unmounted or prefetch, create new app to replace old one\n             */\n            logWarn(`the ${oldApp.isPrefetch ? 'prefetch' : 'unmounted'} app with url ${oldAppUrl} replaced by a new app with url ${targetUrl}`, this.appName)\n          }\n          this.handleCreateApp()\n        } else {\n          logError(`app name conflict, an app named ${this.appName} with url ${oldAppUrl} is running`)\n        }\n      } else {\n        this.handleCreateApp()\n      }\n    }\n\n    /**\n     * handle for change of name an url after element init\n     */\n    private handleAttributeUpdate = (): void => {\n      this.isWaiting = false\n      const formatAttrName = formatAppName(this.getAttribute('name'))\n      const formatAttrUrl = formatAppURL(this.getAttribute('url'), this.appName)\n      if (this.legalAttribute('name', formatAttrName) && this.legalAttribute('url', formatAttrUrl)) {\n        const oldApp = appInstanceMap.get(formatAttrName)\n        /**\n         * If oldApp exist & appName is different, determine whether oldApp is running\n         */\n        if (formatAttrName !== this.appName && oldApp) {\n          if (!oldApp.isUnmounted() && !oldApp.isHidden() && !oldApp.isPrefetch) {\n            this.setAttribute('name', this.appName)\n            return logError(`app name conflict, an app named ${formatAttrName} is running`)\n          }\n        }\n\n        if (formatAttrName !== this.appName || formatAttrUrl !== this.appUrl) {\n          if (formatAttrName === this.appName) {\n            this.unmount(true, () => {\n              this.actionsForAttributeChange(formatAttrName, formatAttrUrl, oldApp)\n            })\n          } else if (this.getKeepAliveModeResult()) {\n            this.handleHiddenKeepAliveApp()\n            this.actionsForAttributeChange(formatAttrName, formatAttrUrl, oldApp)\n          } else {\n            this.unmount(false, () => {\n              this.actionsForAttributeChange(formatAttrName, formatAttrUrl, oldApp)\n            })\n          }\n        }\n      } else if (formatAttrName !== this.appName) {\n        this.setAttribute('name', this.appName)\n      }\n    }\n\n    // remount app or create app if attribute url or name change\n    private actionsForAttributeChange (\n      formatAttrName: string,\n      formatAttrUrl: string,\n      oldApp: AppInterface | void,\n    ): void {\n      /**\n       * do not add judgment of formatAttrUrl === this.appUrl\n       */\n      this.updateSsrUrl(formatAttrUrl)\n\n      this.appName = formatAttrName\n      this.appUrl = formatAttrUrl\n      ;(this.shadowRoot ?? this).innerHTML = ''\n      if (formatAttrName !== this.getAttribute('name')) {\n        this.setAttribute('name', this.appName)\n      }\n\n      /**\n       * when oldApp not null: this.appName === oldApp.name\n       * scene1: if formatAttrName and this.appName are equal: exitApp is the current app, the url must be different, oldApp has been unmounted\n       * scene2: if formatAttrName and this.appName are different: oldApp must be prefetch or unmounted, if url is equal, then just mount, if url is different, then create new app to replace oldApp\n       * scene3: url is different but ssrUrl is equal\n       * scene4: url is equal but ssrUrl is different, if url is equal, name must different\n       * scene5: if oldApp is KEEP_ALIVE_HIDDEN, name must different\n       */\n      if (oldApp) {\n        if (oldApp.isHidden()) {\n          if (oldApp.url === this.appUrl) {\n            this.handleShowKeepAliveApp(oldApp)\n          } else {\n            // the hidden keep-alive app is still active\n            logError(`app name conflict, an app named ${this.appName} is running`)\n          }\n        /**\n         * TODO:\n         *  1. oldApp必是unmountApp或preFetchApp，这里还应该考虑沙箱、iframe、样式隔离不一致的情况\n         *  2. unmountApp要不要判断样式隔离、沙箱、iframe，然后彻底删除并再次渲染？(包括handleConnected里的处理，先不改？)\n         * 推荐：if (\n         *  oldApp.url === this.appUrl &&\n         *  oldApp.ssrUrl === this.ssrUrl && (\n         *    oldApp.isUnmounted() ||\n         *    (oldApp.isPrefetch && this.sameCoreOptions(oldApp))\n         *  )\n         * )\n         */\n        } else if (oldApp.url === this.appUrl && oldApp.ssrUrl === this.ssrUrl) {\n          // mount app\n          this.handleMount(oldApp)\n        } else {\n          this.handleCreateApp()\n        }\n      } else {\n        this.handleCreateApp()\n      }\n    }\n\n    /**\n     * judge the attribute is legal\n     * @param name attribute name\n     * @param val attribute value\n     */\n    private legalAttribute (name: string, val: AttrType): boolean {\n      if (!isString(val) || !val) {\n        logError(`unexpected attribute ${name}, please check again`, this.appName)\n        return false\n      }\n\n      return true\n    }\n\n    // create app instance\n    private handleCreateApp (): void {\n      const createAppInstance = () => new CreateApp({\n        name: this.appName,\n        url: this.appUrl,\n        container: this.shadowRoot ?? this,\n        scopecss: this.useScopecss(),\n        useSandbox: this.useSandbox(),\n        inline: this.getDisposeResult('inline'),\n        iframe: this.getDisposeResult('iframe'),\n        ssrUrl: this.ssrUrl,\n        routerMode: this.getMemoryRouterMode(),\n      })\n\n      /**\n       * Actions for destroy old app\n       * If oldApp exist, it must be 3 scenes:\n       *  1. oldApp is unmounted app (url is is different)\n       *  2. oldApp is prefetch, not prerender (url, scopecss, useSandbox, iframe is different)\n       *  3. oldApp is prerender (url, scopecss, useSandbox, iframe is different)\n       */\n      const oldApp = appInstanceMap.get(this.appName)\n      if (oldApp) {\n        if (oldApp.isPrerender) {\n          this.unmount(true, createAppInstance)\n        } else {\n          oldApp.actionsForCompletelyDestroy()\n          createAppInstance()\n        }\n      } else {\n        createAppInstance()\n      }\n    }\n\n    /**\n     * mount app\n     * some serious note before mount:\n     * 1. is prefetch ?\n     * 2. is remount in another container ?\n     * 3. is remount with change properties of the container ?\n     */\n    private handleMount (app: AppInterface): void {\n      app.isPrefetch = false\n      /**\n       * Fix error when navigate before app.mount by microApp.router.push(...)\n       * Issue: https://github.com/jd-opensource/micro-app/issues/908\n       */\n      app.setAppState(appStates.BEFORE_MOUNT)\n      // exec mount async, simulate the first render scene\n      defer(() => this.mount(app))\n    }\n\n    /**\n     * public mount action for micro_app_element & create_app\n     */\n    public mount (app: AppInterface): void {\n      app.mount({\n        container: this.shadowRoot ?? this,\n        inline: this.getDisposeResult('inline'),\n        routerMode: this.getMemoryRouterMode(),\n        baseroute: this.getBaseRouteCompatible(),\n        defaultPage: this.getDefaultPage(),\n        disablePatchRequest: this.getDisposeResult('disable-patch-request'),\n        fiber: this.getDisposeResult('fiber'),\n      })\n    }\n\n    /**\n     * unmount app\n     * @param destroy delete cache resources when unmount\n     * @param unmountcb callback\n     */\n    public unmount (destroy?: boolean, unmountcb?: CallableFunction): void {\n      const app = appInstanceMap.get(this.appName)\n      if (app && !app.isUnmounted()) {\n        app.unmount({\n          destroy: destroy || this.getDestroyCompatibleResult(),\n          clearData: this.getDisposeResult('clear-data'),\n          keepRouteState: this.getDisposeResult('keep-router-state'),\n          unmountcb,\n        })\n      }\n    }\n\n    // hidden app when disconnectedCallback called with keep-alive\n    private handleHiddenKeepAliveApp (callback?: CallableFunction): void {\n      const app = appInstanceMap.get(this.appName)\n      if (app && !app.isUnmounted() && !app.isHidden()) {\n        app.hiddenKeepAliveApp(callback)\n      }\n    }\n\n    // show app when connectedCallback called with keep-alive\n    private handleShowKeepAliveApp (app: AppInterface): void {\n      // must be async\n      defer(() => app.showKeepAliveApp(this.shadowRoot ?? this))\n    }\n\n    /**\n     * Get configuration\n     * Global setting is lowest priority\n     * @param name Configuration item name\n     */\n    private getDisposeResult <T extends keyof OptionsType> (name: T): boolean {\n      return (this.compatibleProperties(name) || !!microApp.options[name]) && this.compatibleDisableProperties(name)\n    }\n\n    // compatible of disableScopecss & disableSandbox\n    private compatibleProperties (name: string): boolean {\n      if (name === 'disable-scopecss') {\n        return this.hasAttribute('disable-scopecss') || this.hasAttribute('disableScopecss')\n      } else if (name === 'disable-sandbox') {\n        return this.hasAttribute('disable-sandbox') || this.hasAttribute('disableSandbox')\n      }\n      return this.hasAttribute(name)\n    }\n\n    // compatible of disableScopecss & disableSandbox\n    private compatibleDisableProperties (name: string): boolean {\n      if (name === 'disable-scopecss') {\n        return this.getAttribute('disable-scopecss') !== 'false' && this.getAttribute('disableScopecss') !== 'false'\n      } else if (name === 'disable-sandbox') {\n        return this.getAttribute('disable-sandbox') !== 'false' && this.getAttribute('disableSandbox') !== 'false'\n      }\n      return this.getAttribute(name) !== 'false'\n    }\n\n    private useScopecss (): boolean {\n      return !(this.getDisposeResult('disable-scopecss') || this.getDisposeResult('shadowDOM'))\n    }\n\n    private useSandbox (): boolean {\n      return !this.getDisposeResult('disable-sandbox')\n    }\n\n    /**\n     * Determine whether the core options of the existApp is consistent with the new one\n     */\n    private sameCoreOptions (app: AppInterface): boolean {\n      return (\n        app.scopecss === this.useScopecss() &&\n        app.useSandbox === this.useSandbox() &&\n        app.iframe === this.getDisposeResult('iframe')\n      )\n    }\n\n    /**\n     * 2021-09-08\n     * get baseRoute\n     * getAttribute('baseurl') is compatible writing of versions below 0.3.1\n     */\n    private getBaseRouteCompatible (): string {\n      return this.getAttribute('baseroute') ?? this.getAttribute('baseurl') ?? ''\n    }\n\n    // compatible of destroy\n    private getDestroyCompatibleResult (): boolean {\n      return this.getDisposeResult('destroy') || this.getDisposeResult('destory')\n    }\n\n    /**\n     * destroy has priority over destroy keep-alive\n     */\n    private getKeepAliveModeResult (): boolean {\n      return this.getDisposeResult('keep-alive') && !this.getDestroyCompatibleResult()\n    }\n\n    /**\n     * change ssrUrl in ssr mode\n     */\n    private updateSsrUrl (baseUrl: string): void {\n      if (this.getDisposeResult('ssr')) {\n        // TODO: disable-memory-router不存在了，这里需要更新一下\n        if (this.getDisposeResult('disable-memory-router') || this.getDisposeResult('disableSandbox')) {\n          const rawLocation = globalEnv.rawWindow.location\n          this.ssrUrl = CompletionPath(rawLocation.pathname + rawLocation.search, baseUrl)\n        } else {\n          // get path from browser URL\n          // TODO: 新版本路由系统要重新兼容ssr\n          let targetPath = getNoHashMicroPathFromURL(this.appName, baseUrl)\n          const defaultPagePath = this.getDefaultPage()\n          if (!targetPath && defaultPagePath) {\n            const targetLocation = createURL(defaultPagePath, baseUrl)\n            targetPath = targetLocation.origin + targetLocation.pathname + targetLocation.search\n          }\n          this.ssrUrl = targetPath\n        }\n      } else if (this.ssrUrl) {\n        this.ssrUrl = ''\n      }\n    }\n\n    /**\n     * get config of default page\n     */\n    private getDefaultPage (): string {\n      return (\n        router.getDefaultPage(this.appName) ||\n        this.getAttribute('default-page') ||\n        this.getAttribute('defaultPage') ||\n        ''\n      )\n    }\n\n    /**\n     * get config of router-mode\n     * @returns router-mode\n     */\n    private getMemoryRouterMode () : string {\n      return initRouterMode(\n        this.getAttribute('router-mode'),\n        // is micro-app element set disable-memory-router, like <micro-app disable-memory-router></micro-app>\n        // or <micro-app disable-memory-router='false'></micro-app>\n        this.compatibleProperties('disable-memory-router') && this.compatibleDisableProperties('disable-memory-router'),\n      )\n    }\n\n    /**\n     * rewrite micro-app.setAttribute, process attr data\n     * @param key attr name\n     * @param value attr value\n     */\n    public setAttribute (key: string, value: any): void {\n      if (key === 'data') {\n        if (isPlainObject(value)) {\n          const cloneValue: Record<NormalKey, unknown> = {}\n          Object.getOwnPropertyNames(value).forEach((ownKey: NormalKey) => {\n            if (!(isString(ownKey) && ownKey.indexOf('__') === 0)) {\n              cloneValue[ownKey] = value[ownKey]\n            }\n          })\n          this.data = cloneValue\n        } else if (value !== '[object Object]') {\n          logWarn('property data must be an object', this.appName)\n        }\n      } else {\n        globalEnv.rawSetAttribute.call(this, key, value)\n      }\n    }\n\n    /**\n     * get delay time of router event\n     * @returns delay time\n     */\n    public getRouterEventDelay (): number {\n      let delay = parseInt(this.getAttribute('router-event-delay') as string)\n      if (isNaN(delay)) {\n        delay = parseInt((isFunction(microApp.options['router-event-delay']) ? microApp.options['router-event-delay'](this.appName) : microApp.options['router-event-delay']) as unknown as string)\n      }\n      return !isNaN(delay) ? delay : 0\n    }\n\n    /**\n     * Data from the base application\n     */\n    set data (value: Record<PropertyKey, unknown> | null) {\n      if (this.appName) {\n        microApp.setData(this.appName, value as Record<PropertyKey, unknown>)\n      } else {\n        this.cacheData = value\n      }\n    }\n\n    /**\n     * get data only used in jsx-custom-event once\n     */\n    get data (): Record<PropertyKey, unknown> | null {\n      if (this.appName) {\n        return microApp.getData(this.appName, true)\n      } else if (this.cacheData) {\n        return this.cacheData\n      }\n      return null\n    }\n\n    /**\n     * get publicPath from a valid address,it can used in micro-app-devtools\n     */\n    get publicPath (): string {\n      return getEffectivePath(this.appUrl)\n    }\n\n    /**\n     * get baseRoute from attribute,it can used in micro-app-devtools\n     */\n    get baseRoute (): string {\n      return this.getBaseRouteCompatible()\n    }\n  }\n\n  window.customElements.define(tagName, MicroAppElement)\n}\n","import type {\n  prefetchParamList,\n  prefetchParam,\n  globalAssetsType,\n  OnLoadParam,\n} from '@micro-app/types'\nimport type {\n  SourceCenter as SourceCenterType,\n} from './source/source_center'\nimport microApp from './micro_app'\nimport sourceCenter from './source/source_center'\nimport {\n  PREFETCH_LEVEL,\n} from './constants'\nimport CreateApp, {\n  appInstanceMap,\n} from './create_app'\nimport {\n  requestIdleCallback,\n  formatAppURL,\n  formatAppName,\n  promiseStream,\n  logError,\n  isBrowser,\n  isArray,\n  isPlainObject,\n  isString,\n  isFunction,\n  promiseRequestIdle,\n  isNumber,\n  assign,\n  isTargetExtension,\n} from './libs/utils'\nimport {\n  fetchSource,\n} from './source/fetch'\nimport {\n  initRouterMode,\n} from './sandbox/router'\n\n/**\n * preFetch([\n *  {\n *    name: string,\n *    url: string,\n *    iframe: boolean,\n *    inline: boolean,\n *    'disable-scopecss': boolean,\n *    'disable-sandbox': boolean,\n *    level: number,\n *    'default-page': string,\n *    'disable-patch-request': boolean,\n *  },\n *  ...\n * ])\n * Note:\n *  1: preFetch is async and is performed only when the browser is idle\n *  2: options of prefetch preferably match the config of the micro-app element, although this is not required\n * @param apps micro app options\n * @param delay delay time\n */\nexport default function preFetch (apps: prefetchParamList, delay?: number): void {\n  if (!isBrowser) {\n    return logError('preFetch is only supported in browser environment')\n  }\n\n  requestIdleCallback(() => {\n    const delayTime = isNumber(delay) ? delay : microApp.options.prefetchDelay\n\n    /**\n     * TODO: remove setTimeout\n     * 如果要保留setTimeout，则需要考虑清空定时器的情况\n     */\n    setTimeout(() => {\n      // releasePrefetchEffect()\n      preFetchInSerial(apps)\n    }, isNumber(delayTime) ? delayTime : 3000)\n  })\n\n  // const handleOnLoad = (): void => {\n  //   releasePrefetchEffect()\n  //   requestIdleCallback(() => {\n  //     preFetchInSerial(apps)\n  //   })\n  // }\n\n  // const releasePrefetchEffect = (): void => {\n  //   window.removeEventListener('load', handleOnLoad)\n  //   clearTimeout(preFetchTime)\n  // }\n\n  // window.addEventListener('load', handleOnLoad)\n}\n\nfunction preFetchInSerial (apps: prefetchParamList): void {\n  isFunction(apps) && (apps = apps())\n\n  if (isArray(apps)) {\n    apps.reduce((pre, next) => pre.then(() => preFetchAction(next)), Promise.resolve())\n  }\n}\n\n// sequential preload app\nfunction preFetchAction (options: prefetchParam): Promise<void> {\n  return promiseRequestIdle((resolve: PromiseConstructor['resolve']) => {\n    if (isPlainObject(options) && navigator.onLine) {\n      options.name = formatAppName(options.name)\n      options.url = formatAppURL(options.url, options.name)\n      if (options.name && options.url && !appInstanceMap.has(options.name)) {\n        const app = new CreateApp({\n          name: options.name,\n          url: options.url,\n          isPrefetch: true,\n          scopecss: !(options['disable-scopecss'] ?? options.disableScopecss ?? microApp.options['disable-scopecss']),\n          useSandbox: !(options['disable-sandbox'] ?? options.disableSandbox ?? microApp.options['disable-sandbox']),\n          inline: options.inline ?? microApp.options.inline,\n          iframe: options.iframe ?? microApp.options.iframe,\n          prefetchLevel: options.level && PREFETCH_LEVEL.includes(options.level) ? options.level : microApp.options.prefetchLevel && PREFETCH_LEVEL.includes(microApp.options.prefetchLevel) ? microApp.options.prefetchLevel : 2,\n        })\n\n        const oldOnload = app.onLoad\n        const oldOnLoadError = app.onLoadError\n        app.onLoad = (onLoadParam: OnLoadParam): void => {\n          if (app.isPrerender) {\n            assign(onLoadParam, {\n              defaultPage: options['default-page'],\n              /**\n               * TODO: 预渲染支持disable-memory-router，默认渲染首页即可，文档中也要保留\n               * 问题：\n               *  1、如何确保子应用进行跳转时不影响到浏览器地址？？pure？？\n               */\n              routerMode: initRouterMode(options['router-mode']),\n              baseroute: options.baseroute,\n              disablePatchRequest: options['disable-patch-request'],\n            })\n          }\n          resolve()\n          oldOnload.call(app, onLoadParam)\n        }\n\n        app.onLoadError = (...rests): void => {\n          resolve()\n          oldOnLoadError.call(app, ...rests)\n        }\n      } else {\n        resolve()\n      }\n    } else {\n      resolve()\n    }\n  })\n}\n\n/**\n * load global assets into cache\n * @param assets global assets of js, css\n */\nexport function getGlobalAssets (assets: globalAssetsType): void {\n  if (isPlainObject(assets)) {\n    requestIdleCallback(() => {\n      fetchGlobalResources(assets.js, 'js', sourceCenter.script)\n      fetchGlobalResources(assets.css, 'css', sourceCenter.link)\n    })\n  }\n}\n\n// TODO: requestIdleCallback for every file\nfunction fetchGlobalResources (resources: string[] | void, suffix: string, sourceHandler: SourceCenterType['link'] | SourceCenterType['script']) {\n  if (isArray(resources)) {\n    const effectiveResource = resources!.filter((path) => isString(path) && isTargetExtension(path, suffix) && !sourceHandler.hasInfo(path))\n\n    const fetchResourcePromise = effectiveResource.map((path) => fetchSource(path))\n\n    // fetch resource with stream\n    promiseStream<string>(fetchResourcePromise, (res: {data: string, index: number}) => {\n      const path = effectiveResource[res.index]\n      if (suffix === 'js') {\n        if (!sourceHandler.hasInfo(path)) {\n          sourceHandler.setInfo(path, {\n            code: res.data,\n            isExternal: false,\n            appSpace: {},\n          })\n        }\n      } else {\n        if (!sourceHandler.hasInfo(path)) {\n          (sourceHandler as SourceCenterType['link']).setInfo(path, {\n            code: res.data,\n            appSpace: {}\n          })\n        }\n      }\n    }, (err: {error: Error, index: number}) => {\n      logError(err)\n    })\n  }\n}\n","import type {\n  OptionsType,\n  MicroAppBaseType,\n  AppInterface,\n  Router,\n  AppName,\n  Func,\n  lifeCyclesType,\n  MicroAppConfig,\n  GetActiveAppsParam,\n} from '@micro-app/types'\nimport { defineElement } from './micro_app_element'\nimport preFetch, { getGlobalAssets } from './prefetch'\nimport {\n  logError,\n  logWarn,\n  isBrowser,\n  isPlainObject,\n  formatAppName,\n  getRootContainer,\n  isString,\n  pureCreateElement,\n  isElement,\n  isFunction,\n} from './libs/utils'\nimport { EventCenterForBaseApp } from './interact'\nimport { initGlobalEnv } from './libs/global_env'\nimport { appInstanceMap } from './create_app'\nimport { lifeCycles } from './constants'\nimport { router } from './sandbox/router'\n\n/**\n * if app not prefetch & not unmount, then app is active\n * @param excludeHiddenApp exclude hidden keep-alive app, default is false\n * @param excludePreRender exclude pre render app\n * @returns active apps\n */\nexport function getActiveApps ({\n  excludeHiddenApp = false,\n  excludePreRender = false,\n}: GetActiveAppsParam = {}): AppName[] {\n  const activeApps: AppName[] = []\n  appInstanceMap.forEach((app: AppInterface, appName: AppName) => {\n    if (\n      !app.isUnmounted() &&\n      (\n        !app.isPrefetch || (\n          app.isPrerender && !excludePreRender\n        )\n      ) &&\n      (\n        !excludeHiddenApp ||\n        !app.isHidden()\n      )\n    ) {\n      activeApps.push(appName)\n    }\n  })\n\n  return activeApps\n}\n\n// get all registered apps\nexport function getAllApps (): string[] {\n  return Array.from(appInstanceMap.keys())\n}\n\ntype unmountAppOptions = {\n  destroy?: boolean // destroy app, default is false\n  clearAliveState?: boolean // clear keep-alive app state, default is false\n  clearData?: boolean // clear data from base app & child app\n}\n\n/**\n * unmount app by appName\n * @param appName\n * @param options unmountAppOptions\n * @returns Promise<void>\n */\nexport function unmountApp (appName: string, options?: unmountAppOptions): Promise<boolean> {\n  const app = appInstanceMap.get(formatAppName(appName))\n  return new Promise((resolve) => {\n    if (app) {\n      if (app.isUnmounted() || app.isPrefetch) {\n        if (app.isPrerender) {\n          app.unmount({\n            destroy: !!options?.destroy,\n            clearData: !!options?.clearData,\n            keepRouteState: false,\n            unmountcb: resolve.bind(null, true)\n          })\n        } else {\n          if (options?.destroy) app.actionsForCompletelyDestroy()\n          resolve(true)\n        }\n      } else if (app.isHidden()) {\n        if (options?.destroy) {\n          app.unmount({\n            destroy: true,\n            clearData: true,\n            keepRouteState: true,\n            unmountcb: resolve.bind(null, true)\n          })\n        } else if (options?.clearAliveState) {\n          app.unmount({\n            destroy: false,\n            clearData: !!options.clearData,\n            keepRouteState: true,\n            unmountcb: resolve.bind(null, true)\n          })\n        } else {\n          resolve(true)\n        }\n      } else {\n        const container = getRootContainer(app.container!)\n        const unmountHandler = () => {\n          container.removeEventListener(lifeCycles.UNMOUNT, unmountHandler)\n          container.removeEventListener(lifeCycles.AFTERHIDDEN, afterhiddenHandler)\n          resolve(true)\n        }\n\n        const afterhiddenHandler = () => {\n          container.removeEventListener(lifeCycles.UNMOUNT, unmountHandler)\n          container.removeEventListener(lifeCycles.AFTERHIDDEN, afterhiddenHandler)\n          resolve(true)\n        }\n\n        container.addEventListener(lifeCycles.UNMOUNT, unmountHandler)\n        container.addEventListener(lifeCycles.AFTERHIDDEN, afterhiddenHandler)\n\n        if (options?.destroy) {\n          let destroyAttrValue, destoryAttrValue\n          container.hasAttribute('destroy') && (destroyAttrValue = container.getAttribute('destroy'))\n          container.hasAttribute('destory') && (destoryAttrValue = container.getAttribute('destory'))\n\n          container.setAttribute('destroy', 'true')\n          container.parentNode!.removeChild(container)\n\n          container.removeAttribute('destroy')\n\n          isString(destroyAttrValue) && container.setAttribute('destroy', destroyAttrValue)\n          isString(destoryAttrValue) && container.setAttribute('destory', destoryAttrValue)\n        } else if (options?.clearAliveState && container.hasAttribute('keep-alive')) {\n          const keepAliveAttrValue = container.getAttribute('keep-alive')!\n          container.removeAttribute('keep-alive')\n\n          let clearDataAttrValue = null\n          if (options.clearData) {\n            clearDataAttrValue = container.getAttribute('clear-data')\n            container.setAttribute('clear-data', 'true')\n          }\n\n          container.parentNode!.removeChild(container)\n\n          container.setAttribute('keep-alive', keepAliveAttrValue)\n          isString(clearDataAttrValue) && container.setAttribute('clear-data', clearDataAttrValue)\n        } else {\n          let clearDataAttrValue = null\n          if (options?.clearData) {\n            clearDataAttrValue = container.getAttribute('clear-data')\n            container.setAttribute('clear-data', 'true')\n          }\n\n          container.parentNode!.removeChild(container)\n\n          isString(clearDataAttrValue) && container.setAttribute('clear-data', clearDataAttrValue)\n        }\n      }\n    } else {\n      logWarn(`app ${appName} does not exist when unmountApp`)\n      resolve(false)\n    }\n  })\n}\n\n// unmount all apps in turn\nexport function unmountAllApps (options?: unmountAppOptions): Promise<boolean> {\n  return Array.from(appInstanceMap.keys()).reduce((pre, next) => pre.then(() => unmountApp(next, options)), Promise.resolve(true))\n}\n\n/**\n * Re render app from the command line\n * microApp.reload(destroy)\n * @param appName app.name\n * @param destroy unmount app with destroy mode\n * @returns Promise<boolean>\n */\nexport function reload (appName: string, destroy?: boolean): Promise<boolean> {\n  return new Promise((resolve) => {\n    const app = appInstanceMap.get(formatAppName(appName))\n    if (app) {\n      const rootContainer = app.container && getRootContainer(app.container)\n      if (rootContainer) {\n        resolve(rootContainer.reload(destroy))\n      } else {\n        logWarn(`app ${appName} is not rendered, cannot use reload`)\n        resolve(false)\n      }\n    } else {\n      logWarn(`app ${appName} does not exist when reload app`)\n      resolve(false)\n    }\n  })\n}\n\ninterface RenderAppOptions extends MicroAppConfig {\n  name: string,\n  url: string,\n  container: string | Element,\n  baseroute?: string,\n  'default-page'?: string,\n  data?: Record<PropertyKey, unknown>,\n  onDataChange?: Func,\n  lifeCycles?: lifeCyclesType,\n  [key: string]: unknown,\n}\n\n/**\n * Manually render app\n * @param options RenderAppOptions\n * @returns Promise<boolean>\n */\nexport function renderApp (options: RenderAppOptions): Promise<boolean> {\n  return new Promise((resolve) => {\n    if (!isPlainObject<RenderAppOptions>(options)) return logError('renderApp options must be an object')\n    const container: Element | null = isElement(options.container) ? options.container : isString(options.container) ? document.querySelector(options.container) : null\n    if (!isElement(container)) return logError('Target container is not a DOM element.')\n\n    const microAppElement = pureCreateElement<any>(microApp.tagName)\n\n    for (const attr in options) {\n      if (attr === 'onDataChange') {\n        if (isFunction(options[attr])) {\n          microAppElement.addEventListener('datachange', options[attr])\n        }\n      } else if (attr === 'lifeCycles') {\n        const lifeCycleConfig = options[attr]\n        if (isPlainObject(lifeCycleConfig)) {\n          for (const lifeName in lifeCycleConfig) {\n            if (lifeName.toUpperCase() in lifeCycles && isFunction(lifeCycleConfig[lifeName])) {\n              microAppElement.addEventListener(lifeName.toLowerCase(), lifeCycleConfig[lifeName])\n            }\n          }\n        }\n      } else if (attr !== 'container') {\n        microAppElement.setAttribute(attr, options[attr])\n      }\n    }\n\n    const handleMount = () => {\n      releaseListener()\n      resolve(true)\n    }\n\n    const handleError = () => {\n      releaseListener()\n      resolve(false)\n    }\n\n    const releaseListener = () => {\n      microAppElement.removeEventListener(lifeCycles.MOUNTED, handleMount)\n      microAppElement.removeEventListener(lifeCycles.ERROR, handleError)\n    }\n\n    microAppElement.addEventListener(lifeCycles.MOUNTED, handleMount)\n    microAppElement.addEventListener(lifeCycles.ERROR, handleError)\n\n    container.appendChild(microAppElement)\n  })\n}\n\nexport class MicroApp extends EventCenterForBaseApp implements MicroAppBaseType {\n  tagName = 'micro-app'\n  hasInit = false\n  options: OptionsType = {}\n  router: Router = router\n  preFetch = preFetch\n  unmountApp = unmountApp\n  unmountAllApps = unmountAllApps\n  getActiveApps = getActiveApps\n  getAllApps = getAllApps\n  reload = reload\n  renderApp = renderApp\n  start (options?: OptionsType): void {\n    if (!isBrowser || !window.customElements) {\n      return logError('micro-app is not supported in this environment')\n    }\n\n    /**\n     * TODO: 优化代码和逻辑\n     *  1、同一个基座中initGlobalEnv不能被多次执行，否则会导致死循环\n     *  2、判断逻辑是否放在initGlobalEnv中合适？--- 不合适\n     */\n    if (this.hasInit) {\n      return logError('microApp.start executed repeatedly')\n    }\n\n    this.hasInit = true\n\n    if (options?.tagName) {\n      if (/^micro-app(-\\S+)?/.test(options.tagName)) {\n        this.tagName = options.tagName\n      } else {\n        return logError(`${options.tagName} is invalid tagName`)\n      }\n    }\n\n    initGlobalEnv()\n\n    if (window.customElements.get(this.tagName)) {\n      return logWarn(`element ${this.tagName} is already defined`)\n    }\n\n    if (isPlainObject<OptionsType>(options)) {\n      this.options = options\n      options['disable-scopecss'] = options['disable-scopecss'] ?? options.disableScopecss\n      options['disable-sandbox'] = options['disable-sandbox'] ?? options.disableSandbox\n\n      // load app assets when browser is idle\n      options.preFetchApps && preFetch(options.preFetchApps)\n\n      // load global assets when browser is idle\n      options.globalAssets && getGlobalAssets(options.globalAssets)\n\n      if (isPlainObject(options.plugins)) {\n        const modules = options.plugins.modules\n        if (isPlainObject(modules)) {\n          for (const appName in modules) {\n            const formattedAppName = formatAppName(appName)\n            if (formattedAppName && appName !== formattedAppName) {\n              modules[formattedAppName] = modules[appName]\n              delete modules[appName]\n            }\n          }\n        }\n      }\n    }\n\n    // define customElement after init\n    defineElement(this.tagName)\n  }\n}\n\nconst microApp = new MicroApp()\n\nexport default microApp\n","/**\n* @vue/reactivity v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { hasChanged, extend, isArray, isIntegerKey, isSymbol, isMap, hasOwn, isObject, makeMap, toRawType, capitalize, def, isFunction, EMPTY_OBJ, isSet, isPlainObject, NOOP, remove } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this._isPaused = false;\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  pause() {\n    if (this._active) {\n      this._isPaused = true;\n      let i, l;\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].pause();\n        }\n      }\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].pause();\n      }\n    }\n  }\n  /**\n   * Resumes the effect scope, including all child scopes and effects.\n   */\n  resume() {\n    if (this._active) {\n      if (this._isPaused) {\n        this._isPaused = false;\n        let i, l;\n        if (this.scopes) {\n          for (i = 0, l = this.scopes.length; i < l; i++) {\n            this.scopes[i].resume();\n          }\n        }\n        for (i = 0, l = this.effects.length; i < l; i++) {\n          this.effects[i].resume();\n        }\n      }\n    }\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      this._active = false;\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      this.effects.length = 0;\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      this.cleanups.length = 0;\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n        this.scopes.length = 0;\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn, failSilently = false) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nlet activeSub;\nconst EffectFlags = {\n  \"ACTIVE\": 1,\n  \"1\": \"ACTIVE\",\n  \"RUNNING\": 2,\n  \"2\": \"RUNNING\",\n  \"TRACKING\": 4,\n  \"4\": \"TRACKING\",\n  \"NOTIFIED\": 8,\n  \"8\": \"NOTIFIED\",\n  \"DIRTY\": 16,\n  \"16\": \"DIRTY\",\n  \"ALLOW_RECURSE\": 32,\n  \"32\": \"ALLOW_RECURSE\",\n  \"PAUSED\": 64,\n  \"64\": \"PAUSED\"\n};\nconst pausedQueueEffects = /* @__PURE__ */ new WeakSet();\nclass ReactiveEffect {\n  constructor(fn) {\n    this.fn = fn;\n    /**\n     * @internal\n     */\n    this.deps = void 0;\n    /**\n     * @internal\n     */\n    this.depsTail = void 0;\n    /**\n     * @internal\n     */\n    this.flags = 1 | 4;\n    /**\n     * @internal\n     */\n    this.next = void 0;\n    /**\n     * @internal\n     */\n    this.cleanup = void 0;\n    this.scheduler = void 0;\n    if (activeEffectScope && activeEffectScope.active) {\n      activeEffectScope.effects.push(this);\n    }\n  }\n  pause() {\n    this.flags |= 64;\n  }\n  resume() {\n    if (this.flags & 64) {\n      this.flags &= ~64;\n      if (pausedQueueEffects.has(this)) {\n        pausedQueueEffects.delete(this);\n        this.trigger();\n      }\n    }\n  }\n  /**\n   * @internal\n   */\n  notify() {\n    if (this.flags & 2 && !(this.flags & 32)) {\n      return;\n    }\n    if (!(this.flags & 8)) {\n      batch(this);\n    }\n  }\n  run() {\n    if (!(this.flags & 1)) {\n      return this.fn();\n    }\n    this.flags |= 2;\n    cleanupEffect(this);\n    prepareDeps(this);\n    const prevEffect = activeSub;\n    const prevShouldTrack = shouldTrack;\n    activeSub = this;\n    shouldTrack = true;\n    try {\n      return this.fn();\n    } finally {\n      if (!!(process.env.NODE_ENV !== \"production\") && activeSub !== this) {\n        warn(\n          \"Active effect was not restored correctly - this is likely a Vue internal bug.\"\n        );\n      }\n      cleanupDeps(this);\n      activeSub = prevEffect;\n      shouldTrack = prevShouldTrack;\n      this.flags &= ~2;\n    }\n  }\n  stop() {\n    if (this.flags & 1) {\n      for (let link = this.deps; link; link = link.nextDep) {\n        removeSub(link);\n      }\n      this.deps = this.depsTail = void 0;\n      cleanupEffect(this);\n      this.onStop && this.onStop();\n      this.flags &= ~1;\n    }\n  }\n  trigger() {\n    if (this.flags & 64) {\n      pausedQueueEffects.add(this);\n    } else if (this.scheduler) {\n      this.scheduler();\n    } else {\n      this.runIfDirty();\n    }\n  }\n  /**\n   * @internal\n   */\n  runIfDirty() {\n    if (isDirty(this)) {\n      this.run();\n    }\n  }\n  get dirty() {\n    return isDirty(this);\n  }\n}\nlet batchDepth = 0;\nlet batchedSub;\nlet batchedComputed;\nfunction batch(sub, isComputed = false) {\n  sub.flags |= 8;\n  if (isComputed) {\n    sub.next = batchedComputed;\n    batchedComputed = sub;\n    return;\n  }\n  sub.next = batchedSub;\n  batchedSub = sub;\n}\nfunction startBatch() {\n  batchDepth++;\n}\nfunction endBatch() {\n  if (--batchDepth > 0) {\n    return;\n  }\n  if (batchedComputed) {\n    let e = batchedComputed;\n    batchedComputed = void 0;\n    while (e) {\n      const next = e.next;\n      e.next = void 0;\n      e.flags &= ~8;\n      e = next;\n    }\n  }\n  let error;\n  while (batchedSub) {\n    let e = batchedSub;\n    batchedSub = void 0;\n    while (e) {\n      const next = e.next;\n      e.next = void 0;\n      e.flags &= ~8;\n      if (e.flags & 1) {\n        try {\n          ;\n          e.trigger();\n        } catch (err) {\n          if (!error) error = err;\n        }\n      }\n      e = next;\n    }\n  }\n  if (error) throw error;\n}\nfunction prepareDeps(sub) {\n  for (let link = sub.deps; link; link = link.nextDep) {\n    link.version = -1;\n    link.prevActiveLink = link.dep.activeLink;\n    link.dep.activeLink = link;\n  }\n}\nfunction cleanupDeps(sub) {\n  let head;\n  let tail = sub.depsTail;\n  let link = tail;\n  while (link) {\n    const prev = link.prevDep;\n    if (link.version === -1) {\n      if (link === tail) tail = prev;\n      removeSub(link);\n      removeDep(link);\n    } else {\n      head = link;\n    }\n    link.dep.activeLink = link.prevActiveLink;\n    link.prevActiveLink = void 0;\n    link = prev;\n  }\n  sub.deps = head;\n  sub.depsTail = tail;\n}\nfunction isDirty(sub) {\n  for (let link = sub.deps; link; link = link.nextDep) {\n    if (link.dep.version !== link.version || link.dep.computed && (refreshComputed(link.dep.computed) || link.dep.version !== link.version)) {\n      return true;\n    }\n  }\n  if (sub._dirty) {\n    return true;\n  }\n  return false;\n}\nfunction refreshComputed(computed) {\n  if (computed.flags & 4 && !(computed.flags & 16)) {\n    return;\n  }\n  computed.flags &= ~16;\n  if (computed.globalVersion === globalVersion) {\n    return;\n  }\n  computed.globalVersion = globalVersion;\n  const dep = computed.dep;\n  computed.flags |= 2;\n  if (dep.version > 0 && !computed.isSSR && computed.deps && !isDirty(computed)) {\n    computed.flags &= ~2;\n    return;\n  }\n  const prevSub = activeSub;\n  const prevShouldTrack = shouldTrack;\n  activeSub = computed;\n  shouldTrack = true;\n  try {\n    prepareDeps(computed);\n    const value = computed.fn(computed._value);\n    if (dep.version === 0 || hasChanged(value, computed._value)) {\n      computed._value = value;\n      dep.version++;\n    }\n  } catch (err) {\n    dep.version++;\n    throw err;\n  } finally {\n    activeSub = prevSub;\n    shouldTrack = prevShouldTrack;\n    cleanupDeps(computed);\n    computed.flags &= ~2;\n  }\n}\nfunction removeSub(link, soft = false) {\n  const { dep, prevSub, nextSub } = link;\n  if (prevSub) {\n    prevSub.nextSub = nextSub;\n    link.prevSub = void 0;\n  }\n  if (nextSub) {\n    nextSub.prevSub = prevSub;\n    link.nextSub = void 0;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && dep.subsHead === link) {\n    dep.subsHead = nextSub;\n  }\n  if (dep.subs === link) {\n    dep.subs = prevSub;\n    if (!prevSub && dep.computed) {\n      dep.computed.flags &= ~4;\n      for (let l = dep.computed.deps; l; l = l.nextDep) {\n        removeSub(l, true);\n      }\n    }\n  }\n  if (!soft && !--dep.sc && dep.map) {\n    dep.map.delete(dep.key);\n  }\n}\nfunction removeDep(link) {\n  const { prevDep, nextDep } = link;\n  if (prevDep) {\n    prevDep.nextDep = nextDep;\n    link.prevDep = void 0;\n  }\n  if (nextDep) {\n    nextDep.prevDep = prevDep;\n    link.nextDep = void 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect instanceof ReactiveEffect) {\n    fn = fn.effect.fn;\n  }\n  const e = new ReactiveEffect(fn);\n  if (options) {\n    extend(e, options);\n  }\n  try {\n    e.run();\n  } catch (err) {\n    e.stop();\n    throw err;\n  }\n  const runner = e.run.bind(e);\n  runner.effect = e;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction onEffectCleanup(fn, failSilently = false) {\n  if (activeSub instanceof ReactiveEffect) {\n    activeSub.cleanup = fn;\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onEffectCleanup() was called when there was no active effect to associate with.`\n    );\n  }\n}\nfunction cleanupEffect(e) {\n  const { cleanup } = e;\n  e.cleanup = void 0;\n  if (cleanup) {\n    const prevSub = activeSub;\n    activeSub = void 0;\n    try {\n      cleanup();\n    } finally {\n      activeSub = prevSub;\n    }\n  }\n}\n\nlet globalVersion = 0;\nclass Link {\n  constructor(sub, dep) {\n    this.sub = sub;\n    this.dep = dep;\n    this.version = dep.version;\n    this.nextDep = this.prevDep = this.nextSub = this.prevSub = this.prevActiveLink = void 0;\n  }\n}\nclass Dep {\n  constructor(computed) {\n    this.computed = computed;\n    this.version = 0;\n    /**\n     * Link between this dep and the current active effect\n     */\n    this.activeLink = void 0;\n    /**\n     * Doubly linked list representing the subscribing effects (tail)\n     */\n    this.subs = void 0;\n    /**\n     * For object property deps cleanup\n     */\n    this.map = void 0;\n    this.key = void 0;\n    /**\n     * Subscriber counter\n     */\n    this.sc = 0;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this.subsHead = void 0;\n    }\n  }\n  track(debugInfo) {\n    if (!activeSub || !shouldTrack || activeSub === this.computed) {\n      return;\n    }\n    let link = this.activeLink;\n    if (link === void 0 || link.sub !== activeSub) {\n      link = this.activeLink = new Link(activeSub, this);\n      if (!activeSub.deps) {\n        activeSub.deps = activeSub.depsTail = link;\n      } else {\n        link.prevDep = activeSub.depsTail;\n        activeSub.depsTail.nextDep = link;\n        activeSub.depsTail = link;\n      }\n      addSub(link);\n    } else if (link.version === -1) {\n      link.version = this.version;\n      if (link.nextDep) {\n        const next = link.nextDep;\n        next.prevDep = link.prevDep;\n        if (link.prevDep) {\n          link.prevDep.nextDep = next;\n        }\n        link.prevDep = activeSub.depsTail;\n        link.nextDep = void 0;\n        activeSub.depsTail.nextDep = link;\n        activeSub.depsTail = link;\n        if (activeSub.deps === link) {\n          activeSub.deps = next;\n        }\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && activeSub.onTrack) {\n      activeSub.onTrack(\n        extend(\n          {\n            effect: activeSub\n          },\n          debugInfo\n        )\n      );\n    }\n    return link;\n  }\n  trigger(debugInfo) {\n    this.version++;\n    globalVersion++;\n    this.notify(debugInfo);\n  }\n  notify(debugInfo) {\n    startBatch();\n    try {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (let head = this.subsHead; head; head = head.nextSub) {\n          if (head.sub.onTrigger && !(head.sub.flags & 8)) {\n            head.sub.onTrigger(\n              extend(\n                {\n                  effect: head.sub\n                },\n                debugInfo\n              )\n            );\n          }\n        }\n      }\n      for (let link = this.subs; link; link = link.prevSub) {\n        if (link.sub.notify()) {\n          ;\n          link.sub.dep.notify();\n        }\n      }\n    } finally {\n      endBatch();\n    }\n  }\n}\nfunction addSub(link) {\n  link.dep.sc++;\n  if (link.sub.flags & 4) {\n    const computed = link.dep.computed;\n    if (computed && !link.dep.subs) {\n      computed.flags |= 4 | 16;\n      for (let l = computed.deps; l; l = l.nextDep) {\n        addSub(l);\n      }\n    }\n    const currentTail = link.dep.subs;\n    if (currentTail !== link) {\n      link.prevSub = currentTail;\n      if (currentTail) currentTail.nextSub = link;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && link.dep.subsHead === void 0) {\n      link.dep.subsHead = link;\n    }\n    link.dep.subs = link;\n  }\n}\nconst targetMap = /* @__PURE__ */ new WeakMap();\nconst ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Object iterate\" : \"\"\n);\nconst MAP_KEY_ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Map keys iterate\" : \"\"\n);\nconst ARRAY_ITERATE_KEY = Symbol(\n  !!(process.env.NODE_ENV !== \"production\") ? \"Array iterate\" : \"\"\n);\nfunction track(target, type, key) {\n  if (shouldTrack && activeSub) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = new Dep());\n      dep.map = depsMap;\n      dep.key = key;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      dep.track({\n        target,\n        type,\n        key\n      });\n    } else {\n      dep.track();\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    globalVersion++;\n    return;\n  }\n  const run = (dep) => {\n    if (dep) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        dep.trigger({\n          target,\n          type,\n          key,\n          newValue,\n          oldValue,\n          oldTarget\n        });\n      } else {\n        dep.trigger();\n      }\n    }\n  };\n  startBatch();\n  if (type === \"clear\") {\n    depsMap.forEach(run);\n  } else {\n    const targetIsArray = isArray(target);\n    const isArrayIndex = targetIsArray && isIntegerKey(key);\n    if (targetIsArray && key === \"length\") {\n      const newLength = Number(newValue);\n      depsMap.forEach((dep, key2) => {\n        if (key2 === \"length\" || key2 === ARRAY_ITERATE_KEY || !isSymbol(key2) && key2 >= newLength) {\n          run(dep);\n        }\n      });\n    } else {\n      if (key !== void 0 || depsMap.has(void 0)) {\n        run(depsMap.get(key));\n      }\n      if (isArrayIndex) {\n        run(depsMap.get(ARRAY_ITERATE_KEY));\n      }\n      switch (type) {\n        case \"add\":\n          if (!targetIsArray) {\n            run(depsMap.get(ITERATE_KEY));\n            if (isMap(target)) {\n              run(depsMap.get(MAP_KEY_ITERATE_KEY));\n            }\n          } else if (isArrayIndex) {\n            run(depsMap.get(\"length\"));\n          }\n          break;\n        case \"delete\":\n          if (!targetIsArray) {\n            run(depsMap.get(ITERATE_KEY));\n            if (isMap(target)) {\n              run(depsMap.get(MAP_KEY_ITERATE_KEY));\n            }\n          }\n          break;\n        case \"set\":\n          if (isMap(target)) {\n            run(depsMap.get(ITERATE_KEY));\n          }\n          break;\n      }\n    }\n  }\n  endBatch();\n}\nfunction getDepFromReactive(object, key) {\n  const depMap = targetMap.get(object);\n  return depMap && depMap.get(key);\n}\n\nfunction reactiveReadArray(array) {\n  const raw = toRaw(array);\n  if (raw === array) return raw;\n  track(raw, \"iterate\", ARRAY_ITERATE_KEY);\n  return isShallow(array) ? raw : raw.map(toReactive);\n}\nfunction shallowReadArray(arr) {\n  track(arr = toRaw(arr), \"iterate\", ARRAY_ITERATE_KEY);\n  return arr;\n}\nconst arrayInstrumentations = {\n  __proto__: null,\n  [Symbol.iterator]() {\n    return iterator(this, Symbol.iterator, toReactive);\n  },\n  concat(...args) {\n    return reactiveReadArray(this).concat(\n      ...args.map((x) => isArray(x) ? reactiveReadArray(x) : x)\n    );\n  },\n  entries() {\n    return iterator(this, \"entries\", (value) => {\n      value[1] = toReactive(value[1]);\n      return value;\n    });\n  },\n  every(fn, thisArg) {\n    return apply(this, \"every\", fn, thisArg, void 0, arguments);\n  },\n  filter(fn, thisArg) {\n    return apply(this, \"filter\", fn, thisArg, (v) => v.map(toReactive), arguments);\n  },\n  find(fn, thisArg) {\n    return apply(this, \"find\", fn, thisArg, toReactive, arguments);\n  },\n  findIndex(fn, thisArg) {\n    return apply(this, \"findIndex\", fn, thisArg, void 0, arguments);\n  },\n  findLast(fn, thisArg) {\n    return apply(this, \"findLast\", fn, thisArg, toReactive, arguments);\n  },\n  findLastIndex(fn, thisArg) {\n    return apply(this, \"findLastIndex\", fn, thisArg, void 0, arguments);\n  },\n  // flat, flatMap could benefit from ARRAY_ITERATE but are not straight-forward to implement\n  forEach(fn, thisArg) {\n    return apply(this, \"forEach\", fn, thisArg, void 0, arguments);\n  },\n  includes(...args) {\n    return searchProxy(this, \"includes\", args);\n  },\n  indexOf(...args) {\n    return searchProxy(this, \"indexOf\", args);\n  },\n  join(separator) {\n    return reactiveReadArray(this).join(separator);\n  },\n  // keys() iterator only reads `length`, no optimisation required\n  lastIndexOf(...args) {\n    return searchProxy(this, \"lastIndexOf\", args);\n  },\n  map(fn, thisArg) {\n    return apply(this, \"map\", fn, thisArg, void 0, arguments);\n  },\n  pop() {\n    return noTracking(this, \"pop\");\n  },\n  push(...args) {\n    return noTracking(this, \"push\", args);\n  },\n  reduce(fn, ...args) {\n    return reduce(this, \"reduce\", fn, args);\n  },\n  reduceRight(fn, ...args) {\n    return reduce(this, \"reduceRight\", fn, args);\n  },\n  shift() {\n    return noTracking(this, \"shift\");\n  },\n  // slice could use ARRAY_ITERATE but also seems to beg for range tracking\n  some(fn, thisArg) {\n    return apply(this, \"some\", fn, thisArg, void 0, arguments);\n  },\n  splice(...args) {\n    return noTracking(this, \"splice\", args);\n  },\n  toReversed() {\n    return reactiveReadArray(this).toReversed();\n  },\n  toSorted(comparer) {\n    return reactiveReadArray(this).toSorted(comparer);\n  },\n  toSpliced(...args) {\n    return reactiveReadArray(this).toSpliced(...args);\n  },\n  unshift(...args) {\n    return noTracking(this, \"unshift\", args);\n  },\n  values() {\n    return iterator(this, \"values\", toReactive);\n  }\n};\nfunction iterator(self, method, wrapValue) {\n  const arr = shallowReadArray(self);\n  const iter = arr[method]();\n  if (arr !== self && !isShallow(self)) {\n    iter._next = iter.next;\n    iter.next = () => {\n      const result = iter._next();\n      if (result.value) {\n        result.value = wrapValue(result.value);\n      }\n      return result;\n    };\n  }\n  return iter;\n}\nconst arrayProto = Array.prototype;\nfunction apply(self, method, fn, thisArg, wrappedRetFn, args) {\n  const arr = shallowReadArray(self);\n  const needsWrap = arr !== self && !isShallow(self);\n  const methodFn = arr[method];\n  if (methodFn !== arrayProto[method]) {\n    const result2 = methodFn.apply(self, args);\n    return needsWrap ? toReactive(result2) : result2;\n  }\n  let wrappedFn = fn;\n  if (arr !== self) {\n    if (needsWrap) {\n      wrappedFn = function(item, index) {\n        return fn.call(this, toReactive(item), index, self);\n      };\n    } else if (fn.length > 2) {\n      wrappedFn = function(item, index) {\n        return fn.call(this, item, index, self);\n      };\n    }\n  }\n  const result = methodFn.call(arr, wrappedFn, thisArg);\n  return needsWrap && wrappedRetFn ? wrappedRetFn(result) : result;\n}\nfunction reduce(self, method, fn, args) {\n  const arr = shallowReadArray(self);\n  let wrappedFn = fn;\n  if (arr !== self) {\n    if (!isShallow(self)) {\n      wrappedFn = function(acc, item, index) {\n        return fn.call(this, acc, toReactive(item), index, self);\n      };\n    } else if (fn.length > 3) {\n      wrappedFn = function(acc, item, index) {\n        return fn.call(this, acc, item, index, self);\n      };\n    }\n  }\n  return arr[method](wrappedFn, ...args);\n}\nfunction searchProxy(self, method, args) {\n  const arr = toRaw(self);\n  track(arr, \"iterate\", ARRAY_ITERATE_KEY);\n  const res = arr[method](...args);\n  if ((res === -1 || res === false) && isProxy(args[0])) {\n    args[0] = toRaw(args[0]);\n    return arr[method](...args);\n  }\n  return res;\n}\nfunction noTracking(self, method, args = []) {\n  pauseTracking();\n  startBatch();\n  const res = toRaw(self)[method].apply(self, args);\n  endBatch();\n  resetTracking();\n  return res;\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nfunction hasOwnProperty(key) {\n  if (!isSymbol(key)) key = String(key);\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nclass BaseReactiveHandler {\n  constructor(_isReadonly = false, _isShallow = false) {\n    this._isReadonly = _isReadonly;\n    this._isShallow = _isShallow;\n  }\n  get(target, key, receiver) {\n    if (key === \"__v_skip\") return target[\"__v_skip\"];\n    const isReadonly2 = this._isReadonly, isShallow2 = this._isShallow;\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return isShallow2;\n    } else if (key === \"__v_raw\") {\n      if (receiver === (isReadonly2 ? isShallow2 ? shallowReadonlyMap : readonlyMap : isShallow2 ? shallowReactiveMap : reactiveMap).get(target) || // receiver is not the reactive proxy, but has the same prototype\n      // this means the receiver is a user proxy of the reactive proxy\n      Object.getPrototypeOf(target) === Object.getPrototypeOf(receiver)) {\n        return target;\n      }\n      return;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      let fn;\n      if (targetIsArray && (fn = arrayInstrumentations[key])) {\n        return fn;\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(\n      target,\n      key,\n      // if this is a proxy wrapping a ref, return methods using the raw ref\n      // as receiver so that we don't have to call `toRaw` on the ref in all\n      // its class methods\n      isRef(target) ? target : receiver\n    );\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (isShallow2) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  }\n}\nclass MutableReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(false, isShallow2);\n  }\n  set(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (!this._isShallow) {\n      const isOldValueReadonly = isReadonly(oldValue);\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        if (isOldValueReadonly) {\n          return false;\n        } else {\n          oldValue.value = value;\n          return true;\n        }\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(\n      target,\n      key,\n      value,\n      isRef(target) ? target : receiver\n    );\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  }\n  deleteProperty(target, key) {\n    const hadKey = hasOwn(target, key);\n    const oldValue = target[key];\n    const result = Reflect.deleteProperty(target, key);\n    if (result && hadKey) {\n      trigger(target, \"delete\", key, void 0, oldValue);\n    }\n    return result;\n  }\n  has(target, key) {\n    const result = Reflect.has(target, key);\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\n      track(target, \"has\", key);\n    }\n    return result;\n  }\n  ownKeys(target) {\n    track(\n      target,\n      \"iterate\",\n      isArray(target) ? \"length\" : ITERATE_KEY\n    );\n    return Reflect.ownKeys(target);\n  }\n}\nclass ReadonlyReactiveHandler extends BaseReactiveHandler {\n  constructor(isShallow2 = false) {\n    super(true, isShallow2);\n  }\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n}\nconst mutableHandlers = /* @__PURE__ */ new MutableReactiveHandler();\nconst readonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler();\nconst shallowReactiveHandlers = /* @__PURE__ */ new MutableReactiveHandler(true);\nconst shallowReadonlyHandlers = /* @__PURE__ */ new ReadonlyReactiveHandler(true);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction createIterableMethod(method, isReadonly2, isShallow2) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow2 ? toShallow : isReadonly2 ? toReadonly : toReactive;\n    !isReadonly2 && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : type === \"clear\" ? void 0 : this;\n  };\n}\nfunction createInstrumentations(readonly, shallow) {\n  const instrumentations = {\n    get(key) {\n      const target = this[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const rawKey = toRaw(key);\n      if (!readonly) {\n        if (hasChanged(key, rawKey)) {\n          track(rawTarget, \"get\", key);\n        }\n        track(rawTarget, \"get\", rawKey);\n      }\n      const { has } = getProto(rawTarget);\n      const wrap = shallow ? toShallow : readonly ? toReadonly : toReactive;\n      if (has.call(rawTarget, key)) {\n        return wrap(target.get(key));\n      } else if (has.call(rawTarget, rawKey)) {\n        return wrap(target.get(rawKey));\n      } else if (target !== rawTarget) {\n        target.get(key);\n      }\n    },\n    get size() {\n      const target = this[\"__v_raw\"];\n      !readonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n      return Reflect.get(target, \"size\", target);\n    },\n    has(key) {\n      const target = this[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const rawKey = toRaw(key);\n      if (!readonly) {\n        if (hasChanged(key, rawKey)) {\n          track(rawTarget, \"has\", key);\n        }\n        track(rawTarget, \"has\", rawKey);\n      }\n      return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n    },\n    forEach(callback, thisArg) {\n      const observed = this;\n      const target = observed[\"__v_raw\"];\n      const rawTarget = toRaw(target);\n      const wrap = shallow ? toShallow : readonly ? toReadonly : toReactive;\n      !readonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n      return target.forEach((value, key) => {\n        return callback.call(thisArg, wrap(value), wrap(key), observed);\n      });\n    }\n  };\n  extend(\n    instrumentations,\n    readonly ? {\n      add: createReadonlyMethod(\"add\"),\n      set: createReadonlyMethod(\"set\"),\n      delete: createReadonlyMethod(\"delete\"),\n      clear: createReadonlyMethod(\"clear\")\n    } : {\n      add(value) {\n        if (!shallow && !isShallow(value) && !isReadonly(value)) {\n          value = toRaw(value);\n        }\n        const target = toRaw(this);\n        const proto = getProto(target);\n        const hadKey = proto.has.call(target, value);\n        if (!hadKey) {\n          target.add(value);\n          trigger(target, \"add\", value, value);\n        }\n        return this;\n      },\n      set(key, value) {\n        if (!shallow && !isShallow(value) && !isReadonly(value)) {\n          value = toRaw(value);\n        }\n        const target = toRaw(this);\n        const { has, get } = getProto(target);\n        let hadKey = has.call(target, key);\n        if (!hadKey) {\n          key = toRaw(key);\n          hadKey = has.call(target, key);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkIdentityKeys(target, has, key);\n        }\n        const oldValue = get.call(target, key);\n        target.set(key, value);\n        if (!hadKey) {\n          trigger(target, \"add\", key, value);\n        } else if (hasChanged(value, oldValue)) {\n          trigger(target, \"set\", key, value, oldValue);\n        }\n        return this;\n      },\n      delete(key) {\n        const target = toRaw(this);\n        const { has, get } = getProto(target);\n        let hadKey = has.call(target, key);\n        if (!hadKey) {\n          key = toRaw(key);\n          hadKey = has.call(target, key);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkIdentityKeys(target, has, key);\n        }\n        const oldValue = get ? get.call(target, key) : void 0;\n        const result = target.delete(key);\n        if (hadKey) {\n          trigger(target, \"delete\", key, void 0, oldValue);\n        }\n        return result;\n      },\n      clear() {\n        const target = toRaw(this);\n        const hadItems = target.size !== 0;\n        const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n        const result = target.clear();\n        if (hadItems) {\n          trigger(\n            target,\n            \"clear\",\n            void 0,\n            void 0,\n            oldTarget\n          );\n        }\n        return result;\n      }\n    }\n  );\n  const iteratorMethods = [\n    \"keys\",\n    \"values\",\n    \"entries\",\n    Symbol.iterator\n  ];\n  iteratorMethods.forEach((method) => {\n    instrumentations[method] = createIterableMethod(method, readonly, shallow);\n  });\n  return instrumentations;\n}\nfunction createInstrumentationGetter(isReadonly2, shallow) {\n  const instrumentations = createInstrumentations(isReadonly2, shallow);\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has.call(target, rawKey)) {\n    const type = toRawType(target);\n    warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `value cannot be made ${isReadonly2 ? \"readonly\" : \"reactive\"}: ${String(\n          target\n        )}`\n      );\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return value ? !!value[\"__v_raw\"] : false;\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  if (!hasOwn(value, \"__v_skip\") && Object.isExtensible(value)) {\n    def(value, \"__v_skip\", true);\n  }\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction isRef(r) {\n  return r ? r[\"__v_isRef\"] === true : false;\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, isShallow2) {\n    this.dep = new Dep();\n    this[\"__v_isRef\"] = true;\n    this[\"__v_isShallow\"] = false;\n    this._rawValue = isShallow2 ? value : toRaw(value);\n    this._value = isShallow2 ? value : toReactive(value);\n    this[\"__v_isShallow\"] = isShallow2;\n  }\n  get value() {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this.dep.track({\n        target: this,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      this.dep.track();\n    }\n    return this._value;\n  }\n  set value(newValue) {\n    const oldValue = this._rawValue;\n    const useDirectValue = this[\"__v_isShallow\"] || isShallow(newValue) || isReadonly(newValue);\n    newValue = useDirectValue ? newValue : toRaw(newValue);\n    if (hasChanged(newValue, oldValue)) {\n      this._rawValue = newValue;\n      this._value = useDirectValue ? newValue : toReactive(newValue);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        this.dep.trigger({\n          target: this,\n          type: \"set\",\n          key: \"value\",\n          newValue,\n          oldValue\n        });\n      } else {\n        this.dep.trigger();\n      }\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  if (ref2.dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      ref2.dep.trigger({\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: ref2._value\n      });\n    } else {\n      ref2.dep.trigger();\n    }\n  }\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => key === \"__v_raw\" ? target : unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this[\"__v_isRef\"] = true;\n    this._value = void 0;\n    const dep = this.dep = new Dep();\n    const { get, set } = factory(dep.track.bind(dep), dep.trigger.bind(dep));\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._value = this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this[\"__v_isRef\"] = true;\n    this._value = void 0;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return this._value = val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this[\"__v_isRef\"] = true;\n    this[\"__v_isReadonly\"] = true;\n    this._value = void 0;\n  }\n  get value() {\n    return this._value = this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(source, key, defaultValue);\n}\n\nclass ComputedRefImpl {\n  constructor(fn, setter, isSSR) {\n    this.fn = fn;\n    this.setter = setter;\n    /**\n     * @internal\n     */\n    this._value = void 0;\n    /**\n     * @internal\n     */\n    this.dep = new Dep(this);\n    /**\n     * @internal\n     */\n    this.__v_isRef = true;\n    // TODO isolatedDeclarations \"__v_isReadonly\"\n    // A computed is also a subscriber that tracks other deps\n    /**\n     * @internal\n     */\n    this.deps = void 0;\n    /**\n     * @internal\n     */\n    this.depsTail = void 0;\n    /**\n     * @internal\n     */\n    this.flags = 16;\n    /**\n     * @internal\n     */\n    this.globalVersion = globalVersion - 1;\n    /**\n     * @internal\n     */\n    this.next = void 0;\n    // for backwards compat\n    this.effect = this;\n    this[\"__v_isReadonly\"] = !setter;\n    this.isSSR = isSSR;\n  }\n  /**\n   * @internal\n   */\n  notify() {\n    this.flags |= 16;\n    if (!(this.flags & 8) && // avoid infinite self recursion\n    activeSub !== this) {\n      batch(this, true);\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) ;\n  }\n  get value() {\n    const link = !!(process.env.NODE_ENV !== \"production\") ? this.dep.track({\n      target: this,\n      type: \"get\",\n      key: \"value\"\n    }) : this.dep.track();\n    refreshComputed(this);\n    if (link) {\n      link.version = this.dep.version;\n    }\n    return this._value;\n  }\n  set value(newValue) {\n    if (this.setter) {\n      this.setter(newValue);\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\"Write operation failed: computed value is readonly\");\n    }\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  if (isFunction(getterOrOptions)) {\n    getter = getterOrOptions;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.onTrack = debugOptions.onTrack;\n    cRef.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst TrackOpTypes = {\n  \"GET\": \"get\",\n  \"HAS\": \"has\",\n  \"ITERATE\": \"iterate\"\n};\nconst TriggerOpTypes = {\n  \"SET\": \"set\",\n  \"ADD\": \"add\",\n  \"DELETE\": \"delete\",\n  \"CLEAR\": \"clear\"\n};\nconst ReactiveFlags = {\n  \"SKIP\": \"__v_skip\",\n  \"IS_REACTIVE\": \"__v_isReactive\",\n  \"IS_READONLY\": \"__v_isReadonly\",\n  \"IS_SHALLOW\": \"__v_isShallow\",\n  \"RAW\": \"__v_raw\",\n  \"IS_REF\": \"__v_isRef\"\n};\n\nconst WatchErrorCodes = {\n  \"WATCH_GETTER\": 2,\n  \"2\": \"WATCH_GETTER\",\n  \"WATCH_CALLBACK\": 3,\n  \"3\": \"WATCH_CALLBACK\",\n  \"WATCH_CLEANUP\": 4,\n  \"4\": \"WATCH_CLEANUP\"\n};\nconst INITIAL_WATCHER_VALUE = {};\nconst cleanupMap = /* @__PURE__ */ new WeakMap();\nlet activeWatcher = void 0;\nfunction getCurrentWatcher() {\n  return activeWatcher;\n}\nfunction onWatcherCleanup(cleanupFn, failSilently = false, owner = activeWatcher) {\n  if (owner) {\n    let cleanups = cleanupMap.get(owner);\n    if (!cleanups) cleanupMap.set(owner, cleanups = []);\n    cleanups.push(cleanupFn);\n  } else if (!!(process.env.NODE_ENV !== \"production\") && !failSilently) {\n    warn(\n      `onWatcherCleanup() was called when there was no active watcher to associate with.`\n    );\n  }\n}\nfunction watch(source, cb, options = EMPTY_OBJ) {\n  const { immediate, deep, once, scheduler, augmentJob, call } = options;\n  const warnInvalidSource = (s) => {\n    (options.onWarn || warn)(\n      `Invalid watch source: `,\n      s,\n      `A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`\n    );\n  };\n  const reactiveGetter = (source2) => {\n    if (deep) return source2;\n    if (isShallow(source2) || deep === false || deep === 0)\n      return traverse(source2, 1);\n    return traverse(source2);\n  };\n  let effect;\n  let getter;\n  let cleanup;\n  let boundCleanup;\n  let forceTrigger = false;\n  let isMultiSource = false;\n  if (isRef(source)) {\n    getter = () => source.value;\n    forceTrigger = isShallow(source);\n  } else if (isReactive(source)) {\n    getter = () => reactiveGetter(source);\n    forceTrigger = true;\n  } else if (isArray(source)) {\n    isMultiSource = true;\n    forceTrigger = source.some((s) => isReactive(s) || isShallow(s));\n    getter = () => source.map((s) => {\n      if (isRef(s)) {\n        return s.value;\n      } else if (isReactive(s)) {\n        return reactiveGetter(s);\n      } else if (isFunction(s)) {\n        return call ? call(s, 2) : s();\n      } else {\n        !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(s);\n      }\n    });\n  } else if (isFunction(source)) {\n    if (cb) {\n      getter = call ? () => call(source, 2) : source;\n    } else {\n      getter = () => {\n        if (cleanup) {\n          pauseTracking();\n          try {\n            cleanup();\n          } finally {\n            resetTracking();\n          }\n        }\n        const currentEffect = activeWatcher;\n        activeWatcher = effect;\n        try {\n          return call ? call(source, 3, [boundCleanup]) : source(boundCleanup);\n        } finally {\n          activeWatcher = currentEffect;\n        }\n      };\n    }\n  } else {\n    getter = NOOP;\n    !!(process.env.NODE_ENV !== \"production\") && warnInvalidSource(source);\n  }\n  if (cb && deep) {\n    const baseGetter = getter;\n    const depth = deep === true ? Infinity : deep;\n    getter = () => traverse(baseGetter(), depth);\n  }\n  const scope = getCurrentScope();\n  const watchHandle = () => {\n    effect.stop();\n    if (scope && scope.active) {\n      remove(scope.effects, effect);\n    }\n  };\n  if (once && cb) {\n    const _cb = cb;\n    cb = (...args) => {\n      _cb(...args);\n      watchHandle();\n    };\n  }\n  let oldValue = isMultiSource ? new Array(source.length).fill(INITIAL_WATCHER_VALUE) : INITIAL_WATCHER_VALUE;\n  const job = (immediateFirstRun) => {\n    if (!(effect.flags & 1) || !effect.dirty && !immediateFirstRun) {\n      return;\n    }\n    if (cb) {\n      const newValue = effect.run();\n      if (deep || forceTrigger || (isMultiSource ? newValue.some((v, i) => hasChanged(v, oldValue[i])) : hasChanged(newValue, oldValue))) {\n        if (cleanup) {\n          cleanup();\n        }\n        const currentWatcher = activeWatcher;\n        activeWatcher = effect;\n        try {\n          const args = [\n            newValue,\n            // pass undefined as the old value when it's changed for the first time\n            oldValue === INITIAL_WATCHER_VALUE ? void 0 : isMultiSource && oldValue[0] === INITIAL_WATCHER_VALUE ? [] : oldValue,\n            boundCleanup\n          ];\n          call ? call(cb, 3, args) : (\n            // @ts-expect-error\n            cb(...args)\n          );\n          oldValue = newValue;\n        } finally {\n          activeWatcher = currentWatcher;\n        }\n      }\n    } else {\n      effect.run();\n    }\n  };\n  if (augmentJob) {\n    augmentJob(job);\n  }\n  effect = new ReactiveEffect(getter);\n  effect.scheduler = scheduler ? () => scheduler(job, false) : job;\n  boundCleanup = (fn) => onWatcherCleanup(fn, false, effect);\n  cleanup = effect.onStop = () => {\n    const cleanups = cleanupMap.get(effect);\n    if (cleanups) {\n      if (call) {\n        call(cleanups, 4);\n      } else {\n        for (const cleanup2 of cleanups) cleanup2();\n      }\n      cleanupMap.delete(effect);\n    }\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    effect.onTrack = options.onTrack;\n    effect.onTrigger = options.onTrigger;\n  }\n  if (cb) {\n    if (immediate) {\n      job(true);\n    } else {\n      oldValue = effect.run();\n    }\n  } else if (scheduler) {\n    scheduler(job.bind(null, true), true);\n  } else {\n    effect.run();\n  }\n  watchHandle.pause = effect.pause.bind(effect);\n  watchHandle.resume = effect.resume.bind(effect);\n  watchHandle.stop = watchHandle;\n  return watchHandle;\n}\nfunction traverse(value, depth = Infinity, seen) {\n  if (depth <= 0 || !isObject(value) || value[\"__v_skip\"]) {\n    return value;\n  }\n  seen = seen || /* @__PURE__ */ new Set();\n  if (seen.has(value)) {\n    return value;\n  }\n  seen.add(value);\n  depth--;\n  if (isRef(value)) {\n    traverse(value.value, depth, seen);\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      traverse(value[i], depth, seen);\n    }\n  } else if (isSet(value) || isMap(value)) {\n    value.forEach((v) => {\n      traverse(v, depth, seen);\n    });\n  } else if (isPlainObject(value)) {\n    for (const key in value) {\n      traverse(value[key], depth, seen);\n    }\n    for (const key of Object.getOwnPropertySymbols(value)) {\n      if (Object.prototype.propertyIsEnumerable.call(value, key)) {\n        traverse(value[key], depth, seen);\n      }\n    }\n  }\n  return value;\n}\n\nexport { ARRAY_ITERATE_KEY, EffectFlags, EffectScope, ITERATE_KEY, MAP_KEY_ITERATE_KEY, ReactiveEffect, ReactiveFlags, TrackOpTypes, TriggerOpTypes, WatchErrorCodes, computed, customRef, effect, effectScope, enableTracking, getCurrentScope, getCurrentWatcher, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onEffectCleanup, onScopeDispose, onWatcherCleanup, pauseTracking, proxyRefs, reactive, reactiveReadArray, readonly, ref, resetTracking, shallowReactive, shallowReadArray, shallowReadonly, shallowRef, stop, toRaw, toReactive, toReadonly, toRef, toRefs, toValue, track, traverse, trigger, triggerRef, unref, watch };\n","/**\n* @vue/runtime-core v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { pauseTracking, resetTracking, isRef, toRaw, traverse, shallowRef, readonly, isReactive, ref, isShallow, shallowReadArray, toReactive, shallowReadonly, track, reactive, shallowReactive, trigger, ReactiveEffect, watch as watch$1, customRef, isProxy, proxyRefs, markRaw, EffectScope, computed as computed$1, isReadonly } from '@vue/reactivity';\nexport { EffectScope, ReactiveEffect, TrackOpTypes, TriggerOpTypes, customRef, effect, effectScope, getCurrentScope, getCurrentWatcher, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, onWatcherCleanup, proxyRefs, reactive, readonly, ref, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, triggerRef, unref } from '@vue/reactivity';\nimport { isString, isFunction, isPromise, isArray, EMPTY_OBJ, NOOP, getGlobalThis, extend, isBuiltInDirective, hasOwn, remove, def, isOn, isReservedProp, normalizeClass, stringifyStyle, normalizeStyle, isKnownSvgAttr, isBooleanAttr, isKnownHtmlAttr, includeBooleanAttr, isRenderableAttrValue, getEscapedCssVarName, isObject, isRegExp, invokeArrayFns, toHandlerKey, capitalize, camelize, isSymbol, isGloballyAllowed, NO, hyphenate, EMPTY_ARR, toRawType, makeMap, hasChanged, looseToNumber, isModelListener, toNumber } from '@vue/shared';\nexport { camelize, capitalize, normalizeClass, normalizeProps, normalizeStyle, toDisplayString, toHandlerKey } from '@vue/shared';\n\nconst stack = [];\nfunction pushWarningContext(vnode) {\n  stack.push(vnode);\n}\nfunction popWarningContext() {\n  stack.pop();\n}\nlet isWarning = false;\nfunction warn$1(msg, ...args) {\n  if (isWarning) return;\n  isWarning = true;\n  pauseTracking();\n  const instance = stack.length ? stack[stack.length - 1].component : null;\n  const appWarnHandler = instance && instance.appContext.config.warnHandler;\n  const trace = getComponentTrace();\n  if (appWarnHandler) {\n    callWithErrorHandling(\n      appWarnHandler,\n      instance,\n      11,\n      [\n        // eslint-disable-next-line no-restricted-syntax\n        msg + args.map((a) => {\n          var _a, _b;\n          return (_b = (_a = a.toString) == null ? void 0 : _a.call(a)) != null ? _b : JSON.stringify(a);\n        }).join(\"\"),\n        instance && instance.proxy,\n        trace.map(\n          ({ vnode }) => `at <${formatComponentName(instance, vnode.type)}>`\n        ).join(\"\\n\"),\n        trace\n      ]\n    );\n  } else {\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args];\n    if (trace.length && // avoid spamming console during tests\n    true) {\n      warnArgs.push(`\n`, ...formatTrace(trace));\n    }\n    console.warn(...warnArgs);\n  }\n  resetTracking();\n  isWarning = false;\n}\nfunction getComponentTrace() {\n  let currentVNode = stack[stack.length - 1];\n  if (!currentVNode) {\n    return [];\n  }\n  const normalizedStack = [];\n  while (currentVNode) {\n    const last = normalizedStack[0];\n    if (last && last.vnode === currentVNode) {\n      last.recurseCount++;\n    } else {\n      normalizedStack.push({\n        vnode: currentVNode,\n        recurseCount: 0\n      });\n    }\n    const parentInstance = currentVNode.component && currentVNode.component.parent;\n    currentVNode = parentInstance && parentInstance.vnode;\n  }\n  return normalizedStack;\n}\nfunction formatTrace(trace) {\n  const logs = [];\n  trace.forEach((entry, i) => {\n    logs.push(...i === 0 ? [] : [`\n`], ...formatTraceEntry(entry));\n  });\n  return logs;\n}\nfunction formatTraceEntry({ vnode, recurseCount }) {\n  const postfix = recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``;\n  const isRoot = vnode.component ? vnode.component.parent == null : false;\n  const open = ` at <${formatComponentName(\n    vnode.component,\n    vnode.type,\n    isRoot\n  )}`;\n  const close = `>` + postfix;\n  return vnode.props ? [open, ...formatProps(vnode.props), close] : [open + close];\n}\nfunction formatProps(props) {\n  const res = [];\n  const keys = Object.keys(props);\n  keys.slice(0, 3).forEach((key) => {\n    res.push(...formatProp(key, props[key]));\n  });\n  if (keys.length > 3) {\n    res.push(` ...`);\n  }\n  return res;\n}\nfunction formatProp(key, value, raw) {\n  if (isString(value)) {\n    value = JSON.stringify(value);\n    return raw ? value : [`${key}=${value}`];\n  } else if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return raw ? value : [`${key}=${value}`];\n  } else if (isRef(value)) {\n    value = formatProp(key, toRaw(value.value), true);\n    return raw ? value : [`${key}=Ref<`, value, `>`];\n  } else if (isFunction(value)) {\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`];\n  } else {\n    value = toRaw(value);\n    return raw ? value : [`${key}=`, value];\n  }\n}\nfunction assertNumber(val, type) {\n  if (!!!(process.env.NODE_ENV !== \"production\")) return;\n  if (val === void 0) {\n    return;\n  } else if (typeof val !== \"number\") {\n    warn$1(`${type} is not a valid number - got ${JSON.stringify(val)}.`);\n  } else if (isNaN(val)) {\n    warn$1(`${type} is NaN - the duration expression might be incorrect.`);\n  }\n}\n\nconst ErrorCodes = {\n  \"SETUP_FUNCTION\": 0,\n  \"0\": \"SETUP_FUNCTION\",\n  \"RENDER_FUNCTION\": 1,\n  \"1\": \"RENDER_FUNCTION\",\n  \"NATIVE_EVENT_HANDLER\": 5,\n  \"5\": \"NATIVE_EVENT_HANDLER\",\n  \"COMPONENT_EVENT_HANDLER\": 6,\n  \"6\": \"COMPONENT_EVENT_HANDLER\",\n  \"VNODE_HOOK\": 7,\n  \"7\": \"VNODE_HOOK\",\n  \"DIRECTIVE_HOOK\": 8,\n  \"8\": \"DIRECTIVE_HOOK\",\n  \"TRANSITION_HOOK\": 9,\n  \"9\": \"TRANSITION_HOOK\",\n  \"APP_ERROR_HANDLER\": 10,\n  \"10\": \"APP_ERROR_HANDLER\",\n  \"APP_WARN_HANDLER\": 11,\n  \"11\": \"APP_WARN_HANDLER\",\n  \"FUNCTION_REF\": 12,\n  \"12\": \"FUNCTION_REF\",\n  \"ASYNC_COMPONENT_LOADER\": 13,\n  \"13\": \"ASYNC_COMPONENT_LOADER\",\n  \"SCHEDULER\": 14,\n  \"14\": \"SCHEDULER\",\n  \"COMPONENT_UPDATE\": 15,\n  \"15\": \"COMPONENT_UPDATE\",\n  \"APP_UNMOUNT_CLEANUP\": 16,\n  \"16\": \"APP_UNMOUNT_CLEANUP\"\n};\nconst ErrorTypeStrings$1 = {\n  [\"sp\"]: \"serverPrefetch hook\",\n  [\"bc\"]: \"beforeCreate hook\",\n  [\"c\"]: \"created hook\",\n  [\"bm\"]: \"beforeMount hook\",\n  [\"m\"]: \"mounted hook\",\n  [\"bu\"]: \"beforeUpdate hook\",\n  [\"u\"]: \"updated\",\n  [\"bum\"]: \"beforeUnmount hook\",\n  [\"um\"]: \"unmounted hook\",\n  [\"a\"]: \"activated hook\",\n  [\"da\"]: \"deactivated hook\",\n  [\"ec\"]: \"errorCaptured hook\",\n  [\"rtc\"]: \"renderTracked hook\",\n  [\"rtg\"]: \"renderTriggered hook\",\n  [0]: \"setup function\",\n  [1]: \"render function\",\n  [2]: \"watcher getter\",\n  [3]: \"watcher callback\",\n  [4]: \"watcher cleanup function\",\n  [5]: \"native event handler\",\n  [6]: \"component event handler\",\n  [7]: \"vnode hook\",\n  [8]: \"directive hook\",\n  [9]: \"transition hook\",\n  [10]: \"app errorHandler\",\n  [11]: \"app warnHandler\",\n  [12]: \"ref function\",\n  [13]: \"async component loader\",\n  [14]: \"scheduler flush\",\n  [15]: \"component update\",\n  [16]: \"app unmount cleanup function\"\n};\nfunction callWithErrorHandling(fn, instance, type, args) {\n  try {\n    return args ? fn(...args) : fn();\n  } catch (err) {\n    handleError(err, instance, type);\n  }\n}\nfunction callWithAsyncErrorHandling(fn, instance, type, args) {\n  if (isFunction(fn)) {\n    const res = callWithErrorHandling(fn, instance, type, args);\n    if (res && isPromise(res)) {\n      res.catch((err) => {\n        handleError(err, instance, type);\n      });\n    }\n    return res;\n  }\n  if (isArray(fn)) {\n    const values = [];\n    for (let i = 0; i < fn.length; i++) {\n      values.push(callWithAsyncErrorHandling(fn[i], instance, type, args));\n    }\n    return values;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `Invalid value type passed to callWithAsyncErrorHandling(): ${typeof fn}`\n    );\n  }\n}\nfunction handleError(err, instance, type, throwInDev = true) {\n  const contextVNode = instance ? instance.vnode : null;\n  const { errorHandler, throwUnhandledErrorInProduction } = instance && instance.appContext.config || EMPTY_OBJ;\n  if (instance) {\n    let cur = instance.parent;\n    const exposedInstance = instance.proxy;\n    const errorInfo = !!(process.env.NODE_ENV !== \"production\") ? ErrorTypeStrings$1[type] : `https://vuejs.org/error-reference/#runtime-${type}`;\n    while (cur) {\n      const errorCapturedHooks = cur.ec;\n      if (errorCapturedHooks) {\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo) === false) {\n            return;\n          }\n        }\n      }\n      cur = cur.parent;\n    }\n    if (errorHandler) {\n      pauseTracking();\n      callWithErrorHandling(errorHandler, null, 10, [\n        err,\n        exposedInstance,\n        errorInfo\n      ]);\n      resetTracking();\n      return;\n    }\n  }\n  logError(err, type, contextVNode, throwInDev, throwUnhandledErrorInProduction);\n}\nfunction logError(err, type, contextVNode, throwInDev = true, throwInProd = false) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const info = ErrorTypeStrings$1[type];\n    if (contextVNode) {\n      pushWarningContext(contextVNode);\n    }\n    warn$1(`Unhandled error${info ? ` during execution of ${info}` : ``}`);\n    if (contextVNode) {\n      popWarningContext();\n    }\n    if (throwInDev) {\n      throw err;\n    } else {\n      console.error(err);\n    }\n  } else if (throwInProd) {\n    throw err;\n  } else {\n    console.error(err);\n  }\n}\n\nconst queue = [];\nlet flushIndex = -1;\nconst pendingPostFlushCbs = [];\nlet activePostFlushCbs = null;\nlet postFlushIndex = 0;\nconst resolvedPromise = /* @__PURE__ */ Promise.resolve();\nlet currentFlushPromise = null;\nconst RECURSION_LIMIT = 100;\nfunction nextTick(fn) {\n  const p = currentFlushPromise || resolvedPromise;\n  return fn ? p.then(this ? fn.bind(this) : fn) : p;\n}\nfunction findInsertionIndex(id) {\n  let start = flushIndex + 1;\n  let end = queue.length;\n  while (start < end) {\n    const middle = start + end >>> 1;\n    const middleJob = queue[middle];\n    const middleJobId = getId(middleJob);\n    if (middleJobId < id || middleJobId === id && middleJob.flags & 2) {\n      start = middle + 1;\n    } else {\n      end = middle;\n    }\n  }\n  return start;\n}\nfunction queueJob(job) {\n  if (!(job.flags & 1)) {\n    const jobId = getId(job);\n    const lastJob = queue[queue.length - 1];\n    if (!lastJob || // fast path when the job id is larger than the tail\n    !(job.flags & 2) && jobId >= getId(lastJob)) {\n      queue.push(job);\n    } else {\n      queue.splice(findInsertionIndex(jobId), 0, job);\n    }\n    job.flags |= 1;\n    queueFlush();\n  }\n}\nfunction queueFlush() {\n  if (!currentFlushPromise) {\n    currentFlushPromise = resolvedPromise.then(flushJobs);\n  }\n}\nfunction queuePostFlushCb(cb) {\n  if (!isArray(cb)) {\n    if (activePostFlushCbs && cb.id === -1) {\n      activePostFlushCbs.splice(postFlushIndex + 1, 0, cb);\n    } else if (!(cb.flags & 1)) {\n      pendingPostFlushCbs.push(cb);\n      cb.flags |= 1;\n    }\n  } else {\n    pendingPostFlushCbs.push(...cb);\n  }\n  queueFlush();\n}\nfunction flushPreFlushCbs(instance, seen, i = flushIndex + 1) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  for (; i < queue.length; i++) {\n    const cb = queue[i];\n    if (cb && cb.flags & 2) {\n      if (instance && cb.id !== instance.uid) {\n        continue;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      queue.splice(i, 1);\n      i--;\n      if (cb.flags & 4) {\n        cb.flags &= ~1;\n      }\n      cb();\n      if (!(cb.flags & 4)) {\n        cb.flags &= ~1;\n      }\n    }\n  }\n}\nfunction flushPostFlushCbs(seen) {\n  if (pendingPostFlushCbs.length) {\n    const deduped = [...new Set(pendingPostFlushCbs)].sort(\n      (a, b) => getId(a) - getId(b)\n    );\n    pendingPostFlushCbs.length = 0;\n    if (activePostFlushCbs) {\n      activePostFlushCbs.push(...deduped);\n      return;\n    }\n    activePostFlushCbs = deduped;\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      seen = seen || /* @__PURE__ */ new Map();\n    }\n    for (postFlushIndex = 0; postFlushIndex < activePostFlushCbs.length; postFlushIndex++) {\n      const cb = activePostFlushCbs[postFlushIndex];\n      if (!!(process.env.NODE_ENV !== \"production\") && checkRecursiveUpdates(seen, cb)) {\n        continue;\n      }\n      if (cb.flags & 4) {\n        cb.flags &= ~1;\n      }\n      if (!(cb.flags & 8)) cb();\n      cb.flags &= ~1;\n    }\n    activePostFlushCbs = null;\n    postFlushIndex = 0;\n  }\n}\nconst getId = (job) => job.id == null ? job.flags & 2 ? -1 : Infinity : job.id;\nfunction flushJobs(seen) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    seen = seen || /* @__PURE__ */ new Map();\n  }\n  const check = !!(process.env.NODE_ENV !== \"production\") ? (job) => checkRecursiveUpdates(seen, job) : NOOP;\n  try {\n    for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job && !(job.flags & 8)) {\n        if (!!(process.env.NODE_ENV !== \"production\") && check(job)) {\n          continue;\n        }\n        if (job.flags & 4) {\n          job.flags &= ~1;\n        }\n        callWithErrorHandling(\n          job,\n          job.i,\n          job.i ? 15 : 14\n        );\n        if (!(job.flags & 4)) {\n          job.flags &= ~1;\n        }\n      }\n    }\n  } finally {\n    for (; flushIndex < queue.length; flushIndex++) {\n      const job = queue[flushIndex];\n      if (job) {\n        job.flags &= ~1;\n      }\n    }\n    flushIndex = -1;\n    queue.length = 0;\n    flushPostFlushCbs(seen);\n    currentFlushPromise = null;\n    if (queue.length || pendingPostFlushCbs.length) {\n      flushJobs(seen);\n    }\n  }\n}\nfunction checkRecursiveUpdates(seen, fn) {\n  const count = seen.get(fn) || 0;\n  if (count > RECURSION_LIMIT) {\n    const instance = fn.i;\n    const componentName = instance && getComponentName(instance.type);\n    handleError(\n      `Maximum recursive updates exceeded${componentName ? ` in component <${componentName}>` : ``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,\n      null,\n      10\n    );\n    return true;\n  }\n  seen.set(fn, count + 1);\n  return false;\n}\n\nlet isHmrUpdating = false;\nconst hmrDirtyComponents = /* @__PURE__ */ new Map();\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  getGlobalThis().__VUE_HMR_RUNTIME__ = {\n    createRecord: tryWrap(createRecord),\n    rerender: tryWrap(rerender),\n    reload: tryWrap(reload)\n  };\n}\nconst map = /* @__PURE__ */ new Map();\nfunction registerHMR(instance) {\n  const id = instance.type.__hmrId;\n  let record = map.get(id);\n  if (!record) {\n    createRecord(id, instance.type);\n    record = map.get(id);\n  }\n  record.instances.add(instance);\n}\nfunction unregisterHMR(instance) {\n  map.get(instance.type.__hmrId).instances.delete(instance);\n}\nfunction createRecord(id, initialDef) {\n  if (map.has(id)) {\n    return false;\n  }\n  map.set(id, {\n    initialDef: normalizeClassComponent(initialDef),\n    instances: /* @__PURE__ */ new Set()\n  });\n  return true;\n}\nfunction normalizeClassComponent(component) {\n  return isClassComponent(component) ? component.__vccOpts : component;\n}\nfunction rerender(id, newRender) {\n  const record = map.get(id);\n  if (!record) {\n    return;\n  }\n  record.initialDef.render = newRender;\n  [...record.instances].forEach((instance) => {\n    if (newRender) {\n      instance.render = newRender;\n      normalizeClassComponent(instance.type).render = newRender;\n    }\n    instance.renderCache = [];\n    isHmrUpdating = true;\n    instance.update();\n    isHmrUpdating = false;\n  });\n}\nfunction reload(id, newComp) {\n  const record = map.get(id);\n  if (!record) return;\n  newComp = normalizeClassComponent(newComp);\n  updateComponentDef(record.initialDef, newComp);\n  const instances = [...record.instances];\n  for (let i = 0; i < instances.length; i++) {\n    const instance = instances[i];\n    const oldComp = normalizeClassComponent(instance.type);\n    let dirtyInstances = hmrDirtyComponents.get(oldComp);\n    if (!dirtyInstances) {\n      if (oldComp !== record.initialDef) {\n        updateComponentDef(oldComp, newComp);\n      }\n      hmrDirtyComponents.set(oldComp, dirtyInstances = /* @__PURE__ */ new Set());\n    }\n    dirtyInstances.add(instance);\n    instance.appContext.propsCache.delete(instance.type);\n    instance.appContext.emitsCache.delete(instance.type);\n    instance.appContext.optionsCache.delete(instance.type);\n    if (instance.ceReload) {\n      dirtyInstances.add(instance);\n      instance.ceReload(newComp.styles);\n      dirtyInstances.delete(instance);\n    } else if (instance.parent) {\n      queueJob(() => {\n        isHmrUpdating = true;\n        instance.parent.update();\n        isHmrUpdating = false;\n        dirtyInstances.delete(instance);\n      });\n    } else if (instance.appContext.reload) {\n      instance.appContext.reload();\n    } else if (typeof window !== \"undefined\") {\n      window.location.reload();\n    } else {\n      console.warn(\n        \"[HMR] Root or manually mounted instance modified. Full reload required.\"\n      );\n    }\n    if (instance.root.ce && instance !== instance.root) {\n      instance.root.ce._removeChildStyle(oldComp);\n    }\n  }\n  queuePostFlushCb(() => {\n    hmrDirtyComponents.clear();\n  });\n}\nfunction updateComponentDef(oldComp, newComp) {\n  extend(oldComp, newComp);\n  for (const key in oldComp) {\n    if (key !== \"__file\" && !(key in newComp)) {\n      delete oldComp[key];\n    }\n  }\n}\nfunction tryWrap(fn) {\n  return (id, arg) => {\n    try {\n      return fn(id, arg);\n    } catch (e) {\n      console.error(e);\n      console.warn(\n        `[HMR] Something went wrong during Vue component hot-reload. Full reload required.`\n      );\n    }\n  };\n}\n\nlet devtools$1;\nlet buffer = [];\nlet devtoolsNotInstalled = false;\nfunction emit$1(event, ...args) {\n  if (devtools$1) {\n    devtools$1.emit(event, ...args);\n  } else if (!devtoolsNotInstalled) {\n    buffer.push({ event, args });\n  }\n}\nfunction setDevtoolsHook$1(hook, target) {\n  var _a, _b;\n  devtools$1 = hook;\n  if (devtools$1) {\n    devtools$1.enabled = true;\n    buffer.forEach(({ event, args }) => devtools$1.emit(event, ...args));\n    buffer = [];\n  } else if (\n    // handle late devtools injection - only do this if we are in an actual\n    // browser environment to avoid the timer handle stalling test runner exit\n    // (#4815)\n    typeof window !== \"undefined\" && // some envs mock window but not fully\n    window.HTMLElement && // also exclude jsdom\n    // eslint-disable-next-line no-restricted-syntax\n    !((_b = (_a = window.navigator) == null ? void 0 : _a.userAgent) == null ? void 0 : _b.includes(\"jsdom\"))\n  ) {\n    const replay = target.__VUE_DEVTOOLS_HOOK_REPLAY__ = target.__VUE_DEVTOOLS_HOOK_REPLAY__ || [];\n    replay.push((newHook) => {\n      setDevtoolsHook$1(newHook, target);\n    });\n    setTimeout(() => {\n      if (!devtools$1) {\n        target.__VUE_DEVTOOLS_HOOK_REPLAY__ = null;\n        devtoolsNotInstalled = true;\n        buffer = [];\n      }\n    }, 3e3);\n  } else {\n    devtoolsNotInstalled = true;\n    buffer = [];\n  }\n}\nfunction devtoolsInitApp(app, version) {\n  emit$1(\"app:init\" /* APP_INIT */, app, version, {\n    Fragment,\n    Text,\n    Comment,\n    Static\n  });\n}\nfunction devtoolsUnmountApp(app) {\n  emit$1(\"app:unmount\" /* APP_UNMOUNT */, app);\n}\nconst devtoolsComponentAdded = /* @__PURE__ */ createDevtoolsComponentHook(\"component:added\" /* COMPONENT_ADDED */);\nconst devtoolsComponentUpdated = /* @__PURE__ */ createDevtoolsComponentHook(\"component:updated\" /* COMPONENT_UPDATED */);\nconst _devtoolsComponentRemoved = /* @__PURE__ */ createDevtoolsComponentHook(\n  \"component:removed\" /* COMPONENT_REMOVED */\n);\nconst devtoolsComponentRemoved = (component) => {\n  if (devtools$1 && typeof devtools$1.cleanupBuffer === \"function\" && // remove the component if it wasn't buffered\n  !devtools$1.cleanupBuffer(component)) {\n    _devtoolsComponentRemoved(component);\n  }\n};\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction createDevtoolsComponentHook(hook) {\n  return (component) => {\n    emit$1(\n      hook,\n      component.appContext.app,\n      component.uid,\n      component.parent ? component.parent.uid : void 0,\n      component\n    );\n  };\n}\nconst devtoolsPerfStart = /* @__PURE__ */ createDevtoolsPerformanceHook(\"perf:start\" /* PERFORMANCE_START */);\nconst devtoolsPerfEnd = /* @__PURE__ */ createDevtoolsPerformanceHook(\"perf:end\" /* PERFORMANCE_END */);\nfunction createDevtoolsPerformanceHook(hook) {\n  return (component, type, time) => {\n    emit$1(hook, component.appContext.app, component.uid, component, type, time);\n  };\n}\nfunction devtoolsComponentEmit(component, event, params) {\n  emit$1(\n    \"component:emit\" /* COMPONENT_EMIT */,\n    component.appContext.app,\n    component,\n    event,\n    params\n  );\n}\n\nlet currentRenderingInstance = null;\nlet currentScopeId = null;\nfunction setCurrentRenderingInstance(instance) {\n  const prev = currentRenderingInstance;\n  currentRenderingInstance = instance;\n  currentScopeId = instance && instance.type.__scopeId || null;\n  return prev;\n}\nfunction pushScopeId(id) {\n  currentScopeId = id;\n}\nfunction popScopeId() {\n  currentScopeId = null;\n}\nconst withScopeId = (_id) => withCtx;\nfunction withCtx(fn, ctx = currentRenderingInstance, isNonScopedSlot) {\n  if (!ctx) return fn;\n  if (fn._n) {\n    return fn;\n  }\n  const renderFnWithContext = (...args) => {\n    if (renderFnWithContext._d) {\n      setBlockTracking(-1);\n    }\n    const prevInstance = setCurrentRenderingInstance(ctx);\n    let res;\n    try {\n      res = fn(...args);\n    } finally {\n      setCurrentRenderingInstance(prevInstance);\n      if (renderFnWithContext._d) {\n        setBlockTracking(1);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentUpdated(ctx);\n    }\n    return res;\n  };\n  renderFnWithContext._n = true;\n  renderFnWithContext._c = true;\n  renderFnWithContext._d = true;\n  return renderFnWithContext;\n}\n\nfunction validateDirectiveName(name) {\n  if (isBuiltInDirective(name)) {\n    warn$1(\"Do not use built-in directive ids as custom directive id: \" + name);\n  }\n}\nfunction withDirectives(vnode, directives) {\n  if (currentRenderingInstance === null) {\n    !!(process.env.NODE_ENV !== \"production\") && warn$1(`withDirectives can only be used inside render functions.`);\n    return vnode;\n  }\n  const instance = getComponentPublicInstance(currentRenderingInstance);\n  const bindings = vnode.dirs || (vnode.dirs = []);\n  for (let i = 0; i < directives.length; i++) {\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i];\n    if (dir) {\n      if (isFunction(dir)) {\n        dir = {\n          mounted: dir,\n          updated: dir\n        };\n      }\n      if (dir.deep) {\n        traverse(value);\n      }\n      bindings.push({\n        dir,\n        instance,\n        value,\n        oldValue: void 0,\n        arg,\n        modifiers\n      });\n    }\n  }\n  return vnode;\n}\nfunction invokeDirectiveHook(vnode, prevVNode, instance, name) {\n  const bindings = vnode.dirs;\n  const oldBindings = prevVNode && prevVNode.dirs;\n  for (let i = 0; i < bindings.length; i++) {\n    const binding = bindings[i];\n    if (oldBindings) {\n      binding.oldValue = oldBindings[i].value;\n    }\n    let hook = binding.dir[name];\n    if (hook) {\n      pauseTracking();\n      callWithAsyncErrorHandling(hook, instance, 8, [\n        vnode.el,\n        binding,\n        vnode,\n        prevVNode\n      ]);\n      resetTracking();\n    }\n  }\n}\n\nconst TeleportEndKey = Symbol(\"_vte\");\nconst isTeleport = (type) => type.__isTeleport;\nconst isTeleportDisabled = (props) => props && (props.disabled || props.disabled === \"\");\nconst isTeleportDeferred = (props) => props && (props.defer || props.defer === \"\");\nconst isTargetSVG = (target) => typeof SVGElement !== \"undefined\" && target instanceof SVGElement;\nconst isTargetMathML = (target) => typeof MathMLElement === \"function\" && target instanceof MathMLElement;\nconst resolveTarget = (props, select) => {\n  const targetSelector = props && props.to;\n  if (isString(targetSelector)) {\n    if (!select) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Current renderer does not support string target for Teleports. (missing querySelector renderer option)`\n      );\n      return null;\n    } else {\n      const target = select(targetSelector);\n      if (!!(process.env.NODE_ENV !== \"production\") && !target && !isTeleportDisabled(props)) {\n        warn$1(\n          `Failed to locate Teleport target with selector \"${targetSelector}\". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`\n        );\n      }\n      return target;\n    }\n  } else {\n    if (!!(process.env.NODE_ENV !== \"production\") && !targetSelector && !isTeleportDisabled(props)) {\n      warn$1(`Invalid Teleport target: ${targetSelector}`);\n    }\n    return targetSelector;\n  }\n};\nconst TeleportImpl = {\n  name: \"Teleport\",\n  __isTeleport: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, internals) {\n    const {\n      mc: mountChildren,\n      pc: patchChildren,\n      pbc: patchBlockChildren,\n      o: { insert, querySelector, createText, createComment }\n    } = internals;\n    const disabled = isTeleportDisabled(n2.props);\n    let { shapeFlag, children, dynamicChildren } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (n1 == null) {\n      const placeholder = n2.el = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport start\") : createText(\"\");\n      const mainAnchor = n2.anchor = !!(process.env.NODE_ENV !== \"production\") ? createComment(\"teleport end\") : createText(\"\");\n      insert(placeholder, container, anchor);\n      insert(mainAnchor, container, anchor);\n      const mount = (container2, anchor2) => {\n        if (shapeFlag & 16) {\n          if (parentComponent && parentComponent.isCE) {\n            parentComponent.ce._teleportTarget = container2;\n          }\n          mountChildren(\n            children,\n            container2,\n            anchor2,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      };\n      const mountToTarget = () => {\n        const target = n2.target = resolveTarget(n2.props, querySelector);\n        const targetAnchor = prepareAnchor(target, n2, createText, insert);\n        if (target) {\n          if (namespace !== \"svg\" && isTargetSVG(target)) {\n            namespace = \"svg\";\n          } else if (namespace !== \"mathml\" && isTargetMathML(target)) {\n            namespace = \"mathml\";\n          }\n          if (!disabled) {\n            mount(target, targetAnchor);\n            updateCssVars(n2, false);\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\") && !disabled) {\n          warn$1(\n            \"Invalid Teleport target on mount:\",\n            target,\n            `(${typeof target})`\n          );\n        }\n      };\n      if (disabled) {\n        mount(container, mainAnchor);\n        updateCssVars(n2, true);\n      }\n      if (isTeleportDeferred(n2.props)) {\n        queuePostRenderEffect(() => {\n          mountToTarget();\n          n2.el.__isMounted = true;\n        }, parentSuspense);\n      } else {\n        mountToTarget();\n      }\n    } else {\n      if (isTeleportDeferred(n2.props) && !n1.el.__isMounted) {\n        queuePostRenderEffect(() => {\n          TeleportImpl.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n          delete n1.el.__isMounted;\n        }, parentSuspense);\n        return;\n      }\n      n2.el = n1.el;\n      n2.targetStart = n1.targetStart;\n      const mainAnchor = n2.anchor = n1.anchor;\n      const target = n2.target = n1.target;\n      const targetAnchor = n2.targetAnchor = n1.targetAnchor;\n      const wasDisabled = isTeleportDisabled(n1.props);\n      const currentContainer = wasDisabled ? container : target;\n      const currentAnchor = wasDisabled ? mainAnchor : targetAnchor;\n      if (namespace === \"svg\" || isTargetSVG(target)) {\n        namespace = \"svg\";\n      } else if (namespace === \"mathml\" || isTargetMathML(target)) {\n        namespace = \"mathml\";\n      }\n      if (dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          currentContainer,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        traverseStaticChildren(n1, n2, true);\n      } else if (!optimized) {\n        patchChildren(\n          n1,\n          n2,\n          currentContainer,\n          currentAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          false\n        );\n      }\n      if (disabled) {\n        if (!wasDisabled) {\n          moveTeleport(\n            n2,\n            container,\n            mainAnchor,\n            internals,\n            1\n          );\n        } else {\n          if (n2.props && n1.props && n2.props.to !== n1.props.to) {\n            n2.props.to = n1.props.to;\n          }\n        }\n      } else {\n        if ((n2.props && n2.props.to) !== (n1.props && n1.props.to)) {\n          const nextTarget = n2.target = resolveTarget(\n            n2.props,\n            querySelector\n          );\n          if (nextTarget) {\n            moveTeleport(\n              n2,\n              nextTarget,\n              null,\n              internals,\n              0\n            );\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Invalid Teleport target on update:\",\n              target,\n              `(${typeof target})`\n            );\n          }\n        } else if (wasDisabled) {\n          moveTeleport(\n            n2,\n            target,\n            targetAnchor,\n            internals,\n            1\n          );\n        }\n      }\n      updateCssVars(n2, disabled);\n    }\n  },\n  remove(vnode, parentComponent, parentSuspense, { um: unmount, o: { remove: hostRemove } }, doRemove) {\n    const {\n      shapeFlag,\n      children,\n      anchor,\n      targetStart,\n      targetAnchor,\n      target,\n      props\n    } = vnode;\n    if (target) {\n      hostRemove(targetStart);\n      hostRemove(targetAnchor);\n    }\n    doRemove && hostRemove(anchor);\n    if (shapeFlag & 16) {\n      const shouldRemove = doRemove || !isTeleportDisabled(props);\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        unmount(\n          child,\n          parentComponent,\n          parentSuspense,\n          shouldRemove,\n          !!child.dynamicChildren\n        );\n      }\n    }\n  },\n  move: moveTeleport,\n  hydrate: hydrateTeleport\n};\nfunction moveTeleport(vnode, container, parentAnchor, { o: { insert }, m: move }, moveType = 2) {\n  if (moveType === 0) {\n    insert(vnode.targetAnchor, container, parentAnchor);\n  }\n  const { el, anchor, shapeFlag, children, props } = vnode;\n  const isReorder = moveType === 2;\n  if (isReorder) {\n    insert(el, container, parentAnchor);\n  }\n  if (!isReorder || isTeleportDisabled(props)) {\n    if (shapeFlag & 16) {\n      for (let i = 0; i < children.length; i++) {\n        move(\n          children[i],\n          container,\n          parentAnchor,\n          2\n        );\n      }\n    }\n  }\n  if (isReorder) {\n    insert(anchor, container, parentAnchor);\n  }\n}\nfunction hydrateTeleport(node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized, {\n  o: { nextSibling, parentNode, querySelector, insert, createText }\n}, hydrateChildren) {\n  const target = vnode.target = resolveTarget(\n    vnode.props,\n    querySelector\n  );\n  if (target) {\n    const disabled = isTeleportDisabled(vnode.props);\n    const targetNode = target._lpa || target.firstChild;\n    if (vnode.shapeFlag & 16) {\n      if (disabled) {\n        vnode.anchor = hydrateChildren(\n          nextSibling(node),\n          vnode,\n          parentNode(node),\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        vnode.targetStart = targetNode;\n        vnode.targetAnchor = targetNode && nextSibling(targetNode);\n      } else {\n        vnode.anchor = nextSibling(node);\n        let targetAnchor = targetNode;\n        while (targetAnchor) {\n          if (targetAnchor && targetAnchor.nodeType === 8) {\n            if (targetAnchor.data === \"teleport start anchor\") {\n              vnode.targetStart = targetAnchor;\n            } else if (targetAnchor.data === \"teleport anchor\") {\n              vnode.targetAnchor = targetAnchor;\n              target._lpa = vnode.targetAnchor && nextSibling(vnode.targetAnchor);\n              break;\n            }\n          }\n          targetAnchor = nextSibling(targetAnchor);\n        }\n        if (!vnode.targetAnchor) {\n          prepareAnchor(target, vnode, createText, insert);\n        }\n        hydrateChildren(\n          targetNode && nextSibling(targetNode),\n          vnode,\n          target,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n    updateCssVars(vnode, disabled);\n  }\n  return vnode.anchor && nextSibling(vnode.anchor);\n}\nconst Teleport = TeleportImpl;\nfunction updateCssVars(vnode, isDisabled) {\n  const ctx = vnode.ctx;\n  if (ctx && ctx.ut) {\n    let node, anchor;\n    if (isDisabled) {\n      node = vnode.el;\n      anchor = vnode.anchor;\n    } else {\n      node = vnode.targetStart;\n      anchor = vnode.targetAnchor;\n    }\n    while (node && node !== anchor) {\n      if (node.nodeType === 1) node.setAttribute(\"data-v-owner\", ctx.uid);\n      node = node.nextSibling;\n    }\n    ctx.ut();\n  }\n}\nfunction prepareAnchor(target, vnode, createText, insert) {\n  const targetStart = vnode.targetStart = createText(\"\");\n  const targetAnchor = vnode.targetAnchor = createText(\"\");\n  targetStart[TeleportEndKey] = targetAnchor;\n  if (target) {\n    insert(targetStart, target);\n    insert(targetAnchor, target);\n  }\n  return targetAnchor;\n}\n\nconst leaveCbKey = Symbol(\"_leaveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nfunction useTransitionState() {\n  const state = {\n    isMounted: false,\n    isLeaving: false,\n    isUnmounting: false,\n    leavingVNodes: /* @__PURE__ */ new Map()\n  };\n  onMounted(() => {\n    state.isMounted = true;\n  });\n  onBeforeUnmount(() => {\n    state.isUnmounting = true;\n  });\n  return state;\n}\nconst TransitionHookValidator = [Function, Array];\nconst BaseTransitionPropsValidators = {\n  mode: String,\n  appear: Boolean,\n  persisted: Boolean,\n  // enter\n  onBeforeEnter: TransitionHookValidator,\n  onEnter: TransitionHookValidator,\n  onAfterEnter: TransitionHookValidator,\n  onEnterCancelled: TransitionHookValidator,\n  // leave\n  onBeforeLeave: TransitionHookValidator,\n  onLeave: TransitionHookValidator,\n  onAfterLeave: TransitionHookValidator,\n  onLeaveCancelled: TransitionHookValidator,\n  // appear\n  onBeforeAppear: TransitionHookValidator,\n  onAppear: TransitionHookValidator,\n  onAfterAppear: TransitionHookValidator,\n  onAppearCancelled: TransitionHookValidator\n};\nconst recursiveGetSubtree = (instance) => {\n  const subTree = instance.subTree;\n  return subTree.component ? recursiveGetSubtree(subTree.component) : subTree;\n};\nconst BaseTransitionImpl = {\n  name: `BaseTransition`,\n  props: BaseTransitionPropsValidators,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    return () => {\n      const children = slots.default && getTransitionRawChildren(slots.default(), true);\n      if (!children || !children.length) {\n        return;\n      }\n      const child = findNonCommentChild(children);\n      const rawProps = toRaw(props);\n      const { mode } = rawProps;\n      if (!!(process.env.NODE_ENV !== \"production\") && mode && mode !== \"in-out\" && mode !== \"out-in\" && mode !== \"default\") {\n        warn$1(`invalid <transition> mode: ${mode}`);\n      }\n      if (state.isLeaving) {\n        return emptyPlaceholder(child);\n      }\n      const innerChild = getInnerChild$1(child);\n      if (!innerChild) {\n        return emptyPlaceholder(child);\n      }\n      let enterHooks = resolveTransitionHooks(\n        innerChild,\n        rawProps,\n        state,\n        instance,\n        // #11061, ensure enterHooks is fresh after clone\n        (hooks) => enterHooks = hooks\n      );\n      if (innerChild.type !== Comment) {\n        setTransitionHooks(innerChild, enterHooks);\n      }\n      let oldInnerChild = instance.subTree && getInnerChild$1(instance.subTree);\n      if (oldInnerChild && oldInnerChild.type !== Comment && !isSameVNodeType(innerChild, oldInnerChild) && recursiveGetSubtree(instance).type !== Comment) {\n        let leavingHooks = resolveTransitionHooks(\n          oldInnerChild,\n          rawProps,\n          state,\n          instance\n        );\n        setTransitionHooks(oldInnerChild, leavingHooks);\n        if (mode === \"out-in\" && innerChild.type !== Comment) {\n          state.isLeaving = true;\n          leavingHooks.afterLeave = () => {\n            state.isLeaving = false;\n            if (!(instance.job.flags & 8)) {\n              instance.update();\n            }\n            delete leavingHooks.afterLeave;\n            oldInnerChild = void 0;\n          };\n          return emptyPlaceholder(child);\n        } else if (mode === \"in-out\" && innerChild.type !== Comment) {\n          leavingHooks.delayLeave = (el, earlyRemove, delayedLeave) => {\n            const leavingVNodesCache = getLeavingNodesForType(\n              state,\n              oldInnerChild\n            );\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild;\n            el[leaveCbKey] = () => {\n              earlyRemove();\n              el[leaveCbKey] = void 0;\n              delete enterHooks.delayedLeave;\n              oldInnerChild = void 0;\n            };\n            enterHooks.delayedLeave = () => {\n              delayedLeave();\n              delete enterHooks.delayedLeave;\n              oldInnerChild = void 0;\n            };\n          };\n        } else {\n          oldInnerChild = void 0;\n        }\n      } else if (oldInnerChild) {\n        oldInnerChild = void 0;\n      }\n      return child;\n    };\n  }\n};\nfunction findNonCommentChild(children) {\n  let child = children[0];\n  if (children.length > 1) {\n    let hasFound = false;\n    for (const c of children) {\n      if (c.type !== Comment) {\n        if (!!(process.env.NODE_ENV !== \"production\") && hasFound) {\n          warn$1(\n            \"<transition> can only be used on a single element or component. Use <transition-group> for lists.\"\n          );\n          break;\n        }\n        child = c;\n        hasFound = true;\n        if (!!!(process.env.NODE_ENV !== \"production\")) break;\n      }\n    }\n  }\n  return child;\n}\nconst BaseTransition = BaseTransitionImpl;\nfunction getLeavingNodesForType(state, vnode) {\n  const { leavingVNodes } = state;\n  let leavingVNodesCache = leavingVNodes.get(vnode.type);\n  if (!leavingVNodesCache) {\n    leavingVNodesCache = /* @__PURE__ */ Object.create(null);\n    leavingVNodes.set(vnode.type, leavingVNodesCache);\n  }\n  return leavingVNodesCache;\n}\nfunction resolveTransitionHooks(vnode, props, state, instance, postClone) {\n  const {\n    appear,\n    mode,\n    persisted = false,\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onEnterCancelled,\n    onBeforeLeave,\n    onLeave,\n    onAfterLeave,\n    onLeaveCancelled,\n    onBeforeAppear,\n    onAppear,\n    onAfterAppear,\n    onAppearCancelled\n  } = props;\n  const key = String(vnode.key);\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode);\n  const callHook = (hook, args) => {\n    hook && callWithAsyncErrorHandling(\n      hook,\n      instance,\n      9,\n      args\n    );\n  };\n  const callAsyncHook = (hook, args) => {\n    const done = args[1];\n    callHook(hook, args);\n    if (isArray(hook)) {\n      if (hook.every((hook2) => hook2.length <= 1)) done();\n    } else if (hook.length <= 1) {\n      done();\n    }\n  };\n  const hooks = {\n    mode,\n    persisted,\n    beforeEnter(el) {\n      let hook = onBeforeEnter;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onBeforeAppear || onBeforeEnter;\n        } else {\n          return;\n        }\n      }\n      if (el[leaveCbKey]) {\n        el[leaveCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      const leavingVNode = leavingVNodesCache[key];\n      if (leavingVNode && isSameVNodeType(vnode, leavingVNode) && leavingVNode.el[leaveCbKey]) {\n        leavingVNode.el[leaveCbKey]();\n      }\n      callHook(hook, [el]);\n    },\n    enter(el) {\n      let hook = onEnter;\n      let afterHook = onAfterEnter;\n      let cancelHook = onEnterCancelled;\n      if (!state.isMounted) {\n        if (appear) {\n          hook = onAppear || onEnter;\n          afterHook = onAfterAppear || onAfterEnter;\n          cancelHook = onAppearCancelled || onEnterCancelled;\n        } else {\n          return;\n        }\n      }\n      let called = false;\n      const done = el[enterCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        if (cancelled) {\n          callHook(cancelHook, [el]);\n        } else {\n          callHook(afterHook, [el]);\n        }\n        if (hooks.delayedLeave) {\n          hooks.delayedLeave();\n        }\n        el[enterCbKey] = void 0;\n      };\n      if (hook) {\n        callAsyncHook(hook, [el, done]);\n      } else {\n        done();\n      }\n    },\n    leave(el, remove) {\n      const key2 = String(vnode.key);\n      if (el[enterCbKey]) {\n        el[enterCbKey](\n          true\n          /* cancelled */\n        );\n      }\n      if (state.isUnmounting) {\n        return remove();\n      }\n      callHook(onBeforeLeave, [el]);\n      let called = false;\n      const done = el[leaveCbKey] = (cancelled) => {\n        if (called) return;\n        called = true;\n        remove();\n        if (cancelled) {\n          callHook(onLeaveCancelled, [el]);\n        } else {\n          callHook(onAfterLeave, [el]);\n        }\n        el[leaveCbKey] = void 0;\n        if (leavingVNodesCache[key2] === vnode) {\n          delete leavingVNodesCache[key2];\n        }\n      };\n      leavingVNodesCache[key2] = vnode;\n      if (onLeave) {\n        callAsyncHook(onLeave, [el, done]);\n      } else {\n        done();\n      }\n    },\n    clone(vnode2) {\n      const hooks2 = resolveTransitionHooks(\n        vnode2,\n        props,\n        state,\n        instance,\n        postClone\n      );\n      if (postClone) postClone(hooks2);\n      return hooks2;\n    }\n  };\n  return hooks;\n}\nfunction emptyPlaceholder(vnode) {\n  if (isKeepAlive(vnode)) {\n    vnode = cloneVNode(vnode);\n    vnode.children = null;\n    return vnode;\n  }\n}\nfunction getInnerChild$1(vnode) {\n  if (!isKeepAlive(vnode)) {\n    if (isTeleport(vnode.type) && vnode.children) {\n      return findNonCommentChild(vnode.children);\n    }\n    return vnode;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.component) {\n    return vnode.component.subTree;\n  }\n  const { shapeFlag, children } = vnode;\n  if (children) {\n    if (shapeFlag & 16) {\n      return children[0];\n    }\n    if (shapeFlag & 32 && isFunction(children.default)) {\n      return children.default();\n    }\n  }\n}\nfunction setTransitionHooks(vnode, hooks) {\n  if (vnode.shapeFlag & 6 && vnode.component) {\n    vnode.transition = hooks;\n    setTransitionHooks(vnode.component.subTree, hooks);\n  } else if (vnode.shapeFlag & 128) {\n    vnode.ssContent.transition = hooks.clone(vnode.ssContent);\n    vnode.ssFallback.transition = hooks.clone(vnode.ssFallback);\n  } else {\n    vnode.transition = hooks;\n  }\n}\nfunction getTransitionRawChildren(children, keepComment = false, parentKey) {\n  let ret = [];\n  let keyedFragmentCount = 0;\n  for (let i = 0; i < children.length; i++) {\n    let child = children[i];\n    const key = parentKey == null ? child.key : String(parentKey) + String(child.key != null ? child.key : i);\n    if (child.type === Fragment) {\n      if (child.patchFlag & 128) keyedFragmentCount++;\n      ret = ret.concat(\n        getTransitionRawChildren(child.children, keepComment, key)\n      );\n    } else if (keepComment || child.type !== Comment) {\n      ret.push(key != null ? cloneVNode(child, { key }) : child);\n    }\n  }\n  if (keyedFragmentCount > 1) {\n    for (let i = 0; i < ret.length; i++) {\n      ret[i].patchFlag = -2;\n    }\n  }\n  return ret;\n}\n\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineComponent(options, extraOptions) {\n  return isFunction(options) ? (\n    // #8236: extend call and options.name access are considered side-effects\n    // by Rollup, so we have to wrap it in a pure-annotated IIFE.\n    /* @__PURE__ */ (() => extend({ name: options.name }, extraOptions, { setup: options }))()\n  ) : options;\n}\n\nfunction useId() {\n  const i = getCurrentInstance();\n  if (i) {\n    return (i.appContext.config.idPrefix || \"v\") + \"-\" + i.ids[0] + i.ids[1]++;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `useId() is called when there is no active component instance to be associated with.`\n    );\n  }\n  return \"\";\n}\nfunction markAsyncBoundary(instance) {\n  instance.ids = [instance.ids[0] + instance.ids[2]++ + \"-\", 0, 0];\n}\n\nconst knownTemplateRefs = /* @__PURE__ */ new WeakSet();\nfunction useTemplateRef(key) {\n  const i = getCurrentInstance();\n  const r = shallowRef(null);\n  if (i) {\n    const refs = i.refs === EMPTY_OBJ ? i.refs = {} : i.refs;\n    let desc;\n    if (!!(process.env.NODE_ENV !== \"production\") && (desc = Object.getOwnPropertyDescriptor(refs, key)) && !desc.configurable) {\n      warn$1(`useTemplateRef('${key}') already exists.`);\n    } else {\n      Object.defineProperty(refs, key, {\n        enumerable: true,\n        get: () => r.value,\n        set: (val) => r.value = val\n      });\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `useTemplateRef() is called when there is no active component instance to be associated with.`\n    );\n  }\n  const ret = !!(process.env.NODE_ENV !== \"production\") ? readonly(r) : r;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    knownTemplateRefs.add(ret);\n  }\n  return ret;\n}\n\nfunction setRef(rawRef, oldRawRef, parentSuspense, vnode, isUnmount = false) {\n  if (isArray(rawRef)) {\n    rawRef.forEach(\n      (r, i) => setRef(\n        r,\n        oldRawRef && (isArray(oldRawRef) ? oldRawRef[i] : oldRawRef),\n        parentSuspense,\n        vnode,\n        isUnmount\n      )\n    );\n    return;\n  }\n  if (isAsyncWrapper(vnode) && !isUnmount) {\n    if (vnode.shapeFlag & 512 && vnode.type.__asyncResolved && vnode.component.subTree.component) {\n      setRef(rawRef, oldRawRef, parentSuspense, vnode.component.subTree);\n    }\n    return;\n  }\n  const refValue = vnode.shapeFlag & 4 ? getComponentPublicInstance(vnode.component) : vnode.el;\n  const value = isUnmount ? null : refValue;\n  const { i: owner, r: ref } = rawRef;\n  if (!!(process.env.NODE_ENV !== \"production\") && !owner) {\n    warn$1(\n      `Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`\n    );\n    return;\n  }\n  const oldRef = oldRawRef && oldRawRef.r;\n  const refs = owner.refs === EMPTY_OBJ ? owner.refs = {} : owner.refs;\n  const setupState = owner.setupState;\n  const rawSetupState = toRaw(setupState);\n  const canSetSetupRef = setupState === EMPTY_OBJ ? () => false : (key) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (hasOwn(rawSetupState, key) && !isRef(rawSetupState[key])) {\n        warn$1(\n          `Template ref \"${key}\" used on a non-ref value. It will not work in the production build.`\n        );\n      }\n      if (knownTemplateRefs.has(rawSetupState[key])) {\n        return false;\n      }\n    }\n    return hasOwn(rawSetupState, key);\n  };\n  if (oldRef != null && oldRef !== ref) {\n    if (isString(oldRef)) {\n      refs[oldRef] = null;\n      if (canSetSetupRef(oldRef)) {\n        setupState[oldRef] = null;\n      }\n    } else if (isRef(oldRef)) {\n      oldRef.value = null;\n    }\n  }\n  if (isFunction(ref)) {\n    callWithErrorHandling(ref, owner, 12, [value, refs]);\n  } else {\n    const _isString = isString(ref);\n    const _isRef = isRef(ref);\n    if (_isString || _isRef) {\n      const doSet = () => {\n        if (rawRef.f) {\n          const existing = _isString ? canSetSetupRef(ref) ? setupState[ref] : refs[ref] : ref.value;\n          if (isUnmount) {\n            isArray(existing) && remove(existing, refValue);\n          } else {\n            if (!isArray(existing)) {\n              if (_isString) {\n                refs[ref] = [refValue];\n                if (canSetSetupRef(ref)) {\n                  setupState[ref] = refs[ref];\n                }\n              } else {\n                ref.value = [refValue];\n                if (rawRef.k) refs[rawRef.k] = ref.value;\n              }\n            } else if (!existing.includes(refValue)) {\n              existing.push(refValue);\n            }\n          }\n        } else if (_isString) {\n          refs[ref] = value;\n          if (canSetSetupRef(ref)) {\n            setupState[ref] = value;\n          }\n        } else if (_isRef) {\n          ref.value = value;\n          if (rawRef.k) refs[rawRef.k] = value;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n        }\n      };\n      if (value) {\n        doSet.id = -1;\n        queuePostRenderEffect(doSet, parentSuspense);\n      } else {\n        doSet();\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(\"Invalid template ref type:\", ref, `(${typeof ref})`);\n    }\n  }\n}\n\nlet hasLoggedMismatchError = false;\nconst logMismatchError = () => {\n  if (hasLoggedMismatchError) {\n    return;\n  }\n  console.error(\"Hydration completed but contains mismatches.\");\n  hasLoggedMismatchError = true;\n};\nconst isSVGContainer = (container) => container.namespaceURI.includes(\"svg\") && container.tagName !== \"foreignObject\";\nconst isMathMLContainer = (container) => container.namespaceURI.includes(\"MathML\");\nconst getContainerType = (container) => {\n  if (container.nodeType !== 1) return void 0;\n  if (isSVGContainer(container)) return \"svg\";\n  if (isMathMLContainer(container)) return \"mathml\";\n  return void 0;\n};\nconst isComment = (node) => node.nodeType === 8;\nfunction createHydrationFunctions(rendererInternals) {\n  const {\n    mt: mountComponent,\n    p: patch,\n    o: {\n      patchProp,\n      createText,\n      nextSibling,\n      parentNode,\n      remove,\n      insert,\n      createComment\n    }\n  } = rendererInternals;\n  const hydrate = (vnode, container) => {\n    if (!container.hasChildNodes()) {\n      (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n        `Attempting to hydrate existing markup but container is empty. Performing full mount instead.`\n      );\n      patch(null, vnode, container);\n      flushPostFlushCbs();\n      container._vnode = vnode;\n      return;\n    }\n    hydrateNode(container.firstChild, vnode, null, null, null);\n    flushPostFlushCbs();\n    container._vnode = vnode;\n  };\n  const hydrateNode = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized = false) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const isFragmentStart = isComment(node) && node.data === \"[\";\n    const onMismatch = () => handleMismatch(\n      node,\n      vnode,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      isFragmentStart\n    );\n    const { type, ref, shapeFlag, patchFlag } = vnode;\n    let domType = node.nodeType;\n    vnode.el = node;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(node, \"__vnode\", vnode, true);\n      def(node, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (patchFlag === -2) {\n      optimized = false;\n      vnode.dynamicChildren = null;\n    }\n    let nextNode = null;\n    switch (type) {\n      case Text:\n        if (domType !== 3) {\n          if (vnode.children === \"\") {\n            insert(vnode.el = createText(\"\"), parentNode(node), node);\n            nextNode = node;\n          } else {\n            nextNode = onMismatch();\n          }\n        } else {\n          if (node.data !== vnode.children) {\n            (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n              `Hydration text mismatch in`,\n              node.parentNode,\n              `\n  - rendered on server: ${JSON.stringify(\n                node.data\n              )}\n  - expected on client: ${JSON.stringify(vnode.children)}`\n            );\n            logMismatchError();\n            node.data = vnode.children;\n          }\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Comment:\n        if (isTemplateNode(node)) {\n          nextNode = nextSibling(node);\n          replaceNode(\n            vnode.el = node.content.firstChild,\n            node,\n            parentComponent\n          );\n        } else if (domType !== 8 || isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = nextSibling(node);\n        }\n        break;\n      case Static:\n        if (isFragmentStart) {\n          node = nextSibling(node);\n          domType = node.nodeType;\n        }\n        if (domType === 1 || domType === 3) {\n          nextNode = node;\n          const needToAdoptContent = !vnode.children.length;\n          for (let i = 0; i < vnode.staticCount; i++) {\n            if (needToAdoptContent)\n              vnode.children += nextNode.nodeType === 1 ? nextNode.outerHTML : nextNode.data;\n            if (i === vnode.staticCount - 1) {\n              vnode.anchor = nextNode;\n            }\n            nextNode = nextSibling(nextNode);\n          }\n          return isFragmentStart ? nextSibling(nextNode) : nextNode;\n        } else {\n          onMismatch();\n        }\n        break;\n      case Fragment:\n        if (!isFragmentStart) {\n          nextNode = onMismatch();\n        } else {\n          nextNode = hydrateFragment(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            slotScopeIds,\n            optimized\n          );\n        }\n        break;\n      default:\n        if (shapeFlag & 1) {\n          if ((domType !== 1 || vnode.type.toLowerCase() !== node.tagName.toLowerCase()) && !isTemplateNode(node)) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = hydrateElement(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized\n            );\n          }\n        } else if (shapeFlag & 6) {\n          vnode.slotScopeIds = slotScopeIds;\n          const container = parentNode(node);\n          if (isFragmentStart) {\n            nextNode = locateClosingAnchor(node);\n          } else if (isComment(node) && node.data === \"teleport start\") {\n            nextNode = locateClosingAnchor(node, node.data, \"teleport end\");\n          } else {\n            nextNode = nextSibling(node);\n          }\n          mountComponent(\n            vnode,\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            getContainerType(container),\n            optimized\n          );\n          if (isAsyncWrapper(vnode) && !vnode.type.__asyncResolved) {\n            let subTree;\n            if (isFragmentStart) {\n              subTree = createVNode(Fragment);\n              subTree.anchor = nextNode ? nextNode.previousSibling : container.lastChild;\n            } else {\n              subTree = node.nodeType === 3 ? createTextVNode(\"\") : createVNode(\"div\");\n            }\n            subTree.el = node;\n            vnode.component.subTree = subTree;\n          }\n        } else if (shapeFlag & 64) {\n          if (domType !== 8) {\n            nextNode = onMismatch();\n          } else {\n            nextNode = vnode.type.hydrate(\n              node,\n              vnode,\n              parentComponent,\n              parentSuspense,\n              slotScopeIds,\n              optimized,\n              rendererInternals,\n              hydrateChildren\n            );\n          }\n        } else if (shapeFlag & 128) {\n          nextNode = vnode.type.hydrate(\n            node,\n            vnode,\n            parentComponent,\n            parentSuspense,\n            getContainerType(parentNode(node)),\n            slotScopeIds,\n            optimized,\n            rendererInternals,\n            hydrateNode\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) {\n          warn$1(\"Invalid HostVNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode);\n    }\n    return nextNode;\n  };\n  const hydrateElement = (el, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!vnode.dynamicChildren;\n    const { type, props, patchFlag, shapeFlag, dirs, transition } = vnode;\n    const forcePatch = type === \"input\" || type === \"option\";\n    if (!!(process.env.NODE_ENV !== \"production\") || forcePatch || patchFlag !== -1) {\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n      }\n      let needCallTransitionHooks = false;\n      if (isTemplateNode(el)) {\n        needCallTransitionHooks = needTransition(\n          null,\n          // no need check parentSuspense in hydration\n          transition\n        ) && parentComponent && parentComponent.vnode.props && parentComponent.vnode.props.appear;\n        const content = el.content.firstChild;\n        if (needCallTransitionHooks) {\n          transition.beforeEnter(content);\n        }\n        replaceNode(content, el, parentComponent);\n        vnode.el = el = content;\n      }\n      if (shapeFlag & 16 && // skip if element has innerHTML / textContent\n      !(props && (props.innerHTML || props.textContent))) {\n        let next = hydrateChildren(\n          el.firstChild,\n          vnode,\n          el,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n        let hasWarned = false;\n        while (next) {\n          if (!isMismatchAllowed(el, 1 /* CHILDREN */)) {\n            if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n              warn$1(\n                `Hydration children mismatch on`,\n                el,\n                `\nServer rendered element contains more child nodes than client vdom.`\n              );\n              hasWarned = true;\n            }\n            logMismatchError();\n          }\n          const cur = next;\n          next = next.nextSibling;\n          remove(cur);\n        }\n      } else if (shapeFlag & 8) {\n        let clientText = vnode.children;\n        if (clientText[0] === \"\\n\" && (el.tagName === \"PRE\" || el.tagName === \"TEXTAREA\")) {\n          clientText = clientText.slice(1);\n        }\n        if (el.textContent !== clientText) {\n          if (!isMismatchAllowed(el, 0 /* TEXT */)) {\n            (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n              `Hydration text content mismatch on`,\n              el,\n              `\n  - rendered on server: ${el.textContent}\n  - expected on client: ${vnode.children}`\n            );\n            logMismatchError();\n          }\n          el.textContent = vnode.children;\n        }\n      }\n      if (props) {\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ || forcePatch || !optimized || patchFlag & (16 | 32)) {\n          const isCustomElement = el.tagName.includes(\"-\");\n          for (const key in props) {\n            if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && // #11189 skip if this node has directives that have created hooks\n            // as it could have mutated the DOM in any possible way\n            !(dirs && dirs.some((d) => d.dir.created)) && propHasMismatch(el, key, props[key], vnode, parentComponent)) {\n              logMismatchError();\n            }\n            if (forcePatch && (key.endsWith(\"value\") || key === \"indeterminate\") || isOn(key) && !isReservedProp(key) || // force hydrate v-bind with .prop modifiers\n            key[0] === \".\" || isCustomElement) {\n              patchProp(el, key, null, props[key], void 0, parentComponent);\n            }\n          }\n        } else if (props.onClick) {\n          patchProp(\n            el,\n            \"onClick\",\n            null,\n            props.onClick,\n            void 0,\n            parentComponent\n          );\n        } else if (patchFlag & 4 && isReactive(props.style)) {\n          for (const key in props.style) props.style[key];\n        }\n      }\n      let vnodeHooks;\n      if (vnodeHooks = props && props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n      }\n      if (dirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n      }\n      if ((vnodeHooks = props && props.onVnodeMounted) || dirs || needCallTransitionHooks) {\n        queueEffectWithSuspense(() => {\n          vnodeHooks && invokeVNodeHook(vnodeHooks, parentComponent, vnode);\n          needCallTransitionHooks && transition.enter(el);\n          dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n        }, parentSuspense);\n      }\n    }\n    return el.nextSibling;\n  };\n  const hydrateChildren = (node, parentVNode, container, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    optimized = optimized || !!parentVNode.dynamicChildren;\n    const children = parentVNode.children;\n    const l = children.length;\n    let hasWarned = false;\n    for (let i = 0; i < l; i++) {\n      const vnode = optimized ? children[i] : children[i] = normalizeVNode(children[i]);\n      const isText = vnode.type === Text;\n      if (node) {\n        if (isText && !optimized) {\n          if (i + 1 < l && normalizeVNode(children[i + 1]).type === Text) {\n            insert(\n              createText(\n                node.data.slice(vnode.children.length)\n              ),\n              container,\n              nextSibling(node)\n            );\n            node.data = vnode.children;\n          }\n        }\n        node = hydrateNode(\n          node,\n          vnode,\n          parentComponent,\n          parentSuspense,\n          slotScopeIds,\n          optimized\n        );\n      } else if (isText && !vnode.children) {\n        insert(vnode.el = createText(\"\"), container);\n      } else {\n        if (!isMismatchAllowed(container, 1 /* CHILDREN */)) {\n          if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && !hasWarned) {\n            warn$1(\n              `Hydration children mismatch on`,\n              container,\n              `\nServer rendered element contains fewer child nodes than client vdom.`\n            );\n            hasWarned = true;\n          }\n          logMismatchError();\n        }\n        patch(\n          null,\n          vnode,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          getContainerType(container),\n          slotScopeIds\n        );\n      }\n    }\n    return node;\n  };\n  const hydrateFragment = (node, vnode, parentComponent, parentSuspense, slotScopeIds, optimized) => {\n    const { slotScopeIds: fragmentSlotScopeIds } = vnode;\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    const container = parentNode(node);\n    const next = hydrateChildren(\n      nextSibling(node),\n      vnode,\n      container,\n      parentComponent,\n      parentSuspense,\n      slotScopeIds,\n      optimized\n    );\n    if (next && isComment(next) && next.data === \"]\") {\n      return nextSibling(vnode.anchor = next);\n    } else {\n      logMismatchError();\n      insert(vnode.anchor = createComment(`]`), container, next);\n      return next;\n    }\n  };\n  const handleMismatch = (node, vnode, parentComponent, parentSuspense, slotScopeIds, isFragment) => {\n    if (!isMismatchAllowed(node.parentElement, 1 /* CHILDREN */)) {\n      (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_HYDRATION_MISMATCH_DETAILS__) && warn$1(\n        `Hydration node mismatch:\n- rendered on server:`,\n        node,\n        node.nodeType === 3 ? `(text)` : isComment(node) && node.data === \"[\" ? `(start of fragment)` : ``,\n        `\n- expected on client:`,\n        vnode.type\n      );\n      logMismatchError();\n    }\n    vnode.el = null;\n    if (isFragment) {\n      const end = locateClosingAnchor(node);\n      while (true) {\n        const next2 = nextSibling(node);\n        if (next2 && next2 !== end) {\n          remove(next2);\n        } else {\n          break;\n        }\n      }\n    }\n    const next = nextSibling(node);\n    const container = parentNode(node);\n    remove(node);\n    patch(\n      null,\n      vnode,\n      container,\n      next,\n      parentComponent,\n      parentSuspense,\n      getContainerType(container),\n      slotScopeIds\n    );\n    if (parentComponent) {\n      parentComponent.vnode.el = vnode.el;\n      updateHOCHostEl(parentComponent, vnode.el);\n    }\n    return next;\n  };\n  const locateClosingAnchor = (node, open = \"[\", close = \"]\") => {\n    let match = 0;\n    while (node) {\n      node = nextSibling(node);\n      if (node && isComment(node)) {\n        if (node.data === open) match++;\n        if (node.data === close) {\n          if (match === 0) {\n            return nextSibling(node);\n          } else {\n            match--;\n          }\n        }\n      }\n    }\n    return node;\n  };\n  const replaceNode = (newNode, oldNode, parentComponent) => {\n    const parentNode2 = oldNode.parentNode;\n    if (parentNode2) {\n      parentNode2.replaceChild(newNode, oldNode);\n    }\n    let parent = parentComponent;\n    while (parent) {\n      if (parent.vnode.el === oldNode) {\n        parent.vnode.el = parent.subTree.el = newNode;\n      }\n      parent = parent.parent;\n    }\n  };\n  const isTemplateNode = (node) => {\n    return node.nodeType === 1 && node.tagName === \"TEMPLATE\";\n  };\n  return [hydrate, hydrateNode];\n}\nfunction propHasMismatch(el, key, clientValue, vnode, instance) {\n  let mismatchType;\n  let mismatchKey;\n  let actual;\n  let expected;\n  if (key === \"class\") {\n    actual = el.getAttribute(\"class\");\n    expected = normalizeClass(clientValue);\n    if (!isSetEqual(toClassSet(actual || \"\"), toClassSet(expected))) {\n      mismatchType = 2 /* CLASS */;\n      mismatchKey = `class`;\n    }\n  } else if (key === \"style\") {\n    actual = el.getAttribute(\"style\") || \"\";\n    expected = isString(clientValue) ? clientValue : stringifyStyle(normalizeStyle(clientValue));\n    const actualMap = toStyleMap(actual);\n    const expectedMap = toStyleMap(expected);\n    if (vnode.dirs) {\n      for (const { dir, value } of vnode.dirs) {\n        if (dir.name === \"show\" && !value) {\n          expectedMap.set(\"display\", \"none\");\n        }\n      }\n    }\n    if (instance) {\n      resolveCssVars(instance, vnode, expectedMap);\n    }\n    if (!isMapEqual(actualMap, expectedMap)) {\n      mismatchType = 3 /* STYLE */;\n      mismatchKey = \"style\";\n    }\n  } else if (el instanceof SVGElement && isKnownSvgAttr(key) || el instanceof HTMLElement && (isBooleanAttr(key) || isKnownHtmlAttr(key))) {\n    if (isBooleanAttr(key)) {\n      actual = el.hasAttribute(key);\n      expected = includeBooleanAttr(clientValue);\n    } else if (clientValue == null) {\n      actual = el.hasAttribute(key);\n      expected = false;\n    } else {\n      if (el.hasAttribute(key)) {\n        actual = el.getAttribute(key);\n      } else if (key === \"value\" && el.tagName === \"TEXTAREA\") {\n        actual = el.value;\n      } else {\n        actual = false;\n      }\n      expected = isRenderableAttrValue(clientValue) ? String(clientValue) : false;\n    }\n    if (actual !== expected) {\n      mismatchType = 4 /* ATTRIBUTE */;\n      mismatchKey = key;\n    }\n  }\n  if (mismatchType != null && !isMismatchAllowed(el, mismatchType)) {\n    const format = (v) => v === false ? `(not rendered)` : `${mismatchKey}=\"${v}\"`;\n    const preSegment = `Hydration ${MismatchTypeString[mismatchType]} mismatch on`;\n    const postSegment = `\n  - rendered on server: ${format(actual)}\n  - expected on client: ${format(expected)}\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.`;\n    {\n      warn$1(preSegment, el, postSegment);\n    }\n    return true;\n  }\n  return false;\n}\nfunction toClassSet(str) {\n  return new Set(str.trim().split(/\\s+/));\n}\nfunction isSetEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const s of a) {\n    if (!b.has(s)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction toStyleMap(str) {\n  const styleMap = /* @__PURE__ */ new Map();\n  for (const item of str.split(\";\")) {\n    let [key, value] = item.split(\":\");\n    key = key.trim();\n    value = value && value.trim();\n    if (key && value) {\n      styleMap.set(key, value);\n    }\n  }\n  return styleMap;\n}\nfunction isMapEqual(a, b) {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const [key, value] of a) {\n    if (value !== b.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction resolveCssVars(instance, vnode, expectedMap) {\n  const root = instance.subTree;\n  if (instance.getCssVars && (vnode === root || root && root.type === Fragment && root.children.includes(vnode))) {\n    const cssVars = instance.getCssVars();\n    for (const key in cssVars) {\n      expectedMap.set(\n        `--${getEscapedCssVarName(key, false)}`,\n        String(cssVars[key])\n      );\n    }\n  }\n  if (vnode === root && instance.parent) {\n    resolveCssVars(instance.parent, instance.vnode, expectedMap);\n  }\n}\nconst allowMismatchAttr = \"data-allow-mismatch\";\nconst MismatchTypeString = {\n  [0 /* TEXT */]: \"text\",\n  [1 /* CHILDREN */]: \"children\",\n  [2 /* CLASS */]: \"class\",\n  [3 /* STYLE */]: \"style\",\n  [4 /* ATTRIBUTE */]: \"attribute\"\n};\nfunction isMismatchAllowed(el, allowedType) {\n  if (allowedType === 0 /* TEXT */ || allowedType === 1 /* CHILDREN */) {\n    while (el && !el.hasAttribute(allowMismatchAttr)) {\n      el = el.parentElement;\n    }\n  }\n  const allowedAttr = el && el.getAttribute(allowMismatchAttr);\n  if (allowedAttr == null) {\n    return false;\n  } else if (allowedAttr === \"\") {\n    return true;\n  } else {\n    const list = allowedAttr.split(\",\");\n    if (allowedType === 0 /* TEXT */ && list.includes(\"children\")) {\n      return true;\n    }\n    return allowedAttr.split(\",\").includes(MismatchTypeString[allowedType]);\n  }\n}\n\nconst requestIdleCallback = getGlobalThis().requestIdleCallback || ((cb) => setTimeout(cb, 1));\nconst cancelIdleCallback = getGlobalThis().cancelIdleCallback || ((id) => clearTimeout(id));\nconst hydrateOnIdle = (timeout = 1e4) => (hydrate) => {\n  const id = requestIdleCallback(hydrate, { timeout });\n  return () => cancelIdleCallback(id);\n};\nfunction elementIsVisibleInViewport(el) {\n  const { top, left, bottom, right } = el.getBoundingClientRect();\n  const { innerHeight, innerWidth } = window;\n  return (top > 0 && top < innerHeight || bottom > 0 && bottom < innerHeight) && (left > 0 && left < innerWidth || right > 0 && right < innerWidth);\n}\nconst hydrateOnVisible = (opts) => (hydrate, forEach) => {\n  const ob = new IntersectionObserver((entries) => {\n    for (const e of entries) {\n      if (!e.isIntersecting) continue;\n      ob.disconnect();\n      hydrate();\n      break;\n    }\n  }, opts);\n  forEach((el) => {\n    if (!(el instanceof Element)) return;\n    if (elementIsVisibleInViewport(el)) {\n      hydrate();\n      ob.disconnect();\n      return false;\n    }\n    ob.observe(el);\n  });\n  return () => ob.disconnect();\n};\nconst hydrateOnMediaQuery = (query) => (hydrate) => {\n  if (query) {\n    const mql = matchMedia(query);\n    if (mql.matches) {\n      hydrate();\n    } else {\n      mql.addEventListener(\"change\", hydrate, { once: true });\n      return () => mql.removeEventListener(\"change\", hydrate);\n    }\n  }\n};\nconst hydrateOnInteraction = (interactions = []) => (hydrate, forEach) => {\n  if (isString(interactions)) interactions = [interactions];\n  let hasHydrated = false;\n  const doHydrate = (e) => {\n    if (!hasHydrated) {\n      hasHydrated = true;\n      teardown();\n      hydrate();\n      e.target.dispatchEvent(new e.constructor(e.type, e));\n    }\n  };\n  const teardown = () => {\n    forEach((el) => {\n      for (const i of interactions) {\n        el.removeEventListener(i, doHydrate);\n      }\n    });\n  };\n  forEach((el) => {\n    for (const i of interactions) {\n      el.addEventListener(i, doHydrate, { once: true });\n    }\n  });\n  return teardown;\n};\nfunction forEachElement(node, cb) {\n  if (isComment(node) && node.data === \"[\") {\n    let depth = 1;\n    let next = node.nextSibling;\n    while (next) {\n      if (next.nodeType === 1) {\n        const result = cb(next);\n        if (result === false) {\n          break;\n        }\n      } else if (isComment(next)) {\n        if (next.data === \"]\") {\n          if (--depth === 0) break;\n        } else if (next.data === \"[\") {\n          depth++;\n        }\n      }\n      next = next.nextSibling;\n    }\n  } else {\n    cb(node);\n  }\n}\n\nconst isAsyncWrapper = (i) => !!i.type.__asyncLoader;\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineAsyncComponent(source) {\n  if (isFunction(source)) {\n    source = { loader: source };\n  }\n  const {\n    loader,\n    loadingComponent,\n    errorComponent,\n    delay = 200,\n    hydrate: hydrateStrategy,\n    timeout,\n    // undefined = never times out\n    suspensible = true,\n    onError: userOnError\n  } = source;\n  let pendingRequest = null;\n  let resolvedComp;\n  let retries = 0;\n  const retry = () => {\n    retries++;\n    pendingRequest = null;\n    return load();\n  };\n  const load = () => {\n    let thisRequest;\n    return pendingRequest || (thisRequest = pendingRequest = loader().catch((err) => {\n      err = err instanceof Error ? err : new Error(String(err));\n      if (userOnError) {\n        return new Promise((resolve, reject) => {\n          const userRetry = () => resolve(retry());\n          const userFail = () => reject(err);\n          userOnError(err, userRetry, userFail, retries + 1);\n        });\n      } else {\n        throw err;\n      }\n    }).then((comp) => {\n      if (thisRequest !== pendingRequest && pendingRequest) {\n        return pendingRequest;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && !comp) {\n        warn$1(\n          `Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`\n        );\n      }\n      if (comp && (comp.__esModule || comp[Symbol.toStringTag] === \"Module\")) {\n        comp = comp.default;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && comp && !isObject(comp) && !isFunction(comp)) {\n        throw new Error(`Invalid async component load result: ${comp}`);\n      }\n      resolvedComp = comp;\n      return comp;\n    }));\n  };\n  return defineComponent({\n    name: \"AsyncComponentWrapper\",\n    __asyncLoader: load,\n    __asyncHydrate(el, instance, hydrate) {\n      const doHydrate = hydrateStrategy ? () => {\n        const teardown = hydrateStrategy(\n          hydrate,\n          (cb) => forEachElement(el, cb)\n        );\n        if (teardown) {\n          (instance.bum || (instance.bum = [])).push(teardown);\n        }\n      } : hydrate;\n      if (resolvedComp) {\n        doHydrate();\n      } else {\n        load().then(() => !instance.isUnmounted && doHydrate());\n      }\n    },\n    get __asyncResolved() {\n      return resolvedComp;\n    },\n    setup() {\n      const instance = currentInstance;\n      markAsyncBoundary(instance);\n      if (resolvedComp) {\n        return () => createInnerComp(resolvedComp, instance);\n      }\n      const onError = (err) => {\n        pendingRequest = null;\n        handleError(\n          err,\n          instance,\n          13,\n          !errorComponent\n        );\n      };\n      if (suspensible && instance.suspense || isInSSRComponentSetup) {\n        return load().then((comp) => {\n          return () => createInnerComp(comp, instance);\n        }).catch((err) => {\n          onError(err);\n          return () => errorComponent ? createVNode(errorComponent, {\n            error: err\n          }) : null;\n        });\n      }\n      const loaded = ref(false);\n      const error = ref();\n      const delayed = ref(!!delay);\n      if (delay) {\n        setTimeout(() => {\n          delayed.value = false;\n        }, delay);\n      }\n      if (timeout != null) {\n        setTimeout(() => {\n          if (!loaded.value && !error.value) {\n            const err = new Error(\n              `Async component timed out after ${timeout}ms.`\n            );\n            onError(err);\n            error.value = err;\n          }\n        }, timeout);\n      }\n      load().then(() => {\n        loaded.value = true;\n        if (instance.parent && isKeepAlive(instance.parent.vnode)) {\n          instance.parent.update();\n        }\n      }).catch((err) => {\n        onError(err);\n        error.value = err;\n      });\n      return () => {\n        if (loaded.value && resolvedComp) {\n          return createInnerComp(resolvedComp, instance);\n        } else if (error.value && errorComponent) {\n          return createVNode(errorComponent, {\n            error: error.value\n          });\n        } else if (loadingComponent && !delayed.value) {\n          return createVNode(loadingComponent);\n        }\n      };\n    }\n  });\n}\nfunction createInnerComp(comp, parent) {\n  const { ref: ref2, props, children, ce } = parent.vnode;\n  const vnode = createVNode(comp, props, children);\n  vnode.ref = ref2;\n  vnode.ce = ce;\n  delete parent.vnode.ce;\n  return vnode;\n}\n\nconst isKeepAlive = (vnode) => vnode.type.__isKeepAlive;\nconst KeepAliveImpl = {\n  name: `KeepAlive`,\n  // Marker for special handling inside the renderer. We are not using a ===\n  // check directly on KeepAlive in the renderer, because importing it directly\n  // would prevent it from being tree-shaken.\n  __isKeepAlive: true,\n  props: {\n    include: [String, RegExp, Array],\n    exclude: [String, RegExp, Array],\n    max: [String, Number]\n  },\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const sharedContext = instance.ctx;\n    if (!sharedContext.renderer) {\n      return () => {\n        const children = slots.default && slots.default();\n        return children && children.length === 1 ? children[0] : children;\n      };\n    }\n    const cache = /* @__PURE__ */ new Map();\n    const keys = /* @__PURE__ */ new Set();\n    let current = null;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.__v_cache = cache;\n    }\n    const parentSuspense = instance.suspense;\n    const {\n      renderer: {\n        p: patch,\n        m: move,\n        um: _unmount,\n        o: { createElement }\n      }\n    } = sharedContext;\n    const storageContainer = createElement(\"div\");\n    sharedContext.activate = (vnode, container, anchor, namespace, optimized) => {\n      const instance2 = vnode.component;\n      move(vnode, container, anchor, 0, parentSuspense);\n      patch(\n        instance2.vnode,\n        vnode,\n        container,\n        anchor,\n        instance2,\n        parentSuspense,\n        namespace,\n        vnode.slotScopeIds,\n        optimized\n      );\n      queuePostRenderEffect(() => {\n        instance2.isDeactivated = false;\n        if (instance2.a) {\n          invokeArrayFns(instance2.a);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeMounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    sharedContext.deactivate = (vnode) => {\n      const instance2 = vnode.component;\n      invalidateMount(instance2.m);\n      invalidateMount(instance2.a);\n      move(vnode, storageContainer, null, 1, parentSuspense);\n      queuePostRenderEffect(() => {\n        if (instance2.da) {\n          invokeArrayFns(instance2.da);\n        }\n        const vnodeHook = vnode.props && vnode.props.onVnodeUnmounted;\n        if (vnodeHook) {\n          invokeVNodeHook(vnodeHook, instance2.parent, vnode);\n        }\n        instance2.isDeactivated = true;\n      }, parentSuspense);\n      if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n        devtoolsComponentAdded(instance2);\n      }\n    };\n    function unmount(vnode) {\n      resetShapeFlag(vnode);\n      _unmount(vnode, instance, parentSuspense, true);\n    }\n    function pruneCache(filter) {\n      cache.forEach((vnode, key) => {\n        const name = getComponentName(vnode.type);\n        if (name && !filter(name)) {\n          pruneCacheEntry(key);\n        }\n      });\n    }\n    function pruneCacheEntry(key) {\n      const cached = cache.get(key);\n      if (cached && (!current || !isSameVNodeType(cached, current))) {\n        unmount(cached);\n      } else if (current) {\n        resetShapeFlag(current);\n      }\n      cache.delete(key);\n      keys.delete(key);\n    }\n    watch(\n      () => [props.include, props.exclude],\n      ([include, exclude]) => {\n        include && pruneCache((name) => matches(include, name));\n        exclude && pruneCache((name) => !matches(exclude, name));\n      },\n      // prune post-render after `current` has been updated\n      { flush: \"post\", deep: true }\n    );\n    let pendingCacheKey = null;\n    const cacheSubtree = () => {\n      if (pendingCacheKey != null) {\n        if (isSuspense(instance.subTree.type)) {\n          queuePostRenderEffect(() => {\n            cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n          }, instance.subTree.suspense);\n        } else {\n          cache.set(pendingCacheKey, getInnerChild(instance.subTree));\n        }\n      }\n    };\n    onMounted(cacheSubtree);\n    onUpdated(cacheSubtree);\n    onBeforeUnmount(() => {\n      cache.forEach((cached) => {\n        const { subTree, suspense } = instance;\n        const vnode = getInnerChild(subTree);\n        if (cached.type === vnode.type && cached.key === vnode.key) {\n          resetShapeFlag(vnode);\n          const da = vnode.component.da;\n          da && queuePostRenderEffect(da, suspense);\n          return;\n        }\n        unmount(cached);\n      });\n    });\n    return () => {\n      pendingCacheKey = null;\n      if (!slots.default) {\n        return current = null;\n      }\n      const children = slots.default();\n      const rawVNode = children[0];\n      if (children.length > 1) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`KeepAlive should contain exactly one component child.`);\n        }\n        current = null;\n        return children;\n      } else if (!isVNode(rawVNode) || !(rawVNode.shapeFlag & 4) && !(rawVNode.shapeFlag & 128)) {\n        current = null;\n        return rawVNode;\n      }\n      let vnode = getInnerChild(rawVNode);\n      if (vnode.type === Comment) {\n        current = null;\n        return vnode;\n      }\n      const comp = vnode.type;\n      const name = getComponentName(\n        isAsyncWrapper(vnode) ? vnode.type.__asyncResolved || {} : comp\n      );\n      const { include, exclude, max } = props;\n      if (include && (!name || !matches(include, name)) || exclude && name && matches(exclude, name)) {\n        vnode.shapeFlag &= ~256;\n        current = vnode;\n        return rawVNode;\n      }\n      const key = vnode.key == null ? comp : vnode.key;\n      const cachedVNode = cache.get(key);\n      if (vnode.el) {\n        vnode = cloneVNode(vnode);\n        if (rawVNode.shapeFlag & 128) {\n          rawVNode.ssContent = vnode;\n        }\n      }\n      pendingCacheKey = key;\n      if (cachedVNode) {\n        vnode.el = cachedVNode.el;\n        vnode.component = cachedVNode.component;\n        if (vnode.transition) {\n          setTransitionHooks(vnode, vnode.transition);\n        }\n        vnode.shapeFlag |= 512;\n        keys.delete(key);\n        keys.add(key);\n      } else {\n        keys.add(key);\n        if (max && keys.size > parseInt(max, 10)) {\n          pruneCacheEntry(keys.values().next().value);\n        }\n      }\n      vnode.shapeFlag |= 256;\n      current = vnode;\n      return isSuspense(rawVNode.type) ? rawVNode : vnode;\n    };\n  }\n};\nconst KeepAlive = KeepAliveImpl;\nfunction matches(pattern, name) {\n  if (isArray(pattern)) {\n    return pattern.some((p) => matches(p, name));\n  } else if (isString(pattern)) {\n    return pattern.split(\",\").includes(name);\n  } else if (isRegExp(pattern)) {\n    pattern.lastIndex = 0;\n    return pattern.test(name);\n  }\n  return false;\n}\nfunction onActivated(hook, target) {\n  registerKeepAliveHook(hook, \"a\", target);\n}\nfunction onDeactivated(hook, target) {\n  registerKeepAliveHook(hook, \"da\", target);\n}\nfunction registerKeepAliveHook(hook, type, target = currentInstance) {\n  const wrappedHook = hook.__wdc || (hook.__wdc = () => {\n    let current = target;\n    while (current) {\n      if (current.isDeactivated) {\n        return;\n      }\n      current = current.parent;\n    }\n    return hook();\n  });\n  injectHook(type, wrappedHook, target);\n  if (target) {\n    let current = target.parent;\n    while (current && current.parent) {\n      if (isKeepAlive(current.parent.vnode)) {\n        injectToKeepAliveRoot(wrappedHook, type, target, current);\n      }\n      current = current.parent;\n    }\n  }\n}\nfunction injectToKeepAliveRoot(hook, type, target, keepAliveRoot) {\n  const injected = injectHook(\n    type,\n    hook,\n    keepAliveRoot,\n    true\n    /* prepend */\n  );\n  onUnmounted(() => {\n    remove(keepAliveRoot[type], injected);\n  }, target);\n}\nfunction resetShapeFlag(vnode) {\n  vnode.shapeFlag &= ~256;\n  vnode.shapeFlag &= ~512;\n}\nfunction getInnerChild(vnode) {\n  return vnode.shapeFlag & 128 ? vnode.ssContent : vnode;\n}\n\nfunction injectHook(type, hook, target = currentInstance, prepend = false) {\n  if (target) {\n    const hooks = target[type] || (target[type] = []);\n    const wrappedHook = hook.__weh || (hook.__weh = (...args) => {\n      pauseTracking();\n      const reset = setCurrentInstance(target);\n      const res = callWithAsyncErrorHandling(hook, target, type, args);\n      reset();\n      resetTracking();\n      return res;\n    });\n    if (prepend) {\n      hooks.unshift(wrappedHook);\n    } else {\n      hooks.push(wrappedHook);\n    }\n    return wrappedHook;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    const apiName = toHandlerKey(ErrorTypeStrings$1[type].replace(/ hook$/, \"\"));\n    warn$1(\n      `${apiName} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().` + (` If you are using async setup(), make sure to register lifecycle hooks before the first await statement.` )\n    );\n  }\n}\nconst createHook = (lifecycle) => (hook, target = currentInstance) => {\n  if (!isInSSRComponentSetup || lifecycle === \"sp\") {\n    injectHook(lifecycle, (...args) => hook(...args), target);\n  }\n};\nconst onBeforeMount = createHook(\"bm\");\nconst onMounted = createHook(\"m\");\nconst onBeforeUpdate = createHook(\n  \"bu\"\n);\nconst onUpdated = createHook(\"u\");\nconst onBeforeUnmount = createHook(\n  \"bum\"\n);\nconst onUnmounted = createHook(\"um\");\nconst onServerPrefetch = createHook(\n  \"sp\"\n);\nconst onRenderTriggered = createHook(\"rtg\");\nconst onRenderTracked = createHook(\"rtc\");\nfunction onErrorCaptured(hook, target = currentInstance) {\n  injectHook(\"ec\", hook, target);\n}\n\nconst COMPONENTS = \"components\";\nconst DIRECTIVES = \"directives\";\nfunction resolveComponent(name, maybeSelfReference) {\n  return resolveAsset(COMPONENTS, name, true, maybeSelfReference) || name;\n}\nconst NULL_DYNAMIC_COMPONENT = Symbol.for(\"v-ndc\");\nfunction resolveDynamicComponent(component) {\n  if (isString(component)) {\n    return resolveAsset(COMPONENTS, component, false) || component;\n  } else {\n    return component || NULL_DYNAMIC_COMPONENT;\n  }\n}\nfunction resolveDirective(name) {\n  return resolveAsset(DIRECTIVES, name);\n}\nfunction resolveAsset(type, name, warnMissing = true, maybeSelfReference = false) {\n  const instance = currentRenderingInstance || currentInstance;\n  if (instance) {\n    const Component = instance.type;\n    if (type === COMPONENTS) {\n      const selfName = getComponentName(\n        Component,\n        false\n      );\n      if (selfName && (selfName === name || selfName === camelize(name) || selfName === capitalize(camelize(name)))) {\n        return Component;\n      }\n    }\n    const res = (\n      // local registration\n      // check instance[type] first which is resolved for options API\n      resolve(instance[type] || Component[type], name) || // global registration\n      resolve(instance.appContext[type], name)\n    );\n    if (!res && maybeSelfReference) {\n      return Component;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") && warnMissing && !res) {\n      const extra = type === COMPONENTS ? `\nIf this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.` : ``;\n      warn$1(`Failed to resolve ${type.slice(0, -1)}: ${name}${extra}`);\n    }\n    return res;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(\n      `resolve${capitalize(type.slice(0, -1))} can only be used in render() or setup().`\n    );\n  }\n}\nfunction resolve(registry, name) {\n  return registry && (registry[name] || registry[camelize(name)] || registry[capitalize(camelize(name))]);\n}\n\nfunction renderList(source, renderItem, cache, index) {\n  let ret;\n  const cached = cache && cache[index];\n  const sourceIsArray = isArray(source);\n  if (sourceIsArray || isString(source)) {\n    const sourceIsReactiveArray = sourceIsArray && isReactive(source);\n    let needsWrap = false;\n    if (sourceIsReactiveArray) {\n      needsWrap = !isShallow(source);\n      source = shallowReadArray(source);\n    }\n    ret = new Array(source.length);\n    for (let i = 0, l = source.length; i < l; i++) {\n      ret[i] = renderItem(\n        needsWrap ? toReactive(source[i]) : source[i],\n        i,\n        void 0,\n        cached && cached[i]\n      );\n    }\n  } else if (typeof source === \"number\") {\n    if (!!(process.env.NODE_ENV !== \"production\") && !Number.isInteger(source)) {\n      warn$1(`The v-for range expect an integer value but got ${source}.`);\n    }\n    ret = new Array(source);\n    for (let i = 0; i < source; i++) {\n      ret[i] = renderItem(i + 1, i, void 0, cached && cached[i]);\n    }\n  } else if (isObject(source)) {\n    if (source[Symbol.iterator]) {\n      ret = Array.from(\n        source,\n        (item, i) => renderItem(item, i, void 0, cached && cached[i])\n      );\n    } else {\n      const keys = Object.keys(source);\n      ret = new Array(keys.length);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        ret[i] = renderItem(source[key], key, i, cached && cached[i]);\n      }\n    }\n  } else {\n    ret = [];\n  }\n  if (cache) {\n    cache[index] = ret;\n  }\n  return ret;\n}\n\nfunction createSlots(slots, dynamicSlots) {\n  for (let i = 0; i < dynamicSlots.length; i++) {\n    const slot = dynamicSlots[i];\n    if (isArray(slot)) {\n      for (let j = 0; j < slot.length; j++) {\n        slots[slot[j].name] = slot[j].fn;\n      }\n    } else if (slot) {\n      slots[slot.name] = slot.key ? (...args) => {\n        const res = slot.fn(...args);\n        if (res) res.key = slot.key;\n        return res;\n      } : slot.fn;\n    }\n  }\n  return slots;\n}\n\nfunction renderSlot(slots, name, props = {}, fallback, noSlotted) {\n  if (currentRenderingInstance.ce || currentRenderingInstance.parent && isAsyncWrapper(currentRenderingInstance.parent) && currentRenderingInstance.parent.ce) {\n    if (name !== \"default\") props.name = name;\n    return openBlock(), createBlock(\n      Fragment,\n      null,\n      [createVNode(\"slot\", props, fallback && fallback())],\n      64\n    );\n  }\n  let slot = slots[name];\n  if (!!(process.env.NODE_ENV !== \"production\") && slot && slot.length > 1) {\n    warn$1(\n      `SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`\n    );\n    slot = () => [];\n  }\n  if (slot && slot._c) {\n    slot._d = false;\n  }\n  openBlock();\n  const validSlotContent = slot && ensureValidVNode(slot(props));\n  const slotKey = props.key || // slot content array of a dynamic conditional slot may have a branch\n  // key attached in the `createSlots` helper, respect that\n  validSlotContent && validSlotContent.key;\n  const rendered = createBlock(\n    Fragment,\n    {\n      key: (slotKey && !isSymbol(slotKey) ? slotKey : `_${name}`) + // #7256 force differentiate fallback content from actual content\n      (!validSlotContent && fallback ? \"_fb\" : \"\")\n    },\n    validSlotContent || (fallback ? fallback() : []),\n    validSlotContent && slots._ === 1 ? 64 : -2\n  );\n  if (!noSlotted && rendered.scopeId) {\n    rendered.slotScopeIds = [rendered.scopeId + \"-s\"];\n  }\n  if (slot && slot._c) {\n    slot._d = true;\n  }\n  return rendered;\n}\nfunction ensureValidVNode(vnodes) {\n  return vnodes.some((child) => {\n    if (!isVNode(child)) return true;\n    if (child.type === Comment) return false;\n    if (child.type === Fragment && !ensureValidVNode(child.children))\n      return false;\n    return true;\n  }) ? vnodes : null;\n}\n\nfunction toHandlers(obj, preserveCaseIfNecessary) {\n  const ret = {};\n  if (!!(process.env.NODE_ENV !== \"production\") && !isObject(obj)) {\n    warn$1(`v-on with no argument expects an object value.`);\n    return ret;\n  }\n  for (const key in obj) {\n    ret[preserveCaseIfNecessary && /[A-Z]/.test(key) ? `on:${key}` : toHandlerKey(key)] = obj[key];\n  }\n  return ret;\n}\n\nconst getPublicInstance = (i) => {\n  if (!i) return null;\n  if (isStatefulComponent(i)) return getComponentPublicInstance(i);\n  return getPublicInstance(i.parent);\n};\nconst publicPropertiesMap = (\n  // Move PURE marker to new line to workaround compiler discarding it\n  // due to type annotation\n  /* @__PURE__ */ extend(/* @__PURE__ */ Object.create(null), {\n    $: (i) => i,\n    $el: (i) => i.vnode.el,\n    $data: (i) => i.data,\n    $props: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.props) : i.props,\n    $attrs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.attrs) : i.attrs,\n    $slots: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.slots) : i.slots,\n    $refs: (i) => !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(i.refs) : i.refs,\n    $parent: (i) => getPublicInstance(i.parent),\n    $root: (i) => getPublicInstance(i.root),\n    $host: (i) => i.ce,\n    $emit: (i) => i.emit,\n    $options: (i) => __VUE_OPTIONS_API__ ? resolveMergedOptions(i) : i.type,\n    $forceUpdate: (i) => i.f || (i.f = () => {\n      queueJob(i.update);\n    }),\n    $nextTick: (i) => i.n || (i.n = nextTick.bind(i.proxy)),\n    $watch: (i) => __VUE_OPTIONS_API__ ? instanceWatch.bind(i) : NOOP\n  })\n);\nconst isReservedPrefix = (key) => key === \"_\" || key === \"$\";\nconst hasSetupBinding = (state, key) => state !== EMPTY_OBJ && !state.__isScriptSetup && hasOwn(state, key);\nconst PublicInstanceProxyHandlers = {\n  get({ _: instance }, key) {\n    if (key === \"__v_skip\") {\n      return true;\n    }\n    const { ctx, setupState, data, props, accessCache, type, appContext } = instance;\n    if (!!(process.env.NODE_ENV !== \"production\") && key === \"__isVue\") {\n      return true;\n    }\n    let normalizedProps;\n    if (key[0] !== \"$\") {\n      const n = accessCache[key];\n      if (n !== void 0) {\n        switch (n) {\n          case 1 /* SETUP */:\n            return setupState[key];\n          case 2 /* DATA */:\n            return data[key];\n          case 4 /* CONTEXT */:\n            return ctx[key];\n          case 3 /* PROPS */:\n            return props[key];\n        }\n      } else if (hasSetupBinding(setupState, key)) {\n        accessCache[key] = 1 /* SETUP */;\n        return setupState[key];\n      } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n        accessCache[key] = 2 /* DATA */;\n        return data[key];\n      } else if (\n        // only cache other properties when instance has declared (thus stable)\n        // props\n        (normalizedProps = instance.propsOptions[0]) && hasOwn(normalizedProps, key)\n      ) {\n        accessCache[key] = 3 /* PROPS */;\n        return props[key];\n      } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n        accessCache[key] = 4 /* CONTEXT */;\n        return ctx[key];\n      } else if (!__VUE_OPTIONS_API__ || shouldCacheAccess) {\n        accessCache[key] = 0 /* OTHER */;\n      }\n    }\n    const publicGetter = publicPropertiesMap[key];\n    let cssModule, globalProperties;\n    if (publicGetter) {\n      if (key === \"$attrs\") {\n        track(instance.attrs, \"get\", \"\");\n        !!(process.env.NODE_ENV !== \"production\") && markAttrsAccessed();\n      } else if (!!(process.env.NODE_ENV !== \"production\") && key === \"$slots\") {\n        track(instance, \"get\", key);\n      }\n      return publicGetter(instance);\n    } else if (\n      // css module (injected by vue-loader)\n      (cssModule = type.__cssModules) && (cssModule = cssModule[key])\n    ) {\n      return cssModule;\n    } else if (ctx !== EMPTY_OBJ && hasOwn(ctx, key)) {\n      accessCache[key] = 4 /* CONTEXT */;\n      return ctx[key];\n    } else if (\n      // global properties\n      globalProperties = appContext.config.globalProperties, hasOwn(globalProperties, key)\n    ) {\n      {\n        return globalProperties[key];\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\") && currentRenderingInstance && (!isString(key) || // #1091 avoid internal isRef/isVNode checks on component instance leading\n    // to infinite warning loop\n    key.indexOf(\"__v\") !== 0)) {\n      if (data !== EMPTY_OBJ && isReservedPrefix(key[0]) && hasOwn(data, key)) {\n        warn$1(\n          `Property ${JSON.stringify(\n            key\n          )} must be accessed via $data because it starts with a reserved character (\"$\" or \"_\") and is not proxied on the render context.`\n        );\n      } else if (instance === currentRenderingInstance) {\n        warn$1(\n          `Property ${JSON.stringify(key)} was accessed during render but is not defined on instance.`\n        );\n      }\n    }\n  },\n  set({ _: instance }, key, value) {\n    const { data, setupState, ctx } = instance;\n    if (hasSetupBinding(setupState, key)) {\n      setupState[key] = value;\n      return true;\n    } else if (!!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup && hasOwn(setupState, key)) {\n      warn$1(`Cannot mutate <script setup> binding \"${key}\" from Options API.`);\n      return false;\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\n      data[key] = value;\n      return true;\n    } else if (hasOwn(instance.props, key)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`Attempting to mutate prop \"${key}\". Props are readonly.`);\n      return false;\n    }\n    if (key[0] === \"$\" && key.slice(1) in instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Attempting to mutate public property \"${key}\". Properties starting with $ are reserved and readonly.`\n      );\n      return false;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && key in instance.appContext.config.globalProperties) {\n        Object.defineProperty(ctx, key, {\n          enumerable: true,\n          configurable: true,\n          value\n        });\n      } else {\n        ctx[key] = value;\n      }\n    }\n    return true;\n  },\n  has({\n    _: { data, setupState, accessCache, ctx, appContext, propsOptions }\n  }, key) {\n    let normalizedProps;\n    return !!accessCache[key] || data !== EMPTY_OBJ && hasOwn(data, key) || hasSetupBinding(setupState, key) || (normalizedProps = propsOptions[0]) && hasOwn(normalizedProps, key) || hasOwn(ctx, key) || hasOwn(publicPropertiesMap, key) || hasOwn(appContext.config.globalProperties, key);\n  },\n  defineProperty(target, key, descriptor) {\n    if (descriptor.get != null) {\n      target._.accessCache[key] = 0;\n    } else if (hasOwn(descriptor, \"value\")) {\n      this.set(target, key, descriptor.value, null);\n    }\n    return Reflect.defineProperty(target, key, descriptor);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\") && true) {\n  PublicInstanceProxyHandlers.ownKeys = (target) => {\n    warn$1(\n      `Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`\n    );\n    return Reflect.ownKeys(target);\n  };\n}\nconst RuntimeCompiledPublicInstanceProxyHandlers = /* @__PURE__ */ extend({}, PublicInstanceProxyHandlers, {\n  get(target, key) {\n    if (key === Symbol.unscopables) {\n      return;\n    }\n    return PublicInstanceProxyHandlers.get(target, key, target);\n  },\n  has(_, key) {\n    const has = key[0] !== \"_\" && !isGloballyAllowed(key);\n    if (!!(process.env.NODE_ENV !== \"production\") && !has && PublicInstanceProxyHandlers.has(_, key)) {\n      warn$1(\n        `Property ${JSON.stringify(\n          key\n        )} should not start with _ which is a reserved prefix for Vue internals.`\n      );\n    }\n    return has;\n  }\n});\nfunction createDevRenderContext(instance) {\n  const target = {};\n  Object.defineProperty(target, `_`, {\n    configurable: true,\n    enumerable: false,\n    get: () => instance\n  });\n  Object.keys(publicPropertiesMap).forEach((key) => {\n    Object.defineProperty(target, key, {\n      configurable: true,\n      enumerable: false,\n      get: () => publicPropertiesMap[key](instance),\n      // intercepted by the proxy so no need for implementation,\n      // but needed to prevent set errors\n      set: NOOP\n    });\n  });\n  return target;\n}\nfunction exposePropsOnRenderContext(instance) {\n  const {\n    ctx,\n    propsOptions: [propsOptions]\n  } = instance;\n  if (propsOptions) {\n    Object.keys(propsOptions).forEach((key) => {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => instance.props[key],\n        set: NOOP\n      });\n    });\n  }\n}\nfunction exposeSetupStateOnRenderContext(instance) {\n  const { ctx, setupState } = instance;\n  Object.keys(toRaw(setupState)).forEach((key) => {\n    if (!setupState.__isScriptSetup) {\n      if (isReservedPrefix(key[0])) {\n        warn$1(\n          `setup() return property ${JSON.stringify(\n            key\n          )} should not start with \"$\" or \"_\" which are reserved prefixes for Vue internals.`\n        );\n        return;\n      }\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => setupState[key],\n        set: NOOP\n      });\n    }\n  });\n}\n\nconst warnRuntimeUsage = (method) => warn$1(\n  `${method}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`\n);\nfunction defineProps() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineProps`);\n  }\n  return null;\n}\nfunction defineEmits() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineEmits`);\n  }\n  return null;\n}\nfunction defineExpose(exposed) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineExpose`);\n  }\n}\nfunction defineOptions(options) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineOptions`);\n  }\n}\nfunction defineSlots() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`defineSlots`);\n  }\n  return null;\n}\nfunction defineModel() {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(\"defineModel\");\n  }\n}\nfunction withDefaults(props, defaults) {\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    warnRuntimeUsage(`withDefaults`);\n  }\n  return null;\n}\nfunction useSlots() {\n  return getContext().slots;\n}\nfunction useAttrs() {\n  return getContext().attrs;\n}\nfunction getContext() {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`useContext() called without active instance.`);\n  }\n  return i.setupContext || (i.setupContext = createSetupContext(i));\n}\nfunction normalizePropsOrEmits(props) {\n  return isArray(props) ? props.reduce(\n    (normalized, p) => (normalized[p] = null, normalized),\n    {}\n  ) : props;\n}\nfunction mergeDefaults(raw, defaults) {\n  const props = normalizePropsOrEmits(raw);\n  for (const key in defaults) {\n    if (key.startsWith(\"__skip\")) continue;\n    let opt = props[key];\n    if (opt) {\n      if (isArray(opt) || isFunction(opt)) {\n        opt = props[key] = { type: opt, default: defaults[key] };\n      } else {\n        opt.default = defaults[key];\n      }\n    } else if (opt === null) {\n      opt = props[key] = { default: defaults[key] };\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`props default key \"${key}\" has no corresponding declaration.`);\n    }\n    if (opt && defaults[`__skip_${key}`]) {\n      opt.skipFactory = true;\n    }\n  }\n  return props;\n}\nfunction mergeModels(a, b) {\n  if (!a || !b) return a || b;\n  if (isArray(a) && isArray(b)) return a.concat(b);\n  return extend({}, normalizePropsOrEmits(a), normalizePropsOrEmits(b));\n}\nfunction createPropsRestProxy(props, excludedKeys) {\n  const ret = {};\n  for (const key in props) {\n    if (!excludedKeys.includes(key)) {\n      Object.defineProperty(ret, key, {\n        enumerable: true,\n        get: () => props[key]\n      });\n    }\n  }\n  return ret;\n}\nfunction withAsyncContext(getAwaitable) {\n  const ctx = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !ctx) {\n    warn$1(\n      `withAsyncContext called without active current instance. This is likely a bug.`\n    );\n  }\n  let awaitable = getAwaitable();\n  unsetCurrentInstance();\n  if (isPromise(awaitable)) {\n    awaitable = awaitable.catch((e) => {\n      setCurrentInstance(ctx);\n      throw e;\n    });\n  }\n  return [awaitable, () => setCurrentInstance(ctx)];\n}\n\nfunction createDuplicateChecker() {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (type, key) => {\n    if (cache[key]) {\n      warn$1(`${type} property \"${key}\" is already defined in ${cache[key]}.`);\n    } else {\n      cache[key] = type;\n    }\n  };\n}\nlet shouldCacheAccess = true;\nfunction applyOptions(instance) {\n  const options = resolveMergedOptions(instance);\n  const publicThis = instance.proxy;\n  const ctx = instance.ctx;\n  shouldCacheAccess = false;\n  if (options.beforeCreate) {\n    callHook(options.beforeCreate, instance, \"bc\");\n  }\n  const {\n    // state\n    data: dataOptions,\n    computed: computedOptions,\n    methods,\n    watch: watchOptions,\n    provide: provideOptions,\n    inject: injectOptions,\n    // lifecycle\n    created,\n    beforeMount,\n    mounted,\n    beforeUpdate,\n    updated,\n    activated,\n    deactivated,\n    beforeDestroy,\n    beforeUnmount,\n    destroyed,\n    unmounted,\n    render,\n    renderTracked,\n    renderTriggered,\n    errorCaptured,\n    serverPrefetch,\n    // public API\n    expose,\n    inheritAttrs,\n    // assets\n    components,\n    directives,\n    filters\n  } = options;\n  const checkDuplicateProperties = !!(process.env.NODE_ENV !== \"production\") ? createDuplicateChecker() : null;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const [propsOptions] = instance.propsOptions;\n    if (propsOptions) {\n      for (const key in propsOptions) {\n        checkDuplicateProperties(\"Props\" /* PROPS */, key);\n      }\n    }\n  }\n  if (injectOptions) {\n    resolveInjections(injectOptions, ctx, checkDuplicateProperties);\n  }\n  if (methods) {\n    for (const key in methods) {\n      const methodHandler = methods[key];\n      if (isFunction(methodHandler)) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          Object.defineProperty(ctx, key, {\n            value: methodHandler.bind(publicThis),\n            configurable: true,\n            enumerable: true,\n            writable: true\n          });\n        } else {\n          ctx[key] = methodHandler.bind(publicThis);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          checkDuplicateProperties(\"Methods\" /* METHODS */, key);\n        }\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. Did you reference the function correctly?`\n        );\n      }\n    }\n  }\n  if (dataOptions) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(dataOptions)) {\n      warn$1(\n        `The data option must be a function. Plain object usage is no longer supported.`\n      );\n    }\n    const data = dataOptions.call(publicThis, publicThis);\n    if (!!(process.env.NODE_ENV !== \"production\") && isPromise(data)) {\n      warn$1(\n        `data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`\n      );\n    }\n    if (!isObject(data)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`data() should return an object.`);\n    } else {\n      instance.data = reactive(data);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        for (const key in data) {\n          checkDuplicateProperties(\"Data\" /* DATA */, key);\n          if (!isReservedPrefix(key[0])) {\n            Object.defineProperty(ctx, key, {\n              configurable: true,\n              enumerable: true,\n              get: () => data[key],\n              set: NOOP\n            });\n          }\n        }\n      }\n    }\n  }\n  shouldCacheAccess = true;\n  if (computedOptions) {\n    for (const key in computedOptions) {\n      const opt = computedOptions[key];\n      const get = isFunction(opt) ? opt.bind(publicThis, publicThis) : isFunction(opt.get) ? opt.get.bind(publicThis, publicThis) : NOOP;\n      if (!!(process.env.NODE_ENV !== \"production\") && get === NOOP) {\n        warn$1(`Computed property \"${key}\" has no getter.`);\n      }\n      const set = !isFunction(opt) && isFunction(opt.set) ? opt.set.bind(publicThis) : !!(process.env.NODE_ENV !== \"production\") ? () => {\n        warn$1(\n          `Write operation failed: computed property \"${key}\" is readonly.`\n        );\n      } : NOOP;\n      const c = computed({\n        get,\n        set\n      });\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => c.value,\n        set: (v) => c.value = v\n      });\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        checkDuplicateProperties(\"Computed\" /* COMPUTED */, key);\n      }\n    }\n  }\n  if (watchOptions) {\n    for (const key in watchOptions) {\n      createWatcher(watchOptions[key], ctx, publicThis, key);\n    }\n  }\n  if (provideOptions) {\n    const provides = isFunction(provideOptions) ? provideOptions.call(publicThis) : provideOptions;\n    Reflect.ownKeys(provides).forEach((key) => {\n      provide(key, provides[key]);\n    });\n  }\n  if (created) {\n    callHook(created, instance, \"c\");\n  }\n  function registerLifecycleHook(register, hook) {\n    if (isArray(hook)) {\n      hook.forEach((_hook) => register(_hook.bind(publicThis)));\n    } else if (hook) {\n      register(hook.bind(publicThis));\n    }\n  }\n  registerLifecycleHook(onBeforeMount, beforeMount);\n  registerLifecycleHook(onMounted, mounted);\n  registerLifecycleHook(onBeforeUpdate, beforeUpdate);\n  registerLifecycleHook(onUpdated, updated);\n  registerLifecycleHook(onActivated, activated);\n  registerLifecycleHook(onDeactivated, deactivated);\n  registerLifecycleHook(onErrorCaptured, errorCaptured);\n  registerLifecycleHook(onRenderTracked, renderTracked);\n  registerLifecycleHook(onRenderTriggered, renderTriggered);\n  registerLifecycleHook(onBeforeUnmount, beforeUnmount);\n  registerLifecycleHook(onUnmounted, unmounted);\n  registerLifecycleHook(onServerPrefetch, serverPrefetch);\n  if (isArray(expose)) {\n    if (expose.length) {\n      const exposed = instance.exposed || (instance.exposed = {});\n      expose.forEach((key) => {\n        Object.defineProperty(exposed, key, {\n          get: () => publicThis[key],\n          set: (val) => publicThis[key] = val\n        });\n      });\n    } else if (!instance.exposed) {\n      instance.exposed = {};\n    }\n  }\n  if (render && instance.render === NOOP) {\n    instance.render = render;\n  }\n  if (inheritAttrs != null) {\n    instance.inheritAttrs = inheritAttrs;\n  }\n  if (components) instance.components = components;\n  if (directives) instance.directives = directives;\n  if (serverPrefetch) {\n    markAsyncBoundary(instance);\n  }\n}\nfunction resolveInjections(injectOptions, ctx, checkDuplicateProperties = NOOP) {\n  if (isArray(injectOptions)) {\n    injectOptions = normalizeInject(injectOptions);\n  }\n  for (const key in injectOptions) {\n    const opt = injectOptions[key];\n    let injected;\n    if (isObject(opt)) {\n      if (\"default\" in opt) {\n        injected = inject(\n          opt.from || key,\n          opt.default,\n          true\n        );\n      } else {\n        injected = inject(opt.from || key);\n      }\n    } else {\n      injected = inject(opt);\n    }\n    if (isRef(injected)) {\n      Object.defineProperty(ctx, key, {\n        enumerable: true,\n        configurable: true,\n        get: () => injected.value,\n        set: (v) => injected.value = v\n      });\n    } else {\n      ctx[key] = injected;\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      checkDuplicateProperties(\"Inject\" /* INJECT */, key);\n    }\n  }\n}\nfunction callHook(hook, instance, type) {\n  callWithAsyncErrorHandling(\n    isArray(hook) ? hook.map((h) => h.bind(instance.proxy)) : hook.bind(instance.proxy),\n    instance,\n    type\n  );\n}\nfunction createWatcher(raw, ctx, publicThis, key) {\n  let getter = key.includes(\".\") ? createPathGetter(publicThis, key) : () => publicThis[key];\n  if (isString(raw)) {\n    const handler = ctx[raw];\n    if (isFunction(handler)) {\n      {\n        watch(getter, handler);\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`Invalid watch handler specified by key \"${raw}\"`, handler);\n    }\n  } else if (isFunction(raw)) {\n    {\n      watch(getter, raw.bind(publicThis));\n    }\n  } else if (isObject(raw)) {\n    if (isArray(raw)) {\n      raw.forEach((r) => createWatcher(r, ctx, publicThis, key));\n    } else {\n      const handler = isFunction(raw.handler) ? raw.handler.bind(publicThis) : ctx[raw.handler];\n      if (isFunction(handler)) {\n        watch(getter, handler, raw);\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn$1(`Invalid watch handler specified by key \"${raw.handler}\"`, handler);\n      }\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid watch option: \"${key}\"`, raw);\n  }\n}\nfunction resolveMergedOptions(instance) {\n  const base = instance.type;\n  const { mixins, extends: extendsOptions } = base;\n  const {\n    mixins: globalMixins,\n    optionsCache: cache,\n    config: { optionMergeStrategies }\n  } = instance.appContext;\n  const cached = cache.get(base);\n  let resolved;\n  if (cached) {\n    resolved = cached;\n  } else if (!globalMixins.length && !mixins && !extendsOptions) {\n    {\n      resolved = base;\n    }\n  } else {\n    resolved = {};\n    if (globalMixins.length) {\n      globalMixins.forEach(\n        (m) => mergeOptions(resolved, m, optionMergeStrategies, true)\n      );\n    }\n    mergeOptions(resolved, base, optionMergeStrategies);\n  }\n  if (isObject(base)) {\n    cache.set(base, resolved);\n  }\n  return resolved;\n}\nfunction mergeOptions(to, from, strats, asMixin = false) {\n  const { mixins, extends: extendsOptions } = from;\n  if (extendsOptions) {\n    mergeOptions(to, extendsOptions, strats, true);\n  }\n  if (mixins) {\n    mixins.forEach(\n      (m) => mergeOptions(to, m, strats, true)\n    );\n  }\n  for (const key in from) {\n    if (asMixin && key === \"expose\") {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `\"expose\" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`\n      );\n    } else {\n      const strat = internalOptionMergeStrats[key] || strats && strats[key];\n      to[key] = strat ? strat(to[key], from[key]) : from[key];\n    }\n  }\n  return to;\n}\nconst internalOptionMergeStrats = {\n  data: mergeDataFn,\n  props: mergeEmitsOrPropsOptions,\n  emits: mergeEmitsOrPropsOptions,\n  // objects\n  methods: mergeObjectOptions,\n  computed: mergeObjectOptions,\n  // lifecycle\n  beforeCreate: mergeAsArray,\n  created: mergeAsArray,\n  beforeMount: mergeAsArray,\n  mounted: mergeAsArray,\n  beforeUpdate: mergeAsArray,\n  updated: mergeAsArray,\n  beforeDestroy: mergeAsArray,\n  beforeUnmount: mergeAsArray,\n  destroyed: mergeAsArray,\n  unmounted: mergeAsArray,\n  activated: mergeAsArray,\n  deactivated: mergeAsArray,\n  errorCaptured: mergeAsArray,\n  serverPrefetch: mergeAsArray,\n  // assets\n  components: mergeObjectOptions,\n  directives: mergeObjectOptions,\n  // watch\n  watch: mergeWatchOptions,\n  // provide / inject\n  provide: mergeDataFn,\n  inject: mergeInject\n};\nfunction mergeDataFn(to, from) {\n  if (!from) {\n    return to;\n  }\n  if (!to) {\n    return from;\n  }\n  return function mergedDataFn() {\n    return (extend)(\n      isFunction(to) ? to.call(this, this) : to,\n      isFunction(from) ? from.call(this, this) : from\n    );\n  };\n}\nfunction mergeInject(to, from) {\n  return mergeObjectOptions(normalizeInject(to), normalizeInject(from));\n}\nfunction normalizeInject(raw) {\n  if (isArray(raw)) {\n    const res = {};\n    for (let i = 0; i < raw.length; i++) {\n      res[raw[i]] = raw[i];\n    }\n    return res;\n  }\n  return raw;\n}\nfunction mergeAsArray(to, from) {\n  return to ? [...new Set([].concat(to, from))] : from;\n}\nfunction mergeObjectOptions(to, from) {\n  return to ? extend(/* @__PURE__ */ Object.create(null), to, from) : from;\n}\nfunction mergeEmitsOrPropsOptions(to, from) {\n  if (to) {\n    if (isArray(to) && isArray(from)) {\n      return [.../* @__PURE__ */ new Set([...to, ...from])];\n    }\n    return extend(\n      /* @__PURE__ */ Object.create(null),\n      normalizePropsOrEmits(to),\n      normalizePropsOrEmits(from != null ? from : {})\n    );\n  } else {\n    return from;\n  }\n}\nfunction mergeWatchOptions(to, from) {\n  if (!to) return from;\n  if (!from) return to;\n  const merged = extend(/* @__PURE__ */ Object.create(null), to);\n  for (const key in from) {\n    merged[key] = mergeAsArray(to[key], from[key]);\n  }\n  return merged;\n}\n\nfunction createAppContext() {\n  return {\n    app: null,\n    config: {\n      isNativeTag: NO,\n      performance: false,\n      globalProperties: {},\n      optionMergeStrategies: {},\n      errorHandler: void 0,\n      warnHandler: void 0,\n      compilerOptions: {}\n    },\n    mixins: [],\n    components: {},\n    directives: {},\n    provides: /* @__PURE__ */ Object.create(null),\n    optionsCache: /* @__PURE__ */ new WeakMap(),\n    propsCache: /* @__PURE__ */ new WeakMap(),\n    emitsCache: /* @__PURE__ */ new WeakMap()\n  };\n}\nlet uid$1 = 0;\nfunction createAppAPI(render, hydrate) {\n  return function createApp(rootComponent, rootProps = null) {\n    if (!isFunction(rootComponent)) {\n      rootComponent = extend({}, rootComponent);\n    }\n    if (rootProps != null && !isObject(rootProps)) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(`root props passed to app.mount() must be an object.`);\n      rootProps = null;\n    }\n    const context = createAppContext();\n    const installedPlugins = /* @__PURE__ */ new WeakSet();\n    const pluginCleanupFns = [];\n    let isMounted = false;\n    const app = context.app = {\n      _uid: uid$1++,\n      _component: rootComponent,\n      _props: rootProps,\n      _container: null,\n      _context: context,\n      _instance: null,\n      version,\n      get config() {\n        return context.config;\n      },\n      set config(v) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `app.config cannot be replaced. Modify individual options instead.`\n          );\n        }\n      },\n      use(plugin, ...options) {\n        if (installedPlugins.has(plugin)) {\n          !!(process.env.NODE_ENV !== \"production\") && warn$1(`Plugin has already been applied to target app.`);\n        } else if (plugin && isFunction(plugin.install)) {\n          installedPlugins.add(plugin);\n          plugin.install(app, ...options);\n        } else if (isFunction(plugin)) {\n          installedPlugins.add(plugin);\n          plugin(app, ...options);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `A plugin must either be a function or an object with an \"install\" function.`\n          );\n        }\n        return app;\n      },\n      mixin(mixin) {\n        if (__VUE_OPTIONS_API__) {\n          if (!context.mixins.includes(mixin)) {\n            context.mixins.push(mixin);\n          } else if (!!(process.env.NODE_ENV !== \"production\")) {\n            warn$1(\n              \"Mixin has already been applied to target app\" + (mixin.name ? `: ${mixin.name}` : \"\")\n            );\n          }\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Mixins are only available in builds supporting Options API\");\n        }\n        return app;\n      },\n      component(name, component) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateComponentName(name, context.config);\n        }\n        if (!component) {\n          return context.components[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.components[name]) {\n          warn$1(`Component \"${name}\" has already been registered in target app.`);\n        }\n        context.components[name] = component;\n        return app;\n      },\n      directive(name, directive) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          validateDirectiveName(name);\n        }\n        if (!directive) {\n          return context.directives[name];\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") && context.directives[name]) {\n          warn$1(`Directive \"${name}\" has already been registered in target app.`);\n        }\n        context.directives[name] = directive;\n        return app;\n      },\n      mount(rootContainer, isHydrate, namespace) {\n        if (!isMounted) {\n          if (!!(process.env.NODE_ENV !== \"production\") && rootContainer.__vue_app__) {\n            warn$1(\n              `There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling \\`app.unmount()\\` first.`\n            );\n          }\n          const vnode = app._ceVNode || createVNode(rootComponent, rootProps);\n          vnode.appContext = context;\n          if (namespace === true) {\n            namespace = \"svg\";\n          } else if (namespace === false) {\n            namespace = void 0;\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            context.reload = () => {\n              render(\n                cloneVNode(vnode),\n                rootContainer,\n                namespace\n              );\n            };\n          }\n          if (isHydrate && hydrate) {\n            hydrate(vnode, rootContainer);\n          } else {\n            render(vnode, rootContainer, namespace);\n          }\n          isMounted = true;\n          app._container = rootContainer;\n          rootContainer.__vue_app__ = app;\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = vnode.component;\n            devtoolsInitApp(app, version);\n          }\n          return getComponentPublicInstance(vnode.component);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\n            `App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. \\`const createMyApp = () => createApp(App)\\``\n          );\n        }\n      },\n      onUnmount(cleanupFn) {\n        if (!!(process.env.NODE_ENV !== \"production\") && typeof cleanupFn !== \"function\") {\n          warn$1(\n            `Expected function as first argument to app.onUnmount(), but got ${typeof cleanupFn}`\n          );\n        }\n        pluginCleanupFns.push(cleanupFn);\n      },\n      unmount() {\n        if (isMounted) {\n          callWithAsyncErrorHandling(\n            pluginCleanupFns,\n            app._instance,\n            16\n          );\n          render(null, app._container);\n          if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n            app._instance = null;\n            devtoolsUnmountApp(app);\n          }\n          delete app._container.__vue_app__;\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(`Cannot unmount an app that is not mounted.`);\n        }\n      },\n      provide(key, value) {\n        if (!!(process.env.NODE_ENV !== \"production\") && key in context.provides) {\n          warn$1(\n            `App already provides property with key \"${String(key)}\". It will be overwritten with the new value.`\n          );\n        }\n        context.provides[key] = value;\n        return app;\n      },\n      runWithContext(fn) {\n        const lastApp = currentApp;\n        currentApp = app;\n        try {\n          return fn();\n        } finally {\n          currentApp = lastApp;\n        }\n      }\n    };\n    return app;\n  };\n}\nlet currentApp = null;\n\nfunction provide(key, value) {\n  if (!currentInstance) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`provide() can only be used inside setup().`);\n    }\n  } else {\n    let provides = currentInstance.provides;\n    const parentProvides = currentInstance.parent && currentInstance.parent.provides;\n    if (parentProvides === provides) {\n      provides = currentInstance.provides = Object.create(parentProvides);\n    }\n    provides[key] = value;\n  }\n}\nfunction inject(key, defaultValue, treatDefaultAsFactory = false) {\n  const instance = currentInstance || currentRenderingInstance;\n  if (instance || currentApp) {\n    const provides = currentApp ? currentApp._context.provides : instance ? instance.parent == null ? instance.vnode.appContext && instance.vnode.appContext.provides : instance.parent.provides : void 0;\n    if (provides && key in provides) {\n      return provides[key];\n    } else if (arguments.length > 1) {\n      return treatDefaultAsFactory && isFunction(defaultValue) ? defaultValue.call(instance && instance.proxy) : defaultValue;\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn$1(`injection \"${String(key)}\" not found.`);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`inject() can only be used inside setup() or functional components.`);\n  }\n}\nfunction hasInjectionContext() {\n  return !!(currentInstance || currentRenderingInstance || currentApp);\n}\n\nconst internalObjectProto = {};\nconst createInternalObject = () => Object.create(internalObjectProto);\nconst isInternalObject = (obj) => Object.getPrototypeOf(obj) === internalObjectProto;\n\nfunction initProps(instance, rawProps, isStateful, isSSR = false) {\n  const props = {};\n  const attrs = createInternalObject();\n  instance.propsDefaults = /* @__PURE__ */ Object.create(null);\n  setFullProps(instance, rawProps, props, attrs);\n  for (const key in instance.propsOptions[0]) {\n    if (!(key in props)) {\n      props[key] = void 0;\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n  if (isStateful) {\n    instance.props = isSSR ? props : shallowReactive(props);\n  } else {\n    if (!instance.type.props) {\n      instance.props = attrs;\n    } else {\n      instance.props = props;\n    }\n  }\n  instance.attrs = attrs;\n}\nfunction isInHmrContext(instance) {\n  while (instance) {\n    if (instance.type.__hmrId) return true;\n    instance = instance.parent;\n  }\n}\nfunction updateProps(instance, rawProps, rawPrevProps, optimized) {\n  const {\n    props,\n    attrs,\n    vnode: { patchFlag }\n  } = instance;\n  const rawCurrentProps = toRaw(props);\n  const [options] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  if (\n    // always force full diff in dev\n    // - #1942 if hmr is enabled with sfc component\n    // - vite#872 non-sfc component used by sfc component\n    !(!!(process.env.NODE_ENV !== \"production\") && isInHmrContext(instance)) && (optimized || patchFlag > 0) && !(patchFlag & 16)\n  ) {\n    if (patchFlag & 8) {\n      const propsToUpdate = instance.vnode.dynamicProps;\n      for (let i = 0; i < propsToUpdate.length; i++) {\n        let key = propsToUpdate[i];\n        if (isEmitListener(instance.emitsOptions, key)) {\n          continue;\n        }\n        const value = rawProps[key];\n        if (options) {\n          if (hasOwn(attrs, key)) {\n            if (value !== attrs[key]) {\n              attrs[key] = value;\n              hasAttrsChanged = true;\n            }\n          } else {\n            const camelizedKey = camelize(key);\n            props[camelizedKey] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              camelizedKey,\n              value,\n              instance,\n              false\n            );\n          }\n        } else {\n          if (value !== attrs[key]) {\n            attrs[key] = value;\n            hasAttrsChanged = true;\n          }\n        }\n      }\n    }\n  } else {\n    if (setFullProps(instance, rawProps, props, attrs)) {\n      hasAttrsChanged = true;\n    }\n    let kebabKey;\n    for (const key in rawCurrentProps) {\n      if (!rawProps || // for camelCase\n      !hasOwn(rawProps, key) && // it's possible the original props was passed in as kebab-case\n      // and converted to camelCase (#955)\n      ((kebabKey = hyphenate(key)) === key || !hasOwn(rawProps, kebabKey))) {\n        if (options) {\n          if (rawPrevProps && // for camelCase\n          (rawPrevProps[key] !== void 0 || // for kebab-case\n          rawPrevProps[kebabKey] !== void 0)) {\n            props[key] = resolvePropValue(\n              options,\n              rawCurrentProps,\n              key,\n              void 0,\n              instance,\n              true\n            );\n          }\n        } else {\n          delete props[key];\n        }\n      }\n    }\n    if (attrs !== rawCurrentProps) {\n      for (const key in attrs) {\n        if (!rawProps || !hasOwn(rawProps, key) && true) {\n          delete attrs[key];\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (hasAttrsChanged) {\n    trigger(instance.attrs, \"set\", \"\");\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    validateProps(rawProps || {}, props, instance);\n  }\n}\nfunction setFullProps(instance, rawProps, props, attrs) {\n  const [options, needCastKeys] = instance.propsOptions;\n  let hasAttrsChanged = false;\n  let rawCastValues;\n  if (rawProps) {\n    for (let key in rawProps) {\n      if (isReservedProp(key)) {\n        continue;\n      }\n      const value = rawProps[key];\n      let camelKey;\n      if (options && hasOwn(options, camelKey = camelize(key))) {\n        if (!needCastKeys || !needCastKeys.includes(camelKey)) {\n          props[camelKey] = value;\n        } else {\n          (rawCastValues || (rawCastValues = {}))[camelKey] = value;\n        }\n      } else if (!isEmitListener(instance.emitsOptions, key)) {\n        if (!(key in attrs) || value !== attrs[key]) {\n          attrs[key] = value;\n          hasAttrsChanged = true;\n        }\n      }\n    }\n  }\n  if (needCastKeys) {\n    const rawCurrentProps = toRaw(props);\n    const castValues = rawCastValues || EMPTY_OBJ;\n    for (let i = 0; i < needCastKeys.length; i++) {\n      const key = needCastKeys[i];\n      props[key] = resolvePropValue(\n        options,\n        rawCurrentProps,\n        key,\n        castValues[key],\n        instance,\n        !hasOwn(castValues, key)\n      );\n    }\n  }\n  return hasAttrsChanged;\n}\nfunction resolvePropValue(options, props, key, value, instance, isAbsent) {\n  const opt = options[key];\n  if (opt != null) {\n    const hasDefault = hasOwn(opt, \"default\");\n    if (hasDefault && value === void 0) {\n      const defaultValue = opt.default;\n      if (opt.type !== Function && !opt.skipFactory && isFunction(defaultValue)) {\n        const { propsDefaults } = instance;\n        if (key in propsDefaults) {\n          value = propsDefaults[key];\n        } else {\n          const reset = setCurrentInstance(instance);\n          value = propsDefaults[key] = defaultValue.call(\n            null,\n            props\n          );\n          reset();\n        }\n      } else {\n        value = defaultValue;\n      }\n      if (instance.ce) {\n        instance.ce._setProp(key, value);\n      }\n    }\n    if (opt[0 /* shouldCast */]) {\n      if (isAbsent && !hasDefault) {\n        value = false;\n      } else if (opt[1 /* shouldCastTrue */] && (value === \"\" || value === hyphenate(key))) {\n        value = true;\n      }\n    }\n  }\n  return value;\n}\nconst mixinPropsCache = /* @__PURE__ */ new WeakMap();\nfunction normalizePropsOptions(comp, appContext, asMixin = false) {\n  const cache = __VUE_OPTIONS_API__ && asMixin ? mixinPropsCache : appContext.propsCache;\n  const cached = cache.get(comp);\n  if (cached) {\n    return cached;\n  }\n  const raw = comp.props;\n  const normalized = {};\n  const needCastKeys = [];\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendProps = (raw2) => {\n      hasExtends = true;\n      const [props, keys] = normalizePropsOptions(raw2, appContext, true);\n      extend(normalized, props);\n      if (keys) needCastKeys.push(...keys);\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendProps);\n    }\n    if (comp.extends) {\n      extendProps(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendProps);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, EMPTY_ARR);\n    }\n    return EMPTY_ARR;\n  }\n  if (isArray(raw)) {\n    for (let i = 0; i < raw.length; i++) {\n      if (!!(process.env.NODE_ENV !== \"production\") && !isString(raw[i])) {\n        warn$1(`props must be strings when using array syntax.`, raw[i]);\n      }\n      const normalizedKey = camelize(raw[i]);\n      if (validatePropName(normalizedKey)) {\n        normalized[normalizedKey] = EMPTY_OBJ;\n      }\n    }\n  } else if (raw) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isObject(raw)) {\n      warn$1(`invalid props options`, raw);\n    }\n    for (const key in raw) {\n      const normalizedKey = camelize(key);\n      if (validatePropName(normalizedKey)) {\n        const opt = raw[key];\n        const prop = normalized[normalizedKey] = isArray(opt) || isFunction(opt) ? { type: opt } : extend({}, opt);\n        const propType = prop.type;\n        let shouldCast = false;\n        let shouldCastTrue = true;\n        if (isArray(propType)) {\n          for (let index = 0; index < propType.length; ++index) {\n            const type = propType[index];\n            const typeName = isFunction(type) && type.name;\n            if (typeName === \"Boolean\") {\n              shouldCast = true;\n              break;\n            } else if (typeName === \"String\") {\n              shouldCastTrue = false;\n            }\n          }\n        } else {\n          shouldCast = isFunction(propType) && propType.name === \"Boolean\";\n        }\n        prop[0 /* shouldCast */] = shouldCast;\n        prop[1 /* shouldCastTrue */] = shouldCastTrue;\n        if (shouldCast || hasOwn(prop, \"default\")) {\n          needCastKeys.push(normalizedKey);\n        }\n      }\n    }\n  }\n  const res = [normalized, needCastKeys];\n  if (isObject(comp)) {\n    cache.set(comp, res);\n  }\n  return res;\n}\nfunction validatePropName(key) {\n  if (key[0] !== \"$\" && !isReservedProp(key)) {\n    return true;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn$1(`Invalid prop name: \"${key}\" is a reserved property.`);\n  }\n  return false;\n}\nfunction getType(ctor) {\n  if (ctor === null) {\n    return \"null\";\n  }\n  if (typeof ctor === \"function\") {\n    return ctor.name || \"\";\n  } else if (typeof ctor === \"object\") {\n    const name = ctor.constructor && ctor.constructor.name;\n    return name || \"\";\n  }\n  return \"\";\n}\nfunction validateProps(rawProps, props, instance) {\n  const resolvedValues = toRaw(props);\n  const options = instance.propsOptions[0];\n  const camelizePropsKey = Object.keys(rawProps).map((key) => camelize(key));\n  for (const key in options) {\n    let opt = options[key];\n    if (opt == null) continue;\n    validateProp(\n      key,\n      resolvedValues[key],\n      opt,\n      !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(resolvedValues) : resolvedValues,\n      !camelizePropsKey.includes(key)\n    );\n  }\n}\nfunction validateProp(name, value, prop, props, isAbsent) {\n  const { type, required, validator, skipCheck } = prop;\n  if (required && isAbsent) {\n    warn$1('Missing required prop: \"' + name + '\"');\n    return;\n  }\n  if (value == null && !required) {\n    return;\n  }\n  if (type != null && type !== true && !skipCheck) {\n    let isValid = false;\n    const types = isArray(type) ? type : [type];\n    const expectedTypes = [];\n    for (let i = 0; i < types.length && !isValid; i++) {\n      const { valid, expectedType } = assertType(value, types[i]);\n      expectedTypes.push(expectedType || \"\");\n      isValid = valid;\n    }\n    if (!isValid) {\n      warn$1(getInvalidTypeMessage(name, value, expectedTypes));\n      return;\n    }\n  }\n  if (validator && !validator(value, props)) {\n    warn$1('Invalid prop: custom validator check failed for prop \"' + name + '\".');\n  }\n}\nconst isSimpleType = /* @__PURE__ */ makeMap(\n  \"String,Number,Boolean,Function,Symbol,BigInt\"\n);\nfunction assertType(value, type) {\n  let valid;\n  const expectedType = getType(type);\n  if (expectedType === \"null\") {\n    valid = value === null;\n  } else if (isSimpleType(expectedType)) {\n    const t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    if (!valid && t === \"object\") {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === \"Object\") {\n    valid = isObject(value);\n  } else if (expectedType === \"Array\") {\n    valid = isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid,\n    expectedType\n  };\n}\nfunction getInvalidTypeMessage(name, value, expectedTypes) {\n  if (expectedTypes.length === 0) {\n    return `Prop type [] for prop \"${name}\" won't match anything. Did you mean to use type Array instead?`;\n  }\n  let message = `Invalid prop: type check failed for prop \"${name}\". Expected ${expectedTypes.map(capitalize).join(\" | \")}`;\n  const expectedType = expectedTypes[0];\n  const receivedType = toRawType(value);\n  const expectedValue = styleValue(value, expectedType);\n  const receivedValue = styleValue(value, receivedType);\n  if (expectedTypes.length === 1 && isExplicable(expectedType) && !isBoolean(expectedType, receivedType)) {\n    message += ` with value ${expectedValue}`;\n  }\n  message += `, got ${receivedType} `;\n  if (isExplicable(receivedType)) {\n    message += `with value ${receivedValue}.`;\n  }\n  return message;\n}\nfunction styleValue(value, type) {\n  if (type === \"String\") {\n    return `\"${value}\"`;\n  } else if (type === \"Number\") {\n    return `${Number(value)}`;\n  } else {\n    return `${value}`;\n  }\n}\nfunction isExplicable(type) {\n  const explicitTypes = [\"string\", \"number\", \"boolean\"];\n  return explicitTypes.some((elem) => type.toLowerCase() === elem);\n}\nfunction isBoolean(...args) {\n  return args.some((elem) => elem.toLowerCase() === \"boolean\");\n}\n\nconst isInternalKey = (key) => key[0] === \"_\" || key === \"$stable\";\nconst normalizeSlotValue = (value) => isArray(value) ? value.map(normalizeVNode) : [normalizeVNode(value)];\nconst normalizeSlot = (key, rawSlot, ctx) => {\n  if (rawSlot._n) {\n    return rawSlot;\n  }\n  const normalized = withCtx((...args) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && currentInstance && (!ctx || ctx.root === currentInstance.root)) {\n      warn$1(\n        `Slot \"${key}\" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`\n      );\n    }\n    return normalizeSlotValue(rawSlot(...args));\n  }, ctx);\n  normalized._c = false;\n  return normalized;\n};\nconst normalizeObjectSlots = (rawSlots, slots, instance) => {\n  const ctx = rawSlots._ctx;\n  for (const key in rawSlots) {\n    if (isInternalKey(key)) continue;\n    const value = rawSlots[key];\n    if (isFunction(value)) {\n      slots[key] = normalizeSlot(key, value, ctx);\n    } else if (value != null) {\n      if (!!(process.env.NODE_ENV !== \"production\") && true) {\n        warn$1(\n          `Non-function value encountered for slot \"${key}\". Prefer function slots for better performance.`\n        );\n      }\n      const normalized = normalizeSlotValue(value);\n      slots[key] = () => normalized;\n    }\n  }\n};\nconst normalizeVNodeSlots = (instance, children) => {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isKeepAlive(instance.vnode) && true) {\n    warn$1(\n      `Non-function value encountered for default slot. Prefer function slots for better performance.`\n    );\n  }\n  const normalized = normalizeSlotValue(children);\n  instance.slots.default = () => normalized;\n};\nconst assignSlots = (slots, children, optimized) => {\n  for (const key in children) {\n    if (optimized || key !== \"_\") {\n      slots[key] = children[key];\n    }\n  }\n};\nconst initSlots = (instance, children, optimized) => {\n  const slots = instance.slots = createInternalObject();\n  if (instance.vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      assignSlots(slots, children, optimized);\n      if (optimized) {\n        def(slots, \"_\", type, true);\n      }\n    } else {\n      normalizeObjectSlots(children, slots);\n    }\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n  }\n};\nconst updateSlots = (instance, children, optimized) => {\n  const { vnode, slots } = instance;\n  let needDeletionCheck = true;\n  let deletionComparisonTarget = EMPTY_OBJ;\n  if (vnode.shapeFlag & 32) {\n    const type = children._;\n    if (type) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n        assignSlots(slots, children, optimized);\n        trigger(instance, \"set\", \"$slots\");\n      } else if (optimized && type === 1) {\n        needDeletionCheck = false;\n      } else {\n        assignSlots(slots, children, optimized);\n      }\n    } else {\n      needDeletionCheck = !children.$stable;\n      normalizeObjectSlots(children, slots);\n    }\n    deletionComparisonTarget = children;\n  } else if (children) {\n    normalizeVNodeSlots(instance, children);\n    deletionComparisonTarget = { default: 1 };\n  }\n  if (needDeletionCheck) {\n    for (const key in slots) {\n      if (!isInternalKey(key) && deletionComparisonTarget[key] == null) {\n        delete slots[key];\n      }\n    }\n  }\n};\n\nlet supported;\nlet perf;\nfunction startMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    perf.mark(`vue-${type}-${instance.uid}`);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfStart(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction endMeasure(instance, type) {\n  if (instance.appContext.config.performance && isSupported()) {\n    const startTag = `vue-${type}-${instance.uid}`;\n    const endTag = startTag + `:end`;\n    perf.mark(endTag);\n    perf.measure(\n      `<${formatComponentName(instance, instance.type)}> ${type}`,\n      startTag,\n      endTag\n    );\n    perf.clearMarks(startTag);\n    perf.clearMarks(endTag);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsPerfEnd(instance, type, isSupported() ? perf.now() : Date.now());\n  }\n}\nfunction isSupported() {\n  if (supported !== void 0) {\n    return supported;\n  }\n  if (typeof window !== \"undefined\" && window.performance) {\n    supported = true;\n    perf = window.performance;\n  } else {\n    supported = false;\n  }\n  return supported;\n}\n\nfunction initFeatureFlags() {\n  const needWarn = [];\n  if (typeof __VUE_OPTIONS_API__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_OPTIONS_API__`);\n    getGlobalThis().__VUE_OPTIONS_API__ = true;\n  }\n  if (typeof __VUE_PROD_DEVTOOLS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_DEVTOOLS__`);\n    getGlobalThis().__VUE_PROD_DEVTOOLS__ = false;\n  }\n  if (typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__ !== \"boolean\") {\n    !!(process.env.NODE_ENV !== \"production\") && needWarn.push(`__VUE_PROD_HYDRATION_MISMATCH_DETAILS__`);\n    getGlobalThis().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__ = false;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && needWarn.length) {\n    const multi = needWarn.length > 1;\n    console.warn(\n      `Feature flag${multi ? `s` : ``} ${needWarn.join(\", \")} ${multi ? `are` : `is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags.`\n    );\n  }\n}\n\nconst queuePostRenderEffect = queueEffectWithSuspense ;\nfunction createRenderer(options) {\n  return baseCreateRenderer(options);\n}\nfunction createHydrationRenderer(options) {\n  return baseCreateRenderer(options, createHydrationFunctions);\n}\nfunction baseCreateRenderer(options, createHydrationFns) {\n  {\n    initFeatureFlags();\n  }\n  const target = getGlobalThis();\n  target.__VUE__ = true;\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    setDevtoolsHook$1(target.__VUE_DEVTOOLS_GLOBAL_HOOK__, target);\n  }\n  const {\n    insert: hostInsert,\n    remove: hostRemove,\n    patchProp: hostPatchProp,\n    createElement: hostCreateElement,\n    createText: hostCreateText,\n    createComment: hostCreateComment,\n    setText: hostSetText,\n    setElementText: hostSetElementText,\n    parentNode: hostParentNode,\n    nextSibling: hostNextSibling,\n    setScopeId: hostSetScopeId = NOOP,\n    insertStaticContent: hostInsertStaticContent\n  } = options;\n  const patch = (n1, n2, container, anchor = null, parentComponent = null, parentSuspense = null, namespace = void 0, slotScopeIds = null, optimized = !!(process.env.NODE_ENV !== \"production\") && isHmrUpdating ? false : !!n2.dynamicChildren) => {\n    if (n1 === n2) {\n      return;\n    }\n    if (n1 && !isSameVNodeType(n1, n2)) {\n      anchor = getNextHostNode(n1);\n      unmount(n1, parentComponent, parentSuspense, true);\n      n1 = null;\n    }\n    if (n2.patchFlag === -2) {\n      optimized = false;\n      n2.dynamicChildren = null;\n    }\n    const { type, ref, shapeFlag } = n2;\n    switch (type) {\n      case Text:\n        processText(n1, n2, container, anchor);\n        break;\n      case Comment:\n        processCommentNode(n1, n2, container, anchor);\n        break;\n      case Static:\n        if (n1 == null) {\n          mountStaticNode(n2, container, anchor, namespace);\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          patchStaticNode(n1, n2, container, namespace);\n        }\n        break;\n      case Fragment:\n        processFragment(\n          n1,\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        break;\n      default:\n        if (shapeFlag & 1) {\n          processElement(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 6) {\n          processComponent(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (shapeFlag & 64) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (shapeFlag & 128) {\n          type.process(\n            n1,\n            n2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized,\n            internals\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\")) {\n          warn$1(\"Invalid VNode type:\", type, `(${typeof type})`);\n        }\n    }\n    if (ref != null && parentComponent) {\n      setRef(ref, n1 && n1.ref, parentSuspense, n2 || n1, !n2);\n    }\n  };\n  const processText = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateText(n2.children),\n        container,\n        anchor\n      );\n    } else {\n      const el = n2.el = n1.el;\n      if (n2.children !== n1.children) {\n        hostSetText(el, n2.children);\n      }\n    }\n  };\n  const processCommentNode = (n1, n2, container, anchor) => {\n    if (n1 == null) {\n      hostInsert(\n        n2.el = hostCreateComment(n2.children || \"\"),\n        container,\n        anchor\n      );\n    } else {\n      n2.el = n1.el;\n    }\n  };\n  const mountStaticNode = (n2, container, anchor, namespace) => {\n    [n2.el, n2.anchor] = hostInsertStaticContent(\n      n2.children,\n      container,\n      anchor,\n      namespace,\n      n2.el,\n      n2.anchor\n    );\n  };\n  const patchStaticNode = (n1, n2, container, namespace) => {\n    if (n2.children !== n1.children) {\n      const anchor = hostNextSibling(n1.anchor);\n      removeStaticNode(n1);\n      [n2.el, n2.anchor] = hostInsertStaticContent(\n        n2.children,\n        container,\n        anchor,\n        namespace\n      );\n    } else {\n      n2.el = n1.el;\n      n2.anchor = n1.anchor;\n    }\n  };\n  const moveStaticNode = ({ el, anchor }, container, nextSibling) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostInsert(el, container, nextSibling);\n      el = next;\n    }\n    hostInsert(anchor, container, nextSibling);\n  };\n  const removeStaticNode = ({ el, anchor }) => {\n    let next;\n    while (el && el !== anchor) {\n      next = hostNextSibling(el);\n      hostRemove(el);\n      el = next;\n    }\n    hostRemove(anchor);\n  };\n  const processElement = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    if (n2.type === \"svg\") {\n      namespace = \"svg\";\n    } else if (n2.type === \"math\") {\n      namespace = \"mathml\";\n    }\n    if (n1 == null) {\n      mountElement(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      patchElement(\n        n1,\n        n2,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const mountElement = (vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let el;\n    let vnodeHook;\n    const { props, shapeFlag, transition, dirs } = vnode;\n    el = vnode.el = hostCreateElement(\n      vnode.type,\n      namespace,\n      props && props.is,\n      props\n    );\n    if (shapeFlag & 8) {\n      hostSetElementText(el, vnode.children);\n    } else if (shapeFlag & 16) {\n      mountChildren(\n        vnode.children,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(vnode, namespace),\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"created\");\n    }\n    setScopeId(el, vnode, vnode.scopeId, slotScopeIds, parentComponent);\n    if (props) {\n      for (const key in props) {\n        if (key !== \"value\" && !isReservedProp(key)) {\n          hostPatchProp(el, key, null, props[key], namespace, parentComponent);\n        }\n      }\n      if (\"value\" in props) {\n        hostPatchProp(el, \"value\", null, props.value, namespace);\n      }\n      if (vnodeHook = props.onVnodeBeforeMount) {\n        invokeVNodeHook(vnodeHook, parentComponent, vnode);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      def(el, \"__vnode\", vnode, true);\n      def(el, \"__vueParentComponent\", parentComponent, true);\n    }\n    if (dirs) {\n      invokeDirectiveHook(vnode, null, parentComponent, \"beforeMount\");\n    }\n    const needCallTransitionHooks = needTransition(parentSuspense, transition);\n    if (needCallTransitionHooks) {\n      transition.beforeEnter(el);\n    }\n    hostInsert(el, container, anchor);\n    if ((vnodeHook = props && props.onVnodeMounted) || needCallTransitionHooks || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        needCallTransitionHooks && transition.enter(el);\n        dirs && invokeDirectiveHook(vnode, null, parentComponent, \"mounted\");\n      }, parentSuspense);\n    }\n  };\n  const setScopeId = (el, vnode, scopeId, slotScopeIds, parentComponent) => {\n    if (scopeId) {\n      hostSetScopeId(el, scopeId);\n    }\n    if (slotScopeIds) {\n      for (let i = 0; i < slotScopeIds.length; i++) {\n        hostSetScopeId(el, slotScopeIds[i]);\n      }\n    }\n    if (parentComponent) {\n      let subTree = parentComponent.subTree;\n      if (!!(process.env.NODE_ENV !== \"production\") && subTree.patchFlag > 0 && subTree.patchFlag & 2048) {\n        subTree = filterSingleRoot(subTree.children) || subTree;\n      }\n      if (vnode === subTree || isSuspense(subTree.type) && (subTree.ssContent === vnode || subTree.ssFallback === vnode)) {\n        const parentVNode = parentComponent.vnode;\n        setScopeId(\n          el,\n          parentVNode,\n          parentVNode.scopeId,\n          parentVNode.slotScopeIds,\n          parentComponent.parent\n        );\n      }\n    }\n  };\n  const mountChildren = (children, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      const child = children[i] = optimized ? cloneIfMounted(children[i]) : normalizeVNode(children[i]);\n      patch(\n        null,\n        child,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n  };\n  const patchElement = (n1, n2, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const el = n2.el = n1.el;\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      el.__vnode = n2;\n    }\n    let { patchFlag, dynamicChildren, dirs } = n2;\n    patchFlag |= n1.patchFlag & 16;\n    const oldProps = n1.props || EMPTY_OBJ;\n    const newProps = n2.props || EMPTY_OBJ;\n    let vnodeHook;\n    parentComponent && toggleRecurse(parentComponent, false);\n    if (vnodeHook = newProps.onVnodeBeforeUpdate) {\n      invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n    }\n    if (dirs) {\n      invokeDirectiveHook(n2, n1, parentComponent, \"beforeUpdate\");\n    }\n    parentComponent && toggleRecurse(parentComponent, true);\n    if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (oldProps.innerHTML && newProps.innerHTML == null || oldProps.textContent && newProps.textContent == null) {\n      hostSetElementText(el, \"\");\n    }\n    if (dynamicChildren) {\n      patchBlockChildren(\n        n1.dynamicChildren,\n        dynamicChildren,\n        el,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds\n      );\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        traverseStaticChildren(n1, n2);\n      }\n    } else if (!optimized) {\n      patchChildren(\n        n1,\n        n2,\n        el,\n        null,\n        parentComponent,\n        parentSuspense,\n        resolveChildrenNamespace(n2, namespace),\n        slotScopeIds,\n        false\n      );\n    }\n    if (patchFlag > 0) {\n      if (patchFlag & 16) {\n        patchProps(el, oldProps, newProps, parentComponent, namespace);\n      } else {\n        if (patchFlag & 2) {\n          if (oldProps.class !== newProps.class) {\n            hostPatchProp(el, \"class\", null, newProps.class, namespace);\n          }\n        }\n        if (patchFlag & 4) {\n          hostPatchProp(el, \"style\", oldProps.style, newProps.style, namespace);\n        }\n        if (patchFlag & 8) {\n          const propsToUpdate = n2.dynamicProps;\n          for (let i = 0; i < propsToUpdate.length; i++) {\n            const key = propsToUpdate[i];\n            const prev = oldProps[key];\n            const next = newProps[key];\n            if (next !== prev || key === \"value\") {\n              hostPatchProp(el, key, prev, next, namespace, parentComponent);\n            }\n          }\n        }\n      }\n      if (patchFlag & 1) {\n        if (n1.children !== n2.children) {\n          hostSetElementText(el, n2.children);\n        }\n      }\n    } else if (!optimized && dynamicChildren == null) {\n      patchProps(el, oldProps, newProps, parentComponent, namespace);\n    }\n    if ((vnodeHook = newProps.onVnodeUpdated) || dirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, n2, n1);\n        dirs && invokeDirectiveHook(n2, n1, parentComponent, \"updated\");\n      }, parentSuspense);\n    }\n  };\n  const patchBlockChildren = (oldChildren, newChildren, fallbackContainer, parentComponent, parentSuspense, namespace, slotScopeIds) => {\n    for (let i = 0; i < newChildren.length; i++) {\n      const oldVNode = oldChildren[i];\n      const newVNode = newChildren[i];\n      const container = (\n        // oldVNode may be an errored async setup() component inside Suspense\n        // which will not have a mounted element\n        oldVNode.el && // - In the case of a Fragment, we need to provide the actual parent\n        // of the Fragment itself so it can move its children.\n        (oldVNode.type === Fragment || // - In the case of different nodes, there is going to be a replacement\n        // which also requires the correct parent container\n        !isSameVNodeType(oldVNode, newVNode) || // - In the case of a component, it could contain anything.\n        oldVNode.shapeFlag & (6 | 64)) ? hostParentNode(oldVNode.el) : (\n          // In other cases, the parent container is not actually used so we\n          // just pass the block element here to avoid a DOM parentNode call.\n          fallbackContainer\n        )\n      );\n      patch(\n        oldVNode,\n        newVNode,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        true\n      );\n    }\n  };\n  const patchProps = (el, oldProps, newProps, parentComponent, namespace) => {\n    if (oldProps !== newProps) {\n      if (oldProps !== EMPTY_OBJ) {\n        for (const key in oldProps) {\n          if (!isReservedProp(key) && !(key in newProps)) {\n            hostPatchProp(\n              el,\n              key,\n              oldProps[key],\n              null,\n              namespace,\n              parentComponent\n            );\n          }\n        }\n      }\n      for (const key in newProps) {\n        if (isReservedProp(key)) continue;\n        const next = newProps[key];\n        const prev = oldProps[key];\n        if (next !== prev && key !== \"value\") {\n          hostPatchProp(el, key, prev, next, namespace, parentComponent);\n        }\n      }\n      if (\"value\" in newProps) {\n        hostPatchProp(el, \"value\", oldProps.value, newProps.value, namespace);\n      }\n    }\n  };\n  const processFragment = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    const fragmentStartAnchor = n2.el = n1 ? n1.el : hostCreateText(\"\");\n    const fragmentEndAnchor = n2.anchor = n1 ? n1.anchor : hostCreateText(\"\");\n    let { patchFlag, dynamicChildren, slotScopeIds: fragmentSlotScopeIds } = n2;\n    if (!!(process.env.NODE_ENV !== \"production\") && // #5523 dev root fragment may inherit directives\n    (isHmrUpdating || patchFlag & 2048)) {\n      patchFlag = 0;\n      optimized = false;\n      dynamicChildren = null;\n    }\n    if (fragmentSlotScopeIds) {\n      slotScopeIds = slotScopeIds ? slotScopeIds.concat(fragmentSlotScopeIds) : fragmentSlotScopeIds;\n    }\n    if (n1 == null) {\n      hostInsert(fragmentStartAnchor, container, anchor);\n      hostInsert(fragmentEndAnchor, container, anchor);\n      mountChildren(\n        // #10007\n        // such fragment like `<></>` will be compiled into\n        // a fragment which doesn't have a children.\n        // In this case fallback to an empty array\n        n2.children || [],\n        container,\n        fragmentEndAnchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    } else {\n      if (patchFlag > 0 && patchFlag & 64 && dynamicChildren && // #2715 the previous fragment could've been a BAILed one as a result\n      // of renderSlot() with no valid children\n      n1.dynamicChildren) {\n        patchBlockChildren(\n          n1.dynamicChildren,\n          dynamicChildren,\n          container,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          traverseStaticChildren(n1, n2);\n        } else if (\n          // #2080 if the stable fragment has a key, it's a <template v-for> that may\n          //  get moved around. Make sure all root level vnodes inherit el.\n          // #2134 or if it's a component root, it may also get moved around\n          // as the component is being moved.\n          n2.key != null || parentComponent && n2 === parentComponent.subTree\n        ) {\n          traverseStaticChildren(\n            n1,\n            n2,\n            true\n            /* shallow */\n          );\n        }\n      } else {\n        patchChildren(\n          n1,\n          n2,\n          container,\n          fragmentEndAnchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      }\n    }\n  };\n  const processComponent = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    n2.slotScopeIds = slotScopeIds;\n    if (n1 == null) {\n      if (n2.shapeFlag & 512) {\n        parentComponent.ctx.activate(\n          n2,\n          container,\n          anchor,\n          namespace,\n          optimized\n        );\n      } else {\n        mountComponent(\n          n2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          optimized\n        );\n      }\n    } else {\n      updateComponent(n1, n2, optimized);\n    }\n  };\n  const mountComponent = (initialVNode, container, anchor, parentComponent, parentSuspense, namespace, optimized) => {\n    const instance = (initialVNode.component = createComponentInstance(\n      initialVNode,\n      parentComponent,\n      parentSuspense\n    ));\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      registerHMR(instance);\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      pushWarningContext(initialVNode);\n      startMeasure(instance, `mount`);\n    }\n    if (isKeepAlive(initialVNode)) {\n      instance.ctx.renderer = internals;\n    }\n    {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        startMeasure(instance, `init`);\n      }\n      setupComponent(instance, false, optimized);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        endMeasure(instance, `init`);\n      }\n    }\n    if (instance.asyncDep) {\n      if (!!(process.env.NODE_ENV !== \"production\") && isHmrUpdating) initialVNode.el = null;\n      parentSuspense && parentSuspense.registerDep(instance, setupRenderEffect, optimized);\n      if (!initialVNode.el) {\n        const placeholder = instance.subTree = createVNode(Comment);\n        processCommentNode(null, placeholder, container, anchor);\n      }\n    } else {\n      setupRenderEffect(\n        instance,\n        initialVNode,\n        container,\n        anchor,\n        parentSuspense,\n        namespace,\n        optimized\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      popWarningContext();\n      endMeasure(instance, `mount`);\n    }\n  };\n  const updateComponent = (n1, n2, optimized) => {\n    const instance = n2.component = n1.component;\n    if (shouldUpdateComponent(n1, n2, optimized)) {\n      if (instance.asyncDep && !instance.asyncResolved) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(n2);\n        }\n        updateComponentPreRender(instance, n2, optimized);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        return;\n      } else {\n        instance.next = n2;\n        instance.update();\n      }\n    } else {\n      n2.el = n1.el;\n      instance.vnode = n2;\n    }\n  };\n  const setupRenderEffect = (instance, initialVNode, container, anchor, parentSuspense, namespace, optimized) => {\n    const componentUpdateFn = () => {\n      if (!instance.isMounted) {\n        let vnodeHook;\n        const { el, props } = initialVNode;\n        const { bm, m, parent, root, type } = instance;\n        const isAsyncWrapperVNode = isAsyncWrapper(initialVNode);\n        toggleRecurse(instance, false);\n        if (bm) {\n          invokeArrayFns(bm);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeBeforeMount)) {\n          invokeVNodeHook(vnodeHook, parent, initialVNode);\n        }\n        toggleRecurse(instance, true);\n        if (el && hydrateNode) {\n          const hydrateSubTree = () => {\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `render`);\n            }\n            instance.subTree = renderComponentRoot(instance);\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `render`);\n            }\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              startMeasure(instance, `hydrate`);\n            }\n            hydrateNode(\n              el,\n              instance.subTree,\n              instance,\n              parentSuspense,\n              null\n            );\n            if (!!(process.env.NODE_ENV !== \"production\")) {\n              endMeasure(instance, `hydrate`);\n            }\n          };\n          if (isAsyncWrapperVNode && type.__asyncHydrate) {\n            type.__asyncHydrate(\n              el,\n              instance,\n              hydrateSubTree\n            );\n          } else {\n            hydrateSubTree();\n          }\n        } else {\n          if (root.ce) {\n            root.ce._injectChildStyle(type);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `render`);\n          }\n          const subTree = instance.subTree = renderComponentRoot(instance);\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `render`);\n          }\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            startMeasure(instance, `patch`);\n          }\n          patch(\n            null,\n            subTree,\n            container,\n            anchor,\n            instance,\n            parentSuspense,\n            namespace\n          );\n          if (!!(process.env.NODE_ENV !== \"production\")) {\n            endMeasure(instance, `patch`);\n          }\n          initialVNode.el = subTree.el;\n        }\n        if (m) {\n          queuePostRenderEffect(m, parentSuspense);\n        }\n        if (!isAsyncWrapperVNode && (vnodeHook = props && props.onVnodeMounted)) {\n          const scopedInitialVNode = initialVNode;\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, scopedInitialVNode),\n            parentSuspense\n          );\n        }\n        if (initialVNode.shapeFlag & 256 || parent && isAsyncWrapper(parent.vnode) && parent.vnode.shapeFlag & 256) {\n          instance.a && queuePostRenderEffect(instance.a, parentSuspense);\n        }\n        instance.isMounted = true;\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentAdded(instance);\n        }\n        initialVNode = container = anchor = null;\n      } else {\n        let { next, bu, u, parent, vnode } = instance;\n        {\n          const nonHydratedAsyncRoot = locateNonHydratedAsyncRoot(instance);\n          if (nonHydratedAsyncRoot) {\n            if (next) {\n              next.el = vnode.el;\n              updateComponentPreRender(instance, next, optimized);\n            }\n            nonHydratedAsyncRoot.asyncDep.then(() => {\n              if (!instance.isUnmounted) {\n                componentUpdateFn();\n              }\n            });\n            return;\n          }\n        }\n        let originNext = next;\n        let vnodeHook;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(next || instance.vnode);\n        }\n        toggleRecurse(instance, false);\n        if (next) {\n          next.el = vnode.el;\n          updateComponentPreRender(instance, next, optimized);\n        } else {\n          next = vnode;\n        }\n        if (bu) {\n          invokeArrayFns(bu);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeBeforeUpdate) {\n          invokeVNodeHook(vnodeHook, parent, next, vnode);\n        }\n        toggleRecurse(instance, true);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `render`);\n        }\n        const nextTree = renderComponentRoot(instance);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `render`);\n        }\n        const prevTree = instance.subTree;\n        instance.subTree = nextTree;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `patch`);\n        }\n        patch(\n          prevTree,\n          nextTree,\n          // parent may have changed if it's in a teleport\n          hostParentNode(prevTree.el),\n          // anchor may have changed if it's in a fragment\n          getNextHostNode(prevTree),\n          instance,\n          parentSuspense,\n          namespace\n        );\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `patch`);\n        }\n        next.el = nextTree.el;\n        if (originNext === null) {\n          updateHOCHostEl(instance, nextTree.el);\n        }\n        if (u) {\n          queuePostRenderEffect(u, parentSuspense);\n        }\n        if (vnodeHook = next.props && next.props.onVnodeUpdated) {\n          queuePostRenderEffect(\n            () => invokeVNodeHook(vnodeHook, parent, next, vnode),\n            parentSuspense\n          );\n        }\n        if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n          devtoolsComponentUpdated(instance);\n        }\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n      }\n    };\n    instance.scope.on();\n    const effect = instance.effect = new ReactiveEffect(componentUpdateFn);\n    instance.scope.off();\n    const update = instance.update = effect.run.bind(effect);\n    const job = instance.job = effect.runIfDirty.bind(effect);\n    job.i = instance;\n    job.id = instance.uid;\n    effect.scheduler = () => queueJob(job);\n    toggleRecurse(instance, true);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      effect.onTrack = instance.rtc ? (e) => invokeArrayFns(instance.rtc, e) : void 0;\n      effect.onTrigger = instance.rtg ? (e) => invokeArrayFns(instance.rtg, e) : void 0;\n    }\n    update();\n  };\n  const updateComponentPreRender = (instance, nextVNode, optimized) => {\n    nextVNode.component = instance;\n    const prevProps = instance.vnode.props;\n    instance.vnode = nextVNode;\n    instance.next = null;\n    updateProps(instance, nextVNode.props, prevProps, optimized);\n    updateSlots(instance, nextVNode.children, optimized);\n    pauseTracking();\n    flushPreFlushCbs(instance);\n    resetTracking();\n  };\n  const patchChildren = (n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized = false) => {\n    const c1 = n1 && n1.children;\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0;\n    const c2 = n2.children;\n    const { patchFlag, shapeFlag } = n2;\n    if (patchFlag > 0) {\n      if (patchFlag & 128) {\n        patchKeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      } else if (patchFlag & 256) {\n        patchUnkeyedChildren(\n          c1,\n          c2,\n          container,\n          anchor,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        return;\n      }\n    }\n    if (shapeFlag & 8) {\n      if (prevShapeFlag & 16) {\n        unmountChildren(c1, parentComponent, parentSuspense);\n      }\n      if (c2 !== c1) {\n        hostSetElementText(container, c2);\n      }\n    } else {\n      if (prevShapeFlag & 16) {\n        if (shapeFlag & 16) {\n          patchKeyedChildren(\n            c1,\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else {\n          unmountChildren(c1, parentComponent, parentSuspense, true);\n        }\n      } else {\n        if (prevShapeFlag & 8) {\n          hostSetElementText(container, \"\");\n        }\n        if (shapeFlag & 16) {\n          mountChildren(\n            c2,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        }\n      }\n    }\n  };\n  const patchUnkeyedChildren = (c1, c2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    c1 = c1 || EMPTY_ARR;\n    c2 = c2 || EMPTY_ARR;\n    const oldLength = c1.length;\n    const newLength = c2.length;\n    const commonLength = Math.min(oldLength, newLength);\n    let i;\n    for (i = 0; i < commonLength; i++) {\n      const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      patch(\n        c1[i],\n        nextChild,\n        container,\n        null,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n    }\n    if (oldLength > newLength) {\n      unmountChildren(\n        c1,\n        parentComponent,\n        parentSuspense,\n        true,\n        false,\n        commonLength\n      );\n    } else {\n      mountChildren(\n        c2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        commonLength\n      );\n    }\n  };\n  const patchKeyedChildren = (c1, c2, container, parentAnchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized) => {\n    let i = 0;\n    const l2 = c2.length;\n    let e1 = c1.length - 1;\n    let e2 = l2 - 1;\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[i];\n      const n2 = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      i++;\n    }\n    while (i <= e1 && i <= e2) {\n      const n1 = c1[e1];\n      const n2 = c2[e2] = optimized ? cloneIfMounted(c2[e2]) : normalizeVNode(c2[e2]);\n      if (isSameVNodeType(n1, n2)) {\n        patch(\n          n1,\n          n2,\n          container,\n          null,\n          parentComponent,\n          parentSuspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n      } else {\n        break;\n      }\n      e1--;\n      e2--;\n    }\n    if (i > e1) {\n      if (i <= e2) {\n        const nextPos = e2 + 1;\n        const anchor = nextPos < l2 ? c2[nextPos].el : parentAnchor;\n        while (i <= e2) {\n          patch(\n            null,\n            c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]),\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          i++;\n        }\n      }\n    } else if (i > e2) {\n      while (i <= e1) {\n        unmount(c1[i], parentComponent, parentSuspense, true);\n        i++;\n      }\n    } else {\n      const s1 = i;\n      const s2 = i;\n      const keyToNewIndexMap = /* @__PURE__ */ new Map();\n      for (i = s2; i <= e2; i++) {\n        const nextChild = c2[i] = optimized ? cloneIfMounted(c2[i]) : normalizeVNode(c2[i]);\n        if (nextChild.key != null) {\n          if (!!(process.env.NODE_ENV !== \"production\") && keyToNewIndexMap.has(nextChild.key)) {\n            warn$1(\n              `Duplicate keys found during update:`,\n              JSON.stringify(nextChild.key),\n              `Make sure keys are unique.`\n            );\n          }\n          keyToNewIndexMap.set(nextChild.key, i);\n        }\n      }\n      let j;\n      let patched = 0;\n      const toBePatched = e2 - s2 + 1;\n      let moved = false;\n      let maxNewIndexSoFar = 0;\n      const newIndexToOldIndexMap = new Array(toBePatched);\n      for (i = 0; i < toBePatched; i++) newIndexToOldIndexMap[i] = 0;\n      for (i = s1; i <= e1; i++) {\n        const prevChild = c1[i];\n        if (patched >= toBePatched) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n          continue;\n        }\n        let newIndex;\n        if (prevChild.key != null) {\n          newIndex = keyToNewIndexMap.get(prevChild.key);\n        } else {\n          for (j = s2; j <= e2; j++) {\n            if (newIndexToOldIndexMap[j - s2] === 0 && isSameVNodeType(prevChild, c2[j])) {\n              newIndex = j;\n              break;\n            }\n          }\n        }\n        if (newIndex === void 0) {\n          unmount(prevChild, parentComponent, parentSuspense, true);\n        } else {\n          newIndexToOldIndexMap[newIndex - s2] = i + 1;\n          if (newIndex >= maxNewIndexSoFar) {\n            maxNewIndexSoFar = newIndex;\n          } else {\n            moved = true;\n          }\n          patch(\n            prevChild,\n            c2[newIndex],\n            container,\n            null,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          patched++;\n        }\n      }\n      const increasingNewIndexSequence = moved ? getSequence(newIndexToOldIndexMap) : EMPTY_ARR;\n      j = increasingNewIndexSequence.length - 1;\n      for (i = toBePatched - 1; i >= 0; i--) {\n        const nextIndex = s2 + i;\n        const nextChild = c2[nextIndex];\n        const anchor = nextIndex + 1 < l2 ? c2[nextIndex + 1].el : parentAnchor;\n        if (newIndexToOldIndexMap[i] === 0) {\n          patch(\n            null,\n            nextChild,\n            container,\n            anchor,\n            parentComponent,\n            parentSuspense,\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n        } else if (moved) {\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\n            move(nextChild, container, anchor, 2);\n          } else {\n            j--;\n          }\n        }\n      }\n    }\n  };\n  const move = (vnode, container, anchor, moveType, parentSuspense = null) => {\n    const { el, type, transition, children, shapeFlag } = vnode;\n    if (shapeFlag & 6) {\n      move(vnode.component.subTree, container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 128) {\n      vnode.suspense.move(container, anchor, moveType);\n      return;\n    }\n    if (shapeFlag & 64) {\n      type.move(vnode, container, anchor, internals);\n      return;\n    }\n    if (type === Fragment) {\n      hostInsert(el, container, anchor);\n      for (let i = 0; i < children.length; i++) {\n        move(children[i], container, anchor, moveType);\n      }\n      hostInsert(vnode.anchor, container, anchor);\n      return;\n    }\n    if (type === Static) {\n      moveStaticNode(vnode, container, anchor);\n      return;\n    }\n    const needTransition2 = moveType !== 2 && shapeFlag & 1 && transition;\n    if (needTransition2) {\n      if (moveType === 0) {\n        transition.beforeEnter(el);\n        hostInsert(el, container, anchor);\n        queuePostRenderEffect(() => transition.enter(el), parentSuspense);\n      } else {\n        const { leave, delayLeave, afterLeave } = transition;\n        const remove2 = () => hostInsert(el, container, anchor);\n        const performLeave = () => {\n          leave(el, () => {\n            remove2();\n            afterLeave && afterLeave();\n          });\n        };\n        if (delayLeave) {\n          delayLeave(el, remove2, performLeave);\n        } else {\n          performLeave();\n        }\n      }\n    } else {\n      hostInsert(el, container, anchor);\n    }\n  };\n  const unmount = (vnode, parentComponent, parentSuspense, doRemove = false, optimized = false) => {\n    const {\n      type,\n      props,\n      ref,\n      children,\n      dynamicChildren,\n      shapeFlag,\n      patchFlag,\n      dirs,\n      cacheIndex\n    } = vnode;\n    if (patchFlag === -2) {\n      optimized = false;\n    }\n    if (ref != null) {\n      setRef(ref, null, parentSuspense, vnode, true);\n    }\n    if (cacheIndex != null) {\n      parentComponent.renderCache[cacheIndex] = void 0;\n    }\n    if (shapeFlag & 256) {\n      parentComponent.ctx.deactivate(vnode);\n      return;\n    }\n    const shouldInvokeDirs = shapeFlag & 1 && dirs;\n    const shouldInvokeVnodeHook = !isAsyncWrapper(vnode);\n    let vnodeHook;\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeBeforeUnmount)) {\n      invokeVNodeHook(vnodeHook, parentComponent, vnode);\n    }\n    if (shapeFlag & 6) {\n      unmountComponent(vnode.component, parentSuspense, doRemove);\n    } else {\n      if (shapeFlag & 128) {\n        vnode.suspense.unmount(parentSuspense, doRemove);\n        return;\n      }\n      if (shouldInvokeDirs) {\n        invokeDirectiveHook(vnode, null, parentComponent, \"beforeUnmount\");\n      }\n      if (shapeFlag & 64) {\n        vnode.type.remove(\n          vnode,\n          parentComponent,\n          parentSuspense,\n          internals,\n          doRemove\n        );\n      } else if (dynamicChildren && // #5154\n      // when v-once is used inside a block, setBlockTracking(-1) marks the\n      // parent block with hasOnce: true\n      // so that it doesn't take the fast path during unmount - otherwise\n      // components nested in v-once are never unmounted.\n      !dynamicChildren.hasOnce && // #1153: fast path should not be taken for non-stable (v-for) fragments\n      (type !== Fragment || patchFlag > 0 && patchFlag & 64)) {\n        unmountChildren(\n          dynamicChildren,\n          parentComponent,\n          parentSuspense,\n          false,\n          true\n        );\n      } else if (type === Fragment && patchFlag & (128 | 256) || !optimized && shapeFlag & 16) {\n        unmountChildren(children, parentComponent, parentSuspense);\n      }\n      if (doRemove) {\n        remove(vnode);\n      }\n    }\n    if (shouldInvokeVnodeHook && (vnodeHook = props && props.onVnodeUnmounted) || shouldInvokeDirs) {\n      queuePostRenderEffect(() => {\n        vnodeHook && invokeVNodeHook(vnodeHook, parentComponent, vnode);\n        shouldInvokeDirs && invokeDirectiveHook(vnode, null, parentComponent, \"unmounted\");\n      }, parentSuspense);\n    }\n  };\n  const remove = (vnode) => {\n    const { type, el, anchor, transition } = vnode;\n    if (type === Fragment) {\n      if (!!(process.env.NODE_ENV !== \"production\") && vnode.patchFlag > 0 && vnode.patchFlag & 2048 && transition && !transition.persisted) {\n        vnode.children.forEach((child) => {\n          if (child.type === Comment) {\n            hostRemove(child.el);\n          } else {\n            remove(child);\n          }\n        });\n      } else {\n        removeFragment(el, anchor);\n      }\n      return;\n    }\n    if (type === Static) {\n      removeStaticNode(vnode);\n      return;\n    }\n    const performRemove = () => {\n      hostRemove(el);\n      if (transition && !transition.persisted && transition.afterLeave) {\n        transition.afterLeave();\n      }\n    };\n    if (vnode.shapeFlag & 1 && transition && !transition.persisted) {\n      const { leave, delayLeave } = transition;\n      const performLeave = () => leave(el, performRemove);\n      if (delayLeave) {\n        delayLeave(vnode.el, performRemove, performLeave);\n      } else {\n        performLeave();\n      }\n    } else {\n      performRemove();\n    }\n  };\n  const removeFragment = (cur, end) => {\n    let next;\n    while (cur !== end) {\n      next = hostNextSibling(cur);\n      hostRemove(cur);\n      cur = next;\n    }\n    hostRemove(end);\n  };\n  const unmountComponent = (instance, parentSuspense, doRemove) => {\n    if (!!(process.env.NODE_ENV !== \"production\") && instance.type.__hmrId) {\n      unregisterHMR(instance);\n    }\n    const { bum, scope, job, subTree, um, m, a } = instance;\n    invalidateMount(m);\n    invalidateMount(a);\n    if (bum) {\n      invokeArrayFns(bum);\n    }\n    scope.stop();\n    if (job) {\n      job.flags |= 8;\n      unmount(subTree, instance, parentSuspense, doRemove);\n    }\n    if (um) {\n      queuePostRenderEffect(um, parentSuspense);\n    }\n    queuePostRenderEffect(() => {\n      instance.isUnmounted = true;\n    }, parentSuspense);\n    if (parentSuspense && parentSuspense.pendingBranch && !parentSuspense.isUnmounted && instance.asyncDep && !instance.asyncResolved && instance.suspenseId === parentSuspense.pendingId) {\n      parentSuspense.deps--;\n      if (parentSuspense.deps === 0) {\n        parentSuspense.resolve();\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      devtoolsComponentRemoved(instance);\n    }\n  };\n  const unmountChildren = (children, parentComponent, parentSuspense, doRemove = false, optimized = false, start = 0) => {\n    for (let i = start; i < children.length; i++) {\n      unmount(children[i], parentComponent, parentSuspense, doRemove, optimized);\n    }\n  };\n  const getNextHostNode = (vnode) => {\n    if (vnode.shapeFlag & 6) {\n      return getNextHostNode(vnode.component.subTree);\n    }\n    if (vnode.shapeFlag & 128) {\n      return vnode.suspense.next();\n    }\n    const el = hostNextSibling(vnode.anchor || vnode.el);\n    const teleportEnd = el && el[TeleportEndKey];\n    return teleportEnd ? hostNextSibling(teleportEnd) : el;\n  };\n  let isFlushing = false;\n  const render = (vnode, container, namespace) => {\n    if (vnode == null) {\n      if (container._vnode) {\n        unmount(container._vnode, null, null, true);\n      }\n    } else {\n      patch(\n        container._vnode || null,\n        vnode,\n        container,\n        null,\n        null,\n        null,\n        namespace\n      );\n    }\n    container._vnode = vnode;\n    if (!isFlushing) {\n      isFlushing = true;\n      flushPreFlushCbs();\n      flushPostFlushCbs();\n      isFlushing = false;\n    }\n  };\n  const internals = {\n    p: patch,\n    um: unmount,\n    m: move,\n    r: remove,\n    mt: mountComponent,\n    mc: mountChildren,\n    pc: patchChildren,\n    pbc: patchBlockChildren,\n    n: getNextHostNode,\n    o: options\n  };\n  let hydrate;\n  let hydrateNode;\n  if (createHydrationFns) {\n    [hydrate, hydrateNode] = createHydrationFns(\n      internals\n    );\n  }\n  return {\n    render,\n    hydrate,\n    createApp: createAppAPI(render, hydrate)\n  };\n}\nfunction resolveChildrenNamespace({ type, props }, currentNamespace) {\n  return currentNamespace === \"svg\" && type === \"foreignObject\" || currentNamespace === \"mathml\" && type === \"annotation-xml\" && props && props.encoding && props.encoding.includes(\"html\") ? void 0 : currentNamespace;\n}\nfunction toggleRecurse({ effect, job }, allowed) {\n  if (allowed) {\n    effect.flags |= 32;\n    job.flags |= 4;\n  } else {\n    effect.flags &= ~32;\n    job.flags &= ~4;\n  }\n}\nfunction needTransition(parentSuspense, transition) {\n  return (!parentSuspense || parentSuspense && !parentSuspense.pendingBranch) && transition && !transition.persisted;\n}\nfunction traverseStaticChildren(n1, n2, shallow = false) {\n  const ch1 = n1.children;\n  const ch2 = n2.children;\n  if (isArray(ch1) && isArray(ch2)) {\n    for (let i = 0; i < ch1.length; i++) {\n      const c1 = ch1[i];\n      let c2 = ch2[i];\n      if (c2.shapeFlag & 1 && !c2.dynamicChildren) {\n        if (c2.patchFlag <= 0 || c2.patchFlag === 32) {\n          c2 = ch2[i] = cloneIfMounted(ch2[i]);\n          c2.el = c1.el;\n        }\n        if (!shallow && c2.patchFlag !== -2)\n          traverseStaticChildren(c1, c2);\n      }\n      if (c2.type === Text) {\n        c2.el = c1.el;\n      }\n      if (!!(process.env.NODE_ENV !== \"production\") && c2.type === Comment && !c2.el) {\n        c2.el = c1.el;\n      }\n    }\n  }\n}\nfunction getSequence(arr) {\n  const p = arr.slice();\n  const result = [0];\n  let i, j, u, v, c;\n  const len = arr.length;\n  for (i = 0; i < len; i++) {\n    const arrI = arr[i];\n    if (arrI !== 0) {\n      j = result[result.length - 1];\n      if (arr[j] < arrI) {\n        p[i] = j;\n        result.push(i);\n        continue;\n      }\n      u = 0;\n      v = result.length - 1;\n      while (u < v) {\n        c = u + v >> 1;\n        if (arr[result[c]] < arrI) {\n          u = c + 1;\n        } else {\n          v = c;\n        }\n      }\n      if (arrI < arr[result[u]]) {\n        if (u > 0) {\n          p[i] = result[u - 1];\n        }\n        result[u] = i;\n      }\n    }\n  }\n  u = result.length;\n  v = result[u - 1];\n  while (u-- > 0) {\n    result[u] = v;\n    v = p[v];\n  }\n  return result;\n}\nfunction locateNonHydratedAsyncRoot(instance) {\n  const subComponent = instance.subTree.component;\n  if (subComponent) {\n    if (subComponent.asyncDep && !subComponent.asyncResolved) {\n      return subComponent;\n    } else {\n      return locateNonHydratedAsyncRoot(subComponent);\n    }\n  }\n}\nfunction invalidateMount(hooks) {\n  if (hooks) {\n    for (let i = 0; i < hooks.length; i++)\n      hooks[i].flags |= 8;\n  }\n}\n\nconst ssrContextKey = Symbol.for(\"v-scx\");\nconst useSSRContext = () => {\n  {\n    const ctx = inject(ssrContextKey);\n    if (!ctx) {\n      !!(process.env.NODE_ENV !== \"production\") && warn$1(\n        `Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`\n      );\n    }\n    return ctx;\n  }\n};\n\nfunction watchEffect(effect, options) {\n  return doWatch(effect, null, options);\n}\nfunction watchPostEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"post\" }) : { flush: \"post\" }\n  );\n}\nfunction watchSyncEffect(effect, options) {\n  return doWatch(\n    effect,\n    null,\n    !!(process.env.NODE_ENV !== \"production\") ? extend({}, options, { flush: \"sync\" }) : { flush: \"sync\" }\n  );\n}\nfunction watch(source, cb, options) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isFunction(cb)) {\n    warn$1(\n      `\\`watch(fn, options?)\\` signature has been moved to a separate API. Use \\`watchEffect(fn, options?)\\` instead. \\`watch\\` now only supports \\`watch(source, cb, options?) signature.`\n    );\n  }\n  return doWatch(source, cb, options);\n}\nfunction doWatch(source, cb, options = EMPTY_OBJ) {\n  const { immediate, deep, flush, once } = options;\n  if (!!(process.env.NODE_ENV !== \"production\") && !cb) {\n    if (immediate !== void 0) {\n      warn$1(\n        `watch() \"immediate\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (deep !== void 0) {\n      warn$1(\n        `watch() \"deep\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n    if (once !== void 0) {\n      warn$1(\n        `watch() \"once\" option is only respected when using the watch(source, callback, options?) signature.`\n      );\n    }\n  }\n  const baseWatchOptions = extend({}, options);\n  if (!!(process.env.NODE_ENV !== \"production\")) baseWatchOptions.onWarn = warn$1;\n  const runsImmediately = cb && immediate || !cb && flush !== \"post\";\n  let ssrCleanup;\n  if (isInSSRComponentSetup) {\n    if (flush === \"sync\") {\n      const ctx = useSSRContext();\n      ssrCleanup = ctx.__watcherHandles || (ctx.__watcherHandles = []);\n    } else if (!runsImmediately) {\n      const watchStopHandle = () => {\n      };\n      watchStopHandle.stop = NOOP;\n      watchStopHandle.resume = NOOP;\n      watchStopHandle.pause = NOOP;\n      return watchStopHandle;\n    }\n  }\n  const instance = currentInstance;\n  baseWatchOptions.call = (fn, type, args) => callWithAsyncErrorHandling(fn, instance, type, args);\n  let isPre = false;\n  if (flush === \"post\") {\n    baseWatchOptions.scheduler = (job) => {\n      queuePostRenderEffect(job, instance && instance.suspense);\n    };\n  } else if (flush !== \"sync\") {\n    isPre = true;\n    baseWatchOptions.scheduler = (job, isFirstRun) => {\n      if (isFirstRun) {\n        job();\n      } else {\n        queueJob(job);\n      }\n    };\n  }\n  baseWatchOptions.augmentJob = (job) => {\n    if (cb) {\n      job.flags |= 4;\n    }\n    if (isPre) {\n      job.flags |= 2;\n      if (instance) {\n        job.id = instance.uid;\n        job.i = instance;\n      }\n    }\n  };\n  const watchHandle = watch$1(source, cb, baseWatchOptions);\n  if (isInSSRComponentSetup) {\n    if (ssrCleanup) {\n      ssrCleanup.push(watchHandle);\n    } else if (runsImmediately) {\n      watchHandle();\n    }\n  }\n  return watchHandle;\n}\nfunction instanceWatch(source, value, options) {\n  const publicThis = this.proxy;\n  const getter = isString(source) ? source.includes(\".\") ? createPathGetter(publicThis, source) : () => publicThis[source] : source.bind(publicThis, publicThis);\n  let cb;\n  if (isFunction(value)) {\n    cb = value;\n  } else {\n    cb = value.handler;\n    options = value;\n  }\n  const reset = setCurrentInstance(this);\n  const res = doWatch(getter, cb.bind(publicThis), options);\n  reset();\n  return res;\n}\nfunction createPathGetter(ctx, path) {\n  const segments = path.split(\".\");\n  return () => {\n    let cur = ctx;\n    for (let i = 0; i < segments.length && cur; i++) {\n      cur = cur[segments[i]];\n    }\n    return cur;\n  };\n}\n\nfunction useModel(props, name, options = EMPTY_OBJ) {\n  const i = getCurrentInstance();\n  if (!!(process.env.NODE_ENV !== \"production\") && !i) {\n    warn$1(`useModel() called without active instance.`);\n    return ref();\n  }\n  const camelizedName = camelize(name);\n  if (!!(process.env.NODE_ENV !== \"production\") && !i.propsOptions[0][camelizedName]) {\n    warn$1(`useModel() called with prop \"${name}\" which is not declared.`);\n    return ref();\n  }\n  const hyphenatedName = hyphenate(name);\n  const modifiers = getModelModifiers(props, camelizedName);\n  const res = customRef((track, trigger) => {\n    let localValue;\n    let prevSetValue = EMPTY_OBJ;\n    let prevEmittedValue;\n    watchSyncEffect(() => {\n      const propValue = props[camelizedName];\n      if (hasChanged(localValue, propValue)) {\n        localValue = propValue;\n        trigger();\n      }\n    });\n    return {\n      get() {\n        track();\n        return options.get ? options.get(localValue) : localValue;\n      },\n      set(value) {\n        const emittedValue = options.set ? options.set(value) : value;\n        if (!hasChanged(emittedValue, localValue) && !(prevSetValue !== EMPTY_OBJ && hasChanged(value, prevSetValue))) {\n          return;\n        }\n        const rawProps = i.vnode.props;\n        if (!(rawProps && // check if parent has passed v-model\n        (name in rawProps || camelizedName in rawProps || hyphenatedName in rawProps) && (`onUpdate:${name}` in rawProps || `onUpdate:${camelizedName}` in rawProps || `onUpdate:${hyphenatedName}` in rawProps))) {\n          localValue = value;\n          trigger();\n        }\n        i.emit(`update:${name}`, emittedValue);\n        if (hasChanged(value, emittedValue) && hasChanged(value, prevSetValue) && !hasChanged(emittedValue, prevEmittedValue)) {\n          trigger();\n        }\n        prevSetValue = value;\n        prevEmittedValue = emittedValue;\n      }\n    };\n  });\n  res[Symbol.iterator] = () => {\n    let i2 = 0;\n    return {\n      next() {\n        if (i2 < 2) {\n          return { value: i2++ ? modifiers || EMPTY_OBJ : res, done: false };\n        } else {\n          return { done: true };\n        }\n      }\n    };\n  };\n  return res;\n}\nconst getModelModifiers = (props, modelName) => {\n  return modelName === \"modelValue\" || modelName === \"model-value\" ? props.modelModifiers : props[`${modelName}Modifiers`] || props[`${camelize(modelName)}Modifiers`] || props[`${hyphenate(modelName)}Modifiers`];\n};\n\nfunction emit(instance, event, ...rawArgs) {\n  if (instance.isUnmounted) return;\n  const props = instance.vnode.props || EMPTY_OBJ;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const {\n      emitsOptions,\n      propsOptions: [propsOptions]\n    } = instance;\n    if (emitsOptions) {\n      if (!(event in emitsOptions) && true) {\n        if (!propsOptions || !(toHandlerKey(camelize(event)) in propsOptions)) {\n          warn$1(\n            `Component emitted event \"${event}\" but it is neither declared in the emits option nor as an \"${toHandlerKey(camelize(event))}\" prop.`\n          );\n        }\n      } else {\n        const validator = emitsOptions[event];\n        if (isFunction(validator)) {\n          const isValid = validator(...rawArgs);\n          if (!isValid) {\n            warn$1(\n              `Invalid event arguments: event validation failed for event \"${event}\".`\n            );\n          }\n        }\n      }\n    }\n  }\n  let args = rawArgs;\n  const isModelListener = event.startsWith(\"update:\");\n  const modifiers = isModelListener && getModelModifiers(props, event.slice(7));\n  if (modifiers) {\n    if (modifiers.trim) {\n      args = rawArgs.map((a) => isString(a) ? a.trim() : a);\n    }\n    if (modifiers.number) {\n      args = rawArgs.map(looseToNumber);\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n    devtoolsComponentEmit(instance, event, args);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const lowerCaseEvent = event.toLowerCase();\n    if (lowerCaseEvent !== event && props[toHandlerKey(lowerCaseEvent)]) {\n      warn$1(\n        `Event \"${lowerCaseEvent}\" is emitted in component ${formatComponentName(\n          instance,\n          instance.type\n        )} but the handler is registered for \"${event}\". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use \"${hyphenate(\n          event\n        )}\" instead of \"${event}\".`\n      );\n    }\n  }\n  let handlerName;\n  let handler = props[handlerName = toHandlerKey(event)] || // also try camelCase event handler (#2249)\n  props[handlerName = toHandlerKey(camelize(event))];\n  if (!handler && isModelListener) {\n    handler = props[handlerName = toHandlerKey(hyphenate(event))];\n  }\n  if (handler) {\n    callWithAsyncErrorHandling(\n      handler,\n      instance,\n      6,\n      args\n    );\n  }\n  const onceHandler = props[handlerName + `Once`];\n  if (onceHandler) {\n    if (!instance.emitted) {\n      instance.emitted = {};\n    } else if (instance.emitted[handlerName]) {\n      return;\n    }\n    instance.emitted[handlerName] = true;\n    callWithAsyncErrorHandling(\n      onceHandler,\n      instance,\n      6,\n      args\n    );\n  }\n}\nfunction normalizeEmitsOptions(comp, appContext, asMixin = false) {\n  const cache = appContext.emitsCache;\n  const cached = cache.get(comp);\n  if (cached !== void 0) {\n    return cached;\n  }\n  const raw = comp.emits;\n  let normalized = {};\n  let hasExtends = false;\n  if (__VUE_OPTIONS_API__ && !isFunction(comp)) {\n    const extendEmits = (raw2) => {\n      const normalizedFromExtend = normalizeEmitsOptions(raw2, appContext, true);\n      if (normalizedFromExtend) {\n        hasExtends = true;\n        extend(normalized, normalizedFromExtend);\n      }\n    };\n    if (!asMixin && appContext.mixins.length) {\n      appContext.mixins.forEach(extendEmits);\n    }\n    if (comp.extends) {\n      extendEmits(comp.extends);\n    }\n    if (comp.mixins) {\n      comp.mixins.forEach(extendEmits);\n    }\n  }\n  if (!raw && !hasExtends) {\n    if (isObject(comp)) {\n      cache.set(comp, null);\n    }\n    return null;\n  }\n  if (isArray(raw)) {\n    raw.forEach((key) => normalized[key] = null);\n  } else {\n    extend(normalized, raw);\n  }\n  if (isObject(comp)) {\n    cache.set(comp, normalized);\n  }\n  return normalized;\n}\nfunction isEmitListener(options, key) {\n  if (!options || !isOn(key)) {\n    return false;\n  }\n  key = key.slice(2).replace(/Once$/, \"\");\n  return hasOwn(options, key[0].toLowerCase() + key.slice(1)) || hasOwn(options, hyphenate(key)) || hasOwn(options, key);\n}\n\nlet accessedAttrs = false;\nfunction markAttrsAccessed() {\n  accessedAttrs = true;\n}\nfunction renderComponentRoot(instance) {\n  const {\n    type: Component,\n    vnode,\n    proxy,\n    withProxy,\n    propsOptions: [propsOptions],\n    slots,\n    attrs,\n    emit,\n    render,\n    renderCache,\n    props,\n    data,\n    setupState,\n    ctx,\n    inheritAttrs\n  } = instance;\n  const prev = setCurrentRenderingInstance(instance);\n  let result;\n  let fallthroughAttrs;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    accessedAttrs = false;\n  }\n  try {\n    if (vnode.shapeFlag & 4) {\n      const proxyToUse = withProxy || proxy;\n      const thisProxy = !!(process.env.NODE_ENV !== \"production\") && setupState.__isScriptSetup ? new Proxy(proxyToUse, {\n        get(target, key, receiver) {\n          warn$1(\n            `Property '${String(\n              key\n            )}' was accessed via 'this'. Avoid using 'this' in templates.`\n          );\n          return Reflect.get(target, key, receiver);\n        }\n      }) : proxyToUse;\n      result = normalizeVNode(\n        render.call(\n          thisProxy,\n          proxyToUse,\n          renderCache,\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          setupState,\n          data,\n          ctx\n        )\n      );\n      fallthroughAttrs = attrs;\n    } else {\n      const render2 = Component;\n      if (!!(process.env.NODE_ENV !== \"production\") && attrs === props) {\n        markAttrsAccessed();\n      }\n      result = normalizeVNode(\n        render2.length > 1 ? render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          !!(process.env.NODE_ENV !== \"production\") ? {\n            get attrs() {\n              markAttrsAccessed();\n              return shallowReadonly(attrs);\n            },\n            slots,\n            emit\n          } : { attrs, slots, emit }\n        ) : render2(\n          !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(props) : props,\n          null\n        )\n      );\n      fallthroughAttrs = Component.props ? attrs : getFunctionalFallthrough(attrs);\n    }\n  } catch (err) {\n    blockStack.length = 0;\n    handleError(err, instance, 1);\n    result = createVNode(Comment);\n  }\n  let root = result;\n  let setRoot = void 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && result.patchFlag > 0 && result.patchFlag & 2048) {\n    [root, setRoot] = getChildRoot(result);\n  }\n  if (fallthroughAttrs && inheritAttrs !== false) {\n    const keys = Object.keys(fallthroughAttrs);\n    const { shapeFlag } = root;\n    if (keys.length) {\n      if (shapeFlag & (1 | 6)) {\n        if (propsOptions && keys.some(isModelListener)) {\n          fallthroughAttrs = filterModelListeners(\n            fallthroughAttrs,\n            propsOptions\n          );\n        }\n        root = cloneVNode(root, fallthroughAttrs, false, true);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && !accessedAttrs && root.type !== Comment) {\n        const allAttrs = Object.keys(attrs);\n        const eventAttrs = [];\n        const extraAttrs = [];\n        for (let i = 0, l = allAttrs.length; i < l; i++) {\n          const key = allAttrs[i];\n          if (isOn(key)) {\n            if (!isModelListener(key)) {\n              eventAttrs.push(key[2].toLowerCase() + key.slice(3));\n            }\n          } else {\n            extraAttrs.push(key);\n          }\n        }\n        if (extraAttrs.length) {\n          warn$1(\n            `Extraneous non-props attributes (${extraAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`\n          );\n        }\n        if (eventAttrs.length) {\n          warn$1(\n            `Extraneous non-emits event listeners (${eventAttrs.join(\", \")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the \"emits\" option.`\n          );\n        }\n      }\n    }\n  }\n  if (vnode.dirs) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Runtime directive used on component with non-element root node. The directives will not function as intended.`\n      );\n    }\n    root = cloneVNode(root, null, false, true);\n    root.dirs = root.dirs ? root.dirs.concat(vnode.dirs) : vnode.dirs;\n  }\n  if (vnode.transition) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !isElementRoot(root)) {\n      warn$1(\n        `Component inside <Transition> renders non-element root node that cannot be animated.`\n      );\n    }\n    setTransitionHooks(root, vnode.transition);\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && setRoot) {\n    setRoot(root);\n  } else {\n    result = root;\n  }\n  setCurrentRenderingInstance(prev);\n  return result;\n}\nconst getChildRoot = (vnode) => {\n  const rawChildren = vnode.children;\n  const dynamicChildren = vnode.dynamicChildren;\n  const childRoot = filterSingleRoot(rawChildren, false);\n  if (!childRoot) {\n    return [vnode, void 0];\n  } else if (!!(process.env.NODE_ENV !== \"production\") && childRoot.patchFlag > 0 && childRoot.patchFlag & 2048) {\n    return getChildRoot(childRoot);\n  }\n  const index = rawChildren.indexOf(childRoot);\n  const dynamicIndex = dynamicChildren ? dynamicChildren.indexOf(childRoot) : -1;\n  const setRoot = (updatedRoot) => {\n    rawChildren[index] = updatedRoot;\n    if (dynamicChildren) {\n      if (dynamicIndex > -1) {\n        dynamicChildren[dynamicIndex] = updatedRoot;\n      } else if (updatedRoot.patchFlag > 0) {\n        vnode.dynamicChildren = [...dynamicChildren, updatedRoot];\n      }\n    }\n  };\n  return [normalizeVNode(childRoot), setRoot];\n};\nfunction filterSingleRoot(children, recurse = true) {\n  let singleRoot;\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (isVNode(child)) {\n      if (child.type !== Comment || child.children === \"v-if\") {\n        if (singleRoot) {\n          return;\n        } else {\n          singleRoot = child;\n          if (!!(process.env.NODE_ENV !== \"production\") && recurse && singleRoot.patchFlag > 0 && singleRoot.patchFlag & 2048) {\n            return filterSingleRoot(singleRoot.children);\n          }\n        }\n      }\n    } else {\n      return;\n    }\n  }\n  return singleRoot;\n}\nconst getFunctionalFallthrough = (attrs) => {\n  let res;\n  for (const key in attrs) {\n    if (key === \"class\" || key === \"style\" || isOn(key)) {\n      (res || (res = {}))[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst filterModelListeners = (attrs, props) => {\n  const res = {};\n  for (const key in attrs) {\n    if (!isModelListener(key) || !(key.slice(9) in props)) {\n      res[key] = attrs[key];\n    }\n  }\n  return res;\n};\nconst isElementRoot = (vnode) => {\n  return vnode.shapeFlag & (6 | 1) || vnode.type === Comment;\n};\nfunction shouldUpdateComponent(prevVNode, nextVNode, optimized) {\n  const { props: prevProps, children: prevChildren, component } = prevVNode;\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode;\n  const emits = component.emitsOptions;\n  if (!!(process.env.NODE_ENV !== \"production\") && (prevChildren || nextChildren) && isHmrUpdating) {\n    return true;\n  }\n  if (nextVNode.dirs || nextVNode.transition) {\n    return true;\n  }\n  if (optimized && patchFlag >= 0) {\n    if (patchFlag & 1024) {\n      return true;\n    }\n    if (patchFlag & 16) {\n      if (!prevProps) {\n        return !!nextProps;\n      }\n      return hasPropsChanged(prevProps, nextProps, emits);\n    } else if (patchFlag & 8) {\n      const dynamicProps = nextVNode.dynamicProps;\n      for (let i = 0; i < dynamicProps.length; i++) {\n        const key = dynamicProps[i];\n        if (nextProps[key] !== prevProps[key] && !isEmitListener(emits, key)) {\n          return true;\n        }\n      }\n    }\n  } else {\n    if (prevChildren || nextChildren) {\n      if (!nextChildren || !nextChildren.$stable) {\n        return true;\n      }\n    }\n    if (prevProps === nextProps) {\n      return false;\n    }\n    if (!prevProps) {\n      return !!nextProps;\n    }\n    if (!nextProps) {\n      return true;\n    }\n    return hasPropsChanged(prevProps, nextProps, emits);\n  }\n  return false;\n}\nfunction hasPropsChanged(prevProps, nextProps, emitsOptions) {\n  const nextKeys = Object.keys(nextProps);\n  if (nextKeys.length !== Object.keys(prevProps).length) {\n    return true;\n  }\n  for (let i = 0; i < nextKeys.length; i++) {\n    const key = nextKeys[i];\n    if (nextProps[key] !== prevProps[key] && !isEmitListener(emitsOptions, key)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction updateHOCHostEl({ vnode, parent }, el) {\n  while (parent) {\n    const root = parent.subTree;\n    if (root.suspense && root.suspense.activeBranch === vnode) {\n      root.el = vnode.el;\n    }\n    if (root === vnode) {\n      (vnode = parent.vnode).el = el;\n      parent = parent.parent;\n    } else {\n      break;\n    }\n  }\n}\n\nconst isSuspense = (type) => type.__isSuspense;\nlet suspenseId = 0;\nconst SuspenseImpl = {\n  name: \"Suspense\",\n  // In order to make Suspense tree-shakable, we need to avoid importing it\n  // directly in the renderer. The renderer checks for the __isSuspense flag\n  // on a vnode's type and calls the `process` method, passing in renderer\n  // internals.\n  __isSuspense: true,\n  process(n1, n2, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n    if (n1 == null) {\n      mountSuspense(\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        parentSuspense,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    } else {\n      if (parentSuspense && parentSuspense.deps > 0 && !n1.suspense.isInFallback) {\n        n2.suspense = n1.suspense;\n        n2.suspense.vnode = n2;\n        n2.el = n1.el;\n        return;\n      }\n      patchSuspense(\n        n1,\n        n2,\n        container,\n        anchor,\n        parentComponent,\n        namespace,\n        slotScopeIds,\n        optimized,\n        rendererInternals\n      );\n    }\n  },\n  hydrate: hydrateSuspense,\n  normalize: normalizeSuspenseChildren\n};\nconst Suspense = SuspenseImpl ;\nfunction triggerEvent(vnode, name) {\n  const eventListener = vnode.props && vnode.props[name];\n  if (isFunction(eventListener)) {\n    eventListener();\n  }\n}\nfunction mountSuspense(vnode, container, anchor, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals) {\n  const {\n    p: patch,\n    o: { createElement }\n  } = rendererInternals;\n  const hiddenContainer = createElement(\"div\");\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    container,\n    hiddenContainer,\n    anchor,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals\n  );\n  patch(\n    null,\n    suspense.pendingBranch = vnode.ssContent,\n    hiddenContainer,\n    null,\n    parentComponent,\n    suspense,\n    namespace,\n    slotScopeIds\n  );\n  if (suspense.deps > 0) {\n    triggerEvent(vnode, \"onPending\");\n    triggerEvent(vnode, \"onFallback\");\n    patch(\n      null,\n      vnode.ssFallback,\n      container,\n      anchor,\n      parentComponent,\n      null,\n      // fallback tree will not have suspense context\n      namespace,\n      slotScopeIds\n    );\n    setActiveBranch(suspense, vnode.ssFallback);\n  } else {\n    suspense.resolve(false, true);\n  }\n}\nfunction patchSuspense(n1, n2, container, anchor, parentComponent, namespace, slotScopeIds, optimized, { p: patch, um: unmount, o: { createElement } }) {\n  const suspense = n2.suspense = n1.suspense;\n  suspense.vnode = n2;\n  n2.el = n1.el;\n  const newBranch = n2.ssContent;\n  const newFallback = n2.ssFallback;\n  const { activeBranch, pendingBranch, isInFallback, isHydrating } = suspense;\n  if (pendingBranch) {\n    suspense.pendingBranch = newBranch;\n    if (isSameVNodeType(newBranch, pendingBranch)) {\n      patch(\n        pendingBranch,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else if (isInFallback) {\n        if (!isHydrating) {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      }\n    } else {\n      suspense.pendingId = suspenseId++;\n      if (isHydrating) {\n        suspense.isHydrating = false;\n        suspense.activeBranch = pendingBranch;\n      } else {\n        unmount(pendingBranch, parentComponent, suspense);\n      }\n      suspense.deps = 0;\n      suspense.effects.length = 0;\n      suspense.hiddenContainer = createElement(\"div\");\n      if (isInFallback) {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        } else {\n          patch(\n            activeBranch,\n            newFallback,\n            container,\n            anchor,\n            parentComponent,\n            null,\n            // fallback tree will not have suspense context\n            namespace,\n            slotScopeIds,\n            optimized\n          );\n          setActiveBranch(suspense, newFallback);\n        }\n      } else if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n        patch(\n          activeBranch,\n          newBranch,\n          container,\n          anchor,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        suspense.resolve(true);\n      } else {\n        patch(\n          null,\n          newBranch,\n          suspense.hiddenContainer,\n          null,\n          parentComponent,\n          suspense,\n          namespace,\n          slotScopeIds,\n          optimized\n        );\n        if (suspense.deps <= 0) {\n          suspense.resolve();\n        }\n      }\n    }\n  } else {\n    if (activeBranch && isSameVNodeType(newBranch, activeBranch)) {\n      patch(\n        activeBranch,\n        newBranch,\n        container,\n        anchor,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      setActiveBranch(suspense, newBranch);\n    } else {\n      triggerEvent(n2, \"onPending\");\n      suspense.pendingBranch = newBranch;\n      if (newBranch.shapeFlag & 512) {\n        suspense.pendingId = newBranch.component.suspenseId;\n      } else {\n        suspense.pendingId = suspenseId++;\n      }\n      patch(\n        null,\n        newBranch,\n        suspense.hiddenContainer,\n        null,\n        parentComponent,\n        suspense,\n        namespace,\n        slotScopeIds,\n        optimized\n      );\n      if (suspense.deps <= 0) {\n        suspense.resolve();\n      } else {\n        const { timeout, pendingId } = suspense;\n        if (timeout > 0) {\n          setTimeout(() => {\n            if (suspense.pendingId === pendingId) {\n              suspense.fallback(newFallback);\n            }\n          }, timeout);\n        } else if (timeout === 0) {\n          suspense.fallback(newFallback);\n        }\n      }\n    }\n  }\n}\nlet hasWarned = false;\nfunction createSuspenseBoundary(vnode, parentSuspense, parentComponent, container, hiddenContainer, anchor, namespace, slotScopeIds, optimized, rendererInternals, isHydrating = false) {\n  if (!!(process.env.NODE_ENV !== \"production\") && true && !hasWarned) {\n    hasWarned = true;\n    console[console.info ? \"info\" : \"log\"](\n      `<Suspense> is an experimental feature and its API will likely change.`\n    );\n  }\n  const {\n    p: patch,\n    m: move,\n    um: unmount,\n    n: next,\n    o: { parentNode, remove }\n  } = rendererInternals;\n  let parentSuspenseId;\n  const isSuspensible = isVNodeSuspensible(vnode);\n  if (isSuspensible) {\n    if (parentSuspense && parentSuspense.pendingBranch) {\n      parentSuspenseId = parentSuspense.pendingId;\n      parentSuspense.deps++;\n    }\n  }\n  const timeout = vnode.props ? toNumber(vnode.props.timeout) : void 0;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(timeout, `Suspense timeout`);\n  }\n  const initialAnchor = anchor;\n  const suspense = {\n    vnode,\n    parent: parentSuspense,\n    parentComponent,\n    namespace,\n    container,\n    hiddenContainer,\n    deps: 0,\n    pendingId: suspenseId++,\n    timeout: typeof timeout === \"number\" ? timeout : -1,\n    activeBranch: null,\n    pendingBranch: null,\n    isInFallback: !isHydrating,\n    isHydrating,\n    isUnmounted: false,\n    effects: [],\n    resolve(resume = false, sync = false) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (!resume && !suspense.pendingBranch) {\n          throw new Error(\n            `suspense.resolve() is called without a pending branch.`\n          );\n        }\n        if (suspense.isUnmounted) {\n          throw new Error(\n            `suspense.resolve() is called on an already unmounted suspense boundary.`\n          );\n        }\n      }\n      const {\n        vnode: vnode2,\n        activeBranch,\n        pendingBranch,\n        pendingId,\n        effects,\n        parentComponent: parentComponent2,\n        container: container2\n      } = suspense;\n      let delayEnter = false;\n      if (suspense.isHydrating) {\n        suspense.isHydrating = false;\n      } else if (!resume) {\n        delayEnter = activeBranch && pendingBranch.transition && pendingBranch.transition.mode === \"out-in\";\n        if (delayEnter) {\n          activeBranch.transition.afterLeave = () => {\n            if (pendingId === suspense.pendingId) {\n              move(\n                pendingBranch,\n                container2,\n                anchor === initialAnchor ? next(activeBranch) : anchor,\n                0\n              );\n              queuePostFlushCb(effects);\n            }\n          };\n        }\n        if (activeBranch) {\n          if (parentNode(activeBranch.el) === container2) {\n            anchor = next(activeBranch);\n          }\n          unmount(activeBranch, parentComponent2, suspense, true);\n        }\n        if (!delayEnter) {\n          move(pendingBranch, container2, anchor, 0);\n        }\n      }\n      setActiveBranch(suspense, pendingBranch);\n      suspense.pendingBranch = null;\n      suspense.isInFallback = false;\n      let parent = suspense.parent;\n      let hasUnresolvedAncestor = false;\n      while (parent) {\n        if (parent.pendingBranch) {\n          parent.effects.push(...effects);\n          hasUnresolvedAncestor = true;\n          break;\n        }\n        parent = parent.parent;\n      }\n      if (!hasUnresolvedAncestor && !delayEnter) {\n        queuePostFlushCb(effects);\n      }\n      suspense.effects = [];\n      if (isSuspensible) {\n        if (parentSuspense && parentSuspense.pendingBranch && parentSuspenseId === parentSuspense.pendingId) {\n          parentSuspense.deps--;\n          if (parentSuspense.deps === 0 && !sync) {\n            parentSuspense.resolve();\n          }\n        }\n      }\n      triggerEvent(vnode2, \"onResolve\");\n    },\n    fallback(fallbackVNode) {\n      if (!suspense.pendingBranch) {\n        return;\n      }\n      const { vnode: vnode2, activeBranch, parentComponent: parentComponent2, container: container2, namespace: namespace2 } = suspense;\n      triggerEvent(vnode2, \"onFallback\");\n      const anchor2 = next(activeBranch);\n      const mountFallback = () => {\n        if (!suspense.isInFallback) {\n          return;\n        }\n        patch(\n          null,\n          fallbackVNode,\n          container2,\n          anchor2,\n          parentComponent2,\n          null,\n          // fallback tree will not have suspense context\n          namespace2,\n          slotScopeIds,\n          optimized\n        );\n        setActiveBranch(suspense, fallbackVNode);\n      };\n      const delayEnter = fallbackVNode.transition && fallbackVNode.transition.mode === \"out-in\";\n      if (delayEnter) {\n        activeBranch.transition.afterLeave = mountFallback;\n      }\n      suspense.isInFallback = true;\n      unmount(\n        activeBranch,\n        parentComponent2,\n        null,\n        // no suspense so unmount hooks fire now\n        true\n        // shouldRemove\n      );\n      if (!delayEnter) {\n        mountFallback();\n      }\n    },\n    move(container2, anchor2, type) {\n      suspense.activeBranch && move(suspense.activeBranch, container2, anchor2, type);\n      suspense.container = container2;\n    },\n    next() {\n      return suspense.activeBranch && next(suspense.activeBranch);\n    },\n    registerDep(instance, setupRenderEffect, optimized2) {\n      const isInPendingSuspense = !!suspense.pendingBranch;\n      if (isInPendingSuspense) {\n        suspense.deps++;\n      }\n      const hydratedEl = instance.vnode.el;\n      instance.asyncDep.catch((err) => {\n        handleError(err, instance, 0);\n      }).then((asyncSetupResult) => {\n        if (instance.isUnmounted || suspense.isUnmounted || suspense.pendingId !== instance.suspenseId) {\n          return;\n        }\n        instance.asyncResolved = true;\n        const { vnode: vnode2 } = instance;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          pushWarningContext(vnode2);\n        }\n        handleSetupResult(instance, asyncSetupResult, false);\n        if (hydratedEl) {\n          vnode2.el = hydratedEl;\n        }\n        const placeholder = !hydratedEl && instance.subTree.el;\n        setupRenderEffect(\n          instance,\n          vnode2,\n          // component may have been moved before resolve.\n          // if this is not a hydration, instance.subTree will be the comment\n          // placeholder.\n          parentNode(hydratedEl || instance.subTree.el),\n          // anchor will not be used if this is hydration, so only need to\n          // consider the comment placeholder case.\n          hydratedEl ? null : next(instance.subTree),\n          suspense,\n          namespace,\n          optimized2\n        );\n        if (placeholder) {\n          remove(placeholder);\n        }\n        updateHOCHostEl(instance, vnode2.el);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          popWarningContext();\n        }\n        if (isInPendingSuspense && --suspense.deps === 0) {\n          suspense.resolve();\n        }\n      });\n    },\n    unmount(parentSuspense2, doRemove) {\n      suspense.isUnmounted = true;\n      if (suspense.activeBranch) {\n        unmount(\n          suspense.activeBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n      if (suspense.pendingBranch) {\n        unmount(\n          suspense.pendingBranch,\n          parentComponent,\n          parentSuspense2,\n          doRemove\n        );\n      }\n    }\n  };\n  return suspense;\n}\nfunction hydrateSuspense(node, vnode, parentComponent, parentSuspense, namespace, slotScopeIds, optimized, rendererInternals, hydrateNode) {\n  const suspense = vnode.suspense = createSuspenseBoundary(\n    vnode,\n    parentSuspense,\n    parentComponent,\n    node.parentNode,\n    // eslint-disable-next-line no-restricted-globals\n    document.createElement(\"div\"),\n    null,\n    namespace,\n    slotScopeIds,\n    optimized,\n    rendererInternals,\n    true\n  );\n  const result = hydrateNode(\n    node,\n    suspense.pendingBranch = vnode.ssContent,\n    parentComponent,\n    suspense,\n    slotScopeIds,\n    optimized\n  );\n  if (suspense.deps === 0) {\n    suspense.resolve(false, true);\n  }\n  return result;\n}\nfunction normalizeSuspenseChildren(vnode) {\n  const { shapeFlag, children } = vnode;\n  const isSlotChildren = shapeFlag & 32;\n  vnode.ssContent = normalizeSuspenseSlot(\n    isSlotChildren ? children.default : children\n  );\n  vnode.ssFallback = isSlotChildren ? normalizeSuspenseSlot(children.fallback) : createVNode(Comment);\n}\nfunction normalizeSuspenseSlot(s) {\n  let block;\n  if (isFunction(s)) {\n    const trackBlock = isBlockTreeEnabled && s._c;\n    if (trackBlock) {\n      s._d = false;\n      openBlock();\n    }\n    s = s();\n    if (trackBlock) {\n      s._d = true;\n      block = currentBlock;\n      closeBlock();\n    }\n  }\n  if (isArray(s)) {\n    const singleChild = filterSingleRoot(s);\n    if (!!(process.env.NODE_ENV !== \"production\") && !singleChild && s.filter((child) => child !== NULL_DYNAMIC_COMPONENT).length > 0) {\n      warn$1(`<Suspense> slots expect a single root node.`);\n    }\n    s = singleChild;\n  }\n  s = normalizeVNode(s);\n  if (block && !s.dynamicChildren) {\n    s.dynamicChildren = block.filter((c) => c !== s);\n  }\n  return s;\n}\nfunction queueEffectWithSuspense(fn, suspense) {\n  if (suspense && suspense.pendingBranch) {\n    if (isArray(fn)) {\n      suspense.effects.push(...fn);\n    } else {\n      suspense.effects.push(fn);\n    }\n  } else {\n    queuePostFlushCb(fn);\n  }\n}\nfunction setActiveBranch(suspense, branch) {\n  suspense.activeBranch = branch;\n  const { vnode, parentComponent } = suspense;\n  let el = branch.el;\n  while (!el && branch.component) {\n    branch = branch.component.subTree;\n    el = branch.el;\n  }\n  vnode.el = el;\n  if (parentComponent && parentComponent.subTree === vnode) {\n    parentComponent.vnode.el = el;\n    updateHOCHostEl(parentComponent, el);\n  }\n}\nfunction isVNodeSuspensible(vnode) {\n  const suspensible = vnode.props && vnode.props.suspensible;\n  return suspensible != null && suspensible !== false;\n}\n\nconst Fragment = Symbol.for(\"v-fgt\");\nconst Text = Symbol.for(\"v-txt\");\nconst Comment = Symbol.for(\"v-cmt\");\nconst Static = Symbol.for(\"v-stc\");\nconst blockStack = [];\nlet currentBlock = null;\nfunction openBlock(disableTracking = false) {\n  blockStack.push(currentBlock = disableTracking ? null : []);\n}\nfunction closeBlock() {\n  blockStack.pop();\n  currentBlock = blockStack[blockStack.length - 1] || null;\n}\nlet isBlockTreeEnabled = 1;\nfunction setBlockTracking(value, inVOnce = false) {\n  isBlockTreeEnabled += value;\n  if (value < 0 && currentBlock && inVOnce) {\n    currentBlock.hasOnce = true;\n  }\n}\nfunction setupBlock(vnode) {\n  vnode.dynamicChildren = isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null;\n  closeBlock();\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nfunction createElementBlock(type, props, children, patchFlag, dynamicProps, shapeFlag) {\n  return setupBlock(\n    createBaseVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      shapeFlag,\n      true\n    )\n  );\n}\nfunction createBlock(type, props, children, patchFlag, dynamicProps) {\n  return setupBlock(\n    createVNode(\n      type,\n      props,\n      children,\n      patchFlag,\n      dynamicProps,\n      true\n    )\n  );\n}\nfunction isVNode(value) {\n  return value ? value.__v_isVNode === true : false;\n}\nfunction isSameVNodeType(n1, n2) {\n  if (!!(process.env.NODE_ENV !== \"production\") && n2.shapeFlag & 6 && n1.component) {\n    const dirtyInstances = hmrDirtyComponents.get(n2.type);\n    if (dirtyInstances && dirtyInstances.has(n1.component)) {\n      n1.shapeFlag &= ~256;\n      n2.shapeFlag &= ~512;\n      return false;\n    }\n  }\n  return n1.type === n2.type && n1.key === n2.key;\n}\nlet vnodeArgsTransformer;\nfunction transformVNodeArgs(transformer) {\n  vnodeArgsTransformer = transformer;\n}\nconst createVNodeWithArgsTransform = (...args) => {\n  return _createVNode(\n    ...vnodeArgsTransformer ? vnodeArgsTransformer(args, currentRenderingInstance) : args\n  );\n};\nconst normalizeKey = ({ key }) => key != null ? key : null;\nconst normalizeRef = ({\n  ref,\n  ref_key,\n  ref_for\n}) => {\n  if (typeof ref === \"number\") {\n    ref = \"\" + ref;\n  }\n  return ref != null ? isString(ref) || isRef(ref) || isFunction(ref) ? { i: currentRenderingInstance, r: ref, k: ref_key, f: !!ref_for } : ref : null;\n};\nfunction createBaseVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, shapeFlag = type === Fragment ? 0 : 1, isBlockNode = false, needFullChildrenNormalization = false) {\n  const vnode = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type,\n    props,\n    key: props && normalizeKey(props),\n    ref: props && normalizeRef(props),\n    scopeId: currentScopeId,\n    slotScopeIds: null,\n    children,\n    component: null,\n    suspense: null,\n    ssContent: null,\n    ssFallback: null,\n    dirs: null,\n    transition: null,\n    el: null,\n    anchor: null,\n    target: null,\n    targetStart: null,\n    targetAnchor: null,\n    staticCount: 0,\n    shapeFlag,\n    patchFlag,\n    dynamicProps,\n    dynamicChildren: null,\n    appContext: null,\n    ctx: currentRenderingInstance\n  };\n  if (needFullChildrenNormalization) {\n    normalizeChildren(vnode, children);\n    if (shapeFlag & 128) {\n      type.normalize(vnode);\n    }\n  } else if (children) {\n    vnode.shapeFlag |= isString(children) ? 8 : 16;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && vnode.key !== vnode.key) {\n    warn$1(`VNode created with invalid key (NaN). VNode type:`, vnode.type);\n  }\n  if (isBlockTreeEnabled > 0 && // avoid a block node from tracking itself\n  !isBlockNode && // has current parent block\n  currentBlock && // presence of a patch flag indicates this node needs patching on updates.\n  // component nodes also should always be patched, because even if the\n  // component doesn't need to update, it needs to persist the instance on to\n  // the next vnode so that it can be properly unmounted later.\n  (vnode.patchFlag > 0 || shapeFlag & 6) && // the EVENTS flag is only for hydration and if it is the only flag, the\n  // vnode should not be considered dynamic due to handler caching.\n  vnode.patchFlag !== 32) {\n    currentBlock.push(vnode);\n  }\n  return vnode;\n}\nconst createVNode = !!(process.env.NODE_ENV !== \"production\") ? createVNodeWithArgsTransform : _createVNode;\nfunction _createVNode(type, props = null, children = null, patchFlag = 0, dynamicProps = null, isBlockNode = false) {\n  if (!type || type === NULL_DYNAMIC_COMPONENT) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !type) {\n      warn$1(`Invalid vnode type when creating vnode: ${type}.`);\n    }\n    type = Comment;\n  }\n  if (isVNode(type)) {\n    const cloned = cloneVNode(\n      type,\n      props,\n      true\n      /* mergeRef: true */\n    );\n    if (children) {\n      normalizeChildren(cloned, children);\n    }\n    if (isBlockTreeEnabled > 0 && !isBlockNode && currentBlock) {\n      if (cloned.shapeFlag & 6) {\n        currentBlock[currentBlock.indexOf(type)] = cloned;\n      } else {\n        currentBlock.push(cloned);\n      }\n    }\n    cloned.patchFlag = -2;\n    return cloned;\n  }\n  if (isClassComponent(type)) {\n    type = type.__vccOpts;\n  }\n  if (props) {\n    props = guardReactiveProps(props);\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n      props.class = normalizeClass(klass);\n    }\n    if (isObject(style)) {\n      if (isProxy(style) && !isArray(style)) {\n        style = extend({}, style);\n      }\n      props.style = normalizeStyle(style);\n    }\n  }\n  const shapeFlag = isString(type) ? 1 : isSuspense(type) ? 128 : isTeleport(type) ? 64 : isObject(type) ? 4 : isFunction(type) ? 2 : 0;\n  if (!!(process.env.NODE_ENV !== \"production\") && shapeFlag & 4 && isProxy(type)) {\n    type = toRaw(type);\n    warn$1(\n      `Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with \\`markRaw\\` or using \\`shallowRef\\` instead of \\`ref\\`.`,\n      `\nComponent that was made reactive: `,\n      type\n    );\n  }\n  return createBaseVNode(\n    type,\n    props,\n    children,\n    patchFlag,\n    dynamicProps,\n    shapeFlag,\n    isBlockNode,\n    true\n  );\n}\nfunction guardReactiveProps(props) {\n  if (!props) return null;\n  return isProxy(props) || isInternalObject(props) ? extend({}, props) : props;\n}\nfunction cloneVNode(vnode, extraProps, mergeRef = false, cloneTransition = false) {\n  const { props, ref, patchFlag, children, transition } = vnode;\n  const mergedProps = extraProps ? mergeProps(props || {}, extraProps) : props;\n  const cloned = {\n    __v_isVNode: true,\n    __v_skip: true,\n    type: vnode.type,\n    props: mergedProps,\n    key: mergedProps && normalizeKey(mergedProps),\n    ref: extraProps && extraProps.ref ? (\n      // #2078 in the case of <component :is=\"vnode\" ref=\"extra\"/>\n      // if the vnode itself already has a ref, cloneVNode will need to merge\n      // the refs so the single vnode can be set on multiple refs\n      mergeRef && ref ? isArray(ref) ? ref.concat(normalizeRef(extraProps)) : [ref, normalizeRef(extraProps)] : normalizeRef(extraProps)\n    ) : ref,\n    scopeId: vnode.scopeId,\n    slotScopeIds: vnode.slotScopeIds,\n    children: !!(process.env.NODE_ENV !== \"production\") && patchFlag === -1 && isArray(children) ? children.map(deepCloneVNode) : children,\n    target: vnode.target,\n    targetStart: vnode.targetStart,\n    targetAnchor: vnode.targetAnchor,\n    staticCount: vnode.staticCount,\n    shapeFlag: vnode.shapeFlag,\n    // if the vnode is cloned with extra props, we can no longer assume its\n    // existing patch flag to be reliable and need to add the FULL_PROPS flag.\n    // note: preserve flag for fragments since they use the flag for children\n    // fast paths only.\n    patchFlag: extraProps && vnode.type !== Fragment ? patchFlag === -1 ? 16 : patchFlag | 16 : patchFlag,\n    dynamicProps: vnode.dynamicProps,\n    dynamicChildren: vnode.dynamicChildren,\n    appContext: vnode.appContext,\n    dirs: vnode.dirs,\n    transition,\n    // These should technically only be non-null on mounted VNodes. However,\n    // they *should* be copied for kept-alive vnodes. So we just always copy\n    // them since them being non-null during a mount doesn't affect the logic as\n    // they will simply be overwritten.\n    component: vnode.component,\n    suspense: vnode.suspense,\n    ssContent: vnode.ssContent && cloneVNode(vnode.ssContent),\n    ssFallback: vnode.ssFallback && cloneVNode(vnode.ssFallback),\n    el: vnode.el,\n    anchor: vnode.anchor,\n    ctx: vnode.ctx,\n    ce: vnode.ce\n  };\n  if (transition && cloneTransition) {\n    setTransitionHooks(\n      cloned,\n      transition.clone(cloned)\n    );\n  }\n  return cloned;\n}\nfunction deepCloneVNode(vnode) {\n  const cloned = cloneVNode(vnode);\n  if (isArray(vnode.children)) {\n    cloned.children = vnode.children.map(deepCloneVNode);\n  }\n  return cloned;\n}\nfunction createTextVNode(text = \" \", flag = 0) {\n  return createVNode(Text, null, text, flag);\n}\nfunction createStaticVNode(content, numberOfNodes) {\n  const vnode = createVNode(Static, null, content);\n  vnode.staticCount = numberOfNodes;\n  return vnode;\n}\nfunction createCommentVNode(text = \"\", asBlock = false) {\n  return asBlock ? (openBlock(), createBlock(Comment, null, text)) : createVNode(Comment, null, text);\n}\nfunction normalizeVNode(child) {\n  if (child == null || typeof child === \"boolean\") {\n    return createVNode(Comment);\n  } else if (isArray(child)) {\n    return createVNode(\n      Fragment,\n      null,\n      // #3666, avoid reference pollution when reusing vnode\n      child.slice()\n    );\n  } else if (isVNode(child)) {\n    return cloneIfMounted(child);\n  } else {\n    return createVNode(Text, null, String(child));\n  }\n}\nfunction cloneIfMounted(child) {\n  return child.el === null && child.patchFlag !== -1 || child.memo ? child : cloneVNode(child);\n}\nfunction normalizeChildren(vnode, children) {\n  let type = 0;\n  const { shapeFlag } = vnode;\n  if (children == null) {\n    children = null;\n  } else if (isArray(children)) {\n    type = 16;\n  } else if (typeof children === \"object\") {\n    if (shapeFlag & (1 | 64)) {\n      const slot = children.default;\n      if (slot) {\n        slot._c && (slot._d = false);\n        normalizeChildren(vnode, slot());\n        slot._c && (slot._d = true);\n      }\n      return;\n    } else {\n      type = 32;\n      const slotFlag = children._;\n      if (!slotFlag && !isInternalObject(children)) {\n        children._ctx = currentRenderingInstance;\n      } else if (slotFlag === 3 && currentRenderingInstance) {\n        if (currentRenderingInstance.slots._ === 1) {\n          children._ = 1;\n        } else {\n          children._ = 2;\n          vnode.patchFlag |= 1024;\n        }\n      }\n    }\n  } else if (isFunction(children)) {\n    children = { default: children, _ctx: currentRenderingInstance };\n    type = 32;\n  } else {\n    children = String(children);\n    if (shapeFlag & 64) {\n      type = 16;\n      children = [createTextVNode(children)];\n    } else {\n      type = 8;\n    }\n  }\n  vnode.children = children;\n  vnode.shapeFlag |= type;\n}\nfunction mergeProps(...args) {\n  const ret = {};\n  for (let i = 0; i < args.length; i++) {\n    const toMerge = args[i];\n    for (const key in toMerge) {\n      if (key === \"class\") {\n        if (ret.class !== toMerge.class) {\n          ret.class = normalizeClass([ret.class, toMerge.class]);\n        }\n      } else if (key === \"style\") {\n        ret.style = normalizeStyle([ret.style, toMerge.style]);\n      } else if (isOn(key)) {\n        const existing = ret[key];\n        const incoming = toMerge[key];\n        if (incoming && existing !== incoming && !(isArray(existing) && existing.includes(incoming))) {\n          ret[key] = existing ? [].concat(existing, incoming) : incoming;\n        }\n      } else if (key !== \"\") {\n        ret[key] = toMerge[key];\n      }\n    }\n  }\n  return ret;\n}\nfunction invokeVNodeHook(hook, instance, vnode, prevVNode = null) {\n  callWithAsyncErrorHandling(hook, instance, 7, [\n    vnode,\n    prevVNode\n  ]);\n}\n\nconst emptyAppContext = createAppContext();\nlet uid = 0;\nfunction createComponentInstance(vnode, parent, suspense) {\n  const type = vnode.type;\n  const appContext = (parent ? parent.appContext : vnode.appContext) || emptyAppContext;\n  const instance = {\n    uid: uid++,\n    vnode,\n    type,\n    parent,\n    appContext,\n    root: null,\n    // to be immediately set\n    next: null,\n    subTree: null,\n    // will be set synchronously right after creation\n    effect: null,\n    update: null,\n    // will be set synchronously right after creation\n    job: null,\n    scope: new EffectScope(\n      true\n      /* detached */\n    ),\n    render: null,\n    proxy: null,\n    exposed: null,\n    exposeProxy: null,\n    withProxy: null,\n    provides: parent ? parent.provides : Object.create(appContext.provides),\n    ids: parent ? parent.ids : [\"\", 0, 0],\n    accessCache: null,\n    renderCache: [],\n    // local resolved assets\n    components: null,\n    directives: null,\n    // resolved props and emits options\n    propsOptions: normalizePropsOptions(type, appContext),\n    emitsOptions: normalizeEmitsOptions(type, appContext),\n    // emit\n    emit: null,\n    // to be set immediately\n    emitted: null,\n    // props default value\n    propsDefaults: EMPTY_OBJ,\n    // inheritAttrs\n    inheritAttrs: type.inheritAttrs,\n    // state\n    ctx: EMPTY_OBJ,\n    data: EMPTY_OBJ,\n    props: EMPTY_OBJ,\n    attrs: EMPTY_OBJ,\n    slots: EMPTY_OBJ,\n    refs: EMPTY_OBJ,\n    setupState: EMPTY_OBJ,\n    setupContext: null,\n    // suspense related\n    suspense,\n    suspenseId: suspense ? suspense.pendingId : 0,\n    asyncDep: null,\n    asyncResolved: false,\n    // lifecycle hooks\n    // not using enums here because it results in computed properties\n    isMounted: false,\n    isUnmounted: false,\n    isDeactivated: false,\n    bc: null,\n    c: null,\n    bm: null,\n    m: null,\n    bu: null,\n    u: null,\n    um: null,\n    bum: null,\n    da: null,\n    a: null,\n    rtg: null,\n    rtc: null,\n    ec: null,\n    sp: null\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.ctx = createDevRenderContext(instance);\n  } else {\n    instance.ctx = { _: instance };\n  }\n  instance.root = parent ? parent.root : instance;\n  instance.emit = emit.bind(null, instance);\n  if (vnode.ce) {\n    vnode.ce(instance);\n  }\n  return instance;\n}\nlet currentInstance = null;\nconst getCurrentInstance = () => currentInstance || currentRenderingInstance;\nlet internalSetCurrentInstance;\nlet setInSSRSetupState;\n{\n  const g = getGlobalThis();\n  const registerGlobalSetter = (key, setter) => {\n    let setters;\n    if (!(setters = g[key])) setters = g[key] = [];\n    setters.push(setter);\n    return (v) => {\n      if (setters.length > 1) setters.forEach((set) => set(v));\n      else setters[0](v);\n    };\n  };\n  internalSetCurrentInstance = registerGlobalSetter(\n    `__VUE_INSTANCE_SETTERS__`,\n    (v) => currentInstance = v\n  );\n  setInSSRSetupState = registerGlobalSetter(\n    `__VUE_SSR_SETTERS__`,\n    (v) => isInSSRComponentSetup = v\n  );\n}\nconst setCurrentInstance = (instance) => {\n  const prev = currentInstance;\n  internalSetCurrentInstance(instance);\n  instance.scope.on();\n  return () => {\n    instance.scope.off();\n    internalSetCurrentInstance(prev);\n  };\n};\nconst unsetCurrentInstance = () => {\n  currentInstance && currentInstance.scope.off();\n  internalSetCurrentInstance(null);\n};\nconst isBuiltInTag = /* @__PURE__ */ makeMap(\"slot,component\");\nfunction validateComponentName(name, { isNativeTag }) {\n  if (isBuiltInTag(name) || isNativeTag(name)) {\n    warn$1(\n      \"Do not use built-in or reserved HTML elements as component id: \" + name\n    );\n  }\n}\nfunction isStatefulComponent(instance) {\n  return instance.vnode.shapeFlag & 4;\n}\nlet isInSSRComponentSetup = false;\nfunction setupComponent(instance, isSSR = false, optimized = false) {\n  isSSR && setInSSRSetupState(isSSR);\n  const { props, children } = instance.vnode;\n  const isStateful = isStatefulComponent(instance);\n  initProps(instance, props, isStateful, isSSR);\n  initSlots(instance, children, optimized);\n  const setupResult = isStateful ? setupStatefulComponent(instance, isSSR) : void 0;\n  isSSR && setInSSRSetupState(false);\n  return setupResult;\n}\nfunction setupStatefulComponent(instance, isSSR) {\n  var _a;\n  const Component = instance.type;\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (Component.name) {\n      validateComponentName(Component.name, instance.appContext.config);\n    }\n    if (Component.components) {\n      const names = Object.keys(Component.components);\n      for (let i = 0; i < names.length; i++) {\n        validateComponentName(names[i], instance.appContext.config);\n      }\n    }\n    if (Component.directives) {\n      const names = Object.keys(Component.directives);\n      for (let i = 0; i < names.length; i++) {\n        validateDirectiveName(names[i]);\n      }\n    }\n    if (Component.compilerOptions && isRuntimeOnly()) {\n      warn$1(\n        `\"compilerOptions\" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`\n      );\n    }\n  }\n  instance.accessCache = /* @__PURE__ */ Object.create(null);\n  instance.proxy = new Proxy(instance.ctx, PublicInstanceProxyHandlers);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    exposePropsOnRenderContext(instance);\n  }\n  const { setup } = Component;\n  if (setup) {\n    pauseTracking();\n    const setupContext = instance.setupContext = setup.length > 1 ? createSetupContext(instance) : null;\n    const reset = setCurrentInstance(instance);\n    const setupResult = callWithErrorHandling(\n      setup,\n      instance,\n      0,\n      [\n        !!(process.env.NODE_ENV !== \"production\") ? shallowReadonly(instance.props) : instance.props,\n        setupContext\n      ]\n    );\n    const isAsyncSetup = isPromise(setupResult);\n    resetTracking();\n    reset();\n    if ((isAsyncSetup || instance.sp) && !isAsyncWrapper(instance)) {\n      markAsyncBoundary(instance);\n    }\n    if (isAsyncSetup) {\n      setupResult.then(unsetCurrentInstance, unsetCurrentInstance);\n      if (isSSR) {\n        return setupResult.then((resolvedResult) => {\n          handleSetupResult(instance, resolvedResult, isSSR);\n        }).catch((e) => {\n          handleError(e, instance, 0);\n        });\n      } else {\n        instance.asyncDep = setupResult;\n        if (!!(process.env.NODE_ENV !== \"production\") && !instance.suspense) {\n          const name = (_a = Component.name) != null ? _a : \"Anonymous\";\n          warn$1(\n            `Component <${name}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`\n          );\n        }\n      }\n    } else {\n      handleSetupResult(instance, setupResult, isSSR);\n    }\n  } else {\n    finishComponentSetup(instance, isSSR);\n  }\n}\nfunction handleSetupResult(instance, setupResult, isSSR) {\n  if (isFunction(setupResult)) {\n    if (instance.type.__ssrInlineRender) {\n      instance.ssrRender = setupResult;\n    } else {\n      instance.render = setupResult;\n    }\n  } else if (isObject(setupResult)) {\n    if (!!(process.env.NODE_ENV !== \"production\") && isVNode(setupResult)) {\n      warn$1(\n        `setup() should not return VNodes directly - return a render function instead.`\n      );\n    }\n    if (!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) {\n      instance.devtoolsRawSetupState = setupResult;\n    }\n    instance.setupState = proxyRefs(setupResult);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      exposeSetupStateOnRenderContext(instance);\n    }\n  } else if (!!(process.env.NODE_ENV !== \"production\") && setupResult !== void 0) {\n    warn$1(\n      `setup() should return an object. Received: ${setupResult === null ? \"null\" : typeof setupResult}`\n    );\n  }\n  finishComponentSetup(instance, isSSR);\n}\nlet compile;\nlet installWithProxy;\nfunction registerRuntimeCompiler(_compile) {\n  compile = _compile;\n  installWithProxy = (i) => {\n    if (i.render._rc) {\n      i.withProxy = new Proxy(i.ctx, RuntimeCompiledPublicInstanceProxyHandlers);\n    }\n  };\n}\nconst isRuntimeOnly = () => !compile;\nfunction finishComponentSetup(instance, isSSR, skipOptions) {\n  const Component = instance.type;\n  if (!instance.render) {\n    if (!isSSR && compile && !Component.render) {\n      const template = Component.template || __VUE_OPTIONS_API__ && resolveMergedOptions(instance).template;\n      if (template) {\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          startMeasure(instance, `compile`);\n        }\n        const { isCustomElement, compilerOptions } = instance.appContext.config;\n        const { delimiters, compilerOptions: componentCompilerOptions } = Component;\n        const finalCompilerOptions = extend(\n          extend(\n            {\n              isCustomElement,\n              delimiters\n            },\n            compilerOptions\n          ),\n          componentCompilerOptions\n        );\n        Component.render = compile(template, finalCompilerOptions);\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          endMeasure(instance, `compile`);\n        }\n      }\n    }\n    instance.render = Component.render || NOOP;\n    if (installWithProxy) {\n      installWithProxy(instance);\n    }\n  }\n  if (__VUE_OPTIONS_API__ && true) {\n    const reset = setCurrentInstance(instance);\n    pauseTracking();\n    try {\n      applyOptions(instance);\n    } finally {\n      resetTracking();\n      reset();\n    }\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && !Component.render && instance.render === NOOP && !isSSR) {\n    if (!compile && Component.template) {\n      warn$1(\n        `Component provided template option but runtime compilation is not supported in this build of Vue.` + (` Configure your bundler to alias \"vue\" to \"vue/dist/vue.esm-bundler.js\".` )\n      );\n    } else {\n      warn$1(`Component is missing template or render function: `, Component);\n    }\n  }\n}\nconst attrsProxyHandlers = !!(process.env.NODE_ENV !== \"production\") ? {\n  get(target, key) {\n    markAttrsAccessed();\n    track(target, \"get\", \"\");\n    return target[key];\n  },\n  set() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  },\n  deleteProperty() {\n    warn$1(`setupContext.attrs is readonly.`);\n    return false;\n  }\n} : {\n  get(target, key) {\n    track(target, \"get\", \"\");\n    return target[key];\n  }\n};\nfunction getSlotsProxy(instance) {\n  return new Proxy(instance.slots, {\n    get(target, key) {\n      track(instance, \"get\", \"$slots\");\n      return target[key];\n    }\n  });\n}\nfunction createSetupContext(instance) {\n  const expose = (exposed) => {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (instance.exposed) {\n        warn$1(`expose() should be called only once per setup().`);\n      }\n      if (exposed != null) {\n        let exposedType = typeof exposed;\n        if (exposedType === \"object\") {\n          if (isArray(exposed)) {\n            exposedType = \"array\";\n          } else if (isRef(exposed)) {\n            exposedType = \"ref\";\n          }\n        }\n        if (exposedType !== \"object\") {\n          warn$1(\n            `expose() should be passed a plain object, received ${exposedType}.`\n          );\n        }\n      }\n    }\n    instance.exposed = exposed || {};\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    let attrsProxy;\n    let slotsProxy;\n    return Object.freeze({\n      get attrs() {\n        return attrsProxy || (attrsProxy = new Proxy(instance.attrs, attrsProxyHandlers));\n      },\n      get slots() {\n        return slotsProxy || (slotsProxy = getSlotsProxy(instance));\n      },\n      get emit() {\n        return (event, ...args) => instance.emit(event, ...args);\n      },\n      expose\n    });\n  } else {\n    return {\n      attrs: new Proxy(instance.attrs, attrsProxyHandlers),\n      slots: instance.slots,\n      emit: instance.emit,\n      expose\n    };\n  }\n}\nfunction getComponentPublicInstance(instance) {\n  if (instance.exposed) {\n    return instance.exposeProxy || (instance.exposeProxy = new Proxy(proxyRefs(markRaw(instance.exposed)), {\n      get(target, key) {\n        if (key in target) {\n          return target[key];\n        } else if (key in publicPropertiesMap) {\n          return publicPropertiesMap[key](instance);\n        }\n      },\n      has(target, key) {\n        return key in target || key in publicPropertiesMap;\n      }\n    }));\n  } else {\n    return instance.proxy;\n  }\n}\nconst classifyRE = /(?:^|[-_])(\\w)/g;\nconst classify = (str) => str.replace(classifyRE, (c) => c.toUpperCase()).replace(/[-_]/g, \"\");\nfunction getComponentName(Component, includeInferred = true) {\n  return isFunction(Component) ? Component.displayName || Component.name : Component.name || includeInferred && Component.__name;\n}\nfunction formatComponentName(instance, Component, isRoot = false) {\n  let name = getComponentName(Component);\n  if (!name && Component.__file) {\n    const match = Component.__file.match(/([^/\\\\]+)\\.\\w+$/);\n    if (match) {\n      name = match[1];\n    }\n  }\n  if (!name && instance && instance.parent) {\n    const inferFromRegistry = (registry) => {\n      for (const key in registry) {\n        if (registry[key] === Component) {\n          return key;\n        }\n      }\n    };\n    name = inferFromRegistry(\n      instance.components || instance.parent.type.components\n    ) || inferFromRegistry(instance.appContext.components);\n  }\n  return name ? classify(name) : isRoot ? `App` : `Anonymous`;\n}\nfunction isClassComponent(value) {\n  return isFunction(value) && \"__vccOpts\" in value;\n}\n\nconst computed = (getterOrOptions, debugOptions) => {\n  const c = computed$1(getterOrOptions, debugOptions, isInSSRComponentSetup);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    const i = getCurrentInstance();\n    if (i && i.appContext.config.warnRecursiveComputed) {\n      c._warnRecursive = true;\n    }\n  }\n  return c;\n};\n\nfunction h(type, propsOrChildren, children) {\n  const l = arguments.length;\n  if (l === 2) {\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n      if (isVNode(propsOrChildren)) {\n        return createVNode(type, null, [propsOrChildren]);\n      }\n      return createVNode(type, propsOrChildren);\n    } else {\n      return createVNode(type, null, propsOrChildren);\n    }\n  } else {\n    if (l > 3) {\n      children = Array.prototype.slice.call(arguments, 2);\n    } else if (l === 3 && isVNode(children)) {\n      children = [children];\n    }\n    return createVNode(type, propsOrChildren, children);\n  }\n}\n\nfunction initCustomFormatter() {\n  if (!!!(process.env.NODE_ENV !== \"production\") || typeof window === \"undefined\") {\n    return;\n  }\n  const vueStyle = { style: \"color:#3ba776\" };\n  const numberStyle = { style: \"color:#1677ff\" };\n  const stringStyle = { style: \"color:#f5222d\" };\n  const keywordStyle = { style: \"color:#eb2f96\" };\n  const formatter = {\n    __vue_custom_formatter: true,\n    header(obj) {\n      if (!isObject(obj)) {\n        return null;\n      }\n      if (obj.__isVue) {\n        return [\"div\", vueStyle, `VueInstance`];\n      } else if (isRef(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, genRefFlag(obj)],\n          \"<\",\n          // avoid debugger accessing value affecting behavior\n          formatValue(\"_value\" in obj ? obj._value : obj),\n          `>`\n        ];\n      } else if (isReactive(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReactive\" : \"Reactive\"],\n          \"<\",\n          formatValue(obj),\n          `>${isReadonly(obj) ? ` (readonly)` : ``}`\n        ];\n      } else if (isReadonly(obj)) {\n        return [\n          \"div\",\n          {},\n          [\"span\", vueStyle, isShallow(obj) ? \"ShallowReadonly\" : \"Readonly\"],\n          \"<\",\n          formatValue(obj),\n          \">\"\n        ];\n      }\n      return null;\n    },\n    hasBody(obj) {\n      return obj && obj.__isVue;\n    },\n    body(obj) {\n      if (obj && obj.__isVue) {\n        return [\n          \"div\",\n          {},\n          ...formatInstance(obj.$)\n        ];\n      }\n    }\n  };\n  function formatInstance(instance) {\n    const blocks = [];\n    if (instance.type.props && instance.props) {\n      blocks.push(createInstanceBlock(\"props\", toRaw(instance.props)));\n    }\n    if (instance.setupState !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"setup\", instance.setupState));\n    }\n    if (instance.data !== EMPTY_OBJ) {\n      blocks.push(createInstanceBlock(\"data\", toRaw(instance.data)));\n    }\n    const computed = extractKeys(instance, \"computed\");\n    if (computed) {\n      blocks.push(createInstanceBlock(\"computed\", computed));\n    }\n    const injected = extractKeys(instance, \"inject\");\n    if (injected) {\n      blocks.push(createInstanceBlock(\"injected\", injected));\n    }\n    blocks.push([\n      \"div\",\n      {},\n      [\n        \"span\",\n        {\n          style: keywordStyle.style + \";opacity:0.66\"\n        },\n        \"$ (internal): \"\n      ],\n      [\"object\", { object: instance }]\n    ]);\n    return blocks;\n  }\n  function createInstanceBlock(type, target) {\n    target = extend({}, target);\n    if (!Object.keys(target).length) {\n      return [\"span\", {}];\n    }\n    return [\n      \"div\",\n      { style: \"line-height:1.25em;margin-bottom:0.6em\" },\n      [\n        \"div\",\n        {\n          style: \"color:#476582\"\n        },\n        type\n      ],\n      [\n        \"div\",\n        {\n          style: \"padding-left:1.25em\"\n        },\n        ...Object.keys(target).map((key) => {\n          return [\n            \"div\",\n            {},\n            [\"span\", keywordStyle, key + \": \"],\n            formatValue(target[key], false)\n          ];\n        })\n      ]\n    ];\n  }\n  function formatValue(v, asRaw = true) {\n    if (typeof v === \"number\") {\n      return [\"span\", numberStyle, v];\n    } else if (typeof v === \"string\") {\n      return [\"span\", stringStyle, JSON.stringify(v)];\n    } else if (typeof v === \"boolean\") {\n      return [\"span\", keywordStyle, v];\n    } else if (isObject(v)) {\n      return [\"object\", { object: asRaw ? toRaw(v) : v }];\n    } else {\n      return [\"span\", stringStyle, String(v)];\n    }\n  }\n  function extractKeys(instance, type) {\n    const Comp = instance.type;\n    if (isFunction(Comp)) {\n      return;\n    }\n    const extracted = {};\n    for (const key in instance.ctx) {\n      if (isKeyOfType(Comp, key, type)) {\n        extracted[key] = instance.ctx[key];\n      }\n    }\n    return extracted;\n  }\n  function isKeyOfType(Comp, key, type) {\n    const opts = Comp[type];\n    if (isArray(opts) && opts.includes(key) || isObject(opts) && key in opts) {\n      return true;\n    }\n    if (Comp.extends && isKeyOfType(Comp.extends, key, type)) {\n      return true;\n    }\n    if (Comp.mixins && Comp.mixins.some((m) => isKeyOfType(m, key, type))) {\n      return true;\n    }\n  }\n  function genRefFlag(v) {\n    if (isShallow(v)) {\n      return `ShallowRef`;\n    }\n    if (v.effect) {\n      return `ComputedRef`;\n    }\n    return `Ref`;\n  }\n  if (window.devtoolsFormatters) {\n    window.devtoolsFormatters.push(formatter);\n  } else {\n    window.devtoolsFormatters = [formatter];\n  }\n}\n\nfunction withMemo(memo, render, cache, index) {\n  const cached = cache[index];\n  if (cached && isMemoSame(cached, memo)) {\n    return cached;\n  }\n  const ret = render();\n  ret.memo = memo.slice();\n  ret.cacheIndex = index;\n  return cache[index] = ret;\n}\nfunction isMemoSame(cached, memo) {\n  const prev = cached.memo;\n  if (prev.length != memo.length) {\n    return false;\n  }\n  for (let i = 0; i < prev.length; i++) {\n    if (hasChanged(prev[i], memo[i])) {\n      return false;\n    }\n  }\n  if (isBlockTreeEnabled > 0 && currentBlock) {\n    currentBlock.push(cached);\n  }\n  return true;\n}\n\nconst version = \"3.5.13\";\nconst warn = !!(process.env.NODE_ENV !== \"production\") ? warn$1 : NOOP;\nconst ErrorTypeStrings = ErrorTypeStrings$1 ;\nconst devtools = !!(process.env.NODE_ENV !== \"production\") || true ? devtools$1 : void 0;\nconst setDevtoolsHook = !!(process.env.NODE_ENV !== \"production\") || true ? setDevtoolsHook$1 : NOOP;\nconst _ssrUtils = {\n  createComponentInstance,\n  setupComponent,\n  renderComponentRoot,\n  setCurrentRenderingInstance,\n  isVNode: isVNode,\n  normalizeVNode,\n  getComponentPublicInstance,\n  ensureValidVNode,\n  pushWarningContext,\n  popWarningContext\n};\nconst ssrUtils = _ssrUtils ;\nconst resolveFilter = null;\nconst compatUtils = null;\nconst DeprecationTypes = null;\n\nexport { BaseTransition, BaseTransitionPropsValidators, Comment, DeprecationTypes, ErrorCodes, ErrorTypeStrings, Fragment, KeepAlive, Static, Suspense, Teleport, Text, assertNumber, callWithAsyncErrorHandling, callWithErrorHandling, cloneVNode, compatUtils, computed, createBlock, createCommentVNode, createElementBlock, createBaseVNode as createElementVNode, createHydrationRenderer, createPropsRestProxy, createRenderer, createSlots, createStaticVNode, createTextVNode, createVNode, defineAsyncComponent, defineComponent, defineEmits, defineExpose, defineModel, defineOptions, defineProps, defineSlots, devtools, getCurrentInstance, getTransitionRawChildren, guardReactiveProps, h, handleError, hasInjectionContext, hydrateOnIdle, hydrateOnInteraction, hydrateOnMediaQuery, hydrateOnVisible, initCustomFormatter, inject, isMemoSame, isRuntimeOnly, isVNode, mergeDefaults, mergeModels, mergeProps, nextTick, onActivated, onBeforeMount, onBeforeUnmount, onBeforeUpdate, onDeactivated, onErrorCaptured, onMounted, onRenderTracked, onRenderTriggered, onServerPrefetch, onUnmounted, onUpdated, openBlock, popScopeId, provide, pushScopeId, queuePostFlushCb, registerRuntimeCompiler, renderList, renderSlot, resolveComponent, resolveDirective, resolveDynamicComponent, resolveFilter, resolveTransitionHooks, setBlockTracking, setDevtoolsHook, setTransitionHooks, ssrContextKey, ssrUtils, toHandlers, transformVNodeArgs, useAttrs, useId, useModel, useSSRContext, useSlots, useTemplateRef, useTransitionState, version, warn, watch, watchEffect, watchPostEffect, watchSyncEffect, withAsyncContext, withCtx, withDefaults, withDirectives, withMemo, withScopeId };\n","/**\n* @vue/runtime-dom v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\nimport { warn, h, BaseTransition, assertNumber, BaseTransitionPropsValidators, getCurrentInstance, onBeforeUpdate, queuePostFlushCb, onMounted, watch, onUnmounted, Fragment, Static, camelize, callWithAsyncErrorHandling, defineComponent, nextTick, unref, createVNode, useTransitionState, onUpdated, toRaw, getTransitionRawChildren, setTransitionHooks, resolveTransitionHooks, Text, isRuntimeOnly, createRenderer, createHydrationRenderer } from '@vue/runtime-core';\nexport * from '@vue/runtime-core';\nimport { extend, isObject, toNumber, isArray, NOOP, isString, hyphenate, capitalize, includeBooleanAttr, isSymbol, isSpecialBooleanAttr, isFunction, isOn, isModelListener, camelize as camelize$1, isPlainObject, hasOwn, EMPTY_OBJ, looseToNumber, looseIndexOf, isSet, looseEqual, invokeArrayFns, isHTMLTag, isSVGTag, isMathMLTag } from '@vue/shared';\n\nlet policy = void 0;\nconst tt = typeof window !== \"undefined\" && window.trustedTypes;\nif (tt) {\n  try {\n    policy = /* @__PURE__ */ tt.createPolicy(\"vue\", {\n      createHTML: (val) => val\n    });\n  } catch (e) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`Error creating trusted types policy: ${e}`);\n  }\n}\nconst unsafeToTrustedHTML = policy ? (val) => policy.createHTML(val) : (val) => val;\nconst svgNS = \"http://www.w3.org/2000/svg\";\nconst mathmlNS = \"http://www.w3.org/1998/Math/MathML\";\nconst doc = typeof document !== \"undefined\" ? document : null;\nconst templateContainer = doc && /* @__PURE__ */ doc.createElement(\"template\");\nconst nodeOps = {\n  insert: (child, parent, anchor) => {\n    parent.insertBefore(child, anchor || null);\n  },\n  remove: (child) => {\n    const parent = child.parentNode;\n    if (parent) {\n      parent.removeChild(child);\n    }\n  },\n  createElement: (tag, namespace, is, props) => {\n    const el = namespace === \"svg\" ? doc.createElementNS(svgNS, tag) : namespace === \"mathml\" ? doc.createElementNS(mathmlNS, tag) : is ? doc.createElement(tag, { is }) : doc.createElement(tag);\n    if (tag === \"select\" && props && props.multiple != null) {\n      el.setAttribute(\"multiple\", props.multiple);\n    }\n    return el;\n  },\n  createText: (text) => doc.createTextNode(text),\n  createComment: (text) => doc.createComment(text),\n  setText: (node, text) => {\n    node.nodeValue = text;\n  },\n  setElementText: (el, text) => {\n    el.textContent = text;\n  },\n  parentNode: (node) => node.parentNode,\n  nextSibling: (node) => node.nextSibling,\n  querySelector: (selector) => doc.querySelector(selector),\n  setScopeId(el, id) {\n    el.setAttribute(id, \"\");\n  },\n  // __UNSAFE__\n  // Reason: innerHTML.\n  // Static content here can only come from compiled templates.\n  // As long as the user only uses trusted templates, this is safe.\n  insertStaticContent(content, parent, anchor, namespace, start, end) {\n    const before = anchor ? anchor.previousSibling : parent.lastChild;\n    if (start && (start === end || start.nextSibling)) {\n      while (true) {\n        parent.insertBefore(start.cloneNode(true), anchor);\n        if (start === end || !(start = start.nextSibling)) break;\n      }\n    } else {\n      templateContainer.innerHTML = unsafeToTrustedHTML(\n        namespace === \"svg\" ? `<svg>${content}</svg>` : namespace === \"mathml\" ? `<math>${content}</math>` : content\n      );\n      const template = templateContainer.content;\n      if (namespace === \"svg\" || namespace === \"mathml\") {\n        const wrapper = template.firstChild;\n        while (wrapper.firstChild) {\n          template.appendChild(wrapper.firstChild);\n        }\n        template.removeChild(wrapper);\n      }\n      parent.insertBefore(template, anchor);\n    }\n    return [\n      // first\n      before ? before.nextSibling : parent.firstChild,\n      // last\n      anchor ? anchor.previousSibling : parent.lastChild\n    ];\n  }\n};\n\nconst TRANSITION = \"transition\";\nconst ANIMATION = \"animation\";\nconst vtcKey = Symbol(\"_vtc\");\nconst DOMTransitionPropsValidators = {\n  name: String,\n  type: String,\n  css: {\n    type: Boolean,\n    default: true\n  },\n  duration: [String, Number, Object],\n  enterFromClass: String,\n  enterActiveClass: String,\n  enterToClass: String,\n  appearFromClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  leaveFromClass: String,\n  leaveActiveClass: String,\n  leaveToClass: String\n};\nconst TransitionPropsValidators = /* @__PURE__ */ extend(\n  {},\n  BaseTransitionPropsValidators,\n  DOMTransitionPropsValidators\n);\nconst decorate$1 = (t) => {\n  t.displayName = \"Transition\";\n  t.props = TransitionPropsValidators;\n  return t;\n};\nconst Transition = /* @__PURE__ */ decorate$1(\n  (props, { slots }) => h(BaseTransition, resolveTransitionProps(props), slots)\n);\nconst callHook = (hook, args = []) => {\n  if (isArray(hook)) {\n    hook.forEach((h2) => h2(...args));\n  } else if (hook) {\n    hook(...args);\n  }\n};\nconst hasExplicitCallback = (hook) => {\n  return hook ? isArray(hook) ? hook.some((h2) => h2.length > 1) : hook.length > 1 : false;\n};\nfunction resolveTransitionProps(rawProps) {\n  const baseProps = {};\n  for (const key in rawProps) {\n    if (!(key in DOMTransitionPropsValidators)) {\n      baseProps[key] = rawProps[key];\n    }\n  }\n  if (rawProps.css === false) {\n    return baseProps;\n  }\n  const {\n    name = \"v\",\n    type,\n    duration,\n    enterFromClass = `${name}-enter-from`,\n    enterActiveClass = `${name}-enter-active`,\n    enterToClass = `${name}-enter-to`,\n    appearFromClass = enterFromClass,\n    appearActiveClass = enterActiveClass,\n    appearToClass = enterToClass,\n    leaveFromClass = `${name}-leave-from`,\n    leaveActiveClass = `${name}-leave-active`,\n    leaveToClass = `${name}-leave-to`\n  } = rawProps;\n  const durations = normalizeDuration(duration);\n  const enterDuration = durations && durations[0];\n  const leaveDuration = durations && durations[1];\n  const {\n    onBeforeEnter,\n    onEnter,\n    onEnterCancelled,\n    onLeave,\n    onLeaveCancelled,\n    onBeforeAppear = onBeforeEnter,\n    onAppear = onEnter,\n    onAppearCancelled = onEnterCancelled\n  } = baseProps;\n  const finishEnter = (el, isAppear, done, isCancelled) => {\n    el._enterCancelled = isCancelled;\n    removeTransitionClass(el, isAppear ? appearToClass : enterToClass);\n    removeTransitionClass(el, isAppear ? appearActiveClass : enterActiveClass);\n    done && done();\n  };\n  const finishLeave = (el, done) => {\n    el._isLeaving = false;\n    removeTransitionClass(el, leaveFromClass);\n    removeTransitionClass(el, leaveToClass);\n    removeTransitionClass(el, leaveActiveClass);\n    done && done();\n  };\n  const makeEnterHook = (isAppear) => {\n    return (el, done) => {\n      const hook = isAppear ? onAppear : onEnter;\n      const resolve = () => finishEnter(el, isAppear, done);\n      callHook(hook, [el, resolve]);\n      nextFrame(() => {\n        removeTransitionClass(el, isAppear ? appearFromClass : enterFromClass);\n        addTransitionClass(el, isAppear ? appearToClass : enterToClass);\n        if (!hasExplicitCallback(hook)) {\n          whenTransitionEnds(el, type, enterDuration, resolve);\n        }\n      });\n    };\n  };\n  return extend(baseProps, {\n    onBeforeEnter(el) {\n      callHook(onBeforeEnter, [el]);\n      addTransitionClass(el, enterFromClass);\n      addTransitionClass(el, enterActiveClass);\n    },\n    onBeforeAppear(el) {\n      callHook(onBeforeAppear, [el]);\n      addTransitionClass(el, appearFromClass);\n      addTransitionClass(el, appearActiveClass);\n    },\n    onEnter: makeEnterHook(false),\n    onAppear: makeEnterHook(true),\n    onLeave(el, done) {\n      el._isLeaving = true;\n      const resolve = () => finishLeave(el, done);\n      addTransitionClass(el, leaveFromClass);\n      if (!el._enterCancelled) {\n        forceReflow();\n        addTransitionClass(el, leaveActiveClass);\n      } else {\n        addTransitionClass(el, leaveActiveClass);\n        forceReflow();\n      }\n      nextFrame(() => {\n        if (!el._isLeaving) {\n          return;\n        }\n        removeTransitionClass(el, leaveFromClass);\n        addTransitionClass(el, leaveToClass);\n        if (!hasExplicitCallback(onLeave)) {\n          whenTransitionEnds(el, type, leaveDuration, resolve);\n        }\n      });\n      callHook(onLeave, [el, resolve]);\n    },\n    onEnterCancelled(el) {\n      finishEnter(el, false, void 0, true);\n      callHook(onEnterCancelled, [el]);\n    },\n    onAppearCancelled(el) {\n      finishEnter(el, true, void 0, true);\n      callHook(onAppearCancelled, [el]);\n    },\n    onLeaveCancelled(el) {\n      finishLeave(el);\n      callHook(onLeaveCancelled, [el]);\n    }\n  });\n}\nfunction normalizeDuration(duration) {\n  if (duration == null) {\n    return null;\n  } else if (isObject(duration)) {\n    return [NumberOf(duration.enter), NumberOf(duration.leave)];\n  } else {\n    const n = NumberOf(duration);\n    return [n, n];\n  }\n}\nfunction NumberOf(val) {\n  const res = toNumber(val);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    assertNumber(res, \"<transition> explicit duration\");\n  }\n  return res;\n}\nfunction addTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.add(c));\n  (el[vtcKey] || (el[vtcKey] = /* @__PURE__ */ new Set())).add(cls);\n}\nfunction removeTransitionClass(el, cls) {\n  cls.split(/\\s+/).forEach((c) => c && el.classList.remove(c));\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.delete(cls);\n    if (!_vtc.size) {\n      el[vtcKey] = void 0;\n    }\n  }\n}\nfunction nextFrame(cb) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(cb);\n  });\n}\nlet endId = 0;\nfunction whenTransitionEnds(el, expectedType, explicitTimeout, resolve) {\n  const id = el._endId = ++endId;\n  const resolveIfNotStale = () => {\n    if (id === el._endId) {\n      resolve();\n    }\n  };\n  if (explicitTimeout != null) {\n    return setTimeout(resolveIfNotStale, explicitTimeout);\n  }\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType);\n  if (!type) {\n    return resolve();\n  }\n  const endEvent = type + \"end\";\n  let ended = 0;\n  const end = () => {\n    el.removeEventListener(endEvent, onEnd);\n    resolveIfNotStale();\n  };\n  const onEnd = (e) => {\n    if (e.target === el && ++ended >= propCount) {\n      end();\n    }\n  };\n  setTimeout(() => {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(endEvent, onEnd);\n}\nfunction getTransitionInfo(el, expectedType) {\n  const styles = window.getComputedStyle(el);\n  const getStyleProperties = (key) => (styles[key] || \"\").split(\", \");\n  const transitionDelays = getStyleProperties(`${TRANSITION}Delay`);\n  const transitionDurations = getStyleProperties(`${TRANSITION}Duration`);\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  const animationDelays = getStyleProperties(`${ANIMATION}Delay`);\n  const animationDurations = getStyleProperties(`${ANIMATION}Duration`);\n  const animationTimeout = getTimeout(animationDelays, animationDurations);\n  let type = null;\n  let timeout = 0;\n  let propCount = 0;\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0 ? transitionTimeout > animationTimeout ? TRANSITION : ANIMATION : null;\n    propCount = type ? type === TRANSITION ? transitionDurations.length : animationDurations.length : 0;\n  }\n  const hasTransform = type === TRANSITION && /\\b(transform|all)(,|$)/.test(\n    getStyleProperties(`${TRANSITION}Property`).toString()\n  );\n  return {\n    type,\n    timeout,\n    propCount,\n    hasTransform\n  };\n}\nfunction getTimeout(delays, durations) {\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])));\n}\nfunction toMs(s) {\n  if (s === \"auto\") return 0;\n  return Number(s.slice(0, -1).replace(\",\", \".\")) * 1e3;\n}\nfunction forceReflow() {\n  return document.body.offsetHeight;\n}\n\nfunction patchClass(el, value, isSVG) {\n  const transitionClasses = el[vtcKey];\n  if (transitionClasses) {\n    value = (value ? [value, ...transitionClasses] : [...transitionClasses]).join(\" \");\n  }\n  if (value == null) {\n    el.removeAttribute(\"class\");\n  } else if (isSVG) {\n    el.setAttribute(\"class\", value);\n  } else {\n    el.className = value;\n  }\n}\n\nconst vShowOriginalDisplay = Symbol(\"_vod\");\nconst vShowHidden = Symbol(\"_vsh\");\nconst vShow = {\n  beforeMount(el, { value }, { transition }) {\n    el[vShowOriginalDisplay] = el.style.display === \"none\" ? \"\" : el.style.display;\n    if (transition && value) {\n      transition.beforeEnter(el);\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  mounted(el, { value }, { transition }) {\n    if (transition && value) {\n      transition.enter(el);\n    }\n  },\n  updated(el, { value, oldValue }, { transition }) {\n    if (!value === !oldValue) return;\n    if (transition) {\n      if (value) {\n        transition.beforeEnter(el);\n        setDisplay(el, true);\n        transition.enter(el);\n      } else {\n        transition.leave(el, () => {\n          setDisplay(el, false);\n        });\n      }\n    } else {\n      setDisplay(el, value);\n    }\n  },\n  beforeUnmount(el, { value }) {\n    setDisplay(el, value);\n  }\n};\nif (!!(process.env.NODE_ENV !== \"production\")) {\n  vShow.name = \"show\";\n}\nfunction setDisplay(el, value) {\n  el.style.display = value ? el[vShowOriginalDisplay] : \"none\";\n  el[vShowHidden] = !value;\n}\nfunction initVShowForSSR() {\n  vShow.getSSRProps = ({ value }) => {\n    if (!value) {\n      return { style: { display: \"none\" } };\n    }\n  };\n}\n\nconst CSS_VAR_TEXT = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"CSS_VAR_TEXT\" : \"\");\nfunction useCssVars(getter) {\n  const instance = getCurrentInstance();\n  if (!instance) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(`useCssVars is called without current active component instance.`);\n    return;\n  }\n  const updateTeleports = instance.ut = (vars = getter(instance.proxy)) => {\n    Array.from(\n      document.querySelectorAll(`[data-v-owner=\"${instance.uid}\"]`)\n    ).forEach((node) => setVarsOnNode(node, vars));\n  };\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    instance.getCssVars = () => getter(instance.proxy);\n  }\n  const setVars = () => {\n    const vars = getter(instance.proxy);\n    if (instance.ce) {\n      setVarsOnNode(instance.ce, vars);\n    } else {\n      setVarsOnVNode(instance.subTree, vars);\n    }\n    updateTeleports(vars);\n  };\n  onBeforeUpdate(() => {\n    queuePostFlushCb(setVars);\n  });\n  onMounted(() => {\n    watch(setVars, NOOP, { flush: \"post\" });\n    const ob = new MutationObserver(setVars);\n    ob.observe(instance.subTree.el.parentNode, { childList: true });\n    onUnmounted(() => ob.disconnect());\n  });\n}\nfunction setVarsOnVNode(vnode, vars) {\n  if (vnode.shapeFlag & 128) {\n    const suspense = vnode.suspense;\n    vnode = suspense.activeBranch;\n    if (suspense.pendingBranch && !suspense.isHydrating) {\n      suspense.effects.push(() => {\n        setVarsOnVNode(suspense.activeBranch, vars);\n      });\n    }\n  }\n  while (vnode.component) {\n    vnode = vnode.component.subTree;\n  }\n  if (vnode.shapeFlag & 1 && vnode.el) {\n    setVarsOnNode(vnode.el, vars);\n  } else if (vnode.type === Fragment) {\n    vnode.children.forEach((c) => setVarsOnVNode(c, vars));\n  } else if (vnode.type === Static) {\n    let { el, anchor } = vnode;\n    while (el) {\n      setVarsOnNode(el, vars);\n      if (el === anchor) break;\n      el = el.nextSibling;\n    }\n  }\n}\nfunction setVarsOnNode(el, vars) {\n  if (el.nodeType === 1) {\n    const style = el.style;\n    let cssText = \"\";\n    for (const key in vars) {\n      style.setProperty(`--${key}`, vars[key]);\n      cssText += `--${key}: ${vars[key]};`;\n    }\n    style[CSS_VAR_TEXT] = cssText;\n  }\n}\n\nconst displayRE = /(^|;)\\s*display\\s*:/;\nfunction patchStyle(el, prev, next) {\n  const style = el.style;\n  const isCssString = isString(next);\n  let hasControlledDisplay = false;\n  if (next && !isCssString) {\n    if (prev) {\n      if (!isString(prev)) {\n        for (const key in prev) {\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      } else {\n        for (const prevStyle of prev.split(\";\")) {\n          const key = prevStyle.slice(0, prevStyle.indexOf(\":\")).trim();\n          if (next[key] == null) {\n            setStyle(style, key, \"\");\n          }\n        }\n      }\n    }\n    for (const key in next) {\n      if (key === \"display\") {\n        hasControlledDisplay = true;\n      }\n      setStyle(style, key, next[key]);\n    }\n  } else {\n    if (isCssString) {\n      if (prev !== next) {\n        const cssVarText = style[CSS_VAR_TEXT];\n        if (cssVarText) {\n          next += \";\" + cssVarText;\n        }\n        style.cssText = next;\n        hasControlledDisplay = displayRE.test(next);\n      }\n    } else if (prev) {\n      el.removeAttribute(\"style\");\n    }\n  }\n  if (vShowOriginalDisplay in el) {\n    el[vShowOriginalDisplay] = hasControlledDisplay ? style.display : \"\";\n    if (el[vShowHidden]) {\n      style.display = \"none\";\n    }\n  }\n}\nconst semicolonRE = /[^\\\\];\\s*$/;\nconst importantRE = /\\s*!important$/;\nfunction setStyle(style, name, val) {\n  if (isArray(val)) {\n    val.forEach((v) => setStyle(style, name, v));\n  } else {\n    if (val == null) val = \"\";\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      if (semicolonRE.test(val)) {\n        warn(\n          `Unexpected semicolon at the end of '${name}' style value: '${val}'`\n        );\n      }\n    }\n    if (name.startsWith(\"--\")) {\n      style.setProperty(name, val);\n    } else {\n      const prefixed = autoPrefix(style, name);\n      if (importantRE.test(val)) {\n        style.setProperty(\n          hyphenate(prefixed),\n          val.replace(importantRE, \"\"),\n          \"important\"\n        );\n      } else {\n        style[prefixed] = val;\n      }\n    }\n  }\n}\nconst prefixes = [\"Webkit\", \"Moz\", \"ms\"];\nconst prefixCache = {};\nfunction autoPrefix(style, rawName) {\n  const cached = prefixCache[rawName];\n  if (cached) {\n    return cached;\n  }\n  let name = camelize(rawName);\n  if (name !== \"filter\" && name in style) {\n    return prefixCache[rawName] = name;\n  }\n  name = capitalize(name);\n  for (let i = 0; i < prefixes.length; i++) {\n    const prefixed = prefixes[i] + name;\n    if (prefixed in style) {\n      return prefixCache[rawName] = prefixed;\n    }\n  }\n  return rawName;\n}\n\nconst xlinkNS = \"http://www.w3.org/1999/xlink\";\nfunction patchAttr(el, key, value, isSVG, instance, isBoolean = isSpecialBooleanAttr(key)) {\n  if (isSVG && key.startsWith(\"xlink:\")) {\n    if (value == null) {\n      el.removeAttributeNS(xlinkNS, key.slice(6, key.length));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    if (value == null || isBoolean && !includeBooleanAttr(value)) {\n      el.removeAttribute(key);\n    } else {\n      el.setAttribute(\n        key,\n        isBoolean ? \"\" : isSymbol(value) ? String(value) : value\n      );\n    }\n  }\n}\n\nfunction patchDOMProp(el, key, value, parentComponent, attrName) {\n  if (key === \"innerHTML\" || key === \"textContent\") {\n    if (value != null) {\n      el[key] = key === \"innerHTML\" ? unsafeToTrustedHTML(value) : value;\n    }\n    return;\n  }\n  const tag = el.tagName;\n  if (key === \"value\" && tag !== \"PROGRESS\" && // custom elements may use _value internally\n  !tag.includes(\"-\")) {\n    const oldValue = tag === \"OPTION\" ? el.getAttribute(\"value\") || \"\" : el.value;\n    const newValue = value == null ? (\n      // #11647: value should be set as empty string for null and undefined,\n      // but <input type=\"checkbox\"> should be set as 'on'.\n      el.type === \"checkbox\" ? \"on\" : \"\"\n    ) : String(value);\n    if (oldValue !== newValue || !(\"_value\" in el)) {\n      el.value = newValue;\n    }\n    if (value == null) {\n      el.removeAttribute(key);\n    }\n    el._value = value;\n    return;\n  }\n  let needRemove = false;\n  if (value === \"\" || value == null) {\n    const type = typeof el[key];\n    if (type === \"boolean\") {\n      value = includeBooleanAttr(value);\n    } else if (value == null && type === \"string\") {\n      value = \"\";\n      needRemove = true;\n    } else if (type === \"number\") {\n      value = 0;\n      needRemove = true;\n    }\n  }\n  try {\n    el[key] = value;\n  } catch (e) {\n    if (!!(process.env.NODE_ENV !== \"production\") && !needRemove) {\n      warn(\n        `Failed setting prop \"${key}\" on <${tag.toLowerCase()}>: value ${value} is invalid.`,\n        e\n      );\n    }\n  }\n  needRemove && el.removeAttribute(attrName || key);\n}\n\nfunction addEventListener(el, event, handler, options) {\n  el.addEventListener(event, handler, options);\n}\nfunction removeEventListener(el, event, handler, options) {\n  el.removeEventListener(event, handler, options);\n}\nconst veiKey = Symbol(\"_vei\");\nfunction patchEvent(el, rawName, prevValue, nextValue, instance = null) {\n  const invokers = el[veiKey] || (el[veiKey] = {});\n  const existingInvoker = invokers[rawName];\n  if (nextValue && existingInvoker) {\n    existingInvoker.value = !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue;\n  } else {\n    const [name, options] = parseName(rawName);\n    if (nextValue) {\n      const invoker = invokers[rawName] = createInvoker(\n        !!(process.env.NODE_ENV !== \"production\") ? sanitizeEventValue(nextValue, rawName) : nextValue,\n        instance\n      );\n      addEventListener(el, name, invoker, options);\n    } else if (existingInvoker) {\n      removeEventListener(el, name, existingInvoker, options);\n      invokers[rawName] = void 0;\n    }\n  }\n}\nconst optionsModifierRE = /(?:Once|Passive|Capture)$/;\nfunction parseName(name) {\n  let options;\n  if (optionsModifierRE.test(name)) {\n    options = {};\n    let m;\n    while (m = name.match(optionsModifierRE)) {\n      name = name.slice(0, name.length - m[0].length);\n      options[m[0].toLowerCase()] = true;\n    }\n  }\n  const event = name[2] === \":\" ? name.slice(3) : hyphenate(name.slice(2));\n  return [event, options];\n}\nlet cachedNow = 0;\nconst p = /* @__PURE__ */ Promise.resolve();\nconst getNow = () => cachedNow || (p.then(() => cachedNow = 0), cachedNow = Date.now());\nfunction createInvoker(initialValue, instance) {\n  const invoker = (e) => {\n    if (!e._vts) {\n      e._vts = Date.now();\n    } else if (e._vts <= invoker.attached) {\n      return;\n    }\n    callWithAsyncErrorHandling(\n      patchStopImmediatePropagation(e, invoker.value),\n      instance,\n      5,\n      [e]\n    );\n  };\n  invoker.value = initialValue;\n  invoker.attached = getNow();\n  return invoker;\n}\nfunction sanitizeEventValue(value, propName) {\n  if (isFunction(value) || isArray(value)) {\n    return value;\n  }\n  warn(\n    `Wrong type passed as event handler to ${propName} - did you forget @ or : in front of your prop?\nExpected function or array of functions, received type ${typeof value}.`\n  );\n  return NOOP;\n}\nfunction patchStopImmediatePropagation(e, value) {\n  if (isArray(value)) {\n    const originalStop = e.stopImmediatePropagation;\n    e.stopImmediatePropagation = () => {\n      originalStop.call(e);\n      e._stopped = true;\n    };\n    return value.map(\n      (fn) => (e2) => !e2._stopped && fn && fn(e2)\n    );\n  } else {\n    return value;\n  }\n}\n\nconst isNativeOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // lowercase letter\nkey.charCodeAt(2) > 96 && key.charCodeAt(2) < 123;\nconst patchProp = (el, key, prevValue, nextValue, namespace, parentComponent) => {\n  const isSVG = namespace === \"svg\";\n  if (key === \"class\") {\n    patchClass(el, nextValue, isSVG);\n  } else if (key === \"style\") {\n    patchStyle(el, prevValue, nextValue);\n  } else if (isOn(key)) {\n    if (!isModelListener(key)) {\n      patchEvent(el, key, prevValue, nextValue, parentComponent);\n    }\n  } else if (key[0] === \".\" ? (key = key.slice(1), true) : key[0] === \"^\" ? (key = key.slice(1), false) : shouldSetAsProp(el, key, nextValue, isSVG)) {\n    patchDOMProp(el, key, nextValue);\n    if (!el.tagName.includes(\"-\") && (key === \"value\" || key === \"checked\" || key === \"selected\")) {\n      patchAttr(el, key, nextValue, isSVG, parentComponent, key !== \"value\");\n    }\n  } else if (\n    // #11081 force set props for possible async custom element\n    el._isVueCE && (/[A-Z]/.test(key) || !isString(nextValue))\n  ) {\n    patchDOMProp(el, camelize$1(key), nextValue, parentComponent, key);\n  } else {\n    if (key === \"true-value\") {\n      el._trueValue = nextValue;\n    } else if (key === \"false-value\") {\n      el._falseValue = nextValue;\n    }\n    patchAttr(el, key, nextValue, isSVG);\n  }\n};\nfunction shouldSetAsProp(el, key, value, isSVG) {\n  if (isSVG) {\n    if (key === \"innerHTML\" || key === \"textContent\") {\n      return true;\n    }\n    if (key in el && isNativeOn(key) && isFunction(value)) {\n      return true;\n    }\n    return false;\n  }\n  if (key === \"spellcheck\" || key === \"draggable\" || key === \"translate\") {\n    return false;\n  }\n  if (key === \"form\") {\n    return false;\n  }\n  if (key === \"list\" && el.tagName === \"INPUT\") {\n    return false;\n  }\n  if (key === \"type\" && el.tagName === \"TEXTAREA\") {\n    return false;\n  }\n  if (key === \"width\" || key === \"height\") {\n    const tag = el.tagName;\n    if (tag === \"IMG\" || tag === \"VIDEO\" || tag === \"CANVAS\" || tag === \"SOURCE\") {\n      return false;\n    }\n  }\n  if (isNativeOn(key) && isString(value)) {\n    return false;\n  }\n  return key in el;\n}\n\nconst REMOVAL = {};\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction defineCustomElement(options, extraOptions, _createApp) {\n  const Comp = defineComponent(options, extraOptions);\n  if (isPlainObject(Comp)) extend(Comp, extraOptions);\n  class VueCustomElement extends VueElement {\n    constructor(initialProps) {\n      super(Comp, initialProps, _createApp);\n    }\n  }\n  VueCustomElement.def = Comp;\n  return VueCustomElement;\n}\n/*! #__NO_SIDE_EFFECTS__ */\nconst defineSSRCustomElement = /* @__NO_SIDE_EFFECTS__ */ (options, extraOptions) => {\n  return /* @__PURE__ */ defineCustomElement(options, extraOptions, createSSRApp);\n};\nconst BaseClass = typeof HTMLElement !== \"undefined\" ? HTMLElement : class {\n};\nclass VueElement extends BaseClass {\n  constructor(_def, _props = {}, _createApp = createApp) {\n    super();\n    this._def = _def;\n    this._props = _props;\n    this._createApp = _createApp;\n    this._isVueCE = true;\n    /**\n     * @internal\n     */\n    this._instance = null;\n    /**\n     * @internal\n     */\n    this._app = null;\n    /**\n     * @internal\n     */\n    this._nonce = this._def.nonce;\n    this._connected = false;\n    this._resolved = false;\n    this._numberProps = null;\n    this._styleChildren = /* @__PURE__ */ new WeakSet();\n    this._ob = null;\n    if (this.shadowRoot && _createApp !== createApp) {\n      this._root = this.shadowRoot;\n    } else {\n      if (!!(process.env.NODE_ENV !== \"production\") && this.shadowRoot) {\n        warn(\n          `Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use \\`defineSSRCustomElement\\`.`\n        );\n      }\n      if (_def.shadowRoot !== false) {\n        this.attachShadow({ mode: \"open\" });\n        this._root = this.shadowRoot;\n      } else {\n        this._root = this;\n      }\n    }\n    if (!this._def.__asyncLoader) {\n      this._resolveProps(this._def);\n    }\n  }\n  connectedCallback() {\n    if (!this.isConnected) return;\n    if (!this.shadowRoot) {\n      this._parseSlots();\n    }\n    this._connected = true;\n    let parent = this;\n    while (parent = parent && (parent.parentNode || parent.host)) {\n      if (parent instanceof VueElement) {\n        this._parent = parent;\n        break;\n      }\n    }\n    if (!this._instance) {\n      if (this._resolved) {\n        this._setParent();\n        this._update();\n      } else {\n        if (parent && parent._pendingResolve) {\n          this._pendingResolve = parent._pendingResolve.then(() => {\n            this._pendingResolve = void 0;\n            this._resolveDef();\n          });\n        } else {\n          this._resolveDef();\n        }\n      }\n    }\n  }\n  _setParent(parent = this._parent) {\n    if (parent) {\n      this._instance.parent = parent._instance;\n      this._instance.provides = parent._instance.provides;\n    }\n  }\n  disconnectedCallback() {\n    this._connected = false;\n    nextTick(() => {\n      if (!this._connected) {\n        if (this._ob) {\n          this._ob.disconnect();\n          this._ob = null;\n        }\n        this._app && this._app.unmount();\n        if (this._instance) this._instance.ce = void 0;\n        this._app = this._instance = null;\n      }\n    });\n  }\n  /**\n   * resolve inner component definition (handle possible async component)\n   */\n  _resolveDef() {\n    if (this._pendingResolve) {\n      return;\n    }\n    for (let i = 0; i < this.attributes.length; i++) {\n      this._setAttr(this.attributes[i].name);\n    }\n    this._ob = new MutationObserver((mutations) => {\n      for (const m of mutations) {\n        this._setAttr(m.attributeName);\n      }\n    });\n    this._ob.observe(this, { attributes: true });\n    const resolve = (def, isAsync = false) => {\n      this._resolved = true;\n      this._pendingResolve = void 0;\n      const { props, styles } = def;\n      let numberProps;\n      if (props && !isArray(props)) {\n        for (const key in props) {\n          const opt = props[key];\n          if (opt === Number || opt && opt.type === Number) {\n            if (key in this._props) {\n              this._props[key] = toNumber(this._props[key]);\n            }\n            (numberProps || (numberProps = /* @__PURE__ */ Object.create(null)))[camelize$1(key)] = true;\n          }\n        }\n      }\n      this._numberProps = numberProps;\n      if (isAsync) {\n        this._resolveProps(def);\n      }\n      if (this.shadowRoot) {\n        this._applyStyles(styles);\n      } else if (!!(process.env.NODE_ENV !== \"production\") && styles) {\n        warn(\n          \"Custom element style injection is not supported when using shadowRoot: false\"\n        );\n      }\n      this._mount(def);\n    };\n    const asyncDef = this._def.__asyncLoader;\n    if (asyncDef) {\n      this._pendingResolve = asyncDef().then(\n        (def) => resolve(this._def = def, true)\n      );\n    } else {\n      resolve(this._def);\n    }\n  }\n  _mount(def) {\n    if ((!!(process.env.NODE_ENV !== \"production\") || __VUE_PROD_DEVTOOLS__) && !def.name) {\n      def.name = \"VueElement\";\n    }\n    this._app = this._createApp(def);\n    if (def.configureApp) {\n      def.configureApp(this._app);\n    }\n    this._app._ceVNode = this._createVNode();\n    this._app.mount(this._root);\n    const exposed = this._instance && this._instance.exposed;\n    if (!exposed) return;\n    for (const key in exposed) {\n      if (!hasOwn(this, key)) {\n        Object.defineProperty(this, key, {\n          // unwrap ref to be consistent with public instance behavior\n          get: () => unref(exposed[key])\n        });\n      } else if (!!(process.env.NODE_ENV !== \"production\")) {\n        warn(`Exposed property \"${key}\" already exists on custom element.`);\n      }\n    }\n  }\n  _resolveProps(def) {\n    const { props } = def;\n    const declaredPropKeys = isArray(props) ? props : Object.keys(props || {});\n    for (const key of Object.keys(this)) {\n      if (key[0] !== \"_\" && declaredPropKeys.includes(key)) {\n        this._setProp(key, this[key]);\n      }\n    }\n    for (const key of declaredPropKeys.map(camelize$1)) {\n      Object.defineProperty(this, key, {\n        get() {\n          return this._getProp(key);\n        },\n        set(val) {\n          this._setProp(key, val, true, true);\n        }\n      });\n    }\n  }\n  _setAttr(key) {\n    if (key.startsWith(\"data-v-\")) return;\n    const has = this.hasAttribute(key);\n    let value = has ? this.getAttribute(key) : REMOVAL;\n    const camelKey = camelize$1(key);\n    if (has && this._numberProps && this._numberProps[camelKey]) {\n      value = toNumber(value);\n    }\n    this._setProp(camelKey, value, false, true);\n  }\n  /**\n   * @internal\n   */\n  _getProp(key) {\n    return this._props[key];\n  }\n  /**\n   * @internal\n   */\n  _setProp(key, val, shouldReflect = true, shouldUpdate = false) {\n    if (val !== this._props[key]) {\n      if (val === REMOVAL) {\n        delete this._props[key];\n      } else {\n        this._props[key] = val;\n        if (key === \"key\" && this._app) {\n          this._app._ceVNode.key = val;\n        }\n      }\n      if (shouldUpdate && this._instance) {\n        this._update();\n      }\n      if (shouldReflect) {\n        const ob = this._ob;\n        ob && ob.disconnect();\n        if (val === true) {\n          this.setAttribute(hyphenate(key), \"\");\n        } else if (typeof val === \"string\" || typeof val === \"number\") {\n          this.setAttribute(hyphenate(key), val + \"\");\n        } else if (!val) {\n          this.removeAttribute(hyphenate(key));\n        }\n        ob && ob.observe(this, { attributes: true });\n      }\n    }\n  }\n  _update() {\n    render(this._createVNode(), this._root);\n  }\n  _createVNode() {\n    const baseProps = {};\n    if (!this.shadowRoot) {\n      baseProps.onVnodeMounted = baseProps.onVnodeUpdated = this._renderSlots.bind(this);\n    }\n    const vnode = createVNode(this._def, extend(baseProps, this._props));\n    if (!this._instance) {\n      vnode.ce = (instance) => {\n        this._instance = instance;\n        instance.ce = this;\n        instance.isCE = true;\n        if (!!(process.env.NODE_ENV !== \"production\")) {\n          instance.ceReload = (newStyles) => {\n            if (this._styles) {\n              this._styles.forEach((s) => this._root.removeChild(s));\n              this._styles.length = 0;\n            }\n            this._applyStyles(newStyles);\n            this._instance = null;\n            this._update();\n          };\n        }\n        const dispatch = (event, args) => {\n          this.dispatchEvent(\n            new CustomEvent(\n              event,\n              isPlainObject(args[0]) ? extend({ detail: args }, args[0]) : { detail: args }\n            )\n          );\n        };\n        instance.emit = (event, ...args) => {\n          dispatch(event, args);\n          if (hyphenate(event) !== event) {\n            dispatch(hyphenate(event), args);\n          }\n        };\n        this._setParent();\n      };\n    }\n    return vnode;\n  }\n  _applyStyles(styles, owner) {\n    if (!styles) return;\n    if (owner) {\n      if (owner === this._def || this._styleChildren.has(owner)) {\n        return;\n      }\n      this._styleChildren.add(owner);\n    }\n    const nonce = this._nonce;\n    for (let i = styles.length - 1; i >= 0; i--) {\n      const s = document.createElement(\"style\");\n      if (nonce) s.setAttribute(\"nonce\", nonce);\n      s.textContent = styles[i];\n      this.shadowRoot.prepend(s);\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        if (owner) {\n          if (owner.__hmrId) {\n            if (!this._childStyles) this._childStyles = /* @__PURE__ */ new Map();\n            let entry = this._childStyles.get(owner.__hmrId);\n            if (!entry) {\n              this._childStyles.set(owner.__hmrId, entry = []);\n            }\n            entry.push(s);\n          }\n        } else {\n          (this._styles || (this._styles = [])).push(s);\n        }\n      }\n    }\n  }\n  /**\n   * Only called when shadowRoot is false\n   */\n  _parseSlots() {\n    const slots = this._slots = {};\n    let n;\n    while (n = this.firstChild) {\n      const slotName = n.nodeType === 1 && n.getAttribute(\"slot\") || \"default\";\n      (slots[slotName] || (slots[slotName] = [])).push(n);\n      this.removeChild(n);\n    }\n  }\n  /**\n   * Only called when shadowRoot is false\n   */\n  _renderSlots() {\n    const outlets = (this._teleportTarget || this).querySelectorAll(\"slot\");\n    const scopeId = this._instance.type.__scopeId;\n    for (let i = 0; i < outlets.length; i++) {\n      const o = outlets[i];\n      const slotName = o.getAttribute(\"name\") || \"default\";\n      const content = this._slots[slotName];\n      const parent = o.parentNode;\n      if (content) {\n        for (const n of content) {\n          if (scopeId && n.nodeType === 1) {\n            const id = scopeId + \"-s\";\n            const walker = document.createTreeWalker(n, 1);\n            n.setAttribute(id, \"\");\n            let child;\n            while (child = walker.nextNode()) {\n              child.setAttribute(id, \"\");\n            }\n          }\n          parent.insertBefore(n, o);\n        }\n      } else {\n        while (o.firstChild) parent.insertBefore(o.firstChild, o);\n      }\n      parent.removeChild(o);\n    }\n  }\n  /**\n   * @internal\n   */\n  _injectChildStyle(comp) {\n    this._applyStyles(comp.styles, comp);\n  }\n  /**\n   * @internal\n   */\n  _removeChildStyle(comp) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      this._styleChildren.delete(comp);\n      if (this._childStyles && comp.__hmrId) {\n        const oldStyles = this._childStyles.get(comp.__hmrId);\n        if (oldStyles) {\n          oldStyles.forEach((s) => this._root.removeChild(s));\n          oldStyles.length = 0;\n        }\n      }\n    }\n  }\n}\nfunction useHost(caller) {\n  const instance = getCurrentInstance();\n  const el = instance && instance.ce;\n  if (el) {\n    return el;\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    if (!instance) {\n      warn(\n        `${caller || \"useHost\"} called without an active component instance.`\n      );\n    } else {\n      warn(\n        `${caller || \"useHost\"} can only be used in components defined via defineCustomElement.`\n      );\n    }\n  }\n  return null;\n}\nfunction useShadowRoot() {\n  const el = !!(process.env.NODE_ENV !== \"production\") ? useHost(\"useShadowRoot\") : useHost();\n  return el && el.shadowRoot;\n}\n\nfunction useCssModule(name = \"$style\") {\n  {\n    const instance = getCurrentInstance();\n    if (!instance) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`useCssModule must be called inside setup()`);\n      return EMPTY_OBJ;\n    }\n    const modules = instance.type.__cssModules;\n    if (!modules) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS modules injected.`);\n      return EMPTY_OBJ;\n    }\n    const mod = modules[name];\n    if (!mod) {\n      !!(process.env.NODE_ENV !== \"production\") && warn(`Current instance does not have CSS module named \"${name}\".`);\n      return EMPTY_OBJ;\n    }\n    return mod;\n  }\n}\n\nconst positionMap = /* @__PURE__ */ new WeakMap();\nconst newPositionMap = /* @__PURE__ */ new WeakMap();\nconst moveCbKey = Symbol(\"_moveCb\");\nconst enterCbKey = Symbol(\"_enterCb\");\nconst decorate = (t) => {\n  delete t.props.mode;\n  return t;\n};\nconst TransitionGroupImpl = /* @__PURE__ */ decorate({\n  name: \"TransitionGroup\",\n  props: /* @__PURE__ */ extend({}, TransitionPropsValidators, {\n    tag: String,\n    moveClass: String\n  }),\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const state = useTransitionState();\n    let prevChildren;\n    let children;\n    onUpdated(() => {\n      if (!prevChildren.length) {\n        return;\n      }\n      const moveClass = props.moveClass || `${props.name || \"v\"}-move`;\n      if (!hasCSSTransform(\n        prevChildren[0].el,\n        instance.vnode.el,\n        moveClass\n      )) {\n        return;\n      }\n      prevChildren.forEach(callPendingCbs);\n      prevChildren.forEach(recordPosition);\n      const movedChildren = prevChildren.filter(applyTranslation);\n      forceReflow();\n      movedChildren.forEach((c) => {\n        const el = c.el;\n        const style = el.style;\n        addTransitionClass(el, moveClass);\n        style.transform = style.webkitTransform = style.transitionDuration = \"\";\n        const cb = el[moveCbKey] = (e) => {\n          if (e && e.target !== el) {\n            return;\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(\"transitionend\", cb);\n            el[moveCbKey] = null;\n            removeTransitionClass(el, moveClass);\n          }\n        };\n        el.addEventListener(\"transitionend\", cb);\n      });\n    });\n    return () => {\n      const rawProps = toRaw(props);\n      const cssTransitionProps = resolveTransitionProps(rawProps);\n      let tag = rawProps.tag || Fragment;\n      prevChildren = [];\n      if (children) {\n        for (let i = 0; i < children.length; i++) {\n          const child = children[i];\n          if (child.el && child.el instanceof Element) {\n            prevChildren.push(child);\n            setTransitionHooks(\n              child,\n              resolveTransitionHooks(\n                child,\n                cssTransitionProps,\n                state,\n                instance\n              )\n            );\n            positionMap.set(\n              child,\n              child.el.getBoundingClientRect()\n            );\n          }\n        }\n      }\n      children = slots.default ? getTransitionRawChildren(slots.default()) : [];\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        if (child.key != null) {\n          setTransitionHooks(\n            child,\n            resolveTransitionHooks(child, cssTransitionProps, state, instance)\n          );\n        } else if (!!(process.env.NODE_ENV !== \"production\") && child.type !== Text) {\n          warn(`<TransitionGroup> children must be keyed.`);\n        }\n      }\n      return createVNode(tag, null, children);\n    };\n  }\n});\nconst TransitionGroup = TransitionGroupImpl;\nfunction callPendingCbs(c) {\n  const el = c.el;\n  if (el[moveCbKey]) {\n    el[moveCbKey]();\n  }\n  if (el[enterCbKey]) {\n    el[enterCbKey]();\n  }\n}\nfunction recordPosition(c) {\n  newPositionMap.set(c, c.el.getBoundingClientRect());\n}\nfunction applyTranslation(c) {\n  const oldPos = positionMap.get(c);\n  const newPos = newPositionMap.get(c);\n  const dx = oldPos.left - newPos.left;\n  const dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    const s = c.el.style;\n    s.transform = s.webkitTransform = `translate(${dx}px,${dy}px)`;\n    s.transitionDuration = \"0s\";\n    return c;\n  }\n}\nfunction hasCSSTransform(el, root, moveClass) {\n  const clone = el.cloneNode();\n  const _vtc = el[vtcKey];\n  if (_vtc) {\n    _vtc.forEach((cls) => {\n      cls.split(/\\s+/).forEach((c) => c && clone.classList.remove(c));\n    });\n  }\n  moveClass.split(/\\s+/).forEach((c) => c && clone.classList.add(c));\n  clone.style.display = \"none\";\n  const container = root.nodeType === 1 ? root : root.parentNode;\n  container.appendChild(clone);\n  const { hasTransform } = getTransitionInfo(clone);\n  container.removeChild(clone);\n  return hasTransform;\n}\n\nconst getModelAssigner = (vnode) => {\n  const fn = vnode.props[\"onUpdate:modelValue\"] || false;\n  return isArray(fn) ? (value) => invokeArrayFns(fn, value) : fn;\n};\nfunction onCompositionStart(e) {\n  e.target.composing = true;\n}\nfunction onCompositionEnd(e) {\n  const target = e.target;\n  if (target.composing) {\n    target.composing = false;\n    target.dispatchEvent(new Event(\"input\"));\n  }\n}\nconst assignKey = Symbol(\"_assign\");\nconst vModelText = {\n  created(el, { modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    const castToNumber = number || vnode.props && vnode.props.type === \"number\";\n    addEventListener(el, lazy ? \"change\" : \"input\", (e) => {\n      if (e.target.composing) return;\n      let domValue = el.value;\n      if (trim) {\n        domValue = domValue.trim();\n      }\n      if (castToNumber) {\n        domValue = looseToNumber(domValue);\n      }\n      el[assignKey](domValue);\n    });\n    if (trim) {\n      addEventListener(el, \"change\", () => {\n        el.value = el.value.trim();\n      });\n    }\n    if (!lazy) {\n      addEventListener(el, \"compositionstart\", onCompositionStart);\n      addEventListener(el, \"compositionend\", onCompositionEnd);\n      addEventListener(el, \"change\", onCompositionEnd);\n    }\n  },\n  // set value on mounted so it's after min/max for type=\"range\"\n  mounted(el, { value }) {\n    el.value = value == null ? \"\" : value;\n  },\n  beforeUpdate(el, { value, oldValue, modifiers: { lazy, trim, number } }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (el.composing) return;\n    const elValue = (number || el.type === \"number\") && !/^0\\d/.test(el.value) ? looseToNumber(el.value) : el.value;\n    const newValue = value == null ? \"\" : value;\n    if (elValue === newValue) {\n      return;\n    }\n    if (document.activeElement === el && el.type !== \"range\") {\n      if (lazy && value === oldValue) {\n        return;\n      }\n      if (trim && el.value.trim() === newValue) {\n        return;\n      }\n    }\n    el.value = newValue;\n  }\n};\nconst vModelCheckbox = {\n  // #4096 array checkboxes need to be deep traversed\n  deep: true,\n  created(el, _, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      const modelValue = el._modelValue;\n      const elementValue = getValue(el);\n      const checked = el.checked;\n      const assign = el[assignKey];\n      if (isArray(modelValue)) {\n        const index = looseIndexOf(modelValue, elementValue);\n        const found = index !== -1;\n        if (checked && !found) {\n          assign(modelValue.concat(elementValue));\n        } else if (!checked && found) {\n          const filtered = [...modelValue];\n          filtered.splice(index, 1);\n          assign(filtered);\n        }\n      } else if (isSet(modelValue)) {\n        const cloned = new Set(modelValue);\n        if (checked) {\n          cloned.add(elementValue);\n        } else {\n          cloned.delete(elementValue);\n        }\n        assign(cloned);\n      } else {\n        assign(getCheckboxValue(el, checked));\n      }\n    });\n  },\n  // set initial checked on mount to wait for true-value/false-value\n  mounted: setChecked,\n  beforeUpdate(el, binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    setChecked(el, binding, vnode);\n  }\n};\nfunction setChecked(el, { value, oldValue }, vnode) {\n  el._modelValue = value;\n  let checked;\n  if (isArray(value)) {\n    checked = looseIndexOf(value, vnode.props.value) > -1;\n  } else if (isSet(value)) {\n    checked = value.has(vnode.props.value);\n  } else {\n    if (value === oldValue) return;\n    checked = looseEqual(value, getCheckboxValue(el, true));\n  }\n  if (el.checked !== checked) {\n    el.checked = checked;\n  }\n}\nconst vModelRadio = {\n  created(el, { value }, vnode) {\n    el.checked = looseEqual(value, vnode.props.value);\n    el[assignKey] = getModelAssigner(vnode);\n    addEventListener(el, \"change\", () => {\n      el[assignKey](getValue(el));\n    });\n  },\n  beforeUpdate(el, { value, oldValue }, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n    if (value !== oldValue) {\n      el.checked = looseEqual(value, vnode.props.value);\n    }\n  }\n};\nconst vModelSelect = {\n  // <select multiple> value need to be deep traversed\n  deep: true,\n  created(el, { value, modifiers: { number } }, vnode) {\n    const isSetModel = isSet(value);\n    addEventListener(el, \"change\", () => {\n      const selectedVal = Array.prototype.filter.call(el.options, (o) => o.selected).map(\n        (o) => number ? looseToNumber(getValue(o)) : getValue(o)\n      );\n      el[assignKey](\n        el.multiple ? isSetModel ? new Set(selectedVal) : selectedVal : selectedVal[0]\n      );\n      el._assigning = true;\n      nextTick(() => {\n        el._assigning = false;\n      });\n    });\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  // set value in mounted & updated because <select> relies on its children\n  // <option>s.\n  mounted(el, { value }) {\n    setSelected(el, value);\n  },\n  beforeUpdate(el, _binding, vnode) {\n    el[assignKey] = getModelAssigner(vnode);\n  },\n  updated(el, { value }) {\n    if (!el._assigning) {\n      setSelected(el, value);\n    }\n  }\n};\nfunction setSelected(el, value) {\n  const isMultiple = el.multiple;\n  const isArrayValue = isArray(value);\n  if (isMultiple && !isArrayValue && !isSet(value)) {\n    !!(process.env.NODE_ENV !== \"production\") && warn(\n      `<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\n    );\n    return;\n  }\n  for (let i = 0, l = el.options.length; i < l; i++) {\n    const option = el.options[i];\n    const optionValue = getValue(option);\n    if (isMultiple) {\n      if (isArrayValue) {\n        const optionType = typeof optionValue;\n        if (optionType === \"string\" || optionType === \"number\") {\n          option.selected = value.some((v) => String(v) === String(optionValue));\n        } else {\n          option.selected = looseIndexOf(value, optionValue) > -1;\n        }\n      } else {\n        option.selected = value.has(optionValue);\n      }\n    } else if (looseEqual(getValue(option), value)) {\n      if (el.selectedIndex !== i) el.selectedIndex = i;\n      return;\n    }\n  }\n  if (!isMultiple && el.selectedIndex !== -1) {\n    el.selectedIndex = -1;\n  }\n}\nfunction getValue(el) {\n  return \"_value\" in el ? el._value : el.value;\n}\nfunction getCheckboxValue(el, checked) {\n  const key = checked ? \"_trueValue\" : \"_falseValue\";\n  return key in el ? el[key] : checked;\n}\nconst vModelDynamic = {\n  created(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"created\");\n  },\n  mounted(el, binding, vnode) {\n    callModelHook(el, binding, vnode, null, \"mounted\");\n  },\n  beforeUpdate(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"beforeUpdate\");\n  },\n  updated(el, binding, vnode, prevVNode) {\n    callModelHook(el, binding, vnode, prevVNode, \"updated\");\n  }\n};\nfunction resolveDynamicModel(tagName, type) {\n  switch (tagName) {\n    case \"SELECT\":\n      return vModelSelect;\n    case \"TEXTAREA\":\n      return vModelText;\n    default:\n      switch (type) {\n        case \"checkbox\":\n          return vModelCheckbox;\n        case \"radio\":\n          return vModelRadio;\n        default:\n          return vModelText;\n      }\n  }\n}\nfunction callModelHook(el, binding, vnode, prevVNode, hook) {\n  const modelToUse = resolveDynamicModel(\n    el.tagName,\n    vnode.props && vnode.props.type\n  );\n  const fn = modelToUse[hook];\n  fn && fn(el, binding, vnode, prevVNode);\n}\nfunction initVModelForSSR() {\n  vModelText.getSSRProps = ({ value }) => ({ value });\n  vModelRadio.getSSRProps = ({ value }, vnode) => {\n    if (vnode.props && looseEqual(vnode.props.value, value)) {\n      return { checked: true };\n    }\n  };\n  vModelCheckbox.getSSRProps = ({ value }, vnode) => {\n    if (isArray(value)) {\n      if (vnode.props && looseIndexOf(value, vnode.props.value) > -1) {\n        return { checked: true };\n      }\n    } else if (isSet(value)) {\n      if (vnode.props && value.has(vnode.props.value)) {\n        return { checked: true };\n      }\n    } else if (value) {\n      return { checked: true };\n    }\n  };\n  vModelDynamic.getSSRProps = (binding, vnode) => {\n    if (typeof vnode.type !== \"string\") {\n      return;\n    }\n    const modelToUse = resolveDynamicModel(\n      // resolveDynamicModel expects an uppercase tag name, but vnode.type is lowercase\n      vnode.type.toUpperCase(),\n      vnode.props && vnode.props.type\n    );\n    if (modelToUse.getSSRProps) {\n      return modelToUse.getSSRProps(binding, vnode);\n    }\n  };\n}\n\nconst systemModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\"];\nconst modifierGuards = {\n  stop: (e) => e.stopPropagation(),\n  prevent: (e) => e.preventDefault(),\n  self: (e) => e.target !== e.currentTarget,\n  ctrl: (e) => !e.ctrlKey,\n  shift: (e) => !e.shiftKey,\n  alt: (e) => !e.altKey,\n  meta: (e) => !e.metaKey,\n  left: (e) => \"button\" in e && e.button !== 0,\n  middle: (e) => \"button\" in e && e.button !== 1,\n  right: (e) => \"button\" in e && e.button !== 2,\n  exact: (e, modifiers) => systemModifiers.some((m) => e[`${m}Key`] && !modifiers.includes(m))\n};\nconst withModifiers = (fn, modifiers) => {\n  const cache = fn._withMods || (fn._withMods = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = (event, ...args) => {\n    for (let i = 0; i < modifiers.length; i++) {\n      const guard = modifierGuards[modifiers[i]];\n      if (guard && guard(event, modifiers)) return;\n    }\n    return fn(event, ...args);\n  });\n};\nconst keyNames = {\n  esc: \"escape\",\n  space: \" \",\n  up: \"arrow-up\",\n  left: \"arrow-left\",\n  right: \"arrow-right\",\n  down: \"arrow-down\",\n  delete: \"backspace\"\n};\nconst withKeys = (fn, modifiers) => {\n  const cache = fn._withKeys || (fn._withKeys = {});\n  const cacheKey = modifiers.join(\".\");\n  return cache[cacheKey] || (cache[cacheKey] = (event) => {\n    if (!(\"key\" in event)) {\n      return;\n    }\n    const eventKey = hyphenate(event.key);\n    if (modifiers.some(\n      (k) => k === eventKey || keyNames[k] === eventKey\n    )) {\n      return fn(event);\n    }\n  });\n};\n\nconst rendererOptions = /* @__PURE__ */ extend({ patchProp }, nodeOps);\nlet renderer;\nlet enabledHydration = false;\nfunction ensureRenderer() {\n  return renderer || (renderer = createRenderer(rendererOptions));\n}\nfunction ensureHydrationRenderer() {\n  renderer = enabledHydration ? renderer : createHydrationRenderer(rendererOptions);\n  enabledHydration = true;\n  return renderer;\n}\nconst render = (...args) => {\n  ensureRenderer().render(...args);\n};\nconst hydrate = (...args) => {\n  ensureHydrationRenderer().hydrate(...args);\n};\nconst createApp = (...args) => {\n  const app = ensureRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (!container) return;\n    const component = app._component;\n    if (!isFunction(component) && !component.render && !component.template) {\n      component.template = container.innerHTML;\n    }\n    if (container.nodeType === 1) {\n      container.textContent = \"\";\n    }\n    const proxy = mount(container, false, resolveRootNamespace(container));\n    if (container instanceof Element) {\n      container.removeAttribute(\"v-cloak\");\n      container.setAttribute(\"data-v-app\", \"\");\n    }\n    return proxy;\n  };\n  return app;\n};\nconst createSSRApp = (...args) => {\n  const app = ensureHydrationRenderer().createApp(...args);\n  if (!!(process.env.NODE_ENV !== \"production\")) {\n    injectNativeTagCheck(app);\n    injectCompilerOptionsCheck(app);\n  }\n  const { mount } = app;\n  app.mount = (containerOrSelector) => {\n    const container = normalizeContainer(containerOrSelector);\n    if (container) {\n      return mount(container, true, resolveRootNamespace(container));\n    }\n  };\n  return app;\n};\nfunction resolveRootNamespace(container) {\n  if (container instanceof SVGElement) {\n    return \"svg\";\n  }\n  if (typeof MathMLElement === \"function\" && container instanceof MathMLElement) {\n    return \"mathml\";\n  }\n}\nfunction injectNativeTagCheck(app) {\n  Object.defineProperty(app.config, \"isNativeTag\", {\n    value: (tag) => isHTMLTag(tag) || isSVGTag(tag) || isMathMLTag(tag),\n    writable: false\n  });\n}\nfunction injectCompilerOptionsCheck(app) {\n  if (isRuntimeOnly()) {\n    const isCustomElement = app.config.isCustomElement;\n    Object.defineProperty(app.config, \"isCustomElement\", {\n      get() {\n        return isCustomElement;\n      },\n      set() {\n        warn(\n          `The \\`isCustomElement\\` config option is deprecated. Use \\`compilerOptions.isCustomElement\\` instead.`\n        );\n      }\n    });\n    const compilerOptions = app.config.compilerOptions;\n    const msg = `The \\`compilerOptions\\` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka \"full build\"). Since you are using the runtime-only build, \\`compilerOptions\\` must be passed to \\`@vue/compiler-dom\\` in the build setup instead.\n- For vue-loader: pass it via vue-loader's \\`compilerOptions\\` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc`;\n    Object.defineProperty(app.config, \"compilerOptions\", {\n      get() {\n        warn(msg);\n        return compilerOptions;\n      },\n      set() {\n        warn(msg);\n      }\n    });\n  }\n}\nfunction normalizeContainer(container) {\n  if (isString(container)) {\n    const res = document.querySelector(container);\n    if (!!(process.env.NODE_ENV !== \"production\") && !res) {\n      warn(\n        `Failed to mount app: mount target selector \"${container}\" returned null.`\n      );\n    }\n    return res;\n  }\n  if (!!(process.env.NODE_ENV !== \"production\") && window.ShadowRoot && container instanceof window.ShadowRoot && container.mode === \"closed\") {\n    warn(\n      `mounting on a ShadowRoot with \\`{mode: \"closed\"}\\` may lead to unpredictable bugs`\n    );\n  }\n  return container;\n}\nlet ssrDirectiveInitialized = false;\nconst initDirectivesForSSR = () => {\n  if (!ssrDirectiveInitialized) {\n    ssrDirectiveInitialized = true;\n    initVModelForSSR();\n    initVShowForSSR();\n  }\n} ;\n\nexport { Transition, TransitionGroup, VueElement, createApp, createSSRApp, defineCustomElement, defineSSRCustomElement, hydrate, initDirectivesForSSR, render, useCssModule, useCssVars, useHost, useShadowRoot, vModelCheckbox, vModelDynamic, vModelRadio, vModelSelect, vModelText, vShow, withKeys, withModifiers };\n","/**\n* @vue/shared v3.5.13\n* (c) 2018-present Yuxi (Evan) You and Vue contributors\n* @license MIT\n**/\n/*! #__NO_SIDE_EFFECTS__ */\n// @__NO_SIDE_EFFECTS__\nfunction makeMap(str) {\n  const map = /* @__PURE__ */ Object.create(null);\n  for (const key of str.split(\",\")) map[key] = 1;\n  return (val) => val in map;\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst isOn = (key) => key.charCodeAt(0) === 111 && key.charCodeAt(1) === 110 && // uppercase letter\n(key.charCodeAt(2) > 122 || key.charCodeAt(2) < 97);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return (isObject(val) || isFunction(val)) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction(\n  (str) => {\n    return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n  }\n);\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction((str) => {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n});\nconst toHandlerKey = cacheStringFunction(\n  (str) => {\n    const s = str ? `on${capitalize(str)}` : ``;\n    return s;\n  }\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, ...arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](...arg);\n  }\n};\nconst def = (obj, key, value, writable = false) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    writable,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\nfunction genCacheKey(source, options) {\n  return source + JSON.stringify(\n    options,\n    (_, val) => typeof val === \"function\" ? val.toString() : val\n  );\n}\n\nconst PatchFlags = {\n  \"TEXT\": 1,\n  \"1\": \"TEXT\",\n  \"CLASS\": 2,\n  \"2\": \"CLASS\",\n  \"STYLE\": 4,\n  \"4\": \"STYLE\",\n  \"PROPS\": 8,\n  \"8\": \"PROPS\",\n  \"FULL_PROPS\": 16,\n  \"16\": \"FULL_PROPS\",\n  \"NEED_HYDRATION\": 32,\n  \"32\": \"NEED_HYDRATION\",\n  \"STABLE_FRAGMENT\": 64,\n  \"64\": \"STABLE_FRAGMENT\",\n  \"KEYED_FRAGMENT\": 128,\n  \"128\": \"KEYED_FRAGMENT\",\n  \"UNKEYED_FRAGMENT\": 256,\n  \"256\": \"UNKEYED_FRAGMENT\",\n  \"NEED_PATCH\": 512,\n  \"512\": \"NEED_PATCH\",\n  \"DYNAMIC_SLOTS\": 1024,\n  \"1024\": \"DYNAMIC_SLOTS\",\n  \"DEV_ROOT_FRAGMENT\": 2048,\n  \"2048\": \"DEV_ROOT_FRAGMENT\",\n  \"CACHED\": -1,\n  \"-1\": \"CACHED\",\n  \"BAIL\": -2,\n  \"-2\": \"BAIL\"\n};\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `NEED_HYDRATION`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst ShapeFlags = {\n  \"ELEMENT\": 1,\n  \"1\": \"ELEMENT\",\n  \"FUNCTIONAL_COMPONENT\": 2,\n  \"2\": \"FUNCTIONAL_COMPONENT\",\n  \"STATEFUL_COMPONENT\": 4,\n  \"4\": \"STATEFUL_COMPONENT\",\n  \"TEXT_CHILDREN\": 8,\n  \"8\": \"TEXT_CHILDREN\",\n  \"ARRAY_CHILDREN\": 16,\n  \"16\": \"ARRAY_CHILDREN\",\n  \"SLOTS_CHILDREN\": 32,\n  \"32\": \"SLOTS_CHILDREN\",\n  \"TELEPORT\": 64,\n  \"64\": \"TELEPORT\",\n  \"SUSPENSE\": 128,\n  \"128\": \"SUSPENSE\",\n  \"COMPONENT_SHOULD_KEEP_ALIVE\": 256,\n  \"256\": \"COMPONENT_SHOULD_KEEP_ALIVE\",\n  \"COMPONENT_KEPT_ALIVE\": 512,\n  \"512\": \"COMPONENT_KEPT_ALIVE\",\n  \"COMPONENT\": 6,\n  \"6\": \"COMPONENT\"\n};\n\nconst SlotFlags = {\n  \"STABLE\": 1,\n  \"1\": \"STABLE\",\n  \"DYNAMIC\": 2,\n  \"2\": \"DYNAMIC\",\n  \"FORWARDED\": 3,\n  \"3\": \"FORWARDED\"\n};\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_ALLOWED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol\";\nconst isGloballyAllowed = /* @__PURE__ */ makeMap(GLOBALS_ALLOWED);\nconst isGloballyWhitelisted = isGloballyAllowed;\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  start = Math.max(0, Math.min(start, source.length));\n  end = Math.max(0, Math.min(end, source.length));\n  if (start > end) return \"\";\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length) continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value) || isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  if (!styles) return \"\";\n  if (isString(styles)) return styles;\n  let ret = \"\";\n  for (const key in styles) {\n    const value = styles[key];\n    if (isString(value) || typeof value === \"number\") {\n      const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props) return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst MATH_TAGS = \"annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isMathMLTag = /* @__PURE__ */ makeMap(MATH_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\nconst isKnownMathMLAttr = /* @__PURE__ */ makeMap(\n  `accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns`\n);\nfunction isRenderableAttrValue(value) {\n  if (value == null) {\n    return false;\n  }\n  const type = typeof value;\n  return type === \"string\" || type === \"number\" || type === \"boolean\";\n}\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\nconst cssVarNameEscapeSymbolsRE = /[ !\"#$%&'()*+,./:;<=>?@[\\\\\\]^`{|}~]/g;\nfunction getEscapedCssVarName(key, doubleEscape) {\n  return key.replace(\n    cssVarNameEscapeSymbolsRE,\n    (s) => doubleEscape ? s === '\"' ? '\\\\\\\\\\\\\"' : `\\\\\\\\${s}` : `\\\\${s}`\n  );\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length) return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b) return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst isRef = (val) => {\n  return !!(val && val[\"__v_isRef\"] === true);\n};\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? isRef(val) ? toDisplayString(val.value) : JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (isRef(val)) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce(\n        (entries, [key, val2], i) => {\n          entries[stringifySymbol(key, i) + \" =>\"] = val2;\n          return entries;\n        },\n        {}\n      )\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()].map((v) => stringifySymbol(v))\n    };\n  } else if (isSymbol(val)) {\n    return stringifySymbol(val);\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\nconst stringifySymbol = (v, i = \"\") => {\n  var _a;\n  return (\n    // Symbol.description in es2019+ so we need to cast here to pass\n    // the lib: es2016 check\n    isSymbol(v) ? `Symbol(${(_a = v.description) != null ? _a : i})` : v\n  );\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, PatchFlags, ShapeFlags, SlotFlags, camelize, capitalize, cssVarNameEscapeSymbolsRE, def, escapeHtml, escapeHtmlComment, extend, genCacheKey, genPropsAccessExp, generateCodeFrame, getEscapedCssVarName, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyAllowed, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownMathMLAttr, isKnownSvgAttr, isMap, isMathMLTag, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isRenderableAttrValue, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar has = require('../internals/set-helpers').has;\n\n// Perform ? RequireInternalSlot(M, [[SetData]])\nmodule.exports = function (it) {\n  has(it);\n  return it;\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] === undefined) {\n  defineProperty(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (it, Prototype) {\n  if (isPrototypeOf(Prototype, it)) return it;\n  throw new $TypeError('Incorrect invocation');\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\nmodule.exports = function (Constructor, list, $length) {\n  var index = 0;\n  var length = arguments.length > 2 ? $length : lengthOfArrayLike(list);\n  var result = new Constructor(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// https://tc39.es/proposal-change-array-by-copy/#sec-array.prototype.toReversed\n// https://tc39.es/proposal-change-array-by-copy/#sec-%typedarray%.prototype.toReversed\nmodule.exports = function (O, C) {\n  var len = lengthOfArrayLike(O);\n  var A = new C(len);\n  var k = 0;\n  for (; k < len; k++) A[k] = O[len - k - 1];\n  return A;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator, 'throw', error);\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\n// `CreateIterResultObject` abstract operation\n// https://tc39.es/ecma262/#sec-createiterresultobject\nmodule.exports = function (value, done) {\n  return { value: value, done: done };\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  if (DESCRIPTORS) definePropertyModule.f(object, key, createPropertyDescriptor(0, value));\n  else object[key] = value;\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) defineBuiltIn(target, key, src[key], options);\n  return target;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(globalThis, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    globalThis[key] = value;\n  } return value;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\n\nvar document = globalThis.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nvar navigator = globalThis.navigator;\nvar userAgent = navigator && navigator.userAgent;\n\nmodule.exports = userAgent ? String(userAgent) : '';\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\n\nvar process = globalThis.process;\nvar Deno = globalThis.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = globalThis;\n  } else if (STATIC) {\n    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = globalThis[TARGET] && globalThis[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this-clause');\nvar aCallable = require('../internals/a-callable');\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar bind = uncurryThis(uncurryThis.bind);\n\n// optional / simple context binding\nmodule.exports = function (fn, that) {\n  aCallable(fn);\n  return that === undefined ? fn : NATIVE_BIND ? bind(fn, that) : function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\n\nmodule.exports = function (object, key, method) {\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    return uncurryThis(aCallable(Object.getOwnPropertyDescriptor(object, key)[method]));\n  } catch (error) { /* empty */ }\n};\n","'use strict';\nvar classofRaw = require('../internals/classof-raw');\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = function (fn) {\n  // Nashorn bug:\n  //   https://github.com/zloirock/core-js/issues/1128\n  //   https://github.com/zloirock/core-js/issues/1130\n  if (classofRaw(fn) === 'Function') return uncurryThis(fn);\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nmodule.exports = function (CONSTRUCTOR, METHOD) {\n  var Constructor = globalThis[CONSTRUCTOR];\n  var Prototype = Constructor && Constructor.prototype;\n  return Prototype && Prototype[METHOD];\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];\n};\n","'use strict';\n// `GetIteratorDirect(obj)` abstract operation\n// https://tc39.es/proposal-iterator-helpers/#sec-getiteratordirect\nmodule.exports = function (obj) {\n  return {\n    iterator: obj,\n    next: obj.next,\n    done: false\n  };\n};\n","'use strict';\nvar classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw new $TypeError(tryToString(argument) + ' is not iterable');\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar call = require('../internals/function-call');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\nvar INVALID_SIZE = 'Invalid size';\nvar $RangeError = RangeError;\nvar $TypeError = TypeError;\nvar max = Math.max;\n\nvar SetRecord = function (set, intSize) {\n  this.set = set;\n  this.size = max(intSize, 0);\n  this.has = aCallable(set.has);\n  this.keys = aCallable(set.keys);\n};\n\nSetRecord.prototype = {\n  getIterator: function () {\n    return getIteratorDirect(anObject(call(this.keys, this.set)));\n  },\n  includes: function (it) {\n    return call(this.has, this.set, it);\n  }\n};\n\n// `GetSetRecord` abstract operation\n// https://tc39.es/proposal-set-methods/#sec-getsetrecord\nmodule.exports = function (obj) {\n  anObject(obj);\n  var numSize = +obj.size;\n  // NOTE: If size is undefined, then numSize will be NaN\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (numSize !== numSize) throw new $TypeError(INVALID_SIZE);\n  var intSize = toIntegerOrInfinity(numSize);\n  if (intSize < 0) throw new $RangeError(INVALID_SIZE);\n  return new SetRecord(obj, intSize);\n};\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = globalThis.TypeError;\nvar WeakMap = globalThis.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar call = require('../internals/function-call');\n\nmodule.exports = function (record, fn, ITERATOR_INSTEAD_OF_RECORD) {\n  var iterator = ITERATOR_INSTEAD_OF_RECORD ? record : record.iterator;\n  var next = record.next;\n  var step, result;\n  while (!(step = call(next, iterator)).done) {\n    result = fn(step.value);\n    if (result !== undefined) return result;\n  }\n};\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw new $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar create = require('../internals/object-create');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIns = require('../internals/define-built-ins');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar InternalStateModule = require('../internals/internal-state');\nvar getMethod = require('../internals/get-method');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar createIterResultObject = require('../internals/create-iter-result-object');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ITERATOR_HELPER = 'IteratorHelper';\nvar WRAP_FOR_VALID_ITERATOR = 'WrapForValidIterator';\nvar setInternalState = InternalStateModule.set;\n\nvar createIteratorProxyPrototype = function (IS_ITERATOR) {\n  var getInternalState = InternalStateModule.getterFor(IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER);\n\n  return defineBuiltIns(create(IteratorPrototype), {\n    next: function next() {\n      var state = getInternalState(this);\n      // for simplification:\n      //   for `%WrapForValidIteratorPrototype%.next` or with `state.returnHandlerResult` our `nextHandler` returns `IterResultObject`\n      //   for `%IteratorHelperPrototype%.next` - just a value\n      if (IS_ITERATOR) return state.nextHandler();\n      if (state.done) return createIterResultObject(undefined, true);\n      try {\n        var result = state.nextHandler();\n        return state.returnHandlerResult ? result : createIterResultObject(result, state.done);\n      } catch (error) {\n        state.done = true;\n        throw error;\n      }\n    },\n    'return': function () {\n      var state = getInternalState(this);\n      var iterator = state.iterator;\n      state.done = true;\n      if (IS_ITERATOR) {\n        var returnMethod = getMethod(iterator, 'return');\n        return returnMethod ? call(returnMethod, iterator) : createIterResultObject(undefined, true);\n      }\n      if (state.inner) try {\n        iteratorClose(state.inner.iterator, 'normal');\n      } catch (error) {\n        return iteratorClose(iterator, 'throw', error);\n      }\n      if (iterator) iteratorClose(iterator, 'normal');\n      return createIterResultObject(undefined, true);\n    }\n  });\n};\n\nvar WrapForValidIteratorPrototype = createIteratorProxyPrototype(true);\nvar IteratorHelperPrototype = createIteratorProxyPrototype(false);\n\ncreateNonEnumerableProperty(IteratorHelperPrototype, TO_STRING_TAG, 'Iterator Helper');\n\nmodule.exports = function (nextHandler, IS_ITERATOR, RETURN_HANDLER_RESULT) {\n  var IteratorProxy = function Iterator(record, state) {\n    if (state) {\n      state.iterator = record.iterator;\n      state.next = record.next;\n    } else state = record;\n    state.type = IS_ITERATOR ? WRAP_FOR_VALID_ITERATOR : ITERATOR_HELPER;\n    state.returnHandlerResult = !!RETURN_HANDLER_RESULT;\n    state.nextHandler = nextHandler;\n    state.counter = 0;\n    state.done = false;\n    setInternalState(this, state);\n  };\n\n  IteratorProxy.prototype = IS_ITERATOR ? WrapForValidIteratorPrototype : IteratorHelperPrototype;\n\n  return IteratorProxy;\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var result = anObject(call(this.next, iterator));\n  var done = this.done = !!result.done;\n  if (!done) return callWithSafeIterationClosing(iterator, this.mapper, [result.value, this.counter++], true);\n});\n\n// `Iterator.prototype.map` method\n// https://github.com/tc39/proposal-iterator-helpers\nmodule.exports = function map(mapper) {\n  anObject(this);\n  aCallable(mapper);\n  return new IteratorProxy(getIteratorDirect(this), {\n    mapper: mapper\n  });\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = !isObject(IteratorPrototype) || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\nelse if (IS_PURE) IteratorPrototype = create(IteratorPrototype);\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif (!isCallable(IteratorPrototype[ITERATOR])) {\n  defineBuiltIn(IteratorPrototype, ITERATOR, function () {\n    return this;\n  });\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar $Object = Object;\nvar ObjectPrototype = $Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? $Object.getPrototypeOf : function (O) {\n  var object = toObject(O);\n  if (hasOwn(object, IE_PROTO)) return object[IE_PROTO];\n  var constructor = object.constructor;\n  if (isCallable(constructor) && object instanceof constructor) {\n    return constructor.prototype;\n  } return object instanceof $Object ? ObjectPrototype : null;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar SetHelpers = require('../internals/set-helpers');\nvar iterate = require('../internals/set-iterate');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\n\nmodule.exports = function (set) {\n  var result = new Set();\n  iterate(set, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.difference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function difference(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = clone(O);\n  if (size(O) <= otherRec.size) iterateSet(O, function (e) {\n    if (otherRec.includes(e)) remove(result, e);\n  });\n  else iterateSimple(otherRec.getIterator(), function (e) {\n    if (has(O, e)) remove(result, e);\n  });\n  return result;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\n// eslint-disable-next-line es/no-set -- safe\nvar SetPrototype = Set.prototype;\n\nmodule.exports = {\n  // eslint-disable-next-line es/no-set -- safe\n  Set: Set,\n  add: uncurryThis(SetPrototype.add),\n  has: uncurryThis(SetPrototype.has),\n  remove: uncurryThis(SetPrototype['delete']),\n  proto: SetPrototype\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar Set = SetHelpers.Set;\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\n\n// `Set.prototype.intersection` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function intersection(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  var result = new Set();\n\n  if (size(O) > otherRec.size) {\n    iterateSimple(otherRec.getIterator(), function (e) {\n      if (has(O, e)) add(result, e);\n    });\n  } else {\n    iterateSet(O, function (e) {\n      if (otherRec.includes(e)) add(result, e);\n    });\n  }\n\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSet = require('../internals/set-iterate');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isDisjointFrom\nmodule.exports = function isDisjointFrom(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) <= otherRec.size) return iterateSet(O, function (e) {\n    if (otherRec.includes(e)) return false;\n  }, true) !== false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar size = require('../internals/set-size');\nvar iterate = require('../internals/set-iterate');\nvar getSetRecord = require('../internals/get-set-record');\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSubsetOf\nmodule.exports = function isSubsetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) > otherRec.size) return false;\n  return iterate(O, function (e) {\n    if (!otherRec.includes(e)) return false;\n  }, true) !== false;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar has = require('../internals/set-helpers').has;\nvar size = require('../internals/set-size');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\nvar iteratorClose = require('../internals/iterator-close');\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.github.io/proposal-set-methods/#Set.prototype.isSupersetOf\nmodule.exports = function isSupersetOf(other) {\n  var O = aSet(this);\n  var otherRec = getSetRecord(other);\n  if (size(O) < otherRec.size) return false;\n  var iterator = otherRec.getIterator();\n  return iterateSimple(iterator, function (e) {\n    if (!has(O, e)) return iteratorClose(iterator, 'normal', false);\n  }) !== false;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar iterateSimple = require('../internals/iterate-simple');\nvar SetHelpers = require('../internals/set-helpers');\n\nvar Set = SetHelpers.Set;\nvar SetPrototype = SetHelpers.proto;\nvar forEach = uncurryThis(SetPrototype.forEach);\nvar keys = uncurryThis(SetPrototype.keys);\nvar next = keys(new Set()).next;\n\nmodule.exports = function (set, fn, interruptible) {\n  return interruptible ? iterateSimple({ iterator: keys(set), next: next }, fn) : forEach(set, fn);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nvar createSetLike = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return false;\n    },\n    keys: function () {\n      return {\n        next: function () {\n          return { done: true };\n        }\n      };\n    }\n  };\n};\n\nvar createSetLikeWithInfinitySize = function (size) {\n  return {\n    size: size,\n    has: function () {\n      return true;\n    },\n    keys: function () {\n      throw new Error('e');\n    }\n  };\n};\n\nmodule.exports = function (name, callback) {\n  var Set = getBuiltIn('Set');\n  try {\n    new Set()[name](createSetLike(0));\n    try {\n      // late spec change, early WebKit ~ Safari 17.0 beta implementation does not pass it\n      // https://github.com/tc39/proposal-set-methods/pull/88\n      new Set()[name](createSetLike(-1));\n      return false;\n    } catch (error2) {\n      if (!callback) return true;\n      // early V8 implementation bug\n      // https://issues.chromium.org/issues/351332634\n      try {\n        new Set()[name](createSetLikeWithInfinitySize(-Infinity));\n        return false;\n      } catch (error) {\n        var set = new Set();\n        set.add(1);\n        set.add(2);\n        return callback(set[name](createSetLikeWithInfinitySize(Infinity)));\n      }\n    }\n  } catch (error) {\n    return false;\n  }\n};\n","'use strict';\nvar uncurryThisAccessor = require('../internals/function-uncurry-this-accessor');\nvar SetHelpers = require('../internals/set-helpers');\n\nmodule.exports = uncurryThisAccessor(SetHelpers.proto, 'size', 'get') || function (set) {\n  return set.size;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar SetHelpers = require('../internals/set-helpers');\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\nvar add = SetHelpers.add;\nvar has = SetHelpers.has;\nvar remove = SetHelpers.remove;\n\n// `Set.prototype.symmetricDifference` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function symmetricDifference(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (e) {\n    if (has(O, e)) remove(result, e);\n    else add(result, e);\n  });\n  return result;\n};\n","'use strict';\nvar aSet = require('../internals/a-set');\nvar add = require('../internals/set-helpers').add;\nvar clone = require('../internals/set-clone');\nvar getSetRecord = require('../internals/get-set-record');\nvar iterateSimple = require('../internals/iterate-simple');\n\n// `Set.prototype.union` method\n// https://github.com/tc39/proposal-set-methods\nmodule.exports = function union(other) {\n  var O = aSet(this);\n  var keysIter = getSetRecord(other).getIterator();\n  var result = clone(O);\n  iterateSimple(keysIter, function (it) {\n    add(result, it);\n  });\n  return result;\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global-this');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.40.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2025 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/environment-v8-version');\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\nvar $String = globalThis.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL &&\n  !Symbol.sham &&\n  typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = globalThis.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = globalThis.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar arrayToReversed = require('../internals/array-to-reversed');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar $Array = Array;\n\n// `Array.prototype.toReversed` method\n// https://tc39.es/ecma262/#sec-array.prototype.toreversed\n$({ target: 'Array', proto: true }, {\n  toReversed: function toReversed() {\n    return arrayToReversed(toIndexedObject(this), $Array);\n  }\n});\n\naddToUnscopables('toReversed');\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar aCallable = require('../internals/a-callable');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayFromConstructorAndList = require('../internals/array-from-constructor-and-list');\nvar getBuiltInPrototypeMethod = require('../internals/get-built-in-prototype-method');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar $Array = Array;\nvar sort = uncurryThis(getBuiltInPrototypeMethod('Array', 'sort'));\n\n// `Array.prototype.toSorted` method\n// https://tc39.es/ecma262/#sec-array.prototype.tosorted\n$({ target: 'Array', proto: true }, {\n  toSorted: function toSorted(compareFn) {\n    if (compareFn !== undefined) aCallable(compareFn);\n    var O = toIndexedObject(this);\n    var A = arrayFromConstructorAndList($Array, O);\n    return sort(A, compareFn);\n  }\n});\n\naddToUnscopables('toSorted');\n","'use strict';\nvar $ = require('../internals/export');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar $Array = Array;\nvar max = Math.max;\nvar min = Math.min;\n\n// `Array.prototype.toSpliced` method\n// https://tc39.es/ecma262/#sec-array.prototype.tospliced\n$({ target: 'Array', proto: true }, {\n  toSpliced: function toSpliced(start, deleteCount /* , ...items */) {\n    var O = toIndexedObject(this);\n    var len = lengthOfArrayLike(O);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var k = 0;\n    var insertCount, actualDeleteCount, newLen, A;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toIntegerOrInfinity(deleteCount), 0), len - actualStart);\n    }\n    newLen = doesNotExceedSafeInteger(len + insertCount - actualDeleteCount);\n    A = $Array(newLen);\n\n    for (; k < actualStart; k++) A[k] = O[k];\n    for (; k < actualStart + insertCount; k++) A[k] = arguments[k - actualStart + 2];\n    for (; k < newLen; k++) A[k] = O[k + actualDeleteCount - insertCount];\n\n    return A;\n  }\n});\n\naddToUnscopables('toSpliced');\n","'use strict';\nvar $ = require('../internals/export');\nvar globalThis = require('../internals/global-this');\nvar anInstance = require('../internals/an-instance');\nvar anObject = require('../internals/an-object');\nvar isCallable = require('../internals/is-callable');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar createProperty = require('../internals/create-property');\nvar fails = require('../internals/fails');\nvar hasOwn = require('../internals/has-own-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IS_PURE = require('../internals/is-pure');\n\nvar CONSTRUCTOR = 'constructor';\nvar ITERATOR = 'Iterator';\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nvar $TypeError = TypeError;\nvar NativeIterator = globalThis[ITERATOR];\n\n// FF56- have non-standard global helper `Iterator`\nvar FORCED = IS_PURE\n  || !isCallable(NativeIterator)\n  || NativeIterator.prototype !== IteratorPrototype\n  // FF44- non-standard `Iterator` passes previous tests\n  || !fails(function () { NativeIterator({}); });\n\nvar IteratorConstructor = function Iterator() {\n  anInstance(this, IteratorPrototype);\n  if (getPrototypeOf(this) === IteratorPrototype) throw new $TypeError('Abstract class Iterator not directly constructable');\n};\n\nvar defineIteratorPrototypeAccessor = function (key, value) {\n  if (DESCRIPTORS) {\n    defineBuiltInAccessor(IteratorPrototype, key, {\n      configurable: true,\n      get: function () {\n        return value;\n      },\n      set: function (replacement) {\n        anObject(this);\n        if (this === IteratorPrototype) throw new $TypeError(\"You can't redefine this property\");\n        if (hasOwn(this, key)) this[key] = replacement;\n        else createProperty(this, key, replacement);\n      }\n    });\n  } else IteratorPrototype[key] = value;\n};\n\nif (!hasOwn(IteratorPrototype, TO_STRING_TAG)) defineIteratorPrototypeAccessor(TO_STRING_TAG, ITERATOR);\n\nif (FORCED || !hasOwn(IteratorPrototype, CONSTRUCTOR) || IteratorPrototype[CONSTRUCTOR] === Object) {\n  defineIteratorPrototypeAccessor(CONSTRUCTOR, IteratorConstructor);\n}\n\nIteratorConstructor.prototype = IteratorPrototype;\n\n// `Iterator` constructor\n// https://tc39.es/ecma262/#sec-iterator\n$({ global: true, constructor: true, forced: FORCED }, {\n  Iterator: IteratorConstructor\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\n// `Iterator.prototype.every` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.every\n$({ target: 'Iterator', proto: true, real: true }, {\n  every: function every(predicate) {\n    anObject(this);\n    aCallable(predicate);\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return !iterate(record, function (value, stop) {\n      if (!predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar IS_PURE = require('../internals/is-pure');\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var predicate = this.predicate;\n  var next = this.next;\n  var result, done, value;\n  while (true) {\n    result = anObject(call(next, iterator));\n    done = this.done = !!result.done;\n    if (done) return;\n    value = result.value;\n    if (callWithSafeIterationClosing(iterator, predicate, [value, this.counter++], true)) return value;\n  }\n});\n\n// `Iterator.prototype.filter` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.filter\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  filter: function filter(predicate) {\n    anObject(this);\n    aCallable(predicate);\n    return new IteratorProxy(getIteratorDirect(this), {\n      predicate: predicate\n    });\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\n// `Iterator.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.foreach\n$({ target: 'Iterator', proto: true, real: true }, {\n  forEach: function forEach(fn) {\n    anObject(this);\n    aCallable(fn);\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    iterate(record, function (value) {\n      fn(value, counter++);\n    }, { IS_RECORD: true });\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar map = require('../internals/iterator-map');\nvar IS_PURE = require('../internals/is-pure');\n\n// `Iterator.prototype.map` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.map\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  map: map\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\nvar $TypeError = TypeError;\n\n// `Iterator.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.reduce\n$({ target: 'Iterator', proto: true, real: true }, {\n  reduce: function reduce(reducer /* , initialValue */) {\n    anObject(this);\n    aCallable(reducer);\n    var record = getIteratorDirect(this);\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    var counter = 0;\n    iterate(record, function (value) {\n      if (noInitial) {\n        noInitial = false;\n        accumulator = value;\n      } else {\n        accumulator = reducer(accumulator, value, counter);\n      }\n      counter++;\n    }, { IS_RECORD: true });\n    if (noInitial) throw new $TypeError('Reduce of empty iterator with no initial value');\n    return accumulator;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\n// `Iterator.prototype.some` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.some\n$({ target: 'Iterator', proto: true, real: true }, {\n  some: function some(predicate) {\n    anObject(this);\n    aCallable(predicate);\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return iterate(record, function (value, stop) {\n      if (predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\nvar regExpFlags = require('../internals/regexp-flags');\nvar fails = require('../internals/fails');\n\n// babel-minify and Closure Compiler transpiles RegExp('.', 'd') -> /./d and it causes SyntaxError\nvar RegExp = globalThis.RegExp;\nvar RegExpPrototype = RegExp.prototype;\n\nvar FORCED = DESCRIPTORS && fails(function () {\n  var INDICES_SUPPORT = true;\n  try {\n    RegExp('.', 'd');\n  } catch (error) {\n    INDICES_SUPPORT = false;\n  }\n\n  var O = {};\n  // modern V8 bug\n  var calls = '';\n  var expected = INDICES_SUPPORT ? 'dgimsy' : 'gimsy';\n\n  var addGetter = function (key, chr) {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty(O, key, { get: function () {\n      calls += chr;\n      return true;\n    } });\n  };\n\n  var pairs = {\n    dotAll: 's',\n    global: 'g',\n    ignoreCase: 'i',\n    multiline: 'm',\n    sticky: 'y'\n  };\n\n  if (INDICES_SUPPORT) pairs.hasIndices = 'd';\n\n  for (var key in pairs) addGetter(key, pairs[key]);\n\n  // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n  var result = Object.getOwnPropertyDescriptor(RegExpPrototype, 'flags').get.call(O);\n\n  return result !== expected || calls !== expected;\n});\n\n// `RegExp.prototype.flags` getter\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nif (FORCED) defineBuiltInAccessor(RegExpPrototype, 'flags', {\n  configurable: true,\n  get: regExpFlags\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar difference = require('../internals/set-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('difference', function (result) {\n  return result.size === 0;\n});\n\n// `Set.prototype.difference` method\n// https://tc39.es/ecma262/#sec-set.prototype.difference\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  difference: difference\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar intersection = require('../internals/set-intersection');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('intersection', function (result) {\n  return result.size === 2 && result.has(1) && result.has(2);\n}) || fails(function () {\n  // eslint-disable-next-line es/no-array-from, es/no-set, es/no-set-prototype-intersection -- testing\n  return String(Array.from(new Set([1, 2, 3]).intersection(new Set([3, 2])))) !== '3,2';\n});\n\n// `Set.prototype.intersection` method\n// https://tc39.es/ecma262/#sec-set.prototype.intersection\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  intersection: intersection\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isDisjointFrom = require('../internals/set-is-disjoint-from');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isDisjointFrom', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isDisjointFrom` method\n// https://tc39.es/ecma262/#sec-set.prototype.isdisjointfrom\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isDisjointFrom: isDisjointFrom\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isSubsetOf = require('../internals/set-is-subset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSubsetOf', function (result) {\n  return result;\n});\n\n// `Set.prototype.isSubsetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issubsetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSubsetOf: isSubsetOf\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isSupersetOf = require('../internals/set-is-superset-of');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\nvar INCORRECT = !setMethodAcceptSetLike('isSupersetOf', function (result) {\n  return !result;\n});\n\n// `Set.prototype.isSupersetOf` method\n// https://tc39.es/ecma262/#sec-set.prototype.issupersetof\n$({ target: 'Set', proto: true, real: true, forced: INCORRECT }, {\n  isSupersetOf: isSupersetOf\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar symmetricDifference = require('../internals/set-symmetric-difference');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.symmetricDifference` method\n// https://tc39.es/ecma262/#sec-set.prototype.symmetricdifference\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('symmetricDifference') }, {\n  symmetricDifference: symmetricDifference\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar union = require('../internals/set-union');\nvar setMethodAcceptSetLike = require('../internals/set-method-accept-set-like');\n\n// `Set.prototype.union` method\n// https://tc39.es/ecma262/#sec-set.prototype.union\n$({ target: 'Set', proto: true, real: true, forced: !setMethodAcceptSetLike('union') }, {\n  union: union\n});\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.constructor');\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.every');\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.filter');\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.for-each');\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.map');\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.reduce');\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.some');\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n"],"names":["version","isBrowser","window","globalThis","global","self","Function","noopFalse","isArray","Array","assign","Object","rawDefineProperty","defineProperty","rawDefineProperties","defineProperties","rawToString","prototype","toString","rawHasOwnProperty","hasOwnProperty","toTypeString","value","call","isUndefined","target","undefined","isNull","isString","isBoolean","isNumber","isFunction","isPlainObject","isObject","isPromise","isBoundFunction","_a","name","indexOf","isConstructor","targetStr","constructor","getOwnPropertyNames","length","test","isShadowRoot","ShadowRoot","isURL","URL","href","isElement","Element","tagName","isNode","Node","nodeType","isAnchorElement","isAudioElement","isVideoElement","isLinkElement","isStyleElement","isScriptElement","isDivElement","isImageElement","isBaseElement","isDocumentFragment","isDocumentShadowRoot","isMicroAppBody","toUpperCase","isMicroAppHead","isWebComponentElement","result","startsWith","isProxyDocument","isTargetExtension","path","suffix","createURL","pathname","split","pop","includes","searchElement","fromIndex","TypeError","O","len","parseInt","i","Math","max","logError","msg","appName","rest","appNameTip","console","error","logWarn","warn","defer","fn","args","Promise","resolve","then","bind","macro","delay","setTimeout","Location","base","addProtocol","url","location","protocol","formatAppURL","origin","search","rawWindow","fullPath","e","formatAppName","replace","getEffectivePath","pathArr","join","CompletionPath","baseURI","getLinkFileDir","linkPath","promiseStream","promiseList","successCb","errorCb","finallyCb","finishedNum","isFinished","forEach","p","res","data","index","catch","err","isSupportModuleScript","s","document","createElement","createNonceSrc","random","substr","unique","array","filter","item","this","create","requestIdleCallback","lastTime","Date","now","didTimeout","timeRemaining","promiseRequestIdle","callback","currentAppName","setCurrentAppName","getCurrentAppName","throttleDeferForSetAppName","getPreventSetState","iframeCurrentAppName","setIframeCurrentAppName","getIframeCurrentAppName","throttleDeferForIframeAppName","preventSetState","removeDomScope","force","pureCreateElement","options","element","rawDocument","__MICRO_APP_NAME__","__PURE_ELEMENT__","isInvalidQuerySelectorKey","key","isUniqueElement","getRootContainer","host","trim","str","isFireFox","navigator","userAgent","parseQuery","queryList","queryItem","eqPos","slice","currentValue","push","stringifyQuery","queryObject","valueList","useSetRecord","handlers","Set","add","handler","has","delete","list","useMapRecord","Map","set","get","getAttributes","attr","attributes","attrMap","injectFiberTask","fiberTasks","serialExecFiberTasks","tasks","reduce","pre","next","isInlineScript","address","execMicroAppGlobalHook","hookName","clearDOM","$dom","firstChild","removeChild","instanceOf","instance","proto","getPrototypeOf","formatEventList","formatEventType","type","isEmptyObject","keys","formatEventInfo","event","currentTarget","dispatchLifecyclesEvent","lifecycleName","detail","container","CustomEvent","microApp","lifeCycles","dispatchEvent","dispatchCustomEventToMicroApp","app","eventName","sandBox","microAppWindow","fetchSource","fetch","text","HTMLLoader","getInstance","run","htmlUrl","ssrUrl","isJsResource","htmlPromise","cache","htmlStr","onerror","Error","formatHTML","onLoadError","processHtml","plugins","match","code","mergedPlugins","modules","preCode","plugin","rootSelectorREG","bodySelectorREG","parseError","reason","filename","CSSParser","cssText","prefix","scopecssDisable","scopecssDisableSelectors","scopecssDisableNextLine","mediaRule","createMatcherForRuleWithChildRule","supportsRule","documentRule","hostRule","importRule","createMatcherForNoneBraceAtRule","charsetRule","namespaceRule","containerRule","exec","matchRules","decodeURIComponent","reset","matchLeadingSpaces","matchComments","charAt","matchAtRule","matchStyleRule","selectors","formatSelector","recordResult","styleDeclarations","printError","skip","m","commonMatch","attributeValues","matchRes","p1","p2","mock","_","separator","selector","matchOpenBrace","matchAllDeclarations","matchCloseBrace","nesting","cssValue","all","$1","keyframesRule","customMediaRule","pageRule","fontFaceRule","layerRule","keyframeRule","r","valList","commonHandlerForAtRuleWithSelfRule","reg","RegExp","matchComment","commentText","ignoreRules","rule","matchArray","matchStr","strFragment","encodeURIComponent","commonAction","styleElement","__MICRO_APP_HAS_SCOPED__","parser","textContent","scopedCSS","scopecss","createPrefix","observer","MutationObserver","disconnect","hasAttribute","observe","childList","regCharacter","eventHandler","srcElement","dispatchOnLoadEvent","onload","dispatchOnErrorEvent","createSourceCenter","linkList","scriptList","createSourceHandler","targetList","setInfo","info","getInfo","hasInfo","deleteInfo","link","script","deleteInlineInfo","addressList","ObservedAttrName","appStates","microGlobalEvent","keepAliveStates","MicroAppConfig","sourceCenter","getExistParseCode","linkInfo","appSpace","appSpaceData","parsedCode","setConvertStyleAttr","convertStyle","attrs","globalEnv","rawSetAttribute","extractLinkFromHtml","parent","isDynamic","rel","getAttribute","replaceComment","source","links","createComment","placeholder","replaceChild","fetchLinksFromHtml","wrapElement","microAppHead","fiberStyleResult","styleList","from","fetchLinkPromise","map","fiberLinkTasks","fetchLinkSuccess","onLoad","html","handleConvertStyle","parentNode","appendChild","existParsedCode","formatDynamicLink","originLink","handleDynamicLink","GLOBAL_CACHED_KEY","PREFETCH_LEVEL","ROUTER_MODE_STATE","DEFAULT_ROUTER_MODE","ROUTER_MODE_NATIVE","ROUTER_MODE_NATIVE_SCOPE","ROUTER_MODE_PURE","ROUTER_MODE_LIST","BASE_SCOPE_WINDOW_EVENT","SCOPE_WINDOW_EVENT_OF_WITH","SCOPE_WINDOW_EVENT_OF_IFRAME","concat","BASE_SCOPE_WINDOW_ON_EVENT","SCOPE_WINDOW_ON_EVENT_OF_WITH","SCOPE_WINDOW_ON_EVENT_OF_IFRAME","SCOPE_DOCUMENT_EVENT","SCOPE_DOCUMENT_ON_EVENT","GLOBAL_KEY_TO_WINDOW","RAW_GLOBAL_TARGET","HIJACK_LOCATION_KEYS","scriptTypes","isTypeModule","scriptInfo","module","useSandbox","iframe","isSpecialScript","isInlineMode","inline","getEffectWindow","code2Function","targetWindow","getExistParseResult","currentCode","parsedFunction","getParsedFunction","getUniqueNonceSrc","nonceStr","setConvertScriptAttr","convertScript","isWrapInSandBox","getSandboxType","extractScriptElement","src","checkExcludeUrl","checkIgnoreUrl","currentScript","supportModuleScript","noModule","async","pure","isExternal","scripts","getAssetsPlugins","globalPlugins","modulePlugins","_c","_b","some","excludeChecker","ignoreChecker","fetchScriptsFromHtml","fetchScriptPromise","fetchScriptPromiseInfo","isPrefetch","isPrerender","fiberScriptTasks","fiber","fetchScriptSuccess","prefetchLevel","bindScope","sandboxType","execScripts","initHook","deferScriptPromise","deferScriptInfo","moduleCount","runScript","errorCount","replaceElement","actionsBeforeRunScript","scriptElement","runCode2InlineScript","microBody","querySelector","runParsedFunction","runDynamicRemoteScript","originScript","dispatchScriptOnLoadEvent","runDynamicScript","descriptor","getOwnPropertyDescriptor","configurable","runDynamicInlineScript","onloadHandler","usePlugins","setActiveProxyWindow","__MICRO_APP_PROXY_WINDOW__","proxyWindow","newCode","processCode","configs","config","loader","flatChildren","fiberStyleTasks","children","child","dom","extractSourceDom","parseHtmlString","rawElementQuerySelector","microAppBody","size","EventCenter","eventList","queue","recordStep","process","temRecordStep","shift","eventInfo","tempData","resArr","isEqual","f","callbacks","dispatchDataEvent","nextStepList","nextStep","isLegalName","enqueue","oldData","newData","on","autoTrigger","off","clear","clearData","dispatch","getData","eventCenter","createEventName","fromBaseApp","EventCenterForGlobal","addGlobalDataListener","cb","__APP_NAME__","__AUTO_TRIGGER__","removeGlobalDataListener","setGlobalData","forceSetGlobalData","getGlobalData","clearGlobalData","clearGlobalDataListener","EventCenterForBaseApp","addDataListener","removeDataListener","setData","forceSetData","clearDataListener","EventCenterForMicroApp","super","appInstanceMap","forceDispatch","recordDataCenterSnapshot","microAppEventCenter","umdDataListeners","normal","globalEventInfo","subAppEventInfo","rebuildDataCenterSnapshot","resetDataCenterSnapshot","AppManager","getAll","values","unmountNestedApp","releaseUnmountOfNestedApp","disconnectedCallback","__MICRO_APP_UMD_MODE__","__MICRO_APP_ENVIRONMENT__","removeEventListener","initEnvOfNestedApp","addEventListener","isBoundedFunction","__MICRO_APP_IS_BOUND_FUNCTION__","isConstructorFunction","__MICRO_APP_IS_CONSTRUCTOR__","bindFunctionToRawTarget","rawTarget","cacheKey","bindRawObjectValue","enumerable","writable","BaseSandbox","rawWindowScopeKeyList","staticEscapeProperties","staticScopeProperties","scopeProperties","escapeProperties","injectedKeys","escapeKeys","injectReactHMRProperty","CustomWindow","fixBabelPolyfill6","_babelPolyfill","patchElementTree","childNodes","updateElementInfo","node","props","setAttribute","isIframeSandbox","ownerDocument","getIframeParentNodeDesc","rawParentNodeDesc","getRootNode","parentNodeDesc","_d","getRootElementParentNode","body","patchDocument","sandbox","proxyDocument","documentEffect","createProxyDocument","MicroDocument","createMicroDocument","Document","eventListenerMap","sstEventListenerMap","onClickHandler","sstOnClickHandler","rawCreateElement","rawCreateElementNS","rawAddEventListener","rawRemoveEventListener","createElementNS","namespaceURI","listener","listenerList","__MICRO_APP_MARK_OPTIONS__","record","cacheList","rebuild","onclick","release","genProxyDocumentProps","builtInProxyProps","customProxyDocumentProps","mergedProxyDocumentProps","Proxy","Symbol","toStringTag","Reflect","proxyCallback","rawRootDocument","hasInstance","setPrototypeOf","patchWindow","patchWindowProperty","createProxyWindow","patchWindowEffect","descriptorTargetMap","ownKeys","deleteProperty","intervalIdMap","timeoutIdMap","rawDispatchEvent","rawSetInterval","rawSetTimeout","rawClearInterval","rawClearTimeout","getEventTarget","setInterval","timeout","intervalId","timeoutId","clearInterval","clearTimeout","clearTimer","setMicroState","microState","targetLocation","rawState","history","state","additionalState","__MICRO_APP_STATE__","hash","mode","getRouterMode","removeMicroState","getMicroState","getMicroRouterInfoState","ENC_AD_RE","ENC_EQ_RE","DEC_AD_RE","DEC_EQ_RE","encodeMicroPath","commonDecode","decodeMicroPath","decPath","formatQueryAppName","getMicroPathFromURL","rawLocation","isRouterModeSearch","getQueryObjectFromURL","microPath","hashQuery","searchQuery","isRouterModeCustom","setMicroPathToURL","targetFullPath","isAttach2Hash","encodedMicroPath","baseHash","isRouterModeState","isRouterModePure","removeMicroPathFromURL","hashQueryStr","Number","Boolean","searchQueryStr","getNoHashMicroPathFromURL","baseUrl","formatLocation","isEffectiveApp","routerMode","isRouterModeNative","isRouterModeNativeScope","initRouterMode","inlineDisableMemoryRouter","addHistoryListener","popStateHandler","getActiveApps","excludeHiddenApp","excludePreRender","onlyForBrowser","updateMicroLocationWithEvent","getRouterEventDelay","isHashChange","oldHref","oldHash","updateMicroLocation","dispatchPopStateEventToMicroApp","dispatchHashChangeEventToMicroApp","newPopStateEvent","PopStateEvent","onpopstate","newHashChangeEvent","HashChangeEvent","newURL","oldURL","onhashchange","dispatchNativePopStateEvent","dispatchNativeHashChangeEvent","dispatchNativeEvent","createMicroHistory","microLocation","rawHistory","getMicroHistoryMethod","methodName","rests","navigateWithNativeEvent","updateIframeBase","originalHistory","pushState","replaceState","go","delta","nativeHistoryNavigate","title","method","rawPushState","rawReplaceState","oldFullPath","attachRouteToBrowserURL","reWriteHistoryMethod","currentHref","apply","patchHistory","releasePatchHistory","createRouterApi","navigateWithRawHistory","handleNavigate","to","currentFullPath","createNavigationMethod","reject","sandboxReady","createRawHistoryMethod","beforeGuards","afterGuards","runGuards","guards","guard","executeNavigationGuard","router","current","clearRouterWhenUnmount","commonHandlerForAttachToURL","attachToURL","attachAllToURL","includeHiddenApp","includePreRender","createDefaultPageApi","defaultPageRecord","setDefaultPage","removeDefaultPage","getDefaultPage","createBaseRouterApi","baseRouterProxy","setBaseAppRouter","baseRouter","getBaseAppRouter","encode","decode","back","forward","beforeEach","afterEach","locationKeys","guardLocationKeys","createMicroLocation","childStaticLocation","browserHost","childHost","isIframe","withLocation","getTarget","commonHandler","proxyLocation","setMicroPathResult","reload","handleForPathNameAndSearch","targetPath","createLocationMethod","locationMethodName","forcedReload","createGuardLocation","guardLocation","autoTriggerNavigationGuard","newLocation","targetHref","createMicroRouter","microHistory","initRouteStateWithURL","defaultPage","removePathFromBrowser","updateBrowserURLWithLocation","clearRouteStateFromURL","keepRouteState","createMicroFetch","rawFetch","input","init","createMicroXMLHttpRequest","rawXMLHttpRequest","XMLHttpRequest","open","reqUrl","useMicroEventSource","eventSourceMap","createMicroEventSource","rawEventSource","EventSource","eventSourceUrl","eventSourceInitDict","eventSourceList","close","clearMicroEventSource","WithSandBox","active","patchWith","getSpecialProperties","patchRouter","windowEffect","setMappingPropertiesWithRawDescriptor","initStaticGlobalKeys","start","umdMode","baseroute","disablePatchRequest","initRouteState","removeHistoryListener","__MICRO_APP_BASE_ROUTE__","__MICRO_APP_BASE_URL__","initGlobalKeysWhenStart","__MICRO_APP_URL__","activeSandbox","patchElementAndDocument","activeCount","stop","destroy","recordAndReleaseEffect","clearRouteState","clearHijackUmdHooks","releasePatchElementAndDocument","__MICRO_APP_PUBLIC_PATH__","__MICRO_APP_WINDOW__","__MICRO_APP_PRE_RENDER__","__MICRO_APP_SANDBOX__","__MICRO_APP_SANDBOX_TYPE__","preventRecord","resetEffectSnapshot","recordEffectSnapshot","releaseGlobalEffect","rebuildEffectSnapshot","keepAlive","commonActionForSpecialProperties","setPreRenderState","markUmdMode","topValue","parentValue","top","createDescriptorForMicroAppWindow","setHijackProperty","patchRequestApi","setScopeProperties","modifiedEval","modifiedImage","eval","Image","ImageProxy","microFetch","microXMLHttpRequest","microEventSource","setRouteInfoForKeepAliveApp","removeRouteInfoForKeepAliveApp","patchStaticElement","actionsBeforeExecScripts","handleUmdHooks","hijackUmdHooks","mount","unmount","microAppLibrary","setStaticAppState","childFullPath","scrollRestoration","UN_PROXY_INSTANCEOF_KEYS","escape2RawWindowKeys","escape2RawWindowRegExpKeys","uniqueDocumentElement","proxy2RawDocOrShadowKeys","proxy2RawDocOrShadowMethods","proxy2RawDocumentKeys","proxy2RawDocumentMethods","EXCLUDE_URL_PROTOCOLS","originalWorker","Worker","isSameOrigin","parsedUrl","hostname","port","urlFromScript","blob","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","blobBuilder","append","getBlob","webkitURL","createObjectURL","WorkerProxy","construct","Target","scriptURL","workerPath","patchWindow$1","patchWindowProperty$1","createProxyWindow$1","patchWindowEffect$1","rawValue","customProperties","patchDocument$1","patchDocumentPrototype","patchDocumentProperty","patchDocumentEffect","microRootDocument","microDocument","rawMicroCreateElement","rawMicroCreateElementNS","rawMicroCreateTextNode","createTextNode","rawMicroCreateDocumentFragment","createDocumentFragment","rawMicroCreateComment","rawMicroQuerySelector","rawMicroQuerySelectorAll","querySelectorAll","rawMicroGetElementById","getElementById","rawMicroGetElementsByClassName","getElementsByClassName","rawMicroGetElementsByTagName","getElementsByTagName","rawMicroGetElementsByName","getElementsByName","rawMicroElementFromPoint","elementFromPoint","rawMicroCaretRangeFromPoint","caretRangeFromPoint","getBindTarget","_this","x","y","range","getCommonDescriptor","getter","createDescriptors","descList","documentElement","scrollingElement","desc","bindTarget","createSetterHandler","__MICRO_APP_BOUND_FUNCTION__","patchElement","patchIframeNode","patchIframeAttribute","rawRootElement","rawRootNode","microRootNode","microRootElement","microDocumentFragment","DocumentFragment","rawMicroAppendChild","rawMicroInsertBefore","insertBefore","rawMicroReplaceChild","rawMicroRemoveChild","rawMicroAppend","rawMicroPrepend","prepend","rawMicroFragmentAppend","rawMicroFragmentPrepend","rawMicroInsertAdjacentElement","insertAdjacentElement","rawMicroCloneNode","cloneNode","rawInnerHTMLDesc","rawOwnerDocumentDesc","isPureNode","getRawTarget","microHead","head","oldChild","contains","nodes","hasPureNode","where","deep","clonedNode","elementImage","rawMicroSetAttribute","_url","excludeAssetFilter","protoAttrList","HTMLImageElement","HTMLScriptElement","HTMLLinkElement","SVGImageElement","IframeSandbox","baseElement","deleteIframeElement","createIframeElement","contentWindow","patchIframe","createIframeTemplate","browserPath","iframeAttrs","id","iframeSrc","style","createIframeBase","_e","oldMicroDocument","iframeLocationReady","innerHTML","CreateApp","CREATED","keepAliveState","loadSourceLevel","umdHookMount","umdHookUnmount","getInlineModeState","loadSourceCode","createSandbox","setAppState","LOADING","isUnmounted","LOAD_FAILED","appState","BEFORE_MOUNT","nextAction","cloneContainer","preRenderEvents","dispatchBeforeMount","BEFOREMOUNT","MOUNTING","_g","handleMounted","_f","getAppState","MOUNTED","umdHookMountResult","dispatchAction","actionsAfterMounted","getMicroAppGlobalHook","ONMOUNT","isHidden","unmountcb","UNMOUNT","handleUnmounted","umdHookUnmountResult","ONUNMOUNT","actionsAfterUnmounted","clearOptions","setKeepAliveState","actionsForCompletelyDestroy","hiddenKeepAliveApp","KEEP_ALIVE_HIDDEN","AFTERHIDDEN","showKeepAliveApp","oldContainer","BEFORESHOW","KEEP_ALIVE_SHOW","AFTERSHOW","ERROR","htmlString","DOMParser","parseFromString","getKeepAliveState","rawElementQuerySelectorAll","dynamicElementInMicroAppMap","WeakMap","getMappingNode","handleNewNode","linkReplaceComment","replaceStyle","invokePrototypeMethod","rawMethod","targetNode","passiveNode","hijackParent","getHijackParent","rawRemoveChild","__MICRO_APP_HAS_DPN__","rawInsertBefore","indexOfParent","invokeRawMethod","rawAppendChild","parentElement","isPendMethod","rawFragmentAppend","rawAppend","rawFragmentPrepend","rawPrepend","completePathDynamic","newChild","commonElementHandler","patchDocument$2","rawDocumentFragment","getElementQueryTarget","getElementQueryResult","isEmpty","refChild","rawReplaceChild","rawCreateTextNode","markElement","processedEle","realParent","rawInsertAdjacentElement","includeCrossOrigin","crossOrigin","firstElementChild","rawCloneNode","rawQuerySelector","rawQuerySelectorAll","rawCreateDocumentFragment","rawCreateComment","rawGetElementById","rawGetElementsByClassName","rawGetElementsByTagName","rawGetElementsByName","releasePatchDocument","hasRejectMicroAppStyle","rejectMicroAppStyle","initGlobalEnv","rawRootEventTarget","EventTarget","__MICRO_APP_BASE_APPLICATION__","defineElement","MicroAppElement","HTMLElement","isWaiting","cacheData","connectedCount","connectStateMap","appUrl","handleAttributeUpdate","formatAttrName","formatAttrUrl","legalAttribute","oldApp","actionsForAttributeChange","getKeepAliveModeResult","handleHiddenKeepAliveApp","observedAttributes","connectedCallback","cacheCount","effectiveApp","handleConnected","handleDisconnected","handleAfterReload","attributeChangedCallback","_oldVal","newVal","NAME","formatNewName","handleInitialNameAndUrl","getDisposeResult","shadowRoot","attachShadow","updateSsrUrl","oldAppUrl","targetUrl","handleShowKeepAliveApp","sameCoreOptions","handleMount","handleCreateApp","val","createAppInstance","useScopecss","getMemoryRouterMode","getBaseRouteCompatible","getDestroyCompatibleResult","compatibleProperties","compatibleDisableProperties","defaultPagePath","cloneValue","ownKey","isNaN","publicPath","baseRoute","customElements","define","preFetch","apps","delayTime","prefetchDelay","preFetchInSerial","preFetchAction","onLine","disableScopecss","disableSandbox","level","oldOnload","oldOnLoadError","onLoadParam","getGlobalAssets","assets","fetchGlobalResources","js","css","resources","sourceHandler","effectiveResource","fetchResourcePromise","activeApps","getAllApps","unmountApp","clearAliveState","unmountHandler","afterhiddenHandler","destroyAttrValue","destoryAttrValue","removeAttribute","keepAliveAttrValue","clearDataAttrValue","unmountAllApps","rootContainer","renderApp","microAppElement","lifeCycleConfig","lifeName","toLowerCase","releaseListener","handleError","MicroApp","hasInit","preFetchApps","globalAssets","formattedAppName","activeEffectScope","activeSub","EffectScope","detached","_active","effects","cleanups","_isPaused","scopes","pause","l","resume","currentEffectScope","fromParent","last","getCurrentScope","pausedQueueEffects","WeakSet","ReactiveEffect","deps","depsTail","flags","cleanup","scheduler","trigger","notify","batch","cleanupEffect","prepareDeps","prevEffect","prevShouldTrack","shouldTrack","cleanupDeps","nextDep","removeSub","onStop","runIfDirty","isDirty","dirty","batchedSub","batchedComputed","batchDepth","sub","isComputed","startBatch","endBatch","prevActiveLink","dep","activeLink","tail","prev","prevDep","removeDep","computed","refreshComputed","_dirty","globalVersion","isSSR","prevSub","_value","hasChanged","soft","nextSub","subs","sc","trackStack","pauseTracking","resetTracking","Link","Dep","track","debugInfo","addSub","currentTail","targetMap","ITERATE_KEY","MAP_KEY_ITERATE_KEY","ARRAY_ITERATE_KEY","depsMap","newValue","oldValue","oldTarget","targetIsArray","isArrayIndex","isIntegerKey","newLength","key2","isSymbol","isMap","reactiveReadArray","raw","toRaw","isShallow","toReactive","shallowReadArray","arr","arrayInstrumentations","__proto__","iterator","entries","every","thisArg","arguments","v","find","findIndex","findLast","findLastIndex","searchProxy","lastIndexOf","noTracking","reduceRight","splice","toReversed","toSorted","comparer","toSpliced","unshift","wrapValue","iter","_next","arrayProto","wrappedRetFn","needsWrap","methodFn","result2","wrappedFn","acc","isProxy","isNonTrackableKeys","makeMap","builtInSymbols","String","obj","BaseReactiveHandler","_isReadonly","_isShallow","receiver","isReadonly2","isShallow2","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","isRef","readonly","reactive","MutableReactiveHandler","isOldValueReadonly","isReadonly","hadKey","hasOwn","ReadonlyReactiveHandler","mutableHandlers","readonlyHandlers","shallowReactiveHandlers","toShallow","getProto","createIterableMethod","targetIsMap","isPair","isKeyOnly","innerIterator","wrap","toReadonly","done","createReadonlyMethod","createInstrumentations","shallow","instrumentations","rawKey","observed","extend","hadItems","iteratorMethods","createInstrumentationGetter","mutableCollectionHandlers","shallowCollectionHandlers","readonlyCollectionHandlers","targetTypeMap","rawType","getTargetType","isExtensible","toRawType","createReactiveObject","shallowReactive","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","proxy","isReactive","markRaw","def","unref","ref2","shallowUnwrapHandlers","proxyRefs","objectWithRefs","ComputedRefImpl","setter","__v_isRef","effect","getterOrOptions","debugOptions","cRef","INITIAL_WATCHER_VALUE","cleanupMap","activeWatcher","onWatcherCleanup","cleanupFn","failSilently","owner","watch","EMPTY_OBJ","immediate","once","augmentJob","reactiveGetter","source2","traverse","boundCleanup","forceTrigger","isMultiSource","currentEffect","NOOP","baseGetter","depth","Infinity","scope","watchHandle","remove","_cb","fill","job","immediateFirstRun","currentWatcher","cleanup2","seen","isSet","getOwnPropertySymbols","propertyIsEnumerable","callWithErrorHandling","callWithAsyncErrorHandling","throwInDev","contextVNode","vnode","errorHandler","throwUnhandledErrorInProduction","appContext","cur","exposedInstance","errorInfo","errorCapturedHooks","ec","throwInProd","flushIndex","pendingPostFlushCbs","activePostFlushCbs","postFlushIndex","resolvedPromise","currentFlushPromise","nextTick","findInsertionIndex","end","middle","middleJob","middleJobId","getId","queueJob","jobId","lastJob","queueFlush","flushJobs","queuePostFlushCb","flushPreFlushCbs","uid","flushPostFlushCbs","deduped","sort","a","b","currentRenderingInstance","currentScopeId","setCurrentRenderingInstance","__scopeId","withCtx","ctx","isNonScopedSlot","_n","renderFnWithContext","setBlockTracking","prevInstance","invokeDirectiveHook","prevVNode","bindings","dirs","oldBindings","binding","hook","dir","el","TeleportEndKey","isTeleport","__isTeleport","leaveCbKey","enterCbKey","useTransitionState","isMounted","isLeaving","isUnmounting","leavingVNodes","onMounted","onBeforeUnmount","TransitionHookValidator","BaseTransitionPropsValidators","appear","persisted","onBeforeEnter","onEnter","onAfterEnter","onEnterCancelled","onBeforeLeave","onLeave","onAfterLeave","onLeaveCancelled","onBeforeAppear","onAppear","onAfterAppear","onAppearCancelled","getLeavingNodesForType","leavingVNodesCache","resolveTransitionHooks","postClone","callHook","callAsyncHook","hook2","hooks","beforeEnter","leavingVNode","isSameVNodeType","enter","afterHook","cancelHook","called","cancelled","delayedLeave","leave","clone","vnode2","hooks2","setTransitionHooks","shapeFlag","component","transition","subTree","ssContent","ssFallback","getTransitionRawChildren","keepComment","parentKey","ret","keyedFragmentCount","Fragment","patchFlag","Comment","cloneVNode","markAsyncBoundary","ids","setRef","rawRef","oldRawRef","parentSuspense","isUnmount","isAsyncWrapper","__asyncResolved","refValue","getComponentPublicInstance","ref","oldRef","refs","setupState","rawSetupState","canSetSetupRef","_isString","_isRef","doSet","existing","k","queuePostRenderEffect","getGlobalThis","cancelIdleCallback","__asyncLoader","isKeepAlive","__isKeepAlive","matches","pattern","isRegExp","lastIndex","onActivated","registerKeepAliveHook","onDeactivated","currentInstance","wrappedHook","__wdc","isDeactivated","injectHook","injectToKeepAliveRoot","keepAliveRoot","injected","onUnmounted","resetShapeFlag","getInnerChild","__weh","setCurrentInstance","createHook","lifecycle","isInSSRComponentSetup","onBeforeMount","onBeforeUpdate","onUpdated","onServerPrefetch","onRenderTriggered","onRenderTracked","onErrorCaptured","COMPONENTS","resolveComponent","maybeSelfReference","resolveAsset","NULL_DYNAMIC_COMPONENT","for","warnMissing","Component","selfName","getComponentName","camelize","capitalize","registry","getPublicInstance","isStatefulComponent","publicPropertiesMap","$","$el","$data","$props","$attrs","$slots","slots","$refs","$parent","$root","root","$host","ce","$emit","emit","$options","resolveMergedOptions","$forceUpdate","update","$nextTick","n","$watch","instanceWatch","hasSetupBinding","__isScriptSetup","PublicInstanceProxyHandlers","accessCache","normalizedProps","propsOptions","shouldCacheAccess","publicGetter","cssModule","globalProperties","__cssModules","normalizePropsOrEmits","normalized","applyOptions","publicThis","beforeCreate","dataOptions","computedOptions","methods","watchOptions","provide","provideOptions","inject","injectOptions","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","beforeUnmount","destroyed","unmounted","render","renderTracked","renderTriggered","errorCaptured","serverPrefetch","expose","inheritAttrs","components","directives","filters","checkDuplicateProperties","resolveInjections","methodHandler","opt","c","createWatcher","provides","registerLifecycleHook","register","_hook","exposed","normalizeInject","default","h","createPathGetter","mixins","extends","extendsOptions","globalMixins","optionsCache","optionMergeStrategies","cached","resolved","mergeOptions","strats","asMixin","strat","internalOptionMergeStrats","mergeDataFn","mergeEmitsOrPropsOptions","emits","mergeObjectOptions","mergeAsArray","mergeWatchOptions","mergeInject","merged","createAppContext","isNativeTag","NO","performance","warnHandler","compilerOptions","propsCache","emitsCache","uid$1","createAppAPI","hydrate","rootComponent","rootProps","context","installedPlugins","pluginCleanupFns","_uid","_component","_props","_container","_context","_instance","use","install","mixin","directive","isHydrate","namespace","_ceVNode","createVNode","__vue_app__","onUnmount","runWithContext","lastApp","currentApp","parentProvides","defaultValue","treatDefaultAsFactory","internalObjectProto","createInternalObject","isInternalObject","initProps","rawProps","isStateful","propsDefaults","setFullProps","updateProps","rawPrevProps","optimized","rawCurrentProps","hasAttrsChanged","kebabKey","hyphenate","resolvePropValue","propsToUpdate","dynamicProps","isEmitListener","emitsOptions","camelizedKey","needCastKeys","rawCastValues","isReservedProp","camelKey","castValues","isAbsent","hasDefault","skipFactory","_setProp","mixinPropsCache","normalizePropsOptions","comp","hasExtends","extendProps","raw2","EMPTY_ARR","normalizedKey","validatePropName","prop","propType","shouldCast","shouldCastTrue","typeName","isInternalKey","normalizeSlotValue","normalizeVNode","normalizeSlot","rawSlot","normalizeObjectSlots","rawSlots","_ctx","normalizeVNodeSlots","assignSlots","initSlots","updateSlots","needDeletionCheck","deletionComparisonTarget","$stable","initFeatureFlags","__VUE_PROD_HYDRATION_MISMATCH_DETAILS__","queueEffectWithSuspense","createRenderer","baseCreateRenderer","createHydrationFns","__VUE__","insert","hostInsert","hostRemove","patchProp","hostPatchProp","hostCreateElement","createText","hostCreateText","hostCreateComment","setText","hostSetText","setElementText","hostSetElementText","hostParentNode","nextSibling","hostNextSibling","setScopeId","hostSetScopeId","insertStaticContent","hostInsertStaticContent","patch","n1","n2","anchor","parentComponent","slotScopeIds","dynamicChildren","getNextHostNode","Text","processText","processCommentNode","Static","mountStaticNode","processFragment","processElement","processComponent","internals","moveStaticNode","removeStaticNode","mountElement","vnodeHook","is","mountChildren","resolveChildrenNamespace","scopeId","onVnodeBeforeMount","invokeVNodeHook","needCallTransitionHooks","needTransition","onVnodeMounted","isSuspense","parentVNode","cloneIfMounted","oldProps","newProps","toggleRecurse","onVnodeBeforeUpdate","patchBlockChildren","patchChildren","patchProps","class","onVnodeUpdated","oldChildren","newChildren","fallbackContainer","oldVNode","newVNode","fragmentStartAnchor","fragmentEndAnchor","fragmentSlotScopeIds","traverseStaticChildren","activate","mountComponent","updateComponent","initialVNode","createComponentInstance","renderer","setupComponent","asyncDep","registerDep","setupRenderEffect","shouldUpdateComponent","asyncResolved","updateComponentPreRender","componentUpdateFn","bu","u","nonHydratedAsyncRoot","locateNonHydratedAsyncRoot","originNext","invokeArrayFns","nextTree","renderComponentRoot","prevTree","updateHOCHostEl","bm","isAsyncWrapperVNode","hydrateNode","hydrateSubTree","__asyncHydrate","_injectChildStyle","scopedInitialVNode","nextVNode","prevProps","c1","prevShapeFlag","c2","patchKeyedChildren","patchUnkeyedChildren","unmountChildren","oldLength","commonLength","min","nextChild","parentAnchor","l2","e1","e2","nextPos","s1","s2","keyToNewIndexMap","j","patched","toBePatched","moved","maxNewIndexSoFar","newIndexToOldIndexMap","prevChild","newIndex","increasingNewIndexSequence","getSequence","nextIndex","move","moveType","suspense","needTransition2","delayLeave","afterLeave","remove2","performLeave","doRemove","cacheIndex","renderCache","deactivate","shouldInvokeDirs","shouldInvokeVnodeHook","onVnodeBeforeUnmount","unmountComponent","hasOnce","onVnodeUnmounted","removeFragment","performRemove","bum","um","invalidateMount","pendingBranch","suspenseId","pendingId","teleportEnd","isFlushing","_vnode","mt","mc","pc","pbc","o","createApp","currentNamespace","encoding","allowed","ch1","ch2","arrI","subComponent","ssrContextKey","useSSRContext","doWatch","flush","baseWatchOptions","runsImmediately","ssrCleanup","__watcherHandles","watchStopHandle","isPre","isFirstRun","watch$1","segments","getModelModifiers","modelName","modelModifiers","rawArgs","isModelListener","modifiers","handlerName","number","looseToNumber","toHandlerKey","onceHandler","emitted","normalizeEmitsOptions","extendEmits","normalizedFromExtend","isOn","withProxy","fallthroughAttrs","proxyToUse","thisProxy","render2","getFunctionalFallthrough","blockStack","filterModelListeners","prevChildren","nextProps","nextChildren","hasPropsChanged","nextKeys","activeBranch","__isSuspense","currentBlock","openBlock","disableTracking","closeBlock","isBlockTreeEnabled","inVOnce","setupBlock","createElementBlock","createBaseVNode","isVNode","__v_isVNode","normalizeKey","normalizeRef","ref_key","ref_for","isBlockNode","needFullChildrenNormalization","__v_skip","targetStart","targetAnchor","staticCount","normalizeChildren","normalize","_createVNode","cloned","isClassComponent","__vccOpts","guardReactiveProps","klass","normalizeClass","normalizeStyle","extraProps","mergeRef","cloneTransition","mergedProps","mergeProps","createTextVNode","flag","memo","slot","slotFlag","toMerge","incoming","emptyAppContext","exposeProxy","setupContext","bc","da","rtg","rtc","sp","getCurrentInstance","internalSetCurrentInstance","setInSSRSetupState","g","registerGlobalSetter","setters","unsetCurrentInstance","compile","installWithProxy","setupResult","setupStatefulComponent","setup","createSetupContext","isAsyncSetup","resolvedResult","handleSetupResult","finishComponentSetup","__ssrInlineRender","ssrRender","skipOptions","template","isCustomElement","delimiters","componentCompilerOptions","finalCompilerOptions","attrsProxyHandlers","includeInferred","displayName","__name","computed$1","policy","tt","trustedTypes","createPolicy","createHTML","unsafeToTrustedHTML","svgNS","mathmlNS","doc","templateContainer","nodeOps","tag","multiple","nodeValue","content","before","previousSibling","lastChild","wrapper","vtcKey","DOMTransitionPropsValidators","duration","enterFromClass","enterActiveClass","enterToClass","appearFromClass","appearActiveClass","appearToClass","leaveFromClass","leaveActiveClass","leaveToClass","patchClass","isSVG","transitionClasses","className","vShowOriginalDisplay","vShowHidden","CSS_VAR_TEXT","displayRE","patchStyle","isCssString","hasControlledDisplay","prevStyle","setStyle","cssVarText","display","importantRE","setProperty","prefixed","autoPrefix","prefixes","prefixCache","rawName","xlinkNS","patchAttr","isSpecialBooleanAttr","removeAttributeNS","setAttributeNS","includeBooleanAttr","patchDOMProp","attrName","needRemove","veiKey","patchEvent","prevValue","nextValue","invokers","existingInvoker","parseName","invoker","createInvoker","optionsModifierRE","cachedNow","getNow","initialValue","_vts","attached","patchStopImmediatePropagation","originalStop","stopImmediatePropagation","_stopped","isNativeOn","charCodeAt","shouldSetAsProp","_isVueCE","_trueValue","_falseValue","camelize$1","rendererOptions","ensureRenderer","containerOrSelector","normalizeContainer","resolveRootNamespace","SVGElement","MathMLElement","isDate","objectToString","cacheStringFunction","hit","camelizeRE","hyphenateRE","fns","arg","parseFloat","toNumber","NaN","_globalThis","GLOBALS_ALLOWED","isGloballyAllowed","parseStringStyle","listDelimiterRE","propertyDelimiterRE","styleCommentRE","tmp","specialBooleanAttrs","looseCompareArrays","equal","looseEqual","aValidType","bValidType","getTime","aKeysCount","bKeysCount","aHasKey","bHasKey","looseIndexOf","exports","sfc","isCallable","tryToString","$TypeError","argument","it","wellKnownSymbol","UNSCOPABLES","ArrayPrototype","isPrototypeOf","Prototype","$String","lengthOfArrayLike","Constructor","$length","toIndexedObject","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","DESCRIPTORS","SILENT_ON_NON_WRITABLE_LENGTH_SET","C","A","anObject","iteratorClose","ENTRIES","uncurryThis","stringSlice","TO_STRING_TAG_SUPPORT","classofRaw","TO_STRING_TAG","$Object","CORRECT_ARGUMENTS","tryGet","callee","getOwnPropertyDescriptorModule","definePropertyModule","exceptions","fails","F","createPropertyDescriptor","object","bitmap","makeBuiltIn","defineGlobalProperty","simple","unsafe","nonConfigurable","nonWritable","defineBuiltIn","EXISTS","MAX_SAFE_INTEGER","Deno","versions","v8","createNonEnumerableProperty","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","sham","aCallable","NATIVE_BIND","that","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","uncurryThisWithBind","CONSTRUCTOR","METHOD","aFunction","classof","getMethod","isNullOrUndefined","Iterators","ITERATOR","getIteratorMethod","usingIterator","iteratorMethod","V","P","func","toIntegerOrInfinity","getIteratorDirect","INVALID_SIZE","$RangeError","RangeError","SetRecord","intSize","getIterator","numSize","check","toObject","getBuiltIn","store","functionToString","inspectSource","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","enforce","getterFor","TYPE","metadata","facade","STATE","documentAll","replacement","feature","detection","POLYFILL","NATIVE","string","USE_SYMBOL_AS_UID","$Symbol","ITERATOR_INSTEAD_OF_RECORD","step","isArrayIteratorMethod","Result","stopped","ResultPrototype","iterable","unboundFunction","iterFn","AS_ENTRIES","IS_RECORD","IS_ITERATOR","INTERRUPTED","condition","callFn","kind","innerResult","innerError","defineBuiltIns","InternalStateModule","IteratorPrototype","createIterResultObject","ITERATOR_HELPER","WRAP_FOR_VALID_ITERATOR","setInternalState","createIteratorProxyPrototype","getInternalState","nextHandler","returnHandlerResult","returnMethod","inner","WrapForValidIteratorPrototype","IteratorHelperPrototype","RETURN_HANDLER_RESULT","IteratorProxy","counter","createIteratorProxy","callWithSafeIterationClosing","mapper","PrototypeOfArrayIteratorPrototype","arrayIterator","IS_PURE","BUGGY_SAFARI_ITERATORS","NEW_ITERATOR_PROTOTYPE","toLength","CONFIGURABLE_FUNCTION_NAME","enforceInternalState","CONFIGURABLE_LENGTH","TEMPLATE","arity","ceil","floor","trunc","activeXDocument","definePropertiesModule","enumBugKeys","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","temp","parentWindow","NullProtoObjectViaIFrame","iframeDocument","JS","NullProtoObject","ActiveXObject","domain","Properties","V8_PROTOTYPE_DEFINE_BUG","objectKeys","IE8_DOM_DEFINE","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","propertyIsEnumerableModule","internalObjectKeys","CORRECT_PROTOTYPE_GETTER","ObjectPrototype","names","$propertyIsEnumerable","NASHORN_BUG","pref","valueOf","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","hasIndices","ignoreCase","multiline","dotAll","unicode","unicodeSets","sticky","SetHelpers","iterate","aSet","getSetRecord","iterateSet","iterateSimple","other","otherRec","SetPrototype","interruptible","createSetLike","createSetLikeWithInfinitySize","error2","uncurryThisAccessor","keysIter","SHARED","copyright","license","V8_VERSION","symbol","integer","IndexedObject","requireObjectCoercible","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","NATIVE_SYMBOL","passed","required","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","argCount","arrayToReversed","addToUnscopables","$Array","arrayFromConstructorAndList","getBuiltInPrototypeMethod","compareFn","deleteCount","insertCount","actualDeleteCount","newLen","actualStart","argumentsLength","anInstance","defineBuiltInAccessor","createProperty","NativeIterator","IteratorConstructor","defineIteratorPrototypeAccessor","Iterator","real","predicate","reducer","noInitial","accumulator","regExpFlags","RegExpPrototype","INDICES_SUPPORT","calls","expected","addGetter","chr","pairs","difference","setMethodAcceptSetLike","INCORRECT","intersection","isDisjointFrom","isSubsetOf","isSupersetOf","symmetricDifference","union","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","$delete","params","$value","entry","dindex","found","entriesLength","$has","count"],"sourceRoot":""}